(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function fA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Up={exports:{}},Ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function $3(){if(rx)return Ac;rx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Ac.Fragment=e,Ac.jsx=t,Ac.jsxs=t,Ac}var ix;function K3(){return ix||(ix=1,Up.exports=$3()),Up.exports}var A=K3(),Fp={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function Q3(){if(ax)return je;ax=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function S(q,ue,me){this.props=q,this.context=ue,this.refs=T,this.updater=me||x}S.prototype.isReactComponent={},S.prototype.setState=function(q,ue){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ue,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function I(){}I.prototype=S.prototype;function R(q,ue,me){this.props=q,this.context=ue,this.refs=T,this.updater=me||x}var D=R.prototype=new I;D.constructor=R,E(D,S.prototype),D.isPureReactComponent=!0;var F=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function P(q,ue,me,he,Te,He){return me=He.ref,{$$typeof:n,type:q,key:ue,ref:me!==void 0?me:null,props:He}}function N(q,ue){return P(q.type,ue,void 0,void 0,void 0,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function V(q){var ue={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return ue[me]})}var G=/\/+/g;function k(q,ue){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):ue.toString(36)}function U(){}function Se(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(ue){q.status==="pending"&&(q.status="fulfilled",q.value=ue)},function(ue){q.status==="pending"&&(q.status="rejected",q.reason=ue)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Ee(q,ue,me,he,Te){var He=typeof q;(He==="undefined"||He==="boolean")&&(q=null);var Me=!1;if(q===null)Me=!0;else switch(He){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(q.$$typeof){case n:case e:Me=!0;break;case p:return Me=q._init,Ee(Me(q._payload),ue,me,he,Te)}}if(Me)return Te=Te(q),Me=he===""?"."+k(q,0):he,F(Te)?(me="",Me!=null&&(me=Me.replace(G,"$&/")+"/"),Ee(Te,ue,me,"",function(cr){return cr})):Te!=null&&(L(Te)&&(Te=N(Te,me+(Te.key==null||q&&q.key===Te.key?"":(""+Te.key).replace(G,"$&/")+"/")+Me)),ue.push(Te)),1;Me=0;var jt=he===""?".":he+":";if(F(q))for(var st=0;st<q.length;st++)he=q[st],He=jt+k(he,st),Me+=Ee(he,ue,me,He,Te);else if(st=y(q),typeof st=="function")for(q=st.call(q),st=0;!(he=q.next()).done;)he=he.value,He=jt+k(he,st++),Me+=Ee(he,ue,me,He,Te);else if(He==="object"){if(typeof q.then=="function")return Ee(Se(q),ue,me,he,Te);throw ue=String(q),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ee(q,ue,me){if(q==null)return q;var he=[],Te=0;return Ee(q,he,"","",function(He){return ue.call(me,He,Te++)}),he}function ce(q){if(q._status===-1){var ue=q._result;ue=ue(),ue.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=ue)}if(q._status===1)return q._result.default;throw q._result}var ve=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Xe(){}return je.Children={map:ee,forEach:function(q,ue,me){ee(q,function(){ue.apply(this,arguments)},me)},count:function(q){var ue=0;return ee(q,function(){ue++}),ue},toArray:function(q){return ee(q,function(ue){return ue})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},je.Component=S,je.Fragment=t,je.Profiler=i,je.PureComponent=R,je.StrictMode=r,je.Suspense=c,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,je.__COMPILER_RUNTIME={__proto__:null,c:function(q){return j.H.useMemoCache(q)}},je.cache=function(q){return function(){return q.apply(null,arguments)}},je.cloneElement=function(q,ue,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var he=E({},q.props),Te=q.key,He=void 0;if(ue!=null)for(Me in ue.ref!==void 0&&(He=void 0),ue.key!==void 0&&(Te=""+ue.key),ue)!X.call(ue,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ue.ref===void 0||(he[Me]=ue[Me]);var Me=arguments.length-2;if(Me===1)he.children=me;else if(1<Me){for(var jt=Array(Me),st=0;st<Me;st++)jt[st]=arguments[st+2];he.children=jt}return P(q.type,Te,void 0,void 0,He,he)},je.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},je.createElement=function(q,ue,me){var he,Te={},He=null;if(ue!=null)for(he in ue.key!==void 0&&(He=""+ue.key),ue)X.call(ue,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ue[he]);var Me=arguments.length-2;if(Me===1)Te.children=me;else if(1<Me){for(var jt=Array(Me),st=0;st<Me;st++)jt[st]=arguments[st+2];Te.children=jt}if(q&&q.defaultProps)for(he in Me=q.defaultProps,Me)Te[he]===void 0&&(Te[he]=Me[he]);return P(q,He,void 0,void 0,null,Te)},je.createRef=function(){return{current:null}},je.forwardRef=function(q){return{$$typeof:u,render:q}},je.isValidElement=L,je.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:ce}},je.memo=function(q,ue){return{$$typeof:h,type:q,compare:ue===void 0?null:ue}},je.startTransition=function(q){var ue=j.T,me={};j.T=me;try{var he=q(),Te=j.S;Te!==null&&Te(me,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Xe,ve)}catch(He){ve(He)}finally{j.T=ue}},je.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},je.use=function(q){return j.H.use(q)},je.useActionState=function(q,ue,me){return j.H.useActionState(q,ue,me)},je.useCallback=function(q,ue){return j.H.useCallback(q,ue)},je.useContext=function(q){return j.H.useContext(q)},je.useDebugValue=function(){},je.useDeferredValue=function(q,ue){return j.H.useDeferredValue(q,ue)},je.useEffect=function(q,ue,me){var he=j.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(q,ue)},je.useId=function(){return j.H.useId()},je.useImperativeHandle=function(q,ue,me){return j.H.useImperativeHandle(q,ue,me)},je.useInsertionEffect=function(q,ue){return j.H.useInsertionEffect(q,ue)},je.useLayoutEffect=function(q,ue){return j.H.useLayoutEffect(q,ue)},je.useMemo=function(q,ue){return j.H.useMemo(q,ue)},je.useOptimistic=function(q,ue){return j.H.useOptimistic(q,ue)},je.useReducer=function(q,ue,me){return j.H.useReducer(q,ue,me)},je.useRef=function(q){return j.H.useRef(q)},je.useState=function(q){return j.H.useState(q)},je.useSyncExternalStore=function(q,ue,me){return j.H.useSyncExternalStore(q,ue,me)},je.useTransition=function(){return j.H.useTransition()},je.version="19.1.0",je}var ox;function pf(){return ox||(ox=1,Fp.exports=Q3()),Fp.exports}var H=pf();const Sm=fA(H);var jp={exports:{}},Tc={},Hp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx;function Z3(){return sx||(sx=1,function(n){function e(ee,ce){var ve=ee.length;ee.push(ce);e:for(;0<ve;){var Xe=ve-1>>>1,q=ee[Xe];if(0<i(q,ce))ee[Xe]=ce,ee[ve]=q,ve=Xe;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ce=ee[0],ve=ee.pop();if(ve!==ce){ee[0]=ve;e:for(var Xe=0,q=ee.length,ue=q>>>1;Xe<ue;){var me=2*(Xe+1)-1,he=ee[me],Te=me+1,He=ee[Te];if(0>i(he,ve))Te<q&&0>i(He,he)?(ee[Xe]=He,ee[Te]=ve,Xe=Te):(ee[Xe]=he,ee[me]=ve,Xe=me);else if(Te<q&&0>i(He,ve))ee[Xe]=He,ee[Te]=ve,Xe=Te;else break e}}return ce}function i(ee,ce){var ve=ee.sortIndex-ce.sortIndex;return ve!==0?ve:ee.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],h=[],p=1,m=null,y=3,x=!1,E=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F(ee){for(var ce=t(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=ee)r(h),ce.sortIndex=ce.expirationTime,e(c,ce);else break;ce=t(h)}}function j(ee){if(T=!1,F(ee),!E)if(t(c)!==null)E=!0,X||(X=!0,k());else{var ce=t(h);ce!==null&&Ee(j,ce.startTime-ee)}}var X=!1,P=-1,N=5,L=-1;function V(){return S?!0:!(n.unstable_now()-L<N)}function G(){if(S=!1,X){var ee=n.unstable_now();L=ee;var ce=!0;try{e:{E=!1,T&&(T=!1,R(P),P=-1),x=!0;var ve=y;try{t:{for(F(ee),m=t(c);m!==null&&!(m.expirationTime>ee&&V());){var Xe=m.callback;if(typeof Xe=="function"){m.callback=null,y=m.priorityLevel;var q=Xe(m.expirationTime<=ee);if(ee=n.unstable_now(),typeof q=="function"){m.callback=q,F(ee),ce=!0;break t}m===t(c)&&r(c),F(ee)}else r(c);m=t(c)}if(m!==null)ce=!0;else{var ue=t(h);ue!==null&&Ee(j,ue.startTime-ee),ce=!1}}break e}finally{m=null,y=ve,x=!1}ce=void 0}}finally{ce?k():X=!1}}}var k;if(typeof D=="function")k=function(){D(G)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Se=U.port2;U.port1.onmessage=G,k=function(){Se.postMessage(null)}}else k=function(){I(G,0)};function Ee(ee,ce){P=I(function(){ee(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var ce=3;break;default:ce=y}var ve=y;y=ce;try{return ee()}finally{y=ve}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ve=y;y=ee;try{return ce()}finally{y=ve}},n.unstable_scheduleCallback=function(ee,ce,ve){var Xe=n.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Xe+ve:Xe):ve=Xe,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ve+q,ee={id:p++,callback:ce,priorityLevel:ee,startTime:ve,expirationTime:q,sortIndex:-1},ve>Xe?(ee.sortIndex=ve,e(h,ee),t(c)===null&&ee===t(h)&&(T?(R(P),P=-1):T=!0,Ee(j,ve-Xe))):(ee.sortIndex=q,e(c,ee),E||x||(E=!0,X||(X=!0,k()))),ee},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ee){var ce=y;return function(){var ve=y;y=ce;try{return ee.apply(this,arguments)}finally{y=ve}}}}(zp)),zp}var lx;function J3(){return lx||(lx=1,Hp.exports=Z3()),Hp.exports}var Gp={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function e4(){if(ux)return Xn;ux=1;var n=pf();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xn.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},Xn.flushSync=function(c){var h=s.T,p=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=h,r.p=p,r.d.f()}},Xn.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},Xn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Xn.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Xn.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},Xn.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Xn.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},Xn.requestFormReset=function(c){r.d.r(c)},Xn.unstable_batchedUpdates=function(c,h){return c(h)},Xn.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},Xn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Xn.version="19.1.0",Xn}var cx;function t4(){if(cx)return Gp.exports;cx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=e4(),Gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function n4(){if(fx)return Tc;fx=1;var n=J3(),e=pf(),t=t4();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var v=f.return;if(v===null)break;var _=v.alternate;if(_===null){if(d=v.return,d!==null){f=d;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===f)return u(v),o;if(_===d)return u(v),l;_=_.sibling}throw Error(r(188))}if(f.return!==d.return)f=v,d=_;else{for(var C=!1,O=v.child;O;){if(O===f){C=!0,f=v,d=_;break}if(O===d){C=!0,d=v,f=_;break}O=O.sibling}if(!C){for(O=_.child;O;){if(O===f){C=!0,f=_,d=v;break}if(O===d){C=!0,d=_,f=v;break}O=O.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function k(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var U=Symbol.for("react.client.reference");function Se(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===U?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case S:return"Profiler";case T:return"StrictMode";case j:return"Suspense";case X:return"SuspenseList";case L:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case D:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return l=o.displayName||null,l!==null?l:Se(o.type)||"Memo";case N:l=o._payload,o=o._init;try{return Se(o(l))}catch{}}return null}var Ee=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Xe=[],q=-1;function ue(o){return{current:o}}function me(o){0>q||(o.current=Xe[q],Xe[q]=null,q--)}function he(o,l){q++,Xe[q]=o.current,o.current=l}var Te=ue(null),He=ue(null),Me=ue(null),jt=ue(null);function st(o,l){switch(he(Me,l),he(He,o),he(Te,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?O_(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=O_(l),o=D_(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}me(Te),he(Te,o)}function cr(){me(Te),me(He),me(Me)}function Hi(o){o.memoizedState!==null&&he(jt,o);var l=Te.current,f=D_(l,o.type);l!==f&&(he(He,o),he(Te,f))}function pi(o){He.current===o&&(me(Te),me(He)),jt.current===o&&(me(jt),yc._currentValue=ve)}var zi=Object.prototype.hasOwnProperty,Gi=n.unstable_scheduleCallback,qi=n.unstable_cancelCallback,Va=n.unstable_shouldYield,ko=n.unstable_requestPaint,fr=n.unstable_now,Pr=n.unstable_getCurrentPriorityLevel,Bo=n.unstable_ImmediatePriority,Ua=n.unstable_UserBlockingPriority,Xi=n.unstable_NormalPriority,mu=n.unstable_LowPriority,wr=n.unstable_IdlePriority,Vo=n.log,_e=n.unstable_setDisableYieldValue,Ae=null,De=null;function _t(o){if(typeof Vo=="function"&&_e(o),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ae,o)}catch{}}var ft=Math.clz32?Math.clz32:gi,er=Math.log,vu=Math.LN2;function gi(o){return o>>>=0,o===0?32:31-(er(o)/vu|0)|0}var Wi=256,Jr=4194304;function Ar(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Bs(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var v=0,_=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var O=d&134217727;return O!==0?(d=O&~_,d!==0?v=Ar(d):(C&=O,C!==0?v=Ar(C):f||(f=O&~o,f!==0&&(v=Ar(f))))):(O=d&~_,O!==0?v=Ar(O):C!==0?v=Ar(C):f||(f=d&~o,f!==0&&(v=Ar(f)))),v===0?0:l!==0&&l!==v&&(l&_)===0&&(_=v&-v,f=l&-l,_>=f||_===32&&(f&4194048)!==0)?l:v}function Uo(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function yu(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var o=Wi;return Wi<<=1,(Wi&4194048)===0&&(Wi=256),o}function xu(){var o=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),o}function Yi(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function $i(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Eu(o,l,f,d,v,_){var C=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var O=o.entanglements,z=o.expirationTimes,Q=o.hiddenUpdates;for(f=C&~f;0<f;){var ae=31-ft(f),se=1<<ae;O[ae]=0,z[ae]=-1;var J=Q[ae];if(J!==null)for(Q[ae]=null,ae=0;ae<J.length;ae++){var te=J[ae];te!==null&&(te.lane&=-536870913)}f&=~se}d!==0&&mi(o,d,0),_!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=_&~(C&~l))}function mi(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-ft(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function wu(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-ft(f),v=1<<d;v&l|o[d]&l&&(o[d]|=l),f&=~v}}function Fa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Vs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ja(){var o=ce.p;return o!==0?o:(o=window.event,o===void 0?32:Q_(o.type))}function Mf(o,l){var f=ce.p;try{return ce.p=o,l()}finally{ce.p=f}}var Pt=Math.random().toString(36).slice(2),ln="__reactFiber$"+Pt,Jt="__reactProps$"+Pt,Mr="__reactContainer$"+Pt,Au="__reactEvents$"+Pt,H0="__reactListeners$"+Pt,Ha="__reactHandles$"+Pt,Lf="__reactResources$"+Pt,Fo="__reactMarker$"+Pt;function za(o){delete o[ln],delete o[Jt],delete o[Au],delete o[H0],delete o[Ha]}function Ki(o){var l=o[ln];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Mr]||f[ln]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=k_(o);o!==null;){if(f=o[ln])return f;o=k_(o)}return l}o=f,f=o.parentNode}return null}function vi(o){if(o=o[ln]||o[Mr]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function yi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function tr(o){var l=o[Lf];return l||(l=o[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xt(o){o[Fo]=!0}var Tu=new Set,Us={};function ei(o,l){Qi(o,l),Qi(o+"Capture",l)}function Qi(o,l){for(Us[o]=l,o=0;o<l.length;o++)Tu.add(l[o])}var kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bf={},jo={};function Vf(o){return zi.call(jo,o)?!0:zi.call(Bf,o)?!1:kf.test(o)?jo[o]=!0:(Bf[o]=!0,!1)}function Ga(o,l,f){if(Vf(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function _i(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Dn(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var Ho,Uf;function Zi(o){if(Ho===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);Ho=l&&l[1]||"",Uf=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ho+o+Uf}var Fs=!1;function js(o,l){if(!o||Fs)return"";Fs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(te){var J=te}Reflect.construct(o,[],se)}else{try{se.call()}catch(te){J=te}o.call(se.prototype)}}else{try{throw Error()}catch(te){J=te}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=d.DetermineComponentFrameRoot(),C=_[0],O=_[1];if(C&&O){var z=C.split(`
`),Q=O.split(`
`);for(v=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Q.length&&!Q[v].includes("DetermineComponentFrameRoot");)v++;if(d===z.length||v===Q.length)for(d=z.length-1,v=Q.length-1;1<=d&&0<=v&&z[d]!==Q[v];)v--;for(;1<=d&&0<=v;d--,v--)if(z[d]!==Q[v]){if(d!==1||v!==1)do if(d--,v--,0>v||z[d]!==Q[v]){var ae=`
`+z[d].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=d&&0<=v);break}}}finally{Fs=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Zi(f):""}function bu(o){switch(o.tag){case 26:case 27:case 5:return Zi(o.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return js(o.type,!1);case 11:return js(o.type.render,!1);case 1:return js(o.type,!0);case 31:return Zi("Activity");default:return""}}function Hs(o){try{var l="";do l+=bu(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function nr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Su(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function z0(o){var l=Su(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){d=""+C,_.call(this,C)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function zs(o){o._valueTracker||(o._valueTracker=z0(o))}function Cu(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Su(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function zo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var G0=/[\n"\\]/g;function en(o){return o.replace(G0,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tr(o,l,f,d,v,_,C,O){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),l!=null?C==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+nr(l)):o.value!==""+nr(l)&&(o.value=""+nr(l)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),l!=null?qa(o,C,nr(l)):f!=null?qa(o,C,nr(f)):d!=null&&o.removeAttribute("value"),v==null&&_!=null&&(o.defaultChecked=!!_),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+nr(O):o.removeAttribute("name")}function Go(o,l,f,d,v,_,C,O){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),l!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;f=f!=null?""+nr(f):"",l=l!=null?""+nr(l):f,O||l===o.value||(o.value=l),o.defaultValue=l}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=O?o.checked:!!d,o.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C)}function qa(o,l,f){l==="number"&&zo(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Ji(o,l,f,d){if(o=o.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=l.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&d&&(o[f].defaultSelected=!0)}else{for(f=""+nr(f),l=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,d&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function xt(o,l,f){if(l!=null&&(l=""+nr(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+nr(f):""}function qo(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(Ee(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=nr(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function Lr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ff(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||Xo.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Iu(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var v in l)d=l[v],l.hasOwnProperty(v)&&f[v]!==d&&Ff(o,v,d)}else for(var _ in l)l.hasOwnProperty(_)&&Ff(o,_,l[_])}function Ru(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(o){return X0.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ea=null;function kr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ta=null,na=null;function Nu(o){var l=vi(o);if(l&&(o=l.stateNode)){var f=o[Jt]||null;e:switch(o=l.stateNode,l.type){case"input":if(Tr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+en(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var v=d[Jt]||null;if(!v)throw Error(r(90));Tr(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Cu(d)}break e;case"textarea":xt(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Ji(o,!!f.multiple,l,!1)}}}var xi=!1;function jf(o,l,f){if(xi)return o(l,f);xi=!0;try{var d=o(l);return d}finally{if(xi=!1,(ta!==null||na!==null)&&(Mh(),ta&&(l=ta,o=na,na=ta=null,Nu(l),o)))for(l=0;l<o.length;l++)Nu(o[l])}}function Wo(o,l){var f=o.stateNode;if(f===null)return null;var d=f[Jt]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Br=!1;if(ti)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){Br=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{Br=!1}var Ei=null,Xa=null,ra=null;function Ou(){if(ra)return ra;var o,l=Xa,f=l.length,d,v="value"in Ei?Ei.value:Ei.textContent,_=v.length;for(o=0;o<f&&l[o]===v[o];o++);var C=f-o;for(d=1;d<=C&&l[f-d]===v[_-d];d++);return ra=v.slice(o,1<d?1-d:void 0)}function wi(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ai(){return!0}function Du(){return!1}function wn(o){function l(f,d,v,_,C){this._reactName=f,this._targetInst=v,this.type=d,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(f=o[O],this[O]=f?f(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ai:Du,this.isPropagationStopped=Du,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),l}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=wn(ht),$o=p({},ht,{view:0,detail:0}),Hf=wn($o),Xs,Ws,Ti,Ko=p({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ti&&(Ti&&o.type==="mousemove"?(Xs=o.screenX-Ti.screenX,Ws=o.screenY-Ti.screenY):Ws=Xs=0,Ti=o),Xs)},movementY:function(o){return"movementY"in o?o.movementY:Ws}}),Vr=wn(Ko),zf=p({},Ko,{dataTransfer:0}),W0=wn(zf),Qo=p({},$o,{relatedTarget:0}),Ys=wn(Qo),Pu=p({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=wn(Pu),Gf=p({},ht,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ks=wn(Gf),Y0=p({},ht,{data:0}),Mu=wn(Y0),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Xf[o])?!!l[o]:!1}function Jo(){return Lu}var Wf=p({},$o,{key:function(o){if(o.key){var l=Zo[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=wi(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?qf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(o){return o.type==="keypress"?wi(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?wi(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Qs=wn(Wf),Yf=p({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=wn(Yf),ia=p({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),$f=wn(ia),Kf=p({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=wn(Kf),Zf=p({},Ko,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=wn(Zf),rr=p({},ht,{newState:0,oldState:0}),Jf=wn(rr),eh=[9,13,27,32],bi=ti&&"CompositionEvent"in window,g=null;ti&&"documentMode"in document&&(g=document.documentMode);var w=ti&&"TextEvent"in window&&!g,b=ti&&(!bi||g&&8<g&&11>=g),M=" ",$=!1;function ne(o,l){switch(o){case"keyup":return eh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Je=!1;function un(o,l){switch(o){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:($=!0,M);case"textInput":return o=l.data,o===M&&$?null:o;default:return null}}function et(o,l){if(Je)return o==="compositionend"||!bi&&ne(o,l)?(o=Ou(),ra=Xa=Ei=null,Je=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return b&&l.locale!=="ko"?null:l.data;default:return null}}var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!An[o.type]:l==="textarea"}function aa(o,l,f,d){ta?na?na.push(d):na=[d]:ta=d,l=Fh(l,"onChange"),0<l.length&&(f=new qs("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var Pn=null,Si=null;function Bu(o){S_(o,0)}function th(o){var l=yi(o);if(Cu(l))return o}function Wv(o,l){if(o==="change")return l}var Yv=!1;if(ti){var $0;if(ti){var K0="oninput"in document;if(!K0){var $v=document.createElement("div");$v.setAttribute("oninput","return;"),K0=typeof $v.oninput=="function"}$0=K0}else $0=!1;Yv=$0&&(!document.documentMode||9<document.documentMode)}function Kv(){Pn&&(Pn.detachEvent("onpropertychange",Qv),Si=Pn=null)}function Qv(o){if(o.propertyName==="value"&&th(Si)){var l=[];aa(l,Si,o,kr(o)),jf(Bu,l)}}function bC(o,l,f){o==="focusin"?(Kv(),Pn=l,Si=f,Pn.attachEvent("onpropertychange",Qv)):o==="focusout"&&Kv()}function SC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return th(Si)}function CC(o,l){if(o==="click")return th(l)}function IC(o,l){if(o==="input"||o==="change")return th(l)}function RC(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var br=typeof Object.is=="function"?Object.is:RC;function Vu(o,l){if(br(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var v=f[d];if(!zi.call(l,v)||!br(o[v],l[v]))return!1}return!0}function Zv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Jv(o,l){var f=Zv(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Zv(f)}}function ey(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ey(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function ty(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=zo(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=zo(o.document)}return l}function Q0(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var NC=ti&&"documentMode"in document&&11>=document.documentMode,Js=null,Z0=null,Uu=null,J0=!1;function ny(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;J0||Js==null||Js!==zo(d)||(d=Js,"selectionStart"in d&&Q0(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Uu&&Vu(Uu,d)||(Uu=d,d=Fh(Z0,"onSelect"),0<d.length&&(l=new qs("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=Js)))}function es(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var el={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},e1={},ry={};ti&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function ts(o){if(e1[o])return e1[o];if(!el[o])return o;var l=el[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in ry)return e1[o]=l[f];return o}var iy=ts("animationend"),ay=ts("animationiteration"),oy=ts("animationstart"),OC=ts("transitionrun"),DC=ts("transitionstart"),PC=ts("transitioncancel"),sy=ts("transitionend"),ly=new Map,t1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");t1.push("scrollEnd");function ni(o,l){ly.set(o,l),ei(l,[o])}var uy=new WeakMap;function Ur(o,l){if(typeof o=="object"&&o!==null){var f=uy.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Hs(l)},uy.set(o,l),l)}return{value:o,source:l,stack:Hs(l)}}var Fr=[],tl=0,n1=0;function nh(){for(var o=tl,l=n1=tl=0;l<o;){var f=Fr[l];Fr[l++]=null;var d=Fr[l];Fr[l++]=null;var v=Fr[l];Fr[l++]=null;var _=Fr[l];if(Fr[l++]=null,d!==null&&v!==null){var C=d.pending;C===null?v.next=v:(v.next=C.next,C.next=v),d.pending=v}_!==0&&cy(f,v,_)}}function rh(o,l,f,d){Fr[tl++]=o,Fr[tl++]=l,Fr[tl++]=f,Fr[tl++]=d,n1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function r1(o,l,f,d){return rh(o,l,f,d),ih(o)}function nl(o,l){return rh(o,null,null,l),ih(o)}function cy(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var v=!1,_=o.return;_!==null;)_.childLanes|=f,d=_.alternate,d!==null&&(d.childLanes|=f),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(v=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,v&&l!==null&&(v=31-ft(f),o=_.hiddenUpdates,d=o[v],d===null?o[v]=[l]:d.push(l),l.lane=f|536870912),_):null}function ih(o){if(50<cc)throw cc=0,up=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var rl={};function MC(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(o,l,f,d){return new MC(o,l,f,d)}function i1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function oa(o,l){var f=o.alternate;return f===null?(f=Sr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function fy(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function ah(o,l,f,d,v,_){var C=0;if(d=o,typeof o=="function")i1(o)&&(C=1);else if(typeof o=="string")C=k3(o,f,Te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case L:return o=Sr(31,f,l,v),o.elementType=L,o.lanes=_,o;case E:return ns(f.children,v,_,l);case T:C=8,v|=24;break;case S:return o=Sr(12,f,l,v|2),o.elementType=S,o.lanes=_,o;case j:return o=Sr(13,f,l,v),o.elementType=j,o.lanes=_,o;case X:return o=Sr(19,f,l,v),o.elementType=X,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:case D:C=10;break e;case R:C=9;break e;case F:C=11;break e;case P:C=14;break e;case N:C=16,d=null;break e}C=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=Sr(C,f,l,v),l.elementType=o,l.type=d,l.lanes=_,l}function ns(o,l,f,d){return o=Sr(7,o,d,l),o.lanes=f,o}function a1(o,l,f){return o=Sr(6,o,null,l),o.lanes=f,o}function o1(o,l,f){return l=Sr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var il=[],al=0,oh=null,sh=0,jr=[],Hr=0,rs=null,sa=1,la="";function is(o,l){il[al++]=sh,il[al++]=oh,oh=o,sh=l}function hy(o,l,f){jr[Hr++]=sa,jr[Hr++]=la,jr[Hr++]=rs,rs=o;var d=sa;o=la;var v=32-ft(d)-1;d&=~(1<<v),f+=1;var _=32-ft(l)+v;if(30<_){var C=v-v%5;_=(d&(1<<C)-1).toString(32),d>>=C,v-=C,sa=1<<32-ft(l)+v|f<<v|d,la=_+o}else sa=1<<_|f<<v|d,la=o}function s1(o){o.return!==null&&(is(o,1),hy(o,1,0))}function l1(o){for(;o===oh;)oh=il[--al],il[al]=null,sh=il[--al],il[al]=null;for(;o===rs;)rs=jr[--Hr],jr[Hr]=null,la=jr[--Hr],jr[Hr]=null,sa=jr[--Hr],jr[Hr]=null}var ir=null,Ht=null,lt=!1,as=null,Ci=!1,u1=Error(r(519));function os(o){var l=Error(r(418,""));throw Hu(Ur(l,o)),u1}function dy(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[ln]=o,l[Jt]=d,f){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(f=0;f<hc.length;f++)Ke(hc[f],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Ke("invalid",l),Go(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),zs(l);break;case"select":Ke("invalid",l);break;case"textarea":Ke("invalid",l),qo(l,d.value,d.defaultValue,d.children),zs(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||N_(l.textContent,f)?(d.popover!=null&&(Ke("beforetoggle",l),Ke("toggle",l)),d.onScroll!=null&&Ke("scroll",l),d.onScrollEnd!=null&&Ke("scrollend",l),d.onClick!=null&&(l.onclick=jh),l=!0):l=!1,l||os(o)}function py(o){for(ir=o.return;ir;)switch(ir.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:ir=ir.return}}function Fu(o){if(o!==ir)return!1;if(!lt)return py(o),lt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||bp(o.type,o.memoizedProps)),f=!f),f&&Ht&&os(o),py(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Ht=ii(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Ht=null}}else l===27?(l=Ht,lo(o.type)?(o=Rp,Rp=null,Ht=o):Ht=l):Ht=ir?ii(o.stateNode.nextSibling):null;return!0}function ju(){Ht=ir=null,lt=!1}function gy(){var o=as;return o!==null&&(pr===null?pr=o:pr.push.apply(pr,o),as=null),o}function Hu(o){as===null?as=[o]:as.push(o)}var c1=ue(null),ss=null,ua=null;function Wa(o,l,f){he(c1,l._currentValue),l._currentValue=f}function ca(o){o._currentValue=c1.current,me(c1)}function f1(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function h1(o,l,f,d){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var _=v.dependencies;if(_!==null){var C=v.child;_=_.firstContext;e:for(;_!==null;){var O=_;_=v;for(var z=0;z<l.length;z++)if(O.context===l[z]){_.lanes|=f,O=_.alternate,O!==null&&(O.lanes|=f),f1(_.return,f,o),d||(C=null);break e}_=O.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=f,_=C.alternate,_!==null&&(_.lanes|=f),f1(C,f,o),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===o){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function zu(o,l,f,d){o=null;for(var v=l,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var O=v.type;br(v.pendingProps.value,C.value)||(o!==null?o.push(O):o=[O])}}else if(v===jt.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(yc):o=[yc])}v=v.return}o!==null&&h1(l,o,f,d),l.flags|=262144}function lh(o){for(o=o.firstContext;o!==null;){if(!br(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function ls(o){ss=o,ua=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qn(o){return my(ss,o)}function uh(o,l){return ss===null&&ls(o),my(o,l)}function my(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},ua===null){if(o===null)throw Error(r(308));ua=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ua=ua.next=l;return f}var LC=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},kC=n.unstable_scheduleCallback,BC=n.unstable_NormalPriority,fn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d1(){return{controller:new LC,data:new Map,refCount:0}}function Gu(o){o.refCount--,o.refCount===0&&kC(BC,function(){o.controller.abort()})}var qu=null,p1=0,ol=0,sl=null;function VC(o,l){if(qu===null){var f=qu=[];p1=0,ol=mp(),sl={status:"pending",value:void 0,then:function(d){f.push(d)}}}return p1++,l.then(vy,vy),l}function vy(){if(--p1===0&&qu!==null){sl!==null&&(sl.status="fulfilled");var o=qu;qu=null,ol=0,sl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function UC(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var v=0;v<f.length;v++)(0,f[v])(l)},function(v){for(d.status="rejected",d.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),d}var yy=ee.S;ee.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&VC(o,l),yy!==null&&yy(o,l)};var us=ue(null);function g1(){var o=us.current;return o!==null?o:St.pooledCache}function ch(o,l){l===null?he(us,us.current):he(us,l.pool)}function _y(){var o=g1();return o===null?null:{parent:fn._currentValue,pool:o}}var Xu=Error(r(460)),xy=Error(r(474)),fh=Error(r(542)),m1={then:function(){}};function Ey(o){return o=o.status,o==="fulfilled"||o==="rejected"}function hh(){}function wy(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(hh,hh),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Ty(o),o;default:if(typeof l.status=="string")l.then(hh,hh);else{if(o=St,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=d}},function(d){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Ty(o),o}throw Wu=l,Xu}}var Wu=null;function Ay(){if(Wu===null)throw Error(r(459));var o=Wu;return Wu=null,o}function Ty(o){if(o===Xu||o===fh)throw Error(r(483))}var Ya=!1;function v1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function $a(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ka(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(gt&2)!==0){var v=d.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),d.pending=l,l=ih(o),cy(o,null,f),l}return rh(o,d,l,f),ih(o)}function Yu(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,wu(o,f)}}function _1(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var v=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?v=_=C:_=_.next=C,f=f.next}while(f!==null);_===null?v=_=l:_=_.next=l}else v=_=l;f={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var x1=!1;function $u(){if(x1){var o=sl;if(o!==null)throw o}}function Ku(o,l,f,d){x1=!1;var v=o.updateQueue;Ya=!1;var _=v.firstBaseUpdate,C=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var z=O,Q=z.next;z.next=null,C===null?_=Q:C.next=Q,C=z;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,O=ae.lastBaseUpdate,O!==C&&(O===null?ae.firstBaseUpdate=Q:O.next=Q,ae.lastBaseUpdate=z))}if(_!==null){var se=v.baseState;C=0,ae=Q=z=null,O=_;do{var J=O.lane&-536870913,te=J!==O.lane;if(te?(tt&J)===J:(d&J)===J){J!==0&&J===ol&&(x1=!0),ae!==null&&(ae=ae.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Le=o,Re=O;J=l;var At=f;switch(Re.tag){case 1:if(Le=Re.payload,typeof Le=="function"){se=Le.call(At,se,J);break e}se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Re.payload,J=typeof Le=="function"?Le.call(At,se,J):Le,J==null)break e;se=p({},se,J);break e;case 2:Ya=!0}}J=O.callback,J!==null&&(o.flags|=64,te&&(o.flags|=8192),te=v.callbacks,te===null?v.callbacks=[J]:te.push(J))}else te={lane:J,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ae===null?(Q=ae=te,z=se):ae=ae.next=te,C|=J;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;te=O,O=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);ae===null&&(z=se),v.baseState=z,v.firstBaseUpdate=Q,v.lastBaseUpdate=ae,_===null&&(v.shared.lanes=0),io|=C,o.lanes=C,o.memoizedState=se}}function by(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function Sy(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)by(f[o],l)}var ll=ue(null),dh=ue(0);function Cy(o,l){o=va,he(dh,o),he(ll,l),va=o|l.baseLanes}function E1(){he(dh,va),he(ll,ll.current)}function w1(){va=dh.current,me(ll),me(dh)}var Qa=0,ze=null,Et=null,tn=null,ph=!1,ul=!1,cs=!1,gh=0,Qu=0,cl=null,FC=0;function Wt(){throw Error(r(321))}function A1(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!br(o[f],l[f]))return!1;return!0}function T1(o,l,f,d,v,_){return Qa=_,ze=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ee.H=o===null||o.memoizedState===null?c2:f2,cs=!1,_=f(d,v),cs=!1,ul&&(_=Ry(l,f,d,v)),Iy(o),_}function Iy(o){ee.H=Eh;var l=Et!==null&&Et.next!==null;if(Qa=0,tn=Et=ze=null,ph=!1,Qu=0,cl=null,l)throw Error(r(300));o===null||Tn||(o=o.dependencies,o!==null&&lh(o)&&(Tn=!0))}function Ry(o,l,f,d){ze=o;var v=0;do{if(ul&&(cl=null),Qu=0,ul=!1,25<=v)throw Error(r(301));if(v+=1,tn=Et=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ee.H=WC,_=l(f,d)}while(ul);return _}function jC(){var o=ee.H,l=o.useState()[0];return l=typeof l.then=="function"?Zu(l):l,o=o.useState()[0],(Et!==null?Et.memoizedState:null)!==o&&(ze.flags|=1024),l}function b1(){var o=gh!==0;return gh=0,o}function S1(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function C1(o){if(ph){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ph=!1}Qa=0,tn=Et=ze=null,ul=!1,Qu=gh=0,cl=null}function hr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?ze.memoizedState=tn=o:tn=tn.next=o,tn}function nn(){if(Et===null){var o=ze.alternate;o=o!==null?o.memoizedState:null}else o=Et.next;var l=tn===null?ze.memoizedState:tn.next;if(l!==null)tn=l,Et=o;else{if(o===null)throw ze.alternate===null?Error(r(467)):Error(r(310));Et=o,o={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},tn===null?ze.memoizedState=tn=o:tn=tn.next=o}return tn}function I1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zu(o){var l=Qu;return Qu+=1,cl===null&&(cl=[]),o=wy(cl,o,l),l=ze,(tn===null?l.memoizedState:tn.next)===null&&(l=l.alternate,ee.H=l===null||l.memoizedState===null?c2:f2),o}function mh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Zu(o);if(o.$$typeof===D)return qn(o)}throw Error(r(438,String(o)))}function R1(o){var l=null,f=ze.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=ze.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=I1(),ze.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=V;return l.index++,f}function fa(o,l){return typeof l=="function"?l(o):l}function vh(o){var l=nn();return N1(l,Et,o)}function N1(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var v=o.baseQueue,_=d.pending;if(_!==null){if(v!==null){var C=v.next;v.next=_.next,_.next=C}l.baseQueue=v=_,d.pending=null}if(_=o.baseState,v===null)o.memoizedState=_;else{l=v.next;var O=C=null,z=null,Q=l,ae=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(tt&se)===se:(Qa&se)===se){var J=Q.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===ol&&(ae=!0);else if((Qa&J)===J){Q=Q.next,J===ol&&(ae=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(O=z=se,C=_):z=z.next=se,ze.lanes|=J,io|=J;se=Q.action,cs&&f(_,se),_=Q.hasEagerState?Q.eagerState:f(_,se)}else J={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(O=z=J,C=_):z=z.next=J,ze.lanes|=se,io|=se;Q=Q.next}while(Q!==null&&Q!==l);if(z===null?C=_:z.next=O,!br(_,o.memoizedState)&&(Tn=!0,ae&&(f=sl,f!==null)))throw f;o.memoizedState=_,o.baseState=C,o.baseQueue=z,d.lastRenderedState=_}return v===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function O1(o){var l=nn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,v=f.pending,_=l.memoizedState;if(v!==null){f.pending=null;var C=v=v.next;do _=o(_,C.action),C=C.next;while(C!==v);br(_,l.memoizedState)||(Tn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,d]}function Ny(o,l,f){var d=ze,v=nn(),_=lt;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=l();var C=!br((Et||v).memoizedState,f);C&&(v.memoizedState=f,Tn=!0),v=v.queue;var O=Py.bind(null,d,v,o);if(Ju(2048,8,O,[o]),v.getSnapshot!==l||C||tn!==null&&tn.memoizedState.tag&1){if(d.flags|=2048,fl(9,yh(),Dy.bind(null,d,v,f,l),null),St===null)throw Error(r(349));_||(Qa&124)!==0||Oy(d,l,f)}return f}function Oy(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=ze.updateQueue,l===null?(l=I1(),ze.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Dy(o,l,f,d){l.value=f,l.getSnapshot=d,My(l)&&Ly(o)}function Py(o,l,f){return f(function(){My(l)&&Ly(o)})}function My(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!br(o,f)}catch{return!0}}function Ly(o){var l=nl(o,2);l!==null&&Or(l,o,2)}function D1(o){var l=hr();if(typeof o=="function"){var f=o;if(o=f(),cs){_t(!0);try{f()}finally{_t(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:o},l}function ky(o,l,f,d){return o.baseState=f,N1(o,Et,typeof d=="function"?d:fa)}function HC(o,l,f,d,v){if(xh(o))throw Error(r(485));if(o=l.action,o!==null){var _={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};ee.T!==null?f(!0):_.isTransition=!1,d(_),f=l.pending,f===null?(_.next=l.pending=_,By(l,_)):(_.next=f.next,l.pending=f.next=_)}}function By(o,l){var f=l.action,d=l.payload,v=o.state;if(l.isTransition){var _=ee.T,C={};ee.T=C;try{var O=f(v,d),z=ee.S;z!==null&&z(C,O),Vy(o,l,O)}catch(Q){P1(o,l,Q)}finally{ee.T=_}}else try{_=f(v,d),Vy(o,l,_)}catch(Q){P1(o,l,Q)}}function Vy(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){Uy(o,l,d)},function(d){return P1(o,l,d)}):Uy(o,l,f)}function Uy(o,l,f){l.status="fulfilled",l.value=f,Fy(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,By(o,f)))}function P1(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,Fy(l),l=l.next;while(l!==d)}o.action=null}function Fy(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function jy(o,l){return l}function Hy(o,l){if(lt){var f=St.formState;if(f!==null){e:{var d=ze;if(lt){if(Ht){t:{for(var v=Ht,_=Ci;v.nodeType!==8;){if(!_){v=null;break t}if(v=ii(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Ht=ii(v.nextSibling),d=v.data==="F!";break e}}os(d)}d=!1}d&&(l=f[0])}}return f=hr(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jy,lastRenderedState:l},f.queue=d,f=s2.bind(null,ze,d),d.dispatch=f,d=D1(!1),_=V1.bind(null,ze,!1,d.queue),d=hr(),v={state:l,dispatch:null,action:o,pending:null},d.queue=v,f=HC.bind(null,ze,v,_,f),v.dispatch=f,d.memoizedState=o,[l,f,!1]}function zy(o){var l=nn();return Gy(l,Et,o)}function Gy(o,l,f){if(l=N1(o,l,jy)[0],o=vh(fa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Zu(l)}catch(C){throw C===Xu?fh:C}else d=l;l=nn();var v=l.queue,_=v.dispatch;return f!==l.memoizedState&&(ze.flags|=2048,fl(9,yh(),zC.bind(null,v,f),null)),[d,_,o]}function zC(o,l){o.action=l}function qy(o){var l=nn(),f=Et;if(f!==null)return Gy(l,f,o);nn(),l=l.memoizedState,f=nn();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function fl(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=ze.updateQueue,l===null&&(l=I1(),ze.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function yh(){return{destroy:void 0,resource:void 0}}function Xy(){return nn().memoizedState}function _h(o,l,f,d){var v=hr();d=d===void 0?null:d,ze.flags|=o,v.memoizedState=fl(1|l,yh(),f,d)}function Ju(o,l,f,d){var v=nn();d=d===void 0?null:d;var _=v.memoizedState.inst;Et!==null&&d!==null&&A1(d,Et.memoizedState.deps)?v.memoizedState=fl(l,_,f,d):(ze.flags|=o,v.memoizedState=fl(1|l,_,f,d))}function Wy(o,l){_h(8390656,8,o,l)}function Yy(o,l){Ju(2048,8,o,l)}function $y(o,l){return Ju(4,2,o,l)}function Ky(o,l){return Ju(4,4,o,l)}function Qy(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Zy(o,l,f){f=f!=null?f.concat([o]):null,Ju(4,4,Qy.bind(null,l,o),f)}function M1(){}function Jy(o,l){var f=nn();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&A1(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function e2(o,l){var f=nn();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&A1(l,d[1]))return d[0];if(d=o(),cs){_t(!0);try{o()}finally{_t(!1)}}return f.memoizedState=[d,l],d}function L1(o,l,f){return f===void 0||(Qa&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=r_(),ze.lanes|=o,io|=o,f)}function t2(o,l,f,d){return br(f,l)?f:ll.current!==null?(o=L1(o,f,d),br(o,l)||(Tn=!0),o):(Qa&42)===0?(Tn=!0,o.memoizedState=f):(o=r_(),ze.lanes|=o,io|=o,l)}function n2(o,l,f,d,v){var _=ce.p;ce.p=_!==0&&8>_?_:8;var C=ee.T,O={};ee.T=O,V1(o,!1,l,f);try{var z=v(),Q=ee.S;if(Q!==null&&Q(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ae=UC(z,d);ec(o,l,ae,Nr(o))}else ec(o,l,d,Nr(o))}catch(se){ec(o,l,{then:function(){},status:"rejected",reason:se},Nr())}finally{ce.p=_,ee.T=C}}function GC(){}function k1(o,l,f,d){if(o.tag!==5)throw Error(r(476));var v=r2(o).queue;n2(o,v,l,ve,f===null?GC:function(){return i2(o),f(d)})}function r2(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ve},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function i2(o){var l=r2(o).next.queue;ec(o,l,{},Nr())}function B1(){return qn(yc)}function a2(){return nn().memoizedState}function o2(){return nn().memoizedState}function qC(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Nr();o=$a(f);var d=Ka(l,o,f);d!==null&&(Or(d,l,f),Yu(d,l,f)),l={cache:d1()},o.payload=l;return}l=l.return}}function XC(o,l,f){var d=Nr();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},xh(o)?l2(l,f):(f=r1(o,l,f,d),f!==null&&(Or(f,o,d),u2(f,l,d)))}function s2(o,l,f){var d=Nr();ec(o,l,f,d)}function ec(o,l,f,d){var v={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(xh(o))l2(l,v);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var C=l.lastRenderedState,O=_(C,f);if(v.hasEagerState=!0,v.eagerState=O,br(O,C))return rh(o,l,v,0),St===null&&nh(),!1}catch{}finally{}if(f=r1(o,l,v,d),f!==null)return Or(f,o,d),u2(f,l,d),!0}return!1}function V1(o,l,f,d){if(d={lane:2,revertLane:mp(),action:d,hasEagerState:!1,eagerState:null,next:null},xh(o)){if(l)throw Error(r(479))}else l=r1(o,f,d,2),l!==null&&Or(l,o,2)}function xh(o){var l=o.alternate;return o===ze||l!==null&&l===ze}function l2(o,l){ul=ph=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function u2(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,wu(o,f)}}var Eh={readContext:qn,use:mh,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},c2={readContext:qn,use:mh,useCallback:function(o,l){return hr().memoizedState=[o,l===void 0?null:l],o},useContext:qn,useEffect:Wy,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,_h(4194308,4,Qy.bind(null,l,o),f)},useLayoutEffect:function(o,l){return _h(4194308,4,o,l)},useInsertionEffect:function(o,l){_h(4,2,o,l)},useMemo:function(o,l){var f=hr();l=l===void 0?null:l;var d=o();if(cs){_t(!0);try{o()}finally{_t(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=hr();if(f!==void 0){var v=f(l);if(cs){_t(!0);try{f(l)}finally{_t(!1)}}}else v=l;return d.memoizedState=d.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},d.queue=o,o=o.dispatch=XC.bind(null,ze,o),[d.memoizedState,o]},useRef:function(o){var l=hr();return o={current:o},l.memoizedState=o},useState:function(o){o=D1(o);var l=o.queue,f=s2.bind(null,ze,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:M1,useDeferredValue:function(o,l){var f=hr();return L1(f,o,l)},useTransition:function(){var o=D1(!1);return o=n2.bind(null,ze,o.queue,!0,!1),hr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=ze,v=hr();if(lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),St===null)throw Error(r(349));(tt&124)!==0||Oy(d,l,f)}v.memoizedState=f;var _={value:f,getSnapshot:l};return v.queue=_,Wy(Py.bind(null,d,_,o),[o]),d.flags|=2048,fl(9,yh(),Dy.bind(null,d,_,f,l),null),f},useId:function(){var o=hr(),l=St.identifierPrefix;if(lt){var f=la,d=sa;f=(d&~(1<<32-ft(d)-1)).toString(32)+f,l=""+l+"R"+f,f=gh++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=FC++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:B1,useFormState:Hy,useActionState:Hy,useOptimistic:function(o){var l=hr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=V1.bind(null,ze,!0,f),f.dispatch=l,[o,l]},useMemoCache:R1,useCacheRefresh:function(){return hr().memoizedState=qC.bind(null,ze)}},f2={readContext:qn,use:mh,useCallback:Jy,useContext:qn,useEffect:Yy,useImperativeHandle:Zy,useInsertionEffect:$y,useLayoutEffect:Ky,useMemo:e2,useReducer:vh,useRef:Xy,useState:function(){return vh(fa)},useDebugValue:M1,useDeferredValue:function(o,l){var f=nn();return t2(f,Et.memoizedState,o,l)},useTransition:function(){var o=vh(fa)[0],l=nn().memoizedState;return[typeof o=="boolean"?o:Zu(o),l]},useSyncExternalStore:Ny,useId:a2,useHostTransitionStatus:B1,useFormState:zy,useActionState:zy,useOptimistic:function(o,l){var f=nn();return ky(f,Et,o,l)},useMemoCache:R1,useCacheRefresh:o2},WC={readContext:qn,use:mh,useCallback:Jy,useContext:qn,useEffect:Yy,useImperativeHandle:Zy,useInsertionEffect:$y,useLayoutEffect:Ky,useMemo:e2,useReducer:O1,useRef:Xy,useState:function(){return O1(fa)},useDebugValue:M1,useDeferredValue:function(o,l){var f=nn();return Et===null?L1(f,o,l):t2(f,Et.memoizedState,o,l)},useTransition:function(){var o=O1(fa)[0],l=nn().memoizedState;return[typeof o=="boolean"?o:Zu(o),l]},useSyncExternalStore:Ny,useId:a2,useHostTransitionStatus:B1,useFormState:qy,useActionState:qy,useOptimistic:function(o,l){var f=nn();return Et!==null?ky(f,Et,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:R1,useCacheRefresh:o2},hl=null,tc=0;function wh(o){var l=tc;return tc+=1,hl===null&&(hl=[]),wy(hl,o,l)}function nc(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Ah(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function h2(o){var l=o._init;return l(o._payload)}function d2(o){function l(Y,W){if(o){var K=Y.deletions;K===null?(Y.deletions=[W],Y.flags|=16):K.push(W)}}function f(Y,W){if(!o)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function v(Y,W){return Y=oa(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,K){return Y.index=K,o?(K=Y.alternate,K!==null?(K=K.index,K<W?(Y.flags|=67108866,W):K):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function C(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,W,K,oe){return W===null||W.tag!==6?(W=a1(K,Y.mode,oe),W.return=Y,W):(W=v(W,K),W.return=Y,W)}function z(Y,W,K,oe){var xe=K.type;return xe===E?ae(Y,W,K.props.children,oe,K.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===N&&h2(xe)===W.type)?(W=v(W,K.props),nc(W,K),W.return=Y,W):(W=ah(K.type,K.key,K.props,null,Y.mode,oe),nc(W,K),W.return=Y,W)}function Q(Y,W,K,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==K.containerInfo||W.stateNode.implementation!==K.implementation?(W=o1(K,Y.mode,oe),W.return=Y,W):(W=v(W,K.children||[]),W.return=Y,W)}function ae(Y,W,K,oe,xe){return W===null||W.tag!==7?(W=ns(K,Y.mode,oe,xe),W.return=Y,W):(W=v(W,K),W.return=Y,W)}function se(Y,W,K){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=a1(""+W,Y.mode,K),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return K=ah(W.type,W.key,W.props,null,Y.mode,K),nc(K,W),K.return=Y,K;case x:return W=o1(W,Y.mode,K),W.return=Y,W;case N:var oe=W._init;return W=oe(W._payload),se(Y,W,K)}if(Ee(W)||k(W))return W=ns(W,Y.mode,K,null),W.return=Y,W;if(typeof W.then=="function")return se(Y,wh(W),K);if(W.$$typeof===D)return se(Y,uh(Y,W),K);Ah(Y,W)}return null}function J(Y,W,K,oe){var xe=W!==null?W.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xe!==null?null:O(Y,W,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return K.key===xe?z(Y,W,K,oe):null;case x:return K.key===xe?Q(Y,W,K,oe):null;case N:return xe=K._init,K=xe(K._payload),J(Y,W,K,oe)}if(Ee(K)||k(K))return xe!==null?null:ae(Y,W,K,oe,null);if(typeof K.then=="function")return J(Y,W,wh(K),oe);if(K.$$typeof===D)return J(Y,W,uh(Y,K),oe);Ah(Y,K)}return null}function te(Y,W,K,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(K)||null,O(W,Y,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Y=Y.get(oe.key===null?K:oe.key)||null,z(W,Y,oe,xe);case x:return Y=Y.get(oe.key===null?K:oe.key)||null,Q(W,Y,oe,xe);case N:var We=oe._init;return oe=We(oe._payload),te(Y,W,K,oe,xe)}if(Ee(oe)||k(oe))return Y=Y.get(K)||null,ae(W,Y,oe,xe,null);if(typeof oe.then=="function")return te(Y,W,K,wh(oe),xe);if(oe.$$typeof===D)return te(Y,W,K,uh(W,oe),xe);Ah(W,oe)}return null}function Le(Y,W,K,oe){for(var xe=null,We=null,be=W,Pe=W=0,Sn=null;be!==null&&Pe<K.length;Pe++){be.index>Pe?(Sn=be,be=null):Sn=be.sibling;var at=J(Y,be,K[Pe],oe);if(at===null){be===null&&(be=Sn);break}o&&be&&at.alternate===null&&l(Y,be),W=_(at,W,Pe),We===null?xe=at:We.sibling=at,We=at,be=Sn}if(Pe===K.length)return f(Y,be),lt&&is(Y,Pe),xe;if(be===null){for(;Pe<K.length;Pe++)be=se(Y,K[Pe],oe),be!==null&&(W=_(be,W,Pe),We===null?xe=be:We.sibling=be,We=be);return lt&&is(Y,Pe),xe}for(be=d(be);Pe<K.length;Pe++)Sn=te(be,Y,Pe,K[Pe],oe),Sn!==null&&(o&&Sn.alternate!==null&&be.delete(Sn.key===null?Pe:Sn.key),W=_(Sn,W,Pe),We===null?xe=Sn:We.sibling=Sn,We=Sn);return o&&be.forEach(function(po){return l(Y,po)}),lt&&is(Y,Pe),xe}function Re(Y,W,K,oe){if(K==null)throw Error(r(151));for(var xe=null,We=null,be=W,Pe=W=0,Sn=null,at=K.next();be!==null&&!at.done;Pe++,at=K.next()){be.index>Pe?(Sn=be,be=null):Sn=be.sibling;var po=J(Y,be,at.value,oe);if(po===null){be===null&&(be=Sn);break}o&&be&&po.alternate===null&&l(Y,be),W=_(po,W,Pe),We===null?xe=po:We.sibling=po,We=po,be=Sn}if(at.done)return f(Y,be),lt&&is(Y,Pe),xe;if(be===null){for(;!at.done;Pe++,at=K.next())at=se(Y,at.value,oe),at!==null&&(W=_(at,W,Pe),We===null?xe=at:We.sibling=at,We=at);return lt&&is(Y,Pe),xe}for(be=d(be);!at.done;Pe++,at=K.next())at=te(be,Y,Pe,at.value,oe),at!==null&&(o&&at.alternate!==null&&be.delete(at.key===null?Pe:at.key),W=_(at,W,Pe),We===null?xe=at:We.sibling=at,We=at);return o&&be.forEach(function(Y3){return l(Y,Y3)}),lt&&is(Y,Pe),xe}function At(Y,W,K,oe){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case y:e:{for(var xe=K.key;W!==null;){if(W.key===xe){if(xe=K.type,xe===E){if(W.tag===7){f(Y,W.sibling),oe=v(W,K.props.children),oe.return=Y,Y=oe;break e}}else if(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===N&&h2(xe)===W.type){f(Y,W.sibling),oe=v(W,K.props),nc(oe,K),oe.return=Y,Y=oe;break e}f(Y,W);break}else l(Y,W);W=W.sibling}K.type===E?(oe=ns(K.props.children,Y.mode,oe,K.key),oe.return=Y,Y=oe):(oe=ah(K.type,K.key,K.props,null,Y.mode,oe),nc(oe,K),oe.return=Y,Y=oe)}return C(Y);case x:e:{for(xe=K.key;W!==null;){if(W.key===xe)if(W.tag===4&&W.stateNode.containerInfo===K.containerInfo&&W.stateNode.implementation===K.implementation){f(Y,W.sibling),oe=v(W,K.children||[]),oe.return=Y,Y=oe;break e}else{f(Y,W);break}else l(Y,W);W=W.sibling}oe=o1(K,Y.mode,oe),oe.return=Y,Y=oe}return C(Y);case N:return xe=K._init,K=xe(K._payload),At(Y,W,K,oe)}if(Ee(K))return Le(Y,W,K,oe);if(k(K)){if(xe=k(K),typeof xe!="function")throw Error(r(150));return K=xe.call(K),Re(Y,W,K,oe)}if(typeof K.then=="function")return At(Y,W,wh(K),oe);if(K.$$typeof===D)return At(Y,W,uh(Y,K),oe);Ah(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,W!==null&&W.tag===6?(f(Y,W.sibling),oe=v(W,K),oe.return=Y,Y=oe):(f(Y,W),oe=a1(K,Y.mode,oe),oe.return=Y,Y=oe),C(Y)):f(Y,W)}return function(Y,W,K,oe){try{tc=0;var xe=At(Y,W,K,oe);return hl=null,xe}catch(be){if(be===Xu||be===fh)throw be;var We=Sr(29,be,null,Y.mode);return We.lanes=oe,We.return=Y,We}finally{}}}var dl=d2(!0),p2=d2(!1),zr=ue(null),Ii=null;function Za(o){var l=o.alternate;he(hn,hn.current&1),he(zr,o),Ii===null&&(l===null||ll.current!==null||l.memoizedState!==null)&&(Ii=o)}function g2(o){if(o.tag===22){if(he(hn,hn.current),he(zr,o),Ii===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ii=o)}}else Ja()}function Ja(){he(hn,hn.current),he(zr,zr.current)}function ha(o){me(zr),Ii===o&&(Ii=null),me(hn)}var hn=ue(0);function Th(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Ip(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function U1(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var F1={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=Nr(),v=$a(d);v.payload=l,f!=null&&(v.callback=f),l=Ka(o,v,d),l!==null&&(Or(l,o,d),Yu(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=Nr(),v=$a(d);v.tag=1,v.payload=l,f!=null&&(v.callback=f),l=Ka(o,v,d),l!==null&&(Or(l,o,d),Yu(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Nr(),d=$a(f);d.tag=2,l!=null&&(d.callback=l),l=Ka(o,d,f),l!==null&&(Or(l,o,f),Yu(l,o,f))}};function m2(o,l,f,d,v,_,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,_,C):l.prototype&&l.prototype.isPureReactComponent?!Vu(f,d)||!Vu(v,_):!0}function v2(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&F1.enqueueReplaceState(l,l.state,null)}function fs(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}var bh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function y2(o){bh(o)}function _2(o){console.error(o)}function x2(o){bh(o)}function Sh(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function E2(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function j1(o,l,f){return f=$a(f),f.tag=3,f.payload={element:null},f.callback=function(){Sh(o,l)},f}function w2(o){return o=$a(o),o.tag=3,o}function A2(o,l,f,d){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var _=d.value;o.payload=function(){return v(_)},o.callback=function(){E2(l,f,d)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){E2(l,f,d),typeof v!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function YC(o,l,f,d,v){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&zu(l,f,v,!0),f=zr.current,f!==null){switch(f.tag){case 13:return Ii===null?fp():f.alternate===null&&zt===0&&(zt=3),f.flags&=-257,f.flags|=65536,f.lanes=v,d===m1?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),dp(o,d,v)),!1;case 22:return f.flags|=65536,d===m1?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),dp(o,d,v)),!1}throw Error(r(435,f.tag))}return dp(o,d,v),fp(),!1}if(lt)return l=zr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,d!==u1&&(o=Error(r(422),{cause:d}),Hu(Ur(o,f)))):(d!==u1&&(l=Error(r(423),{cause:d}),Hu(Ur(l,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,d=Ur(d,f),v=j1(o.stateNode,d,v),_1(o,v),zt!==4&&(zt=2)),!1;var _=Error(r(520),{cause:d});if(_=Ur(_,f),uc===null?uc=[_]:uc.push(_),zt!==4&&(zt=2),l===null)return!0;d=Ur(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=j1(f.stateNode,d,o),_1(f,o),!1;case 1:if(l=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ao===null||!ao.has(_))))return f.flags|=65536,v&=-v,f.lanes|=v,v=w2(v),A2(v,o,f,d),_1(f,v),!1}f=f.return}while(f!==null);return!1}var T2=Error(r(461)),Tn=!1;function Mn(o,l,f,d){l.child=o===null?p2(l,null,f,d):dl(l,o.child,f,d)}function b2(o,l,f,d,v){f=f.render;var _=l.ref;if("ref"in d){var C={};for(var O in d)O!=="ref"&&(C[O]=d[O])}else C=d;return ls(l),d=T1(o,l,f,C,_,v),O=b1(),o!==null&&!Tn?(S1(o,l,v),da(o,l,v)):(lt&&O&&s1(l),l.flags|=1,Mn(o,l,d,v),l.child)}function S2(o,l,f,d,v){if(o===null){var _=f.type;return typeof _=="function"&&!i1(_)&&_.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=_,C2(o,l,_,d,v)):(o=ah(f.type,null,d,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(_=o.child,!$1(o,v)){var C=_.memoizedProps;if(f=f.compare,f=f!==null?f:Vu,f(C,d)&&o.ref===l.ref)return da(o,l,v)}return l.flags|=1,o=oa(_,d),o.ref=l.ref,o.return=l,l.child=o}function C2(o,l,f,d,v){if(o!==null){var _=o.memoizedProps;if(Vu(_,d)&&o.ref===l.ref)if(Tn=!1,l.pendingProps=d=_,$1(o,v))(o.flags&131072)!==0&&(Tn=!0);else return l.lanes=o.lanes,da(o,l,v)}return H1(o,l,f,d,v)}function I2(o,l,f){var d=l.pendingProps,v=d.children,_=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=_!==null?_.baseLanes|f:f,o!==null){for(v=l.child=o.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;l.childLanes=_&~d}else l.childLanes=0,l.child=null;return R2(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ch(l,_!==null?_.cachePool:null),_!==null?Cy(l,_):E1(),g2(l);else return l.lanes=l.childLanes=536870912,R2(o,l,_!==null?_.baseLanes|f:f,f)}else _!==null?(ch(l,_.cachePool),Cy(l,_),Ja(),l.memoizedState=null):(o!==null&&ch(l,null),E1(),Ja());return Mn(o,l,v,f),l.child}function R2(o,l,f,d){var v=g1();return v=v===null?null:{parent:fn._currentValue,pool:v},l.memoizedState={baseLanes:f,cachePool:v},o!==null&&ch(l,null),E1(),g2(l),o!==null&&zu(o,l,d,!0),null}function Ch(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function H1(o,l,f,d,v){return ls(l),f=T1(o,l,f,d,void 0,v),d=b1(),o!==null&&!Tn?(S1(o,l,v),da(o,l,v)):(lt&&d&&s1(l),l.flags|=1,Mn(o,l,f,v),l.child)}function N2(o,l,f,d,v,_){return ls(l),l.updateQueue=null,f=Ry(l,d,f,v),Iy(o),d=b1(),o!==null&&!Tn?(S1(o,l,_),da(o,l,_)):(lt&&d&&s1(l),l.flags|=1,Mn(o,l,f,_),l.child)}function O2(o,l,f,d,v){if(ls(l),l.stateNode===null){var _=rl,C=f.contextType;typeof C=="object"&&C!==null&&(_=qn(C)),_=new f(d,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=F1,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=d,_.state=l.memoizedState,_.refs={},v1(l),C=f.contextType,_.context=typeof C=="object"&&C!==null?qn(C):rl,_.state=l.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(U1(l,f,C,d),_.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&F1.enqueueReplaceState(_,_.state,null),Ku(l,d,_,v),$u(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){_=l.stateNode;var O=l.memoizedProps,z=fs(f,O);_.props=z;var Q=_.context,ae=f.contextType;C=rl,typeof ae=="object"&&ae!==null&&(C=qn(ae));var se=f.getDerivedStateFromProps;ae=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,ae||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O||Q!==C)&&v2(l,_,d,C),Ya=!1;var J=l.memoizedState;_.state=J,Ku(l,d,_,v),$u(),Q=l.memoizedState,O||J!==Q||Ya?(typeof se=="function"&&(U1(l,f,se,d),Q=l.memoizedState),(z=Ya||m2(l,f,z,d,J,Q,C))?(ae||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Q),_.props=d,_.state=Q,_.context=C,d=z):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{_=l.stateNode,y1(o,l),C=l.memoizedProps,ae=fs(f,C),_.props=ae,se=l.pendingProps,J=_.context,Q=f.contextType,z=rl,typeof Q=="object"&&Q!==null&&(z=qn(Q)),O=f.getDerivedStateFromProps,(Q=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==se||J!==z)&&v2(l,_,d,z),Ya=!1,J=l.memoizedState,_.state=J,Ku(l,d,_,v),$u();var te=l.memoizedState;C!==se||J!==te||Ya||o!==null&&o.dependencies!==null&&lh(o.dependencies)?(typeof O=="function"&&(U1(l,f,O,d),te=l.memoizedState),(ae=Ya||m2(l,f,ae,d,J,te,z)||o!==null&&o.dependencies!==null&&lh(o.dependencies))?(Q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(d,te,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(d,te,z)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=te),_.props=d,_.state=te,_.context=z,d=ae):(typeof _.componentDidUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),d=!1)}return _=d,Ch(o,l),d=(l.flags&128)!==0,_||d?(_=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,o!==null&&d?(l.child=dl(l,o.child,null,v),l.child=dl(l,null,f,v)):Mn(o,l,f,v),l.memoizedState=_.state,o=l.child):o=da(o,l,v),o}function D2(o,l,f,d){return ju(),l.flags|=256,Mn(o,l,f,d),l.child}var z1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G1(o){return{baseLanes:o,cachePool:_y()}}function q1(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Gr),o}function P2(o,l,f){var d=l.pendingProps,v=!1,_=(l.flags&128)!==0,C;if((C=_)||(C=o!==null&&o.memoizedState===null?!1:(hn.current&2)!==0),C&&(v=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,o===null){if(lt){if(v?Za(l):Ja(),lt){var O=Ht,z;if(z=O){e:{for(z=O,O=Ci;z.nodeType!==8;){if(!O){O=null;break e}if(z=ii(z.nextSibling),z===null){O=null;break e}}O=z}O!==null?(l.memoizedState={dehydrated:O,treeContext:rs!==null?{id:sa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},z=Sr(18,null,null,0),z.stateNode=O,z.return=l,l.child=z,ir=l,Ht=null,z=!0):z=!1}z||os(l)}if(O=l.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Ip(O)?l.lanes=32:l.lanes=536870912,null;ha(l)}return O=d.children,d=d.fallback,v?(Ja(),v=l.mode,O=Ih({mode:"hidden",children:O},v),d=ns(d,v,f,null),O.return=l,d.return=l,O.sibling=d,l.child=O,v=l.child,v.memoizedState=G1(f),v.childLanes=q1(o,C,f),l.memoizedState=z1,d):(Za(l),X1(l,O))}if(z=o.memoizedState,z!==null&&(O=z.dehydrated,O!==null)){if(_)l.flags&256?(Za(l),l.flags&=-257,l=W1(o,l,f)):l.memoizedState!==null?(Ja(),l.child=o.child,l.flags|=128,l=null):(Ja(),v=d.fallback,O=l.mode,d=Ih({mode:"visible",children:d.children},O),v=ns(v,O,f,null),v.flags|=2,d.return=l,v.return=l,d.sibling=v,l.child=d,dl(l,o.child,null,f),d=l.child,d.memoizedState=G1(f),d.childLanes=q1(o,C,f),l.memoizedState=z1,l=v);else if(Za(l),Ip(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var Q=C.dgst;C=Q,d=Error(r(419)),d.stack="",d.digest=C,Hu({value:d,source:null,stack:null}),l=W1(o,l,f)}else if(Tn||zu(o,l,f,!1),C=(f&o.childLanes)!==0,Tn||C){if(C=St,C!==null&&(d=f&-f,d=(d&42)!==0?1:Fa(d),d=(d&(C.suspendedLanes|f))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,nl(o,d),Or(C,o,d),T2;O.data==="$?"||fp(),l=W1(o,l,f)}else O.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=z.treeContext,Ht=ii(O.nextSibling),ir=l,lt=!0,as=null,Ci=!1,o!==null&&(jr[Hr++]=sa,jr[Hr++]=la,jr[Hr++]=rs,sa=o.id,la=o.overflow,rs=l),l=X1(l,d.children),l.flags|=4096);return l}return v?(Ja(),v=d.fallback,O=l.mode,z=o.child,Q=z.sibling,d=oa(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,Q!==null?v=oa(Q,v):(v=ns(v,O,f,null),v.flags|=2),v.return=l,d.return=l,d.sibling=v,l.child=d,d=v,v=l.child,O=o.child.memoizedState,O===null?O=G1(f):(z=O.cachePool,z!==null?(Q=fn._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=_y(),O={baseLanes:O.baseLanes|f,cachePool:z}),v.memoizedState=O,v.childLanes=q1(o,C,f),l.memoizedState=z1,d):(Za(l),f=o.child,o=f.sibling,f=oa(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(C=l.deletions,C===null?(l.deletions=[o],l.flags|=16):C.push(o)),l.child=f,l.memoizedState=null,f)}function X1(o,l){return l=Ih({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Ih(o,l){return o=Sr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function W1(o,l,f){return dl(l,o.child,null,f),o=X1(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function M2(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),f1(o.return,l,f)}function Y1(o,l,f,d,v){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:v}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=f,_.tailMode=v)}function L2(o,l,f){var d=l.pendingProps,v=d.revealOrder,_=d.tail;if(Mn(o,l,d.children,f),d=hn.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&M2(o,f,l);else if(o.tag===19)M2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(he(hn,d),v){case"forwards":for(f=l.child,v=null;f!==null;)o=f.alternate,o!==null&&Th(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),Y1(l,!1,v,f,_);break;case"backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Th(o)===null){l.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}Y1(l,!0,f,null,_);break;case"together":Y1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function da(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),io|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(zu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=oa(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=oa(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function $1(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&lh(o)))}function $C(o,l,f){switch(l.tag){case 3:st(l,l.stateNode.containerInfo),Wa(l,fn,o.memoizedState.cache),ju();break;case 27:case 5:Hi(l);break;case 4:st(l,l.stateNode.containerInfo);break;case 10:Wa(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Za(l),l.flags|=128,null):(f&l.child.childLanes)!==0?P2(o,l,f):(Za(l),o=da(o,l,f),o!==null?o.sibling:null);Za(l);break;case 19:var v=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||(zu(o,l,f,!1),d=(f&l.childLanes)!==0),v){if(d)return L2(o,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),he(hn,hn.current),d)break;return null;case 22:case 23:return l.lanes=0,I2(o,l,f);case 24:Wa(l,fn,o.memoizedState.cache)}return da(o,l,f)}function k2(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Tn=!0;else{if(!$1(o,f)&&(l.flags&128)===0)return Tn=!1,$C(o,l,f);Tn=(o.flags&131072)!==0}else Tn=!1,lt&&(l.flags&1048576)!==0&&hy(l,sh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,v=d._init;if(d=v(d._payload),l.type=d,typeof d=="function")i1(d)?(o=fs(d,o),l.tag=1,l=O2(null,l,d,o,f)):(l.tag=0,l=H1(null,l,d,o,f));else{if(d!=null){if(v=d.$$typeof,v===F){l.tag=11,l=b2(null,l,d,o,f);break e}else if(v===P){l.tag=14,l=S2(null,l,d,o,f);break e}}throw l=Se(d)||d,Error(r(306,l,""))}}return l;case 0:return H1(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,v=fs(d,l.pendingProps),O2(o,l,d,v,f);case 3:e:{if(st(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var _=l.memoizedState;v=_.element,y1(o,l),Ku(l,d,null,f);var C=l.memoizedState;if(d=C.cache,Wa(l,fn,d),d!==_.cache&&h1(l,[fn],f,!0),$u(),d=C.element,_.isDehydrated)if(_={element:d,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=D2(o,l,d,f);break e}else if(d!==v){v=Ur(Error(r(424)),l),Hu(v),l=D2(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ht=ii(o.firstChild),ir=l,lt=!0,as=null,Ci=!0,f=p2(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(ju(),d===v){l=da(o,l,f);break e}Mn(o,l,d,f)}l=l.child}return l;case 26:return Ch(o,l),o===null?(f=F_(l.type,null,l.pendingProps,null))?l.memoizedState=f:lt||(f=l.type,o=l.pendingProps,d=Hh(Me.current).createElement(f),d[ln]=l,d[Jt]=o,kn(d,f,o),Xt(d),l.stateNode=d):l.memoizedState=F_(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Hi(l),o===null&&lt&&(d=l.stateNode=B_(l.type,l.pendingProps,Me.current),ir=l,Ci=!0,v=Ht,lo(l.type)?(Rp=v,Ht=ii(d.firstChild)):Ht=v),Mn(o,l,l.pendingProps.children,f),Ch(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&lt&&((v=d=Ht)&&(d=A3(d,l.type,l.pendingProps,Ci),d!==null?(l.stateNode=d,ir=l,Ht=ii(d.firstChild),Ci=!1,v=!0):v=!1),v||os(l)),Hi(l),v=l.type,_=l.pendingProps,C=o!==null?o.memoizedProps:null,d=_.children,bp(v,_)?d=null:C!==null&&bp(v,C)&&(l.flags|=32),l.memoizedState!==null&&(v=T1(o,l,jC,null,null,f),yc._currentValue=v),Ch(o,l),Mn(o,l,d,f),l.child;case 6:return o===null&&lt&&((o=f=Ht)&&(f=T3(f,l.pendingProps,Ci),f!==null?(l.stateNode=f,ir=l,Ht=null,o=!0):o=!1),o||os(l)),null;case 13:return P2(o,l,f);case 4:return st(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=dl(l,null,d,f):Mn(o,l,d,f),l.child;case 11:return b2(o,l,l.type,l.pendingProps,f);case 7:return Mn(o,l,l.pendingProps,f),l.child;case 8:return Mn(o,l,l.pendingProps.children,f),l.child;case 12:return Mn(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,Wa(l,l.type,d.value),Mn(o,l,d.children,f),l.child;case 9:return v=l.type._context,d=l.pendingProps.children,ls(l),v=qn(v),d=d(v),l.flags|=1,Mn(o,l,d,f),l.child;case 14:return S2(o,l,l.type,l.pendingProps,f);case 15:return C2(o,l,l.type,l.pendingProps,f);case 19:return L2(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=Ih(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=oa(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return I2(o,l,f);case 24:return ls(l),d=qn(fn),o===null?(v=g1(),v===null&&(v=St,_=d1(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=f),v=_),l.memoizedState={parent:d,cache:v},v1(l),Wa(l,fn,v)):((o.lanes&f)!==0&&(y1(o,l),Ku(l,null,null,f),$u()),v=o.memoizedState,_=l.memoizedState,v.parent!==d?(v={parent:d,cache:d},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Wa(l,fn,d)):(d=_.cache,Wa(l,fn,d),d!==v.cache&&h1(l,[fn],f,!0))),Mn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function pa(o){o.flags|=4}function B2(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!q_(l)){if(l=zr.current,l!==null&&((tt&4194048)===tt?Ii!==null:(tt&62914560)!==tt&&(tt&536870912)===0||l!==Ii))throw Wu=m1,xy;o.flags|=8192}}function Rh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?xu():536870912,o.lanes|=l,vl|=l)}function rc(o,l){if(!lt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function kt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function KC(o,l,f){var d=l.pendingProps;switch(l1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(l),null;case 1:return kt(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ca(fn),cr(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Fu(l)?pa(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gy())),kt(l),null;case 26:return f=l.memoizedState,o===null?(pa(l),f!==null?(kt(l),B2(l,f)):(kt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(pa(l),kt(l),B2(l,f)):(kt(l),l.flags&=-16777217):(o.memoizedProps!==d&&pa(l),kt(l),l.flags&=-16777217),null;case 27:pi(l),f=Me.current;var v=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&pa(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return kt(l),null}o=Te.current,Fu(l)?dy(l):(o=B_(v,d,f),l.stateNode=o,pa(l))}return kt(l),null;case 5:if(pi(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&pa(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return kt(l),null}if(o=Te.current,Fu(l))dy(l);else{switch(v=Hh(Me.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?v.createElement(f,{is:d.is}):v.createElement(f)}}o[ln]=l,o[Jt]=d;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=o;e:switch(kn(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&pa(l)}}return kt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&pa(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=Me.current,Fu(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,v=ir,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}o[ln]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||N_(o.nodeValue,f)),o||os(l)}else o=Hh(o).createTextNode(d),o[ln]=l,l.stateNode=o}return kt(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Fu(l),d!==null&&d.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[ln]=l}else ju(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;kt(l),v=!1}else v=gy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(ha(l),l):(ha(l),null)}if(ha(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var _=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(_=d.memoizedState.cachePool.pool),_!==v&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Rh(l,l.updateQueue),kt(l),null;case 4:return cr(),o===null&&xp(l.stateNode.containerInfo),kt(l),null;case 10:return ca(l.type),kt(l),null;case 19:if(me(hn),v=l.memoizedState,v===null)return kt(l),null;if(d=(l.flags&128)!==0,_=v.rendering,_===null)if(d)rc(v,!1);else{if(zt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(_=Th(o),_!==null){for(l.flags|=128,rc(v,!1),o=_.updateQueue,l.updateQueue=o,Rh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)fy(f,o),f=f.sibling;return he(hn,hn.current&1|2),l.child}o=o.sibling}v.tail!==null&&fr()>Dh&&(l.flags|=128,d=!0,rc(v,!1),l.lanes=4194304)}else{if(!d)if(o=Th(_),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,Rh(l,o),rc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!lt)return kt(l),null}else 2*fr()-v.renderingStartTime>Dh&&f!==536870912&&(l.flags|=128,d=!0,rc(v,!1),l.lanes=4194304);v.isBackwards?(_.sibling=l.child,l.child=_):(o=v.last,o!==null?o.sibling=_:l.child=_,v.last=_)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=fr(),l.sibling=null,o=hn.current,he(hn,d?o&1|2:o&1),l):(kt(l),null);case 22:case 23:return ha(l),w1(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(kt(l),l.subtreeFlags&6&&(l.flags|=8192)):kt(l),f=l.updateQueue,f!==null&&Rh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&me(us),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ca(fn),kt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function QC(o,l){switch(l1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ca(fn),cr(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return pi(l),null;case 13:if(ha(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ju()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return me(hn),null;case 4:return cr(),null;case 10:return ca(l.type),null;case 22:case 23:return ha(l),w1(),o!==null&&me(us),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ca(fn),null;case 25:return null;default:return null}}function V2(o,l){switch(l1(l),l.tag){case 3:ca(fn),cr();break;case 26:case 27:case 5:pi(l);break;case 4:cr();break;case 13:ha(l);break;case 19:me(hn);break;case 10:ca(l.type);break;case 22:case 23:ha(l),w1(),o!==null&&me(us);break;case 24:ca(fn)}}function ic(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var v=d.next;f=v;do{if((f.tag&o)===o){d=void 0;var _=f.create,C=f.inst;d=_(),C.destroy=d}f=f.next}while(f!==v)}}catch(O){bt(l,l.return,O)}}function eo(o,l,f){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var _=v.next;d=_;do{if((d.tag&o)===o){var C=d.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,v=l;var z=f,Q=O;try{Q()}catch(ae){bt(v,z,ae)}}}d=d.next}while(d!==_)}}catch(ae){bt(l,l.return,ae)}}function U2(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{Sy(l,f)}catch(d){bt(o,o.return,d)}}}function F2(o,l,f){f.props=fs(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){bt(o,l,d)}}function ac(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(v){bt(o,l,v)}}function Ri(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(v){bt(o,l,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){bt(o,l,v)}else f.current=null}function j2(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(v){bt(o,o.return,v)}}function K1(o,l,f){try{var d=o.stateNode;y3(d,o.type,f,l),d[Jt]=l}catch(v){bt(o,o.return,v)}}function H2(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&lo(o.type)||o.tag===4}function Q1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||H2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&lo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Z1(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=jh));else if(d!==4&&(d===27&&lo(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(Z1(o,l,f),o=o.sibling;o!==null;)Z1(o,l,f),o=o.sibling}function Nh(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&lo(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Nh(o,l,f),o=o.sibling;o!==null;)Nh(o,l,f),o=o.sibling}function z2(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);kn(l,d,f),l[ln]=o,l[Jt]=f}catch(_){bt(o,o.return,_)}}var ga=!1,Yt=!1,J1=!1,G2=typeof WeakSet=="function"?WeakSet:Set,bn=null;function ZC(o,l){if(o=o.containerInfo,Ap=Yh,o=ty(o),Q0(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var v=d.anchorOffset,_=d.focusNode;d=d.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var C=0,O=-1,z=-1,Q=0,ae=0,se=o,J=null;t:for(;;){for(var te;se!==f||v!==0&&se.nodeType!==3||(O=C+v),se!==_||d!==0&&se.nodeType!==3||(z=C+d),se.nodeType===3&&(C+=se.nodeValue.length),(te=se.firstChild)!==null;)J=se,se=te;for(;;){if(se===o)break t;if(J===f&&++Q===v&&(O=C),J===_&&++ae===d&&(z=C),(te=se.nextSibling)!==null)break;se=J,J=se.parentNode}se=te}f=O===-1||z===-1?null:{start:O,end:z}}else f=null}f=f||{start:0,end:0}}else f=null;for(Tp={focusedElem:o,selectionRange:f},Yh=!1,bn=l;bn!==null;)if(l=bn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,bn=o;else for(;bn!==null;){switch(l=bn,_=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,f=l,v=_.memoizedProps,_=_.memoizedState,d=f.stateNode;try{var Le=fs(f.type,v,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(Le,_),d.__reactInternalSnapshotBeforeUpdate=o}catch(Re){bt(f,f.return,Re)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Cp(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Cp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,bn=o;break}bn=l.return}}function q2(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:to(o,f),d&4&&ic(5,f);break;case 1:if(to(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(C){bt(f,f.return,C)}else{var v=fs(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(v,l,o.__reactInternalSnapshotBeforeUpdate)}catch(C){bt(f,f.return,C)}}d&64&&U2(f),d&512&&ac(f,f.return);break;case 3:if(to(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{Sy(o,l)}catch(C){bt(f,f.return,C)}}break;case 27:l===null&&d&4&&z2(f);case 26:case 5:to(o,f),l===null&&d&4&&j2(f),d&512&&ac(f,f.return);break;case 12:to(o,f);break;case 13:to(o,f),d&4&&Y2(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=s3.bind(null,f),b3(o,f))));break;case 22:if(d=f.memoizedState!==null||ga,!d){l=l!==null&&l.memoizedState!==null||Yt,v=ga;var _=Yt;ga=d,(Yt=l)&&!_?no(o,f,(f.subtreeFlags&8772)!==0):to(o,f),ga=v,Yt=_}break;case 30:break;default:to(o,f)}}function X2(o){var l=o.alternate;l!==null&&(o.alternate=null,X2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&za(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Mt=null,dr=!1;function ma(o,l,f){for(f=f.child;f!==null;)W2(o,l,f),f=f.sibling}function W2(o,l,f){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ae,f)}catch{}switch(f.tag){case 26:Yt||Ri(f,l),ma(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Yt||Ri(f,l);var d=Mt,v=dr;lo(f.type)&&(Mt=f.stateNode,dr=!1),ma(o,l,f),pc(f.stateNode),Mt=d,dr=v;break;case 5:Yt||Ri(f,l);case 6:if(d=Mt,v=dr,Mt=null,ma(o,l,f),Mt=d,dr=v,Mt!==null)if(dr)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(f.stateNode)}catch(_){bt(f,l,_)}else try{Mt.removeChild(f.stateNode)}catch(_){bt(f,l,_)}break;case 18:Mt!==null&&(dr?(o=Mt,L_(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),wc(o)):L_(Mt,f.stateNode));break;case 4:d=Mt,v=dr,Mt=f.stateNode.containerInfo,dr=!0,ma(o,l,f),Mt=d,dr=v;break;case 0:case 11:case 14:case 15:Yt||eo(2,f,l),Yt||eo(4,f,l),ma(o,l,f);break;case 1:Yt||(Ri(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&F2(f,l,d)),ma(o,l,f);break;case 21:ma(o,l,f);break;case 22:Yt=(d=Yt)||f.memoizedState!==null,ma(o,l,f),Yt=d;break;default:ma(o,l,f)}}function Y2(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{wc(o)}catch(f){bt(l,l.return,f)}}function JC(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new G2),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new G2),l;default:throw Error(r(435,o.tag))}}function ep(o,l){var f=JC(o);l.forEach(function(d){var v=l3.bind(null,o,d);f.has(d)||(f.add(d),d.then(v,v))})}function Cr(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var v=f[d],_=o,C=l,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(lo(O.type)){Mt=O.stateNode,dr=!1;break e}break;case 5:Mt=O.stateNode,dr=!1;break e;case 3:case 4:Mt=O.stateNode.containerInfo,dr=!0;break e}O=O.return}if(Mt===null)throw Error(r(160));W2(_,C,v),Mt=null,dr=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)$2(l,o),l=l.sibling}var ri=null;function $2(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Cr(l,o),Ir(o),d&4&&(eo(3,o,o.return),ic(3,o),eo(5,o,o.return));break;case 1:Cr(l,o),Ir(o),d&512&&(Yt||f===null||Ri(f,f.return)),d&64&&ga&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var v=ri;if(Cr(l,o),Ir(o),d&512&&(Yt||f===null||Ri(f,f.return)),d&4){var _=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Fo]||_[ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(d),v.head.insertBefore(_,v.querySelector("head > title"))),kn(_,d,f),_[ln]=o,Xt(_),d=_;break e;case"link":var C=z_("link","href",v).get(d+(f.href||""));if(C){for(var O=0;O<C.length;O++)if(_=C[O],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(O,1);break t}}_=v.createElement(d),kn(_,d,f),v.head.appendChild(_);break;case"meta":if(C=z_("meta","content",v).get(d+(f.content||""))){for(O=0;O<C.length;O++)if(_=C[O],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(O,1);break t}}_=v.createElement(d),kn(_,d,f),v.head.appendChild(_);break;default:throw Error(r(468,d))}_[ln]=o,Xt(_),d=_}o.stateNode=d}else G_(v,o.type,o.stateNode);else o.stateNode=H_(v,d,o.memoizedProps);else _!==d?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,d===null?G_(v,o.type,o.stateNode):H_(v,d,o.memoizedProps)):d===null&&o.stateNode!==null&&K1(o,o.memoizedProps,f.memoizedProps)}break;case 27:Cr(l,o),Ir(o),d&512&&(Yt||f===null||Ri(f,f.return)),f!==null&&d&4&&K1(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Cr(l,o),Ir(o),d&512&&(Yt||f===null||Ri(f,f.return)),o.flags&32){v=o.stateNode;try{Lr(v,"")}catch(te){bt(o,o.return,te)}}d&4&&o.stateNode!=null&&(v=o.memoizedProps,K1(o,v,f!==null?f.memoizedProps:v)),d&1024&&(J1=!0);break;case 6:if(Cr(l,o),Ir(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(te){bt(o,o.return,te)}}break;case 3:if(qh=null,v=ri,ri=zh(l.containerInfo),Cr(l,o),ri=v,Ir(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{wc(l.containerInfo)}catch(te){bt(o,o.return,te)}J1&&(J1=!1,K2(o));break;case 4:d=ri,ri=zh(o.stateNode.containerInfo),Cr(l,o),Ir(o),ri=d;break;case 12:Cr(l,o),Ir(o);break;case 13:Cr(l,o),Ir(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(op=fr()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,ep(o,d)));break;case 22:v=o.memoizedState!==null;var z=f!==null&&f.memoizedState!==null,Q=ga,ae=Yt;if(ga=Q||v,Yt=ae||z,Cr(l,o),Yt=ae,ga=Q,Ir(o),d&8192)e:for(l=o.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(f===null||z||ga||Yt||hs(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){z=f=l;try{if(_=z.stateNode,v)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=z.stateNode;var se=z.memoizedProps.style,J=se!=null&&se.hasOwnProperty("display")?se.display:null;O.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){bt(z,z.return,te)}}}else if(l.tag===6){if(f===null){z=l;try{z.stateNode.nodeValue=v?"":z.memoizedProps}catch(te){bt(z,z.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,ep(o,f))));break;case 19:Cr(l,o),Ir(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,ep(o,d)));break;case 30:break;case 21:break;default:Cr(l,o),Ir(o)}}function Ir(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(H2(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,_=Q1(o);Nh(o,_,v);break;case 5:var C=f.stateNode;f.flags&32&&(Lr(C,""),f.flags&=-33);var O=Q1(o);Nh(o,O,C);break;case 3:case 4:var z=f.stateNode.containerInfo,Q=Q1(o);Z1(o,Q,z);break;default:throw Error(r(161))}}catch(ae){bt(o,o.return,ae)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function K2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;K2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function to(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)q2(o,l.alternate,l),l=l.sibling}function hs(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:eo(4,l,l.return),hs(l);break;case 1:Ri(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&F2(l,l.return,f),hs(l);break;case 27:pc(l.stateNode);case 26:case 5:Ri(l,l.return),hs(l);break;case 22:l.memoizedState===null&&hs(l);break;case 30:hs(l);break;default:hs(l)}o=o.sibling}}function no(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,v=o,_=l,C=_.flags;switch(_.tag){case 0:case 11:case 15:no(v,_,f),ic(4,_);break;case 1:if(no(v,_,f),d=_,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Q){bt(d,d.return,Q)}if(d=_,v=d.updateQueue,v!==null){var O=d.stateNode;try{var z=v.shared.hiddenCallbacks;if(z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<z.length;v++)by(z[v],O)}catch(Q){bt(d,d.return,Q)}}f&&C&64&&U2(_),ac(_,_.return);break;case 27:z2(_);case 26:case 5:no(v,_,f),f&&d===null&&C&4&&j2(_),ac(_,_.return);break;case 12:no(v,_,f);break;case 13:no(v,_,f),f&&C&4&&Y2(v,_);break;case 22:_.memoizedState===null&&no(v,_,f),ac(_,_.return);break;case 30:break;default:no(v,_,f)}l=l.sibling}}function tp(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Gu(f))}function np(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Gu(o))}function Ni(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Q2(o,l,f,d),l=l.sibling}function Q2(o,l,f,d){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Ni(o,l,f,d),v&2048&&ic(9,l);break;case 1:Ni(o,l,f,d);break;case 3:Ni(o,l,f,d),v&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Gu(o)));break;case 12:if(v&2048){Ni(o,l,f,d),o=l.stateNode;try{var _=l.memoizedProps,C=_.id,O=_.onPostCommit;typeof O=="function"&&O(C,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(z){bt(l,l.return,z)}}else Ni(o,l,f,d);break;case 13:Ni(o,l,f,d);break;case 23:break;case 22:_=l.stateNode,C=l.alternate,l.memoizedState!==null?_._visibility&2?Ni(o,l,f,d):oc(o,l):_._visibility&2?Ni(o,l,f,d):(_._visibility|=2,pl(o,l,f,d,(l.subtreeFlags&10256)!==0)),v&2048&&tp(C,l);break;case 24:Ni(o,l,f,d),v&2048&&np(l.alternate,l);break;default:Ni(o,l,f,d)}}function pl(o,l,f,d,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=o,C=l,O=f,z=d,Q=C.flags;switch(C.tag){case 0:case 11:case 15:pl(_,C,O,z,v),ic(8,C);break;case 23:break;case 22:var ae=C.stateNode;C.memoizedState!==null?ae._visibility&2?pl(_,C,O,z,v):oc(_,C):(ae._visibility|=2,pl(_,C,O,z,v)),v&&Q&2048&&tp(C.alternate,C);break;case 24:pl(_,C,O,z,v),v&&Q&2048&&np(C.alternate,C);break;default:pl(_,C,O,z,v)}l=l.sibling}}function oc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,v=d.flags;switch(d.tag){case 22:oc(f,d),v&2048&&tp(d.alternate,d);break;case 24:oc(f,d),v&2048&&np(d.alternate,d);break;default:oc(f,d)}l=l.sibling}}var sc=8192;function gl(o){if(o.subtreeFlags&sc)for(o=o.child;o!==null;)Z2(o),o=o.sibling}function Z2(o){switch(o.tag){case 26:gl(o),o.flags&sc&&o.memoizedState!==null&&V3(ri,o.memoizedState,o.memoizedProps);break;case 5:gl(o);break;case 3:case 4:var l=ri;ri=zh(o.stateNode.containerInfo),gl(o),ri=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=sc,sc=16777216,gl(o),sc=l):gl(o));break;default:gl(o)}}function J2(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function lc(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];bn=d,t_(d,o)}J2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)e_(o),o=o.sibling}function e_(o){switch(o.tag){case 0:case 11:case 15:lc(o),o.flags&2048&&eo(9,o,o.return);break;case 3:lc(o);break;case 12:lc(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Oh(o)):lc(o);break;default:lc(o)}}function Oh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];bn=d,t_(d,o)}J2(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:eo(8,l,l.return),Oh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Oh(l));break;default:Oh(l)}o=o.sibling}}function t_(o,l){for(;bn!==null;){var f=bn;switch(f.tag){case 0:case 11:case 15:eo(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Gu(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,bn=d;else e:for(f=o;bn!==null;){d=bn;var v=d.sibling,_=d.return;if(X2(d),d===f){bn=null;break e}if(v!==null){v.return=_,bn=v;break e}bn=_}}}var e3={getCacheForType:function(o){var l=qn(fn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},t3=typeof WeakMap=="function"?WeakMap:Map,gt=0,St=null,$e=null,tt=0,mt=0,Rr=null,ro=!1,ml=!1,rp=!1,va=0,zt=0,io=0,ds=0,ip=0,Gr=0,vl=0,uc=null,pr=null,ap=!1,op=0,Dh=1/0,Ph=null,ao=null,Ln=0,oo=null,yl=null,_l=0,sp=0,lp=null,n_=null,cc=0,up=null;function Nr(){if((gt&2)!==0&&tt!==0)return tt&-tt;if(ee.T!==null){var o=ol;return o!==0?o:mp()}return ja()}function r_(){Gr===0&&(Gr=(tt&536870912)===0||lt?_u():536870912);var o=zr.current;return o!==null&&(o.flags|=32),Gr}function Or(o,l,f){(o===St&&(mt===2||mt===9)||o.cancelPendingCommit!==null)&&(xl(o,0),so(o,tt,Gr,!1)),$i(o,f),((gt&2)===0||o!==St)&&(o===St&&((gt&2)===0&&(ds|=f),zt===4&&so(o,tt,Gr,!1)),Oi(o))}function i_(o,l,f){if((gt&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Uo(o,l),v=d?i3(o,l):hp(o,l,!0),_=d;do{if(v===0){ml&&!d&&so(o,l,0,!1);break}else{if(f=o.current.alternate,_&&!n3(f)){v=hp(o,l,!1),_=!1;continue}if(v===2){if(_=l,o.errorRecoveryDisabledLanes&_)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var O=o;v=uc;var z=O.current.memoizedState.isDehydrated;if(z&&(xl(O,C).flags|=256),C=hp(O,C,!1),C!==2){if(rp&&!z){O.errorRecoveryDisabledLanes|=_,ds|=_,v=4;break e}_=pr,pr=v,_!==null&&(pr===null?pr=_:pr.push.apply(pr,_))}v=C}if(_=!1,v!==2)continue}}if(v===1){xl(o,0),so(o,l,0,!0);break}e:{switch(d=o,_=v,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:so(d,l,Gr,!ro);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=op+300-fr(),10<v)){if(so(d,l,Gr,!ro),Bs(d,0,!0)!==0)break e;d.timeoutHandle=P_(a_.bind(null,d,f,pr,Ph,ap,l,Gr,ds,vl,ro,_,2,-0,0),v);break e}a_(d,f,pr,Ph,ap,l,Gr,ds,vl,ro,_,0,-0,0)}}break}while(!0);Oi(o)}function a_(o,l,f,d,v,_,C,O,z,Q,ae,se,J,te){if(o.timeoutHandle=-1,se=l.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(vc={stylesheets:null,count:0,unsuspend:B3},Z2(l),se=U3(),se!==null)){o.cancelPendingCommit=se(h_.bind(null,o,l,_,f,d,v,C,O,z,ae,1,J,te)),so(o,_,C,!Q);return}h_(o,l,_,f,d,v,C,O,z)}function n3(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var v=f[d],_=v.getSnapshot;v=v.value;try{if(!br(_(),v))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function so(o,l,f,d){l&=~ip,l&=~ds,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var v=l;0<v;){var _=31-ft(v),C=1<<_;d[_]=-1,v&=~C}f!==0&&mi(o,f,l)}function Mh(){return(gt&6)===0?(fc(0),!1):!0}function cp(){if($e!==null){if(mt===0)var o=$e.return;else o=$e,ua=ss=null,C1(o),hl=null,tc=0,o=$e;for(;o!==null;)V2(o.alternate,o),o=o.return;$e=null}}function xl(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,x3(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),cp(),St=o,$e=f=oa(o.current,null),tt=l,mt=0,Rr=null,ro=!1,ml=Uo(o,l),rp=!1,vl=Gr=ip=ds=io=zt=0,pr=uc=null,ap=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var v=31-ft(d),_=1<<v;l|=o[v],d&=~_}return va=l,nh(),f}function o_(o,l){ze=null,ee.H=Eh,l===Xu||l===fh?(l=Ay(),mt=3):l===xy?(l=Ay(),mt=4):mt=l===T2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Rr=l,$e===null&&(zt=1,Sh(o,Ur(l,o.current)))}function s_(){var o=ee.H;return ee.H=Eh,o===null?Eh:o}function l_(){var o=ee.A;return ee.A=e3,o}function fp(){zt=4,ro||(tt&4194048)!==tt&&zr.current!==null||(ml=!0),(io&134217727)===0&&(ds&134217727)===0||St===null||so(St,tt,Gr,!1)}function hp(o,l,f){var d=gt;gt|=2;var v=s_(),_=l_();(St!==o||tt!==l)&&(Ph=null,xl(o,l)),l=!1;var C=zt;e:do try{if(mt!==0&&$e!==null){var O=$e,z=Rr;switch(mt){case 8:cp(),C=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(l=!0);var Q=mt;if(mt=0,Rr=null,El(o,O,z,Q),f&&ml){C=0;break e}break;default:Q=mt,mt=0,Rr=null,El(o,O,z,Q)}}r3(),C=zt;break}catch(ae){o_(o,ae)}while(!0);return l&&o.shellSuspendCounter++,ua=ss=null,gt=d,ee.H=v,ee.A=_,$e===null&&(St=null,tt=0,nh()),C}function r3(){for(;$e!==null;)u_($e)}function i3(o,l){var f=gt;gt|=2;var d=s_(),v=l_();St!==o||tt!==l?(Ph=null,Dh=fr()+500,xl(o,l)):ml=Uo(o,l);e:do try{if(mt!==0&&$e!==null){l=$e;var _=Rr;t:switch(mt){case 1:mt=0,Rr=null,El(o,l,_,1);break;case 2:case 9:if(Ey(_)){mt=0,Rr=null,c_(l);break}l=function(){mt!==2&&mt!==9||St!==o||(mt=7),Oi(o)},_.then(l,l);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Ey(_)?(mt=0,Rr=null,c_(l)):(mt=0,Rr=null,El(o,l,_,7));break;case 5:var C=null;switch($e.tag){case 26:C=$e.memoizedState;case 5:case 27:var O=$e;if(!C||q_(C)){mt=0,Rr=null;var z=O.sibling;if(z!==null)$e=z;else{var Q=O.return;Q!==null?($e=Q,Lh(Q)):$e=null}break t}}mt=0,Rr=null,El(o,l,_,5);break;case 6:mt=0,Rr=null,El(o,l,_,6);break;case 8:cp(),zt=6;break e;default:throw Error(r(462))}}a3();break}catch(ae){o_(o,ae)}while(!0);return ua=ss=null,ee.H=d,ee.A=v,gt=f,$e!==null?0:(St=null,tt=0,nh(),zt)}function a3(){for(;$e!==null&&!Va();)u_($e)}function u_(o){var l=k2(o.alternate,o,va);o.memoizedProps=o.pendingProps,l===null?Lh(o):$e=l}function c_(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=N2(f,l,l.pendingProps,l.type,void 0,tt);break;case 11:l=N2(f,l,l.pendingProps,l.type.render,l.ref,tt);break;case 5:C1(l);default:V2(f,l),l=$e=fy(l,va),l=k2(f,l,va)}o.memoizedProps=o.pendingProps,l===null?Lh(o):$e=l}function El(o,l,f,d){ua=ss=null,C1(l),hl=null,tc=0;var v=l.return;try{if(YC(o,v,l,f,tt)){zt=1,Sh(o,Ur(f,o.current)),$e=null;return}}catch(_){if(v!==null)throw $e=v,_;zt=1,Sh(o,Ur(f,o.current)),$e=null;return}l.flags&32768?(lt||d===1?o=!0:ml||(tt&536870912)!==0?o=!1:(ro=o=!0,(d===2||d===9||d===3||d===6)&&(d=zr.current,d!==null&&d.tag===13&&(d.flags|=16384))),f_(l,o)):Lh(l)}function Lh(o){var l=o;do{if((l.flags&32768)!==0){f_(l,ro);return}o=l.return;var f=KC(l.alternate,l,va);if(f!==null){$e=f;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=o}while(l!==null);zt===0&&(zt=5)}function f_(o,l){do{var f=QC(o.alternate,o);if(f!==null){f.flags&=32767,$e=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){$e=o;return}$e=o=f}while(o!==null);zt=6,$e=null}function h_(o,l,f,d,v,_,C,O,z){o.cancelPendingCommit=null;do kh();while(Ln!==0);if((gt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=n1,Eu(o,f,_,C,O,z),o===St&&($e=St=null,tt=0),yl=l,oo=o,_l=f,sp=_,lp=v,n_=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,u3(Xi,function(){return v_(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=ee.T,ee.T=null,v=ce.p,ce.p=2,C=gt,gt|=4;try{ZC(o,l,f)}finally{gt=C,ce.p=v,ee.T=d}}Ln=1,d_(),p_(),g_()}}function d_(){if(Ln===1){Ln=0;var o=oo,l=yl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ee.T,ee.T=null;var d=ce.p;ce.p=2;var v=gt;gt|=4;try{$2(l,o);var _=Tp,C=ty(o.containerInfo),O=_.focusedElem,z=_.selectionRange;if(C!==O&&O&&O.ownerDocument&&ey(O.ownerDocument.documentElement,O)){if(z!==null&&Q0(O)){var Q=z.start,ae=z.end;if(ae===void 0&&(ae=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(ae,O.value.length);else{var se=O.ownerDocument||document,J=se&&se.defaultView||window;if(J.getSelection){var te=J.getSelection(),Le=O.textContent.length,Re=Math.min(z.start,Le),At=z.end===void 0?Re:Math.min(z.end,Le);!te.extend&&Re>At&&(C=At,At=Re,Re=C);var Y=Jv(O,Re),W=Jv(O,At);if(Y&&W&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==W.node||te.focusOffset!==W.offset)){var K=se.createRange();K.setStart(Y.node,Y.offset),te.removeAllRanges(),Re>At?(te.addRange(K),te.extend(W.node,W.offset)):(K.setEnd(W.node,W.offset),te.addRange(K))}}}}for(se=[],te=O;te=te.parentNode;)te.nodeType===1&&se.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<se.length;O++){var oe=se[O];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Yh=!!Ap,Tp=Ap=null}finally{gt=v,ce.p=d,ee.T=f}}o.current=l,Ln=2}}function p_(){if(Ln===2){Ln=0;var o=oo,l=yl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ee.T,ee.T=null;var d=ce.p;ce.p=2;var v=gt;gt|=4;try{q2(o,l.alternate,l)}finally{gt=v,ce.p=d,ee.T=f}}Ln=3}}function g_(){if(Ln===4||Ln===3){Ln=0,ko();var o=oo,l=yl,f=_l,d=n_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ln=5:(Ln=0,yl=oo=null,m_(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(ao=null),Vs(f),l=l.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ae,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=ee.T,v=ce.p,ce.p=2,ee.T=null;try{for(var _=o.onRecoverableError,C=0;C<d.length;C++){var O=d[C];_(O.value,{componentStack:O.stack})}}finally{ee.T=l,ce.p=v}}(_l&3)!==0&&kh(),Oi(o),v=o.pendingLanes,(f&4194090)!==0&&(v&42)!==0?o===up?cc++:(cc=0,up=o):cc=0,fc(0)}}function m_(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Gu(l)))}function kh(o){return d_(),p_(),g_(),v_()}function v_(){if(Ln!==5)return!1;var o=oo,l=sp;sp=0;var f=Vs(_l),d=ee.T,v=ce.p;try{ce.p=32>f?32:f,ee.T=null,f=lp,lp=null;var _=oo,C=_l;if(Ln=0,yl=oo=null,_l=0,(gt&6)!==0)throw Error(r(331));var O=gt;if(gt|=4,e_(_.current),Q2(_,_.current,C,f),gt=O,fc(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ae,_)}catch{}return!0}finally{ce.p=v,ee.T=d,m_(o,l)}}function y_(o,l,f){l=Ur(f,l),l=j1(o.stateNode,l,2),o=Ka(o,l,2),o!==null&&($i(o,2),Oi(o))}function bt(o,l,f){if(o.tag===3)y_(o,o,f);else for(;l!==null;){if(l.tag===3){y_(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ao===null||!ao.has(d))){o=Ur(f,o),f=w2(2),d=Ka(l,f,2),d!==null&&(A2(f,d,l,o),$i(d,2),Oi(d));break}}l=l.return}}function dp(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new t3;var v=new Set;d.set(l,v)}else v=d.get(l),v===void 0&&(v=new Set,d.set(l,v));v.has(f)||(rp=!0,v.add(f),o=o3.bind(null,o,l,f),l.then(o,o))}function o3(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,St===o&&(tt&f)===f&&(zt===4||zt===3&&(tt&62914560)===tt&&300>fr()-op?(gt&2)===0&&xl(o,0):ip|=f,vl===tt&&(vl=0)),Oi(o)}function __(o,l){l===0&&(l=xu()),o=nl(o,l),o!==null&&($i(o,l),Oi(o))}function s3(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),__(o,f)}function l3(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),__(o,f)}function u3(o,l){return Gi(o,l)}var Bh=null,wl=null,pp=!1,Vh=!1,gp=!1,ps=0;function Oi(o){o!==wl&&o.next===null&&(wl===null?Bh=wl=o:wl=wl.next=o),Vh=!0,pp||(pp=!0,f3())}function fc(o,l){if(!gp&&Vh){gp=!0;do for(var f=!1,d=Bh;d!==null;){if(o!==0){var v=d.pendingLanes;if(v===0)var _=0;else{var C=d.suspendedLanes,O=d.pingedLanes;_=(1<<31-ft(42|o)+1)-1,_&=v&~(C&~O),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,A_(d,_))}else _=tt,_=Bs(d,d===St?_:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(_&3)===0||Uo(d,_)||(f=!0,A_(d,_));d=d.next}while(f);gp=!1}}function c3(){x_()}function x_(){Vh=pp=!1;var o=0;ps!==0&&(_3()&&(o=ps),ps=0);for(var l=fr(),f=null,d=Bh;d!==null;){var v=d.next,_=E_(d,l);_===0?(d.next=null,f===null?Bh=v:f.next=v,v===null&&(wl=f)):(f=d,(o!==0||(_&3)!==0)&&(Vh=!0)),d=v}fc(o)}function E_(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,v=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var C=31-ft(_),O=1<<C,z=v[C];z===-1?((O&f)===0||(O&d)!==0)&&(v[C]=yu(O,l)):z<=l&&(o.expiredLanes|=O),_&=~O}if(l=St,f=tt,f=Bs(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(mt===2||mt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&qi(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Uo(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&qi(d),Vs(f)){case 2:case 8:f=Ua;break;case 32:f=Xi;break;case 268435456:f=wr;break;default:f=Xi}return d=w_.bind(null,o),f=Gi(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&qi(d),o.callbackPriority=2,o.callbackNode=null,2}function w_(o,l){if(Ln!==0&&Ln!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(kh()&&o.callbackNode!==f)return null;var d=tt;return d=Bs(o,o===St?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(i_(o,d,l),E_(o,fr()),o.callbackNode!=null&&o.callbackNode===f?w_.bind(null,o):null)}function A_(o,l){if(kh())return null;i_(o,l,!0)}function f3(){E3(function(){(gt&6)!==0?Gi(Bo,c3):x_()})}function mp(){return ps===0&&(ps=_u()),ps}function T_(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Gs(""+o)}function b_(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function h3(o,l,f,d,v){if(l==="submit"&&f&&f.stateNode===v){var _=T_((v[Jt]||null).action),C=d.submitter;C&&(l=(l=C[Jt]||null)?T_(l.formAction):C.getAttribute("formAction"),l!==null&&(_=l,C=null));var O=new qs("action","action",null,d,v);o.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ps!==0){var z=C?b_(v,C):new FormData(v);k1(f,{pending:!0,data:z,method:v.method,action:_},null,z)}}else typeof _=="function"&&(O.preventDefault(),z=C?b_(v,C):new FormData(v),k1(f,{pending:!0,data:z,method:v.method,action:_},_,z))},currentTarget:v}]})}}for(var vp=0;vp<t1.length;vp++){var yp=t1[vp],d3=yp.toLowerCase(),p3=yp[0].toUpperCase()+yp.slice(1);ni(d3,"on"+p3)}ni(iy,"onAnimationEnd"),ni(ay,"onAnimationIteration"),ni(oy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(OC,"onTransitionRun"),ni(DC,"onTransitionStart"),ni(PC,"onTransitionCancel"),ni(sy,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hc));function S_(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],v=d.event;d=d.listeners;e:{var _=void 0;if(l)for(var C=d.length-1;0<=C;C--){var O=d[C],z=O.instance,Q=O.currentTarget;if(O=O.listener,z!==_&&v.isPropagationStopped())break e;_=O,v.currentTarget=Q;try{_(v)}catch(ae){bh(ae)}v.currentTarget=null,_=z}else for(C=0;C<d.length;C++){if(O=d[C],z=O.instance,Q=O.currentTarget,O=O.listener,z!==_&&v.isPropagationStopped())break e;_=O,v.currentTarget=Q;try{_(v)}catch(ae){bh(ae)}v.currentTarget=null,_=z}}}}function Ke(o,l){var f=l[Au];f===void 0&&(f=l[Au]=new Set);var d=o+"__bubble";f.has(d)||(C_(l,o,2,!1),f.add(d))}function _p(o,l,f){var d=0;l&&(d|=4),C_(f,o,d,l)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function xp(o){if(!o[Uh]){o[Uh]=!0,Tu.forEach(function(f){f!=="selectionchange"&&(g3.has(f)||_p(f,!1,o),_p(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Uh]||(l[Uh]=!0,_p("selectionchange",!1,l))}}function C_(o,l,f,d){switch(Q_(l)){case 2:var v=H3;break;case 8:v=z3;break;default:v=Mp}f=v.bind(null,l,f,o),v=void 0,!Br||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),d?v!==void 0?o.addEventListener(l,f,{capture:!0,passive:v}):o.addEventListener(l,f,!0):v!==void 0?o.addEventListener(l,f,{passive:v}):o.addEventListener(l,f,!1)}function Ep(o,l,f,d,v){var _=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var O=d.stateNode.containerInfo;if(O===v)break;if(C===4)for(C=d.return;C!==null;){var z=C.tag;if((z===3||z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;O!==null;){if(C=Ki(O),C===null)return;if(z=C.tag,z===5||z===6||z===26||z===27){d=_=C;continue e}O=O.parentNode}}d=d.return}jf(function(){var Q=_,ae=kr(f),se=[];e:{var J=ly.get(o);if(J!==void 0){var te=qs,Le=o;switch(o){case"keypress":if(wi(f)===0)break e;case"keydown":case"keyup":te=Qs;break;case"focusin":Le="focus",te=Ys;break;case"focusout":Le="blur",te=Ys;break;case"beforeblur":case"afterblur":te=Ys;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=W0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=$f;break;case iy:case ay:case oy:te=$s;break;case sy:te=Qf;break;case"scroll":case"scrollend":te=Hf;break;case"wheel":te=Zs;break;case"copy":case"cut":case"paste":te=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ku;break;case"toggle":case"beforetoggle":te=Jf}var Re=(l&4)!==0,At=!Re&&(o==="scroll"||o==="scrollend"),Y=Re?J!==null?J+"Capture":null:J;Re=[];for(var W=Q,K;W!==null;){var oe=W;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||Y===null||(oe=Wo(W,Y),oe!=null&&Re.push(dc(W,oe,K))),At)break;W=W.return}0<Re.length&&(J=new te(J,Le,null,f,ae),se.push({event:J,listeners:Re}))}}if((l&7)===0){e:{if(J=o==="mouseover"||o==="pointerover",te=o==="mouseout"||o==="pointerout",J&&f!==ea&&(Le=f.relatedTarget||f.fromElement)&&(Ki(Le)||Le[Mr]))break e;if((te||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Le=f.relatedTarget||f.toElement,te=Q,Le=Le?Ki(Le):null,Le!==null&&(At=a(Le),Re=Le.tag,Le!==At||Re!==5&&Re!==27&&Re!==6)&&(Le=null)):(te=null,Le=Q),te!==Le)){if(Re=Vr,oe="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Re=ku,oe="onPointerLeave",Y="onPointerEnter",W="pointer"),At=te==null?J:yi(te),K=Le==null?J:yi(Le),J=new Re(oe,W+"leave",te,f,ae),J.target=At,J.relatedTarget=K,oe=null,Ki(ae)===Q&&(Re=new Re(Y,W+"enter",Le,f,ae),Re.target=K,Re.relatedTarget=At,oe=Re),At=oe,te&&Le)t:{for(Re=te,Y=Le,W=0,K=Re;K;K=Al(K))W++;for(K=0,oe=Y;oe;oe=Al(oe))K++;for(;0<W-K;)Re=Al(Re),W--;for(;0<K-W;)Y=Al(Y),K--;for(;W--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=Al(Re),Y=Al(Y)}Re=null}else Re=null;te!==null&&I_(se,J,te,Re,!1),Le!==null&&At!==null&&I_(se,At,Le,Re,!0)}}e:{if(J=Q?yi(Q):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var xe=Wv;else if(cn(J))if(Yv)xe=IC;else{xe=SC;var We=bC}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Ru(Q.elementType)&&(xe=Wv):xe=CC;if(xe&&(xe=xe(o,Q))){aa(se,xe,f,ae);break e}We&&We(o,J,Q),o==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&qa(J,"number",J.value)}switch(We=Q?yi(Q):window,o){case"focusin":(cn(We)||We.contentEditable==="true")&&(Js=We,Z0=Q,Uu=null);break;case"focusout":Uu=Z0=Js=null;break;case"mousedown":J0=!0;break;case"contextmenu":case"mouseup":case"dragend":J0=!1,ny(se,f,ae);break;case"selectionchange":if(NC)break;case"keydown":case"keyup":ny(se,f,ae)}var be;if(bi)e:{switch(o){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Je?ne(o,f)&&(Pe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Pe="onCompositionStart");Pe&&(b&&f.locale!=="ko"&&(Je||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Je&&(be=Ou()):(Ei=ae,Xa="value"in Ei?Ei.value:Ei.textContent,Je=!0)),We=Fh(Q,Pe),0<We.length&&(Pe=new Mu(Pe,o,null,f,ae),se.push({event:Pe,listeners:We}),be?Pe.data=be:(be=pe(f),be!==null&&(Pe.data=be)))),(be=w?un(o,f):et(o,f))&&(Pe=Fh(Q,"onBeforeInput"),0<Pe.length&&(We=new Mu("onBeforeInput","beforeinput",null,f,ae),se.push({event:We,listeners:Pe}),We.data=be)),h3(se,o,Q,f,ae)}S_(se,l)})}function dc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Fh(o,l){for(var f=l+"Capture",d=[];o!==null;){var v=o,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Wo(o,f),v!=null&&d.unshift(dc(o,v,_)),v=Wo(o,l),v!=null&&d.push(dc(o,v,_))),o.tag===3)return d;o=o.return}return[]}function Al(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function I_(o,l,f,d,v){for(var _=l._reactName,C=[];f!==null&&f!==d;){var O=f,z=O.alternate,Q=O.stateNode;if(O=O.tag,z!==null&&z===d)break;O!==5&&O!==26&&O!==27||Q===null||(z=Q,v?(Q=Wo(f,_),Q!=null&&C.unshift(dc(f,Q,z))):v||(Q=Wo(f,_),Q!=null&&C.push(dc(f,Q,z)))),f=f.return}C.length!==0&&o.push({event:l,listeners:C})}var m3=/\r\n?/g,v3=/\u0000|\uFFFD/g;function R_(o){return(typeof o=="string"?o:""+o).replace(m3,`
`).replace(v3,"")}function N_(o,l){return l=R_(l),R_(o)===l}function jh(){}function wt(o,l,f,d,v,_){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Lr(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Lr(o,""+d);break;case"className":_i(o,"class",d);break;case"tabIndex":_i(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(o,f,d);break;case"style":Iu(o,d,_);break;case"data":if(l!=="object"){_i(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Gs(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(l!=="input"&&wt(o,l,"name",v.name,v,null),wt(o,l,"formEncType",v.formEncType,v,null),wt(o,l,"formMethod",v.formMethod,v,null),wt(o,l,"formTarget",v.formTarget,v,null)):(wt(o,l,"encType",v.encType,v,null),wt(o,l,"method",v.method,v,null),wt(o,l,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Gs(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=jh);break;case"onScroll":d!=null&&Ke("scroll",o);break;case"onScrollEnd":d!=null&&Ke("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=Gs(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":Ke("beforetoggle",o),Ke("toggle",o),Ga(o,"popover",d);break;case"xlinkActuate":Dn(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Dn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Dn(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Dn(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Dn(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Dn(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Dn(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Dn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Dn(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ga(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=q0.get(f)||f,Ga(o,f,d))}}function wp(o,l,f,d,v,_){switch(f){case"style":Iu(o,d,_);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?Lr(o,d):(typeof d=="number"||typeof d=="bigint")&&Lr(o,""+d);break;case"onScroll":d!=null&&Ke("scroll",o);break;case"onScrollEnd":d!=null&&Ke("scrollend",o);break;case"onClick":d!=null&&(o.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Us.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),l=f.slice(2,v?f.length-7:void 0),_=o[Jt]||null,_=_!=null?_[f]:null,typeof _=="function"&&o.removeEventListener(l,_,v),typeof d=="function")){typeof _!="function"&&_!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,v);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):Ga(o,f,d)}}}function kn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",o),Ke("load",o);var d=!1,v=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var C=f[_];if(C!=null)switch(_){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:wt(o,l,_,C,f,null)}}v&&wt(o,l,"srcSet",f.srcSet,f,null),d&&wt(o,l,"src",f.src,f,null);return;case"input":Ke("invalid",o);var O=_=C=v=null,z=null,Q=null;for(d in f)if(f.hasOwnProperty(d)){var ae=f[d];if(ae!=null)switch(d){case"name":v=ae;break;case"type":C=ae;break;case"checked":z=ae;break;case"defaultChecked":Q=ae;break;case"value":_=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:wt(o,l,d,ae,f,null)}}Go(o,_,O,z,Q,C,v,!1),zs(o);return;case"select":Ke("invalid",o),d=C=_=null;for(v in f)if(f.hasOwnProperty(v)&&(O=f[v],O!=null))switch(v){case"value":_=O;break;case"defaultValue":C=O;break;case"multiple":d=O;default:wt(o,l,v,O,f,null)}l=_,f=C,o.multiple=!!d,l!=null?Ji(o,!!d,l,!1):f!=null&&Ji(o,!!d,f,!0);return;case"textarea":Ke("invalid",o),_=v=d=null;for(C in f)if(f.hasOwnProperty(C)&&(O=f[C],O!=null))switch(C){case"value":d=O;break;case"defaultValue":v=O;break;case"children":_=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:wt(o,l,C,O,f,null)}qo(o,d,v,_),zs(o);return;case"option":for(z in f)if(f.hasOwnProperty(z)&&(d=f[z],d!=null))switch(z){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:wt(o,l,z,d,f,null)}return;case"dialog":Ke("beforetoggle",o),Ke("toggle",o),Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":Ke("load",o);break;case"video":case"audio":for(d=0;d<hc.length;d++)Ke(hc[d],o);break;case"image":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"embed":case"source":case"link":Ke("error",o),Ke("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(d=f[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:wt(o,l,Q,d,f,null)}return;default:if(Ru(l)){for(ae in f)f.hasOwnProperty(ae)&&(d=f[ae],d!==void 0&&wp(o,l,ae,d,f,void 0));return}}for(O in f)f.hasOwnProperty(O)&&(d=f[O],d!=null&&wt(o,l,O,d,f,null))}function y3(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,C=null,O=null,z=null,Q=null,ae=null;for(te in f){var se=f[te];if(f.hasOwnProperty(te)&&se!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=se;default:d.hasOwnProperty(te)||wt(o,l,te,null,d,se)}}for(var J in d){var te=d[J];if(se=f[J],d.hasOwnProperty(J)&&(te!=null||se!=null))switch(J){case"type":_=te;break;case"name":v=te;break;case"checked":Q=te;break;case"defaultChecked":ae=te;break;case"value":C=te;break;case"defaultValue":O=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==se&&wt(o,l,J,te,d,se)}}Tr(o,C,O,z,Q,ae,_,v);return;case"select":te=C=O=J=null;for(_ in f)if(z=f[_],f.hasOwnProperty(_)&&z!=null)switch(_){case"value":break;case"multiple":te=z;default:d.hasOwnProperty(_)||wt(o,l,_,null,d,z)}for(v in d)if(_=d[v],z=f[v],d.hasOwnProperty(v)&&(_!=null||z!=null))switch(v){case"value":J=_;break;case"defaultValue":O=_;break;case"multiple":C=_;default:_!==z&&wt(o,l,v,_,d,z)}l=O,f=C,d=te,J!=null?Ji(o,!!f,J,!1):!!d!=!!f&&(l!=null?Ji(o,!!f,l,!0):Ji(o,!!f,f?[]:"",!1));return;case"textarea":te=J=null;for(O in f)if(v=f[O],f.hasOwnProperty(O)&&v!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:wt(o,l,O,null,d,v)}for(C in d)if(v=d[C],_=f[C],d.hasOwnProperty(C)&&(v!=null||_!=null))switch(C){case"value":J=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==_&&wt(o,l,C,v,d,_)}xt(o,J,te);return;case"option":for(var Le in f)if(J=f[Le],f.hasOwnProperty(Le)&&J!=null&&!d.hasOwnProperty(Le))switch(Le){case"selected":o.selected=!1;break;default:wt(o,l,Le,null,d,J)}for(z in d)if(J=d[z],te=f[z],d.hasOwnProperty(z)&&J!==te&&(J!=null||te!=null))switch(z){case"selected":o.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:wt(o,l,z,J,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in f)J=f[Re],f.hasOwnProperty(Re)&&J!=null&&!d.hasOwnProperty(Re)&&wt(o,l,Re,null,d,J);for(Q in d)if(J=d[Q],te=f[Q],d.hasOwnProperty(Q)&&J!==te&&(J!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,l));break;default:wt(o,l,Q,J,d,te)}return;default:if(Ru(l)){for(var At in f)J=f[At],f.hasOwnProperty(At)&&J!==void 0&&!d.hasOwnProperty(At)&&wp(o,l,At,void 0,d,J);for(ae in d)J=d[ae],te=f[ae],!d.hasOwnProperty(ae)||J===te||J===void 0&&te===void 0||wp(o,l,ae,J,d,te);return}}for(var Y in f)J=f[Y],f.hasOwnProperty(Y)&&J!=null&&!d.hasOwnProperty(Y)&&wt(o,l,Y,null,d,J);for(se in d)J=d[se],te=f[se],!d.hasOwnProperty(se)||J===te||J==null&&te==null||wt(o,l,se,J,d,te)}var Ap=null,Tp=null;function Hh(o){return o.nodeType===9?o:o.ownerDocument}function O_(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function bp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Sp=null;function _3(){var o=window.event;return o&&o.type==="popstate"?o===Sp?!1:(Sp=o,!0):(Sp=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,E3=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(o){return M_.resolve(null).then(o).catch(w3)}:P_;function w3(o){setTimeout(function(){throw o})}function lo(o){return o==="head"}function L_(o,l){var f=l,d=0,v=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(0<d&&8>d){f=d;var C=o.ownerDocument;if(f&1&&pc(C.documentElement),f&2&&pc(C.body),f&4)for(f=C.head,pc(f),C=f.firstChild;C;){var O=C.nextSibling,z=C.nodeName;C[Fo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=O}}if(v===0){o.removeChild(_),wc(l);return}v--}else f==="$"||f==="$?"||f==="$!"?v++:d=f.charCodeAt(0)-48;else d=0;f=_}while(f);wc(l)}function Cp(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Cp(f),za(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function A3(o,l,f,d){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[Fo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=ii(o.nextSibling),o===null)break}return null}function T3(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ii(o.nextSibling),o===null))return null;return o}function Ip(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function b3(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function ii(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Rp=null;function k_(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function B_(o,l,f){switch(l=Hh(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function pc(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);za(o)}var qr=new Map,V_=new Set;function zh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ya=ce.d;ce.d={f:S3,r:C3,D:I3,C:R3,L:N3,m:O3,X:P3,S:D3,M:M3};function S3(){var o=ya.f(),l=Mh();return o||l}function C3(o){var l=vi(o);l!==null&&l.tag===5&&l.type==="form"?i2(l):ya.r(o)}var Tl=typeof document>"u"?null:document;function U_(o,l,f){var d=Tl;if(d&&typeof l=="string"&&l){var v=en(l);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),V_.has(v)||(V_.add(v),o={rel:o,crossOrigin:f,href:l},d.querySelector(v)===null&&(l=d.createElement("link"),kn(l,"link",o),Xt(l),d.head.appendChild(l)))}}function I3(o){ya.D(o),U_("dns-prefetch",o,null)}function R3(o,l){ya.C(o,l),U_("preconnect",o,l)}function N3(o,l,f){ya.L(o,l,f);var d=Tl;if(d&&o&&l){var v='link[rel="preload"][as="'+en(l)+'"]';l==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+en(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+en(f.imageSizes)+'"]')):v+='[href="'+en(o)+'"]';var _=v;switch(l){case"style":_=bl(o);break;case"script":_=Sl(o)}qr.has(_)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),qr.set(_,o),d.querySelector(v)!==null||l==="style"&&d.querySelector(gc(_))||l==="script"&&d.querySelector(mc(_))||(l=d.createElement("link"),kn(l,"link",o),Xt(l),d.head.appendChild(l)))}}function O3(o,l){ya.m(o,l);var f=Tl;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+en(d)+'"][href="'+en(o)+'"]',_=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Sl(o)}if(!qr.has(_)&&(o=p({rel:"modulepreload",href:o},l),qr.set(_,o),f.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(mc(_)))return}d=f.createElement("link"),kn(d,"link",o),Xt(d),f.head.appendChild(d)}}}function D3(o,l,f){ya.S(o,l,f);var d=Tl;if(d&&o){var v=tr(d).hoistableStyles,_=bl(o);l=l||"default";var C=v.get(_);if(!C){var O={loading:0,preload:null};if(C=d.querySelector(gc(_)))O.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=qr.get(_))&&Np(o,f);var z=C=d.createElement("link");Xt(z),kn(z,"link",o),z._p=new Promise(function(Q,ae){z.onload=Q,z.onerror=ae}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Gh(C,l,d)}C={type:"stylesheet",instance:C,count:1,state:O},v.set(_,C)}}}function P3(o,l){ya.X(o,l);var f=Tl;if(f&&o){var d=tr(f).hoistableScripts,v=Sl(o),_=d.get(v);_||(_=f.querySelector(mc(v)),_||(o=p({src:o,async:!0},l),(l=qr.get(v))&&Op(o,l),_=f.createElement("script"),Xt(_),kn(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function M3(o,l){ya.M(o,l);var f=Tl;if(f&&o){var d=tr(f).hoistableScripts,v=Sl(o),_=d.get(v);_||(_=f.querySelector(mc(v)),_||(o=p({src:o,async:!0,type:"module"},l),(l=qr.get(v))&&Op(o,l),_=f.createElement("script"),Xt(_),kn(_,"link",o),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},d.set(v,_))}}function F_(o,l,f,d){var v=(v=Me.current)?zh(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=bl(f.href),f=tr(v).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=bl(f.href);var _=tr(v).hoistableStyles,C=_.get(o);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,C),(_=v.querySelector(gc(o)))&&!_._p&&(C.instance=_,C.state.loading=5),qr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},qr.set(o,f),_||L3(v,o,f,C.state))),l&&d===null)throw Error(r(528,""));return C}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Sl(f),f=tr(v).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function bl(o){return'href="'+en(o)+'"'}function gc(o){return'link[rel="stylesheet"]['+o+"]"}function j_(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function L3(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),kn(l,"link",f),Xt(l),o.head.appendChild(l))}function Sl(o){return'[src="'+en(o)+'"]'}function mc(o){return"script[async]"+o}function H_(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+en(f.href)+'"]');if(d)return l.instance=d,Xt(d),d;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),Xt(d),kn(d,"style",v),Gh(d,f.precedence,o),l.instance=d;case"stylesheet":v=bl(f.href);var _=o.querySelector(gc(v));if(_)return l.state.loading|=4,l.instance=_,Xt(_),_;d=j_(f),(v=qr.get(v))&&Np(d,v),_=(o.ownerDocument||o).createElement("link"),Xt(_);var C=_;return C._p=new Promise(function(O,z){C.onload=O,C.onerror=z}),kn(_,"link",d),l.state.loading|=4,Gh(_,f.precedence,o),l.instance=_;case"script":return _=Sl(f.src),(v=o.querySelector(mc(_)))?(l.instance=v,Xt(v),v):(d=f,(v=qr.get(_))&&(d=p({},f),Op(d,v)),o=o.ownerDocument||o,v=o.createElement("script"),Xt(v),kn(v,"link",d),o.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Gh(d,f.precedence,o));return l.instance}function Gh(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,_=v,C=0;C<d.length;C++){var O=d[C];if(O.dataset.precedence===l)_=O;else if(_!==v)break}_?_.parentNode.insertBefore(o,_.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Np(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Op(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var qh=null;function z_(o,l,f){if(qh===null){var d=new Map,v=qh=new Map;v.set(f,d)}else v=qh,d=v.get(f),d||(d=new Map,v.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var _=f[v];if(!(_[Fo]||_[ln]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(l)||"";C=o+C;var O=d.get(C);O?O.push(_):d.set(C,[_])}}return d}function G_(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function k3(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function q_(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var vc=null;function B3(){}function V3(o,l,f){if(vc===null)throw Error(r(475));var d=vc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=bl(f.href),_=o.querySelector(gc(v));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Xh.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=_,Xt(_);return}_=o.ownerDocument||o,f=j_(f),(v=qr.get(v))&&Np(f,v),_=_.createElement("link"),Xt(_);var C=_;C._p=new Promise(function(O,z){C.onload=O,C.onerror=z}),kn(_,"link",f),l.instance=_}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Xh.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function U3(){if(vc===null)throw Error(r(475));var o=vc;return o.stylesheets&&o.count===0&&Dp(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Dp(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Xh(){if(this.count--,this.count===0){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Wh=null;function Dp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Wh=new Map,l.forEach(F3,o),Wh=null,Xh.call(o))}function F3(o,l){if(!(l.state.loading&4)){var f=Wh.get(o);if(f)var d=f.get(null);else{f=new Map,Wh.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var C=v[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),d=C)}d&&f.set(null,d)}v=l.instance,C=v.getAttribute("data-precedence"),_=f.get(C)||d,_===d&&f.set(null,v),f.set(C,v),this.count++,d=Xh.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),_?_.parentNode.insertBefore(v,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),l.state.loading|=4}}var yc={$$typeof:D,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function j3(o,l,f,d,v,_,C,O){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function X_(o,l,f,d,v,_,C,O,z,Q,ae,se){return o=new j3(o,l,f,C,O,z,Q,se),l=1,_===!0&&(l|=24),_=Sr(3,null,null,l),o.current=_,_.stateNode=o,l=d1(),l.refCount++,o.pooledCache=l,l.refCount++,_.memoizedState={element:d,isDehydrated:f,cache:l},v1(_),o}function W_(o){return o?(o=rl,o):rl}function Y_(o,l,f,d,v,_){v=W_(v),d.context===null?d.context=v:d.pendingContext=v,d=$a(l),d.payload={element:f},_=_===void 0?null:_,_!==null&&(d.callback=_),f=Ka(o,d,l),f!==null&&(Or(f,o,l),Yu(f,o,l))}function $_(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Pp(o,l){$_(o,l),(o=o.alternate)&&$_(o,l)}function K_(o){if(o.tag===13){var l=nl(o,67108864);l!==null&&Or(l,o,67108864),Pp(o,67108864)}}var Yh=!0;function H3(o,l,f,d){var v=ee.T;ee.T=null;var _=ce.p;try{ce.p=2,Mp(o,l,f,d)}finally{ce.p=_,ee.T=v}}function z3(o,l,f,d){var v=ee.T;ee.T=null;var _=ce.p;try{ce.p=8,Mp(o,l,f,d)}finally{ce.p=_,ee.T=v}}function Mp(o,l,f,d){if(Yh){var v=Lp(d);if(v===null)Ep(o,l,d,$h,f),Z_(o,d);else if(q3(v,o,l,f,d))d.stopPropagation();else if(Z_(o,d),l&4&&-1<G3.indexOf(o)){for(;v!==null;){var _=vi(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=Ar(_.pendingLanes);if(C!==0){var O=_;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var z=1<<31-ft(C);O.entanglements[1]|=z,C&=~z}Oi(_),(gt&6)===0&&(Dh=fr()+500,fc(0))}}break;case 13:O=nl(_,2),O!==null&&Or(O,_,2),Mh(),Pp(_,2)}if(_=Lp(d),_===null&&Ep(o,l,d,$h,f),_===v)break;v=_}v!==null&&d.stopPropagation()}else Ep(o,l,d,null,f)}}function Lp(o){return o=kr(o),kp(o)}var $h=null;function kp(o){if($h=null,o=Ki(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return $h=o,null}function Q_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case Bo:return 2;case Ua:return 8;case Xi:case mu:return 32;case wr:return 268435456;default:return 32}default:return 32}}var Bp=!1,uo=null,co=null,fo=null,_c=new Map,xc=new Map,ho=[],G3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(o,l){switch(o){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":fo=null;break;case"pointerover":case"pointerout":_c.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(l.pointerId)}}function Ec(o,l,f,d,v,_){return o===null||o.nativeEvent!==_?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:_,targetContainers:[v]},l!==null&&(l=vi(l),l!==null&&K_(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function q3(o,l,f,d,v){switch(l){case"focusin":return uo=Ec(uo,o,l,f,d,v),!0;case"dragenter":return co=Ec(co,o,l,f,d,v),!0;case"mouseover":return fo=Ec(fo,o,l,f,d,v),!0;case"pointerover":var _=v.pointerId;return _c.set(_,Ec(_c.get(_)||null,o,l,f,d,v)),!0;case"gotpointercapture":return _=v.pointerId,xc.set(_,Ec(xc.get(_)||null,o,l,f,d,v)),!0}return!1}function J_(o){var l=Ki(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Mf(o.priority,function(){if(f.tag===13){var d=Nr();d=Fa(d);var v=nl(f,d);v!==null&&Or(v,f,d),Pp(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Kh(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Lp(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);ea=d,f.target.dispatchEvent(d),ea=null}else return l=vi(f),l!==null&&K_(l),o.blockedOn=f,!1;l.shift()}return!0}function ex(o,l,f){Kh(o)&&f.delete(l)}function X3(){Bp=!1,uo!==null&&Kh(uo)&&(uo=null),co!==null&&Kh(co)&&(co=null),fo!==null&&Kh(fo)&&(fo=null),_c.forEach(ex),xc.forEach(ex)}function Qh(o,l){o.blockedOn===l&&(o.blockedOn=null,Bp||(Bp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,X3)))}var Zh=null;function tx(o){Zh!==o&&(Zh=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Zh===o&&(Zh=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],v=o[l+2];if(typeof d!="function"){if(kp(d||f)===null)continue;break}var _=vi(f);_!==null&&(o.splice(l,3),l-=3,k1(_,{pending:!0,data:v,method:f.method,action:d},d,v))}}))}function wc(o){function l(z){return Qh(z,o)}uo!==null&&Qh(uo,o),co!==null&&Qh(co,o),fo!==null&&Qh(fo,o),_c.forEach(l),xc.forEach(l);for(var f=0;f<ho.length;f++){var d=ho[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<ho.length&&(f=ho[0],f.blockedOn===null);)J_(f),f.blockedOn===null&&ho.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var v=f[d],_=f[d+1],C=v[Jt]||null;if(typeof _=="function")C||tx(f);else if(C){var O=null;if(_&&_.hasAttribute("formAction")){if(v=_,C=_[Jt]||null)O=C.formAction;else if(kp(v)!==null)continue}else O=C.action;typeof O=="function"?f[d+1]=O:(f.splice(d,3),d-=3),tx(f)}}}function Vp(o){this._internalRoot=o}Jh.prototype.render=Vp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=Nr();Y_(f,d,o,l,null,null)},Jh.prototype.unmount=Vp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Y_(o.current,2,null,o,null,null),Mh(),l[Mr]=null}};function Jh(o){this._internalRoot=o}Jh.prototype.unstable_scheduleHydration=function(o){if(o){var l=ja();o={blockedOn:null,target:o,priority:l};for(var f=0;f<ho.length&&l!==0&&l<ho[f].priority;f++);ho.splice(f,0,o),f===0&&J_(o)}};var nx=e.version;if(nx!=="19.1.0")throw Error(r(527,nx,"19.1.0"));ce.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var W3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{Ae=ed.inject(W3),De=ed}catch{}}return Tc.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",v=y2,_=_2,C=x2,O=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks)),l=X_(o,1,!1,null,null,f,d,v,_,C,O,null),o[Mr]=l.current,xp(o),new Vp(l)},Tc.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,v="",_=y2,C=_2,O=x2,z=null,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(O=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(z=f.unstable_transitionCallbacks),f.formState!==void 0&&(Q=f.formState)),l=X_(o,1,!0,l,f??null,d,v,_,C,O,z,Q),l.context=W_(null),f=l.current,d=Nr(),d=Fa(d),v=$a(d),v.callback=null,Ka(f,v,d),f=d,l.current.lanes=f,$i(l,f),Oi(l),o[Mr]=l.current,xp(o),new Jh(l)},Tc.version="19.1.0",Tc}var hx;function r4(){if(hx)return jp.exports;hx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=n4(),jp.exports}var i4=r4(),bc={},dx;function a4(){if(dx)return bc;dx=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.parse=s,bc.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function s(y,x){const E=new a,T=y.length;if(T<2)return E;const S=(x==null?void 0:x.decode)||p;let I=0;do{const R=y.indexOf("=",I);if(R===-1)break;const D=y.indexOf(";",I),F=D===-1?T:D;if(R>F){I=y.lastIndexOf(";",R-1)+1;continue}const j=u(y,I,R),X=c(y,R,j),P=y.slice(j,X);if(E[P]===void 0){let N=u(y,R+1,F),L=c(y,F,N);const V=S(y.slice(N,L));E[P]=V}I=F+1}while(I<T);return E}function u(y,x,E){do{const T=y.charCodeAt(x);if(T!==32&&T!==9)return x}while(++x<E);return E}function c(y,x,E){for(;x>E;){const T=y.charCodeAt(--x);if(T!==32&&T!==9)return x+1}return E}function h(y,x,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=T(x);if(!e.test(S))throw new TypeError(`argument val is invalid: ${x}`);let I=y+"="+S;if(!E)return I;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);I+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);I+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);I+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);I+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(I+="; HttpOnly"),E.secure&&(I+="; Secure"),E.partitioned&&(I+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return I}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return i.call(y)==="[object Date]"}return bc}a4();var px="popstate";function o4(n={}){function e(r,i){let{pathname:a,search:s,hash:u}=r.location;return Lg("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Qc(i)}return l4(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ci(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s4(){return Math.random().toString(36).substring(2,10)}function gx(n,e){return{usr:n.state,key:n.key,idx:e}}function Lg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:t,key:e&&e.key||r||s4()}}function Qc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function l4(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,h=p();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function p(){return(s.state||{idx:null}).idx}function m(){u="POP";let S=p(),I=S==null?null:S-h;h=S,c&&c({action:u,location:T.location,delta:I})}function y(S,I){u="PUSH";let R=Lg(T.location,S,I);h=p()+1;let D=gx(R,h),F=T.createHref(R);try{s.pushState(D,"",F)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(F)}a&&c&&c({action:u,location:T.location,delta:1})}function x(S,I){u="REPLACE";let R=Lg(T.location,S,I);h=p();let D=gx(R,h),F=T.createHref(R);s.replaceState(D,"",F),a&&c&&c({action:u,location:T.location,delta:0})}function E(S){return u4(S)}let T={get action(){return u},get location(){return n(i,s)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(px,m),c=S,()=>{i.removeEventListener(px,m),c=null}},createHref(S){return e(i,S)},createURL:E,encodeLocation(S){let I=E(S);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:x,go(S){return s.go(S)}};return T}function u4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Qc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function hA(n,e,t="/"){return c4(n,e,t,!1)}function c4(n,e,t,r){let i=typeof e=="string"?Jl(e):e,a=Ia(i.pathname||"/",t);if(a==null)return null;let s=dA(n);f4(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let h=w4(a);u=x4(s[c],h,r)}return u}function dA(n,e=[],t=[],r=""){let i=(a,s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=ba([r,c.relativePath]),p=t.concat(c);a.children&&a.children.length>0&&(Lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),dA(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:y4(h,a.index),routesMeta:p})};return n.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let c of pA(a.path))i(a,s,c)}),e}function pA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=pA(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function f4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:_4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var h4=/^:[\w-]+$/,d4=3,p4=2,g4=1,m4=10,v4=-2,mx=n=>n==="*";function y4(n,e){let t=n.split("/"),r=t.length;return t.some(mx)&&(r+=v4),e&&(r+=p4),t.filter(i=>!mx(i)).reduce((i,a)=>i+(h4.test(a)?d4:a===""?g4:m4),r)}function _4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function x4(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=Pd({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),y=c.route;if(!m&&h&&t&&!r[r.length-1].route.index&&(m=Pd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:ba([a,m.pathname]),pathnameBase:S4(ba([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=ba([a,m.pathnameBase]))}return s}function Pd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=E4(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},y)=>{if(p==="*"){let E=u[y]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=u[y];return m&&!x?h[p]=void 0:h[p]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:n}}function E4(n,e=!1,t=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ia(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function A4(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Jl(n):n;return{pathname:t?t.startsWith("/")?t:T4(t,e):e,search:C4(r),hash:I4(i)}}function T4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function qp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cm(n){let e=b4(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Im(n,e,t,r=!1){let i;typeof n=="string"?i=Jl(n):(i={...n},Lt(!i.pathname||!i.pathname.includes("?"),qp("?","pathname","search",i)),Lt(!i.pathname||!i.pathname.includes("#"),qp("#","pathname","hash",i)),Lt(!i.search||!i.search.includes("#"),qp("#","search","hash",i)));let a=n===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=t;else{let m=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}u=m>=0?e[m]:"/"}let c=A4(i,u),h=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var ba=n=>n.join("/").replace(/\/\/+/g,"/"),S4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function R4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gA=["POST","PUT","PATCH","DELETE"];new Set(gA);var N4=["GET",...gA];new Set(N4);var eu=H.createContext(null);eu.displayName="DataRouter";var s0=H.createContext(null);s0.displayName="DataRouterState";var mA=H.createContext({isTransitioning:!1});mA.displayName="ViewTransition";var O4=H.createContext(new Map);O4.displayName="Fetchers";var D4=H.createContext(null);D4.displayName="Await";var fi=H.createContext(null);fi.displayName="Navigation";var gf=H.createContext(null);gf.displayName="Location";var hi=H.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Rm=H.createContext(null);Rm.displayName="RouteError";function P4(n,{relative:e}={}){Lt(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext(fi),{hash:i,pathname:a,search:s}=mf(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:ba([t,a])),r.createHref({pathname:u,search:s,hash:i})}function tu(){return H.useContext(gf)!=null}function Ma(){return Lt(tu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(gf).location}var vA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(n){H.useContext(fi).static||H.useLayoutEffect(n)}function Dr(){let{isDataRoute:n}=H.useContext(hi);return n?W4():M4()}function M4(){Lt(tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(eu),{basename:e,navigator:t}=H.useContext(fi),{matches:r}=H.useContext(hi),{pathname:i}=Ma(),a=JSON.stringify(Cm(r)),s=H.useRef(!1);return yA(()=>{s.current=!0}),H.useCallback((c,h={})=>{if(ci(s.current,vA),!s.current)return;if(typeof c=="number"){t.go(c);return}let p=Im(c,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ba([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,a,i,n])}H.createContext(null);function L4(){let{matches:n}=H.useContext(hi),e=n[n.length-1];return e?e.params:{}}function mf(n,{relative:e}={}){let{matches:t}=H.useContext(hi),{pathname:r}=Ma(),i=JSON.stringify(Cm(t));return H.useMemo(()=>Im(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function k4(n,e){return _A(n,e)}function _A(n,e,t,r){var I;Lt(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=H.useContext(fi),{matches:a}=H.useContext(hi),s=a[a.length-1],u=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",p=s&&s.route;{let R=p&&p.path||"";xA(c,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let m=Ma(),y;if(e){let R=typeof e=="string"?Jl(e):e;Lt(h==="/"||((I=R.pathname)==null?void 0:I.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),y=R}else y=m;let x=y.pathname||"/",E=x;if(h!=="/"){let R=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=hA(n,{pathname:E});ci(p||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ci(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=j4(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:ba([h,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:ba([h,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,r);return e&&S?H.createElement(gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function B4(){let n=X4(),e=R4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:a},"ErrorBoundary")," or"," ",H.createElement("code",{style:a},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:i},t):null,s)}var V4=H.createElement(B4,null),U4=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(hi.Provider,{value:this.props.routeContext},H.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function F4({routeContext:n,match:e,children:t}){let r=H.useContext(eu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(hi.Provider,{value:n},t)}function j4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let c=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Lt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let m,y=!1,x=null,E=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||V4,s&&(u<0&&p===0?(xA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):u===p&&(y=!0,E=h.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,p+1)),S=()=>{let I;return m?I=x:y?I=E:h.route.Component?I=H.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=c,H.createElement(F4,{match:h,routeContext:{outlet:c,matches:T,isDataRoute:t!=null},children:I})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?H.createElement(U4,{location:t.location,revalidation:t.revalidation,component:x,error:m,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):S()},null)}function Nm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H4(n){let e=H.useContext(eu);return Lt(e,Nm(n)),e}function z4(n){let e=H.useContext(s0);return Lt(e,Nm(n)),e}function G4(n){let e=H.useContext(hi);return Lt(e,Nm(n)),e}function Om(n){let e=G4(n),t=e.matches[e.matches.length-1];return Lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function q4(){return Om("useRouteId")}function X4(){var r;let n=H.useContext(Rm),e=z4("useRouteError"),t=Om("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function W4(){let{router:n}=H4("useNavigate"),e=Om("useNavigate"),t=H.useRef(!1);return yA(()=>{t.current=!0}),H.useCallback(async(i,a={})=>{ci(t.current,vA),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var vx={};function xA(n,e,t){!e&&!vx[n]&&(vx[n]=!0,ci(!1,t))}H.memo(Y4);function Y4({routes:n,future:e,state:t}){return _A(n,void 0,t,e)}function kg({to:n,replace:e,state:t,relative:r}){Lt(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=H.useContext(fi);ci(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=H.useContext(hi),{pathname:s}=Ma(),u=Dr(),c=Im(n,Cm(a),s,r==="path"),h=JSON.stringify(c);return H.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function sr(n){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $4({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Lt(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof t=="string"&&(t=Jl(t));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:y="default"}=t,x=H.useMemo(()=>{let E=Ia(c,s);return E==null?null:{location:{pathname:E,search:h,hash:p,state:m,key:y},navigationType:r}},[s,c,h,p,m,y,r]);return ci(x!=null,`<Router basename="${s}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:H.createElement(fi.Provider,{value:u},H.createElement(gf.Provider,{children:e,value:x}))}function K4({children:n,location:e}){return k4(Bg(n),e)}function Bg(n,e=[]){let t=[];return H.Children.forEach(n,(r,i)=>{if(!H.isValidElement(r))return;let a=[...e,i];if(r.type===H.Fragment){t.push.apply(t,Bg(r.props.children,a));return}Lt(r.type===sr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Bg(r.props.children,a)),t.push(s)}),t}var md="get",vd="application/x-www-form-urlencoded";function l0(n){return n!=null&&typeof n.tagName=="string"}function Q4(n){return l0(n)&&n.tagName.toLowerCase()==="button"}function Z4(n){return l0(n)&&n.tagName.toLowerCase()==="form"}function J4(n){return l0(n)&&n.tagName.toLowerCase()==="input"}function eI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function tI(n,e){return n.button===0&&(!e||e==="_self")&&!eI(n)}var td=null;function nI(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var rI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(n){return n!=null&&!rI.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):n}function iI(n,e){let t,r,i,a,s;if(Z4(n)){let u=n.getAttribute("action");r=u?Ia(u,e):null,t=n.getAttribute("method")||md,i=Xp(n.getAttribute("enctype"))||vd,a=new FormData(n)}else if(Q4(n)||J4(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?Ia(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||md,i=Xp(n.getAttribute("formenctype"))||Xp(u.getAttribute("enctype"))||vd,a=new FormData(u,n),!nI()){let{name:h,type:p,value:m}=n;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,m)}}else{if(l0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=md,r=null,i=vd,s=n}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:s}}function Dm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function aI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sI(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await aI(a,t);return s.links?s.links():[]}return[]}));return fI(r.flat(1).filter(oI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yx(n,e,t,r,i,a){let s=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var p;return t[h].pathname!==c.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,h)=>s(c,h)||u(c,h)):a==="data"?e.filter((c,h)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function lI(n,e,{includeHydrateFallback:t}={}){return uI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function uI(n){return[...new Set(n)]}function cI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function fI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(cI(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hI=new Set([100,101,204,205]);function dI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ia(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function EA(){let n=H.useContext(eu);return Dm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function pI(){let n=H.useContext(s0);return Dm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pm=H.createContext(void 0);Pm.displayName="FrameworkContext";function wA(){let n=H.useContext(Pm);return Dm(n,"You must render this element inside a <HydratedRouter> element"),n}function gI(n,e){let t=H.useContext(Pm),[r,i]=H.useState(!1),[a,s]=H.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,y=H.useRef(null);H.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let T=I=>{I.forEach(R=>{s(R.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[n]),H.useEffect(()=>{if(r){let T=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(T)}}},[r]);let x=()=>{i(!0)},E=()=>{i(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:Sc(u,x),onBlur:Sc(c,E),onMouseEnter:Sc(h,x),onMouseLeave:Sc(p,E),onTouchStart:Sc(m,x)}]:[!1,y,{}]}function Sc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function mI({page:n,...e}){let{router:t}=EA(),r=H.useMemo(()=>hA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement(yI,{page:n,matches:r,...e}):null}function vI(n){let{manifest:e,routeModules:t}=wA(),[r,i]=H.useState([]);return H.useEffect(()=>{let a=!1;return sI(n,e,t).then(s=>{a||i(s)}),()=>{a=!0}},[n,e,t]),r}function yI({page:n,matches:e,...t}){let r=Ma(),{manifest:i,routeModules:a}=wA(),{basename:s}=EA(),{loaderData:u,matches:c}=pI(),h=H.useMemo(()=>yx(n,e,c,i,r,"data"),[n,e,c,i,r]),p=H.useMemo(()=>yx(n,e,c,i,r,"assets"),[n,e,c,i,r]),m=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(I=>{var D;let R=i.routes[I.route.id];!R||!R.hasLoader||(!h.some(F=>F.route.id===I.route.id)&&I.route.id in u&&((D=a[I.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?T=!0:E.add(I.route.id))}),E.size===0)return[];let S=dI(n,s);return T&&E.size>0&&S.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[S.pathname+S.search]},[s,u,r,i,h,e,n,a]),y=H.useMemo(()=>lI(p,i),[p,i]),x=vI(p);return H.createElement(H.Fragment,null,m.map(E=>H.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>H.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),x.map(({key:E,link:T})=>H.createElement("link",{key:E,...T})))}function _I(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AA&&(window.__reactRouterVersion="7.6.1")}catch{}function xI({basename:n,children:e,window:t}){let r=H.useRef();r.current==null&&(r.current=o4({window:t,v5Compat:!0}));let i=r.current,[a,s]=H.useState({action:i.action,location:i.location}),u=H.useCallback(c=>{H.startTransition(()=>s(c))},[s]);return H.useLayoutEffect(()=>i.listen(u),[i,u]),H.createElement($4,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fn=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:h,preventScrollReset:p,viewTransition:m,...y},x){let{basename:E}=H.useContext(fi),T=typeof h=="string"&&TA.test(h),S,I=!1;if(typeof h=="string"&&T&&(S=h,AA))try{let L=new URL(window.location.href),V=h.startsWith("//")?new URL(L.protocol+h):new URL(h),G=Ia(V.pathname,E);V.origin===L.origin&&G!=null?h=G+V.search+V.hash:I=!0}catch{ci(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=P4(h,{relative:i}),[D,F,j]=gI(r,y),X=TI(h,{replace:s,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function P(L){e&&e(L),L.defaultPrevented||X(L)}let N=H.createElement("a",{...y,...j,href:S||R,onClick:I||a?e:P,ref:_I(x,F),target:c,"data-discover":!T&&t==="render"?"true":void 0});return D&&!T?H.createElement(H.Fragment,null,N,H.createElement(mI,{page:R})):N});Fn.displayName="Link";var EI=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...h},p){let m=mf(s,{relative:h.relative}),y=Ma(),x=H.useContext(s0),{navigator:E,basename:T}=H.useContext(fi),S=x!=null&&RI(m)&&u===!0,I=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,R=y.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(R=R.toLowerCase(),D=D?D.toLowerCase():null,I=I.toLowerCase()),D&&T&&(D=Ia(D,T)||D);const F=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let j=R===I||!i&&R.startsWith(I)&&R.charAt(F)==="/",X=D!=null&&(D===I||!i&&D.startsWith(I)&&D.charAt(I.length)==="/"),P={isActive:j,isPending:X,isTransitioning:S},N=j?e:void 0,L;typeof r=="function"?L=r(P):L=[r,j?"active":null,X?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(P):a;return H.createElement(Fn,{...h,"aria-current":N,className:L,ref:p,style:V,to:s,viewTransition:u},typeof c=="function"?c(P):c)});EI.displayName="NavLink";var wI=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:s=md,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:m,...y},x)=>{let E=CI(),T=II(u,{relative:h}),S=s.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&TA.test(u),R=D=>{if(c&&c(D),D.defaultPrevented)return;D.preventDefault();let F=D.nativeEvent.submitter,j=(F==null?void 0:F.getAttribute("formmethod"))||s;E(F||D.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:m})};return H.createElement("form",{ref:x,method:S,action:T,onSubmit:r?c:R,...y,"data-discover":!I&&n==="render"?"true":void 0})});wI.displayName="Form";function AI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(n){let e=H.useContext(eu);return Lt(e,AI(n)),e}function TI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let u=Dr(),c=Ma(),h=mf(n,{relative:a});return H.useCallback(p=>{if(tI(p,e)){p.preventDefault();let m=t!==void 0?t:Qc(c)===Qc(h);u(n,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,u,h,t,r,e,n,i,a,s])}var bI=0,SI=()=>`__${String(++bI)}__`;function CI(){let{router:n}=bA("useSubmit"),{basename:e}=H.useContext(fi),t=q4();return H.useCallback(async(r,i={})=>{let{action:a,method:s,encType:u,formData:c,body:h}=iI(r,e);if(i.navigate===!1){let p=i.fetcherKey||SI();await n.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function II(n,{relative:e}={}){let{basename:t}=H.useContext(fi),r=H.useContext(hi);Lt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...mf(n||".",{relative:e})},s=Ma();if(n==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ba([t,a.pathname])),Qc(a)}function RI(n,e={}){let t=H.useContext(mA);Lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bA("useViewTransitionState"),i=mf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Ia(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=Ia(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Pd(i.pathname,s)!=null||Pd(i.pathname,a)!=null}[...hI];const NI=()=>{};var _x={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],u=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},CA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,u=s?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,x=h&63;c||(x=64,s||(y=64)),r.push(t[p],t[m],t[y],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const m=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||m==null)throw new DI;const y=a<<2|u>>4;if(r.push(y),h!==64){const x=u<<4&240|h>>2;if(r.push(x),m!==64){const E=h<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PI=function(n){const e=SA(n);return CA.encodeByteArray(e,!0)},Md=function(n){return PI(n).replace(/\./g,"")},IA=function(n){try{return CA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=()=>MI().__FIREBASE_DEFAULTS__,kI=()=>{if(typeof process>"u"||typeof _x>"u")return;const n=_x.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IA(n[1]);return e&&JSON.parse(e)},u0=()=>{try{return NI()||LI()||kI()||BI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RA=n=>{var e,t;return(t=(e=u0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VI=n=>{const e=RA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},NA=()=>{var n;return(n=u0())===null||n===void 0?void 0:n.config},OA=n=>{var e;return(e=u0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n){return n.endsWith(".cloudworkstations.dev")}async function DA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Md(JSON.stringify(t)),Md(JSON.stringify(s)),""].join(".")}const Hc={};function jI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hc))Hc[e]?n.emulator.push(e):n.prod.push(e);return n}function HI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let xx=!1;function PA(n,e){if(typeof window>"u"||typeof document>"u"||!vf(window.location.host)||Hc[n]===e||Hc[n]||xx)return;Hc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=jI().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,x){y.setAttribute("width","24"),y.setAttribute("id",x),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{xx=!0,s()},y}function p(y,x){y.setAttribute("id",x),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=HI(r),x=t("text"),E=document.getElementById(x)||document.createElement("span"),T=t("learnmore"),S=document.getElementById(T)||document.createElement("a"),I=t("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;u(D),p(S,T);const F=h();c(R,I),D.append(R,E,S,F),document.body.appendChild(D)}a?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function GI(){var n;const e=(n=u0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YI(){const n=Zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $I(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KI(){try{return typeof indexedDB=="object"}catch{return!1}}function QI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="FirebaseError";class La extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZI,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yf.prototype.create)}}class yf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?JI(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new La(i,u,r)}}function JI(n,e){return n.replace(eR,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eR=/\{\$([^}]+)}/g;function tR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(Ex(a)&&Ex(s)){if(!Cs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Ex(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Mc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nR(n,e){const t=new rR(n,e);return t.subscribe.bind(t)}class rR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Wp),i.error===void 0&&(i.error=Wp),i.complete===void 0&&(i.complete=Wp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n){return n&&n._delegate?n._delegate:n}class Is{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new UI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(n){return n===ys?void 0:n}function sR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const uR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},cR=Qe.INFO,fR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},hR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=fR[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=hR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const dR=(n,e)=>e.some(t=>n instanceof t);let wx,Ax;function pR(){return wx||(wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return Ax||(Ax=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MA=new WeakMap,Vg=new WeakMap,LA=new WeakMap,Yp=new WeakMap,Lm=new WeakMap;function mR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(xo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&MA.set(t,n)}).catch(()=>{}),Lm.set(e,n),e}function vR(n){if(Vg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});Vg.set(n,e)}let Ug={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yR(n){Ug=n(Ug)}function _R(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call($p(this),e,...t);return LA.set(r,e.sort?e.sort():[e]),xo(r)}:gR().includes(n)?function(...e){return n.apply($p(this),e),xo(MA.get(this))}:function(...e){return xo(n.apply($p(this),e))}}function xR(n){return typeof n=="function"?_R(n):(n instanceof IDBTransaction&&vR(n),dR(n,pR())?new Proxy(n,Ug):n)}function xo(n){if(n instanceof IDBRequest)return mR(n);if(Yp.has(n))return Yp.get(n);const e=xR(n);return e!==n&&(Yp.set(n,e),Lm.set(e,n)),e}const $p=n=>Lm.get(n);function ER(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),u=xo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(xo(s.result),c.oldVersion,c.newVersion,xo(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const wR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],Kp=new Map;function Tx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=AR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wR.includes(t)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return Kp.set(e,a),a}yR(n=>({...n,get:(e,t,r)=>Tx(e,t)||n.get(e,t,r),has:(e,t)=>!!Tx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fg="@firebase/app",bx="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Mm("@firebase/app"),SR="@firebase/app-compat",CR="@firebase/analytics-compat",IR="@firebase/analytics",RR="@firebase/app-check-compat",NR="@firebase/app-check",OR="@firebase/auth",DR="@firebase/auth-compat",PR="@firebase/database",MR="@firebase/data-connect",LR="@firebase/database-compat",kR="@firebase/functions",BR="@firebase/functions-compat",VR="@firebase/installations",UR="@firebase/installations-compat",FR="@firebase/messaging",jR="@firebase/messaging-compat",HR="@firebase/performance",zR="@firebase/performance-compat",GR="@firebase/remote-config",qR="@firebase/remote-config-compat",XR="@firebase/storage",WR="@firebase/storage-compat",YR="@firebase/firestore",$R="@firebase/ai",KR="@firebase/firestore-compat",QR="firebase",ZR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="[DEFAULT]",JR={[Fg]:"fire-core",[SR]:"fire-core-compat",[IR]:"fire-analytics",[CR]:"fire-analytics-compat",[NR]:"fire-app-check",[RR]:"fire-app-check-compat",[OR]:"fire-auth",[DR]:"fire-auth-compat",[PR]:"fire-rtdb",[MR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[kR]:"fire-fn",[BR]:"fire-fn-compat",[VR]:"fire-iid",[UR]:"fire-iid-compat",[FR]:"fire-fcm",[jR]:"fire-fcm-compat",[HR]:"fire-perf",[zR]:"fire-perf-compat",[GR]:"fire-rc",[qR]:"fire-rc-compat",[XR]:"fire-gcs",[WR]:"fire-gcs-compat",[YR]:"fire-fst",[KR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,e6=new Map,Hg=new Map;function Sx(n,e){try{n.container.addComponent(e)}catch(t){Ra.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hl(n){const e=n.name;if(Hg.has(e))return Ra.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,n);for(const t of Ld.values())Sx(t,n);for(const t of e6.values())Sx(t,n);return!0}function km(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ut(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new yf("app","Firebase",t6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=ZR;function kA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(t||(t=NA()),!t)throw Eo.create("no-options");const a=Ld.get(i);if(a){if(Cs(t,a.options)&&Cs(r,a.config))return a;throw Eo.create("duplicate-app",{appName:i})}const s=new lR(i);for(const c of Hg.values())s.addComponent(c);const u=new n6(t,r,s);return Ld.set(i,u),u}function BA(n=jg){const e=Ld.get(n);if(!e&&n===jg&&NA())return kA();if(!e)throw Eo.create("no-app",{appName:n});return e}function wo(n,e,t){var r;let i=(r=JR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ra.warn(u.join(" "));return}Hl(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="firebase-heartbeat-database",i6=1,Zc="firebase-heartbeat-store";let Qp=null;function VA(){return Qp||(Qp=ER(r6,i6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),Qp}async function a6(n){try{const t=(await VA()).transaction(Zc),r=await t.objectStore(Zc).get(UA(n));return await t.done,r}catch(e){if(e instanceof La)Ra.warn(e.message);else{const t=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ra.warn(t.message)}}}async function Cx(n,e){try{const r=(await VA()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,UA(n)),await r.done}catch(t){if(t instanceof La)Ra.warn(t.message);else{const r=Eo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ra.warn(r.message)}}}function UA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=1024,s6=30;class l6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new c6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ix();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>s6){const s=f6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ix(),{heartbeatsToSend:r,unsentEntries:i}=u6(this._heartbeatsCache.heartbeats),a=Md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ra.warn(t),""}}}function Ix(){return new Date().toISOString().substring(0,10)}function u6(n,e=o6){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Rx(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Rx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class c6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KI()?QI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await a6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rx(n){return Md(JSON.stringify({version:2,heartbeats:n})).length}function f6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){Hl(new Is("platform-logger",e=>new TR(e),"PRIVATE")),Hl(new Is("heartbeat",e=>new l6(e),"PRIVATE")),wo(Fg,bx,n),wo(Fg,bx,"esm2017"),wo("fire-js","")}h6("");var d6="firebase",p6="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(d6,p6,"app");function Bm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={PHONE:"phone",TOTP:"totp"},m6={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},v6={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},y6={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},_6={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function FA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E6=x6,jA=FA,HA=new yf("auth","Firebase",FA()),w6={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Mm("@firebase/auth");function A6(n,...e){kd.logLevel<=Qe.WARN&&kd.warn(`Auth (${ru}): ${n}`,...e)}function yd(n,...e){kd.logLevel<=Qe.ERROR&&kd.error(`Auth (${ru}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(n,...e){throw Um(n,...e)}function ur(n,...e){return Um(n,...e)}function Vm(n,e,t){const r=Object.assign(Object.assign({},jA()),{[e]:t});return new yf("auth","Firebase",r).create(e,{appName:n.name})}function On(n){return Vm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iu(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(n,"argument-error"),Vm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return HA.create(n,...e)}function de(n,e,...t){if(!n)throw Um(e,...t)}function Mi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yd(e),new Error(e)}function Na(n,e){n||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Fm(){return Nx()==="http:"||Nx()==="https:"}function Nx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fm()||XI()||"connection"in navigator)?navigator.onLine:!0}function b6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.shortDelay=e,this.longDelay=t,Na(t>e,"Short delay should be less than long delay!"),this.isMobile=zI()||WI()}get(){return T6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n,e){Na(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I6=new _f(3e4,6e4);function Ot(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Dt(n,e,t,r,i={}){return GA(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=nu(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},a);return qI()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&vf(n.emulatorConfig.host)&&(h.credentials="include"),zA.fetch()(await qA(n,n.config.apiHost,t,u),h)})}async function GA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},S6),e);try{const i=new N6(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Lc(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Lc(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Lc(n,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Vm(n,p,h);xr(n,p)}}catch(i){if(i instanceof La)throw i;xr(n,"network-request-failed",{message:String(i)})}}async function ka(n,e,t,r,i={}){const a=await Dt(n,e,t,r,i);return"mfaPendingCredential"in a&&xr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function qA(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?jm(n.config,i):`${n.config.apiScheme}://${i}`;return C6.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function R6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),I6.get())})}}function Lc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ur(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n){return n!==void 0&&n.getResponse!==void 0}function Dx(n){return n!==void 0&&n.enterprise!==void 0}class XA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return R6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(n){return(await Dt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function WA(n,e){return Dt(n,"GET","/v2/recaptchaConfig",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(n,e){return Dt(n,"POST","/v1/accounts:delete",e)}async function P6(n,e){return Dt(n,"POST","/v1/accounts:update",e)}async function Bd(n,e){return Dt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M6(n,e=!1){return Ve(n).getIdToken(e)}async function YA(n,e=!1){const t=Ve(n),r=await t.getIdToken(e),i=c0(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:zc(Zp(i.auth_time)),issuedAtTime:zc(Zp(i.iat)),expirationTime:zc(Zp(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Zp(n){return Number(n)*1e3}function c0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const i=IA(t);return i?JSON.parse(i):(yd("Failed to decode base64 JWT payload"),null)}catch(i){return yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Px(n){const e=c0(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof La&&L6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function L6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Oa(n,Bd(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?KA(a.providerUserInfo):[],u=B6(n.providerData,s),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new zg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function $A(n){const e=Ve(n);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KA(n){return n.map(e=>{var{providerId:t}=e,r=Bm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n,e){const t=await GA(n,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await qA(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",zA.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function U6(n,e){return Dt(n,"POST","/v2/accounts:revokeToken",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=Px(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await V6(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Vl;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(de(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Oa(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YA(this,e)}reload(){return $A(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ef(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(On(this.auth));const e=await this.getIdToken();return await Oa(this,D6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,s,u,c,h,p;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,x=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,T=(u=t.tenantId)!==null&&u!==void 0?u:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,R=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:D,emailVerified:F,isAnonymous:j,providerData:X,stsTokenManager:P}=t;de(D&&P,e,"internal-error");const N=Vl.fromJSON(this.name,P);de(typeof D=="string",e,"internal-error"),go(m,e.name),go(y,e.name),de(typeof F=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),go(x,e.name),go(E,e.name),go(T,e.name),go(S,e.name),go(I,e.name),go(R,e.name);const L=new li({uid:D,auth:e,email:y,emailVerified:F,displayName:m,isAnonymous:j,photoURL:E,phoneNumber:x,tenantId:T,stsTokenManager:N,createdAt:I,lastLoginAt:R});return X&&Array.isArray(X)&&(L.providerData=X.map(V=>Object.assign({},V))),S&&(L._redirectEventId=S),L}static async _fromIdTokenResponse(e,t,r=!1){const i=new Vl;i.updateFromServerResponse(t);const a=new li({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ef(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?KA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Vl;u.updateFromIdToken(r);const c=new li({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map;function Aa(n){Na(n instanceof Function,"Expected a class definition");let e=Mx.get(n);return e?(Na(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Mx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QA.type="NONE";const Gg=QA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n,e,t){return`firebase:${n}:${e}:${t}`}class Ul{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=_d(this.userKey,i.apiKey,a),this.fullPersistenceKey=_d("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bd(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ul(Aa(Gg),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Aa(Gg);const s=_d(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(s);if(p){let m;if(typeof p=="string"){const y=await Bd(e,{idToken:p}).catch(()=>{});if(!y)break;m=await li._fromGetAccountInfoResponse(e,y,p)}else m=li._fromJSON(e,p);h!==a&&(u=m),a=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ul(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new Ul(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(iT(e))return"Webos";if(JA(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZA(n=Zn()){return/firefox\//i.test(n)}function JA(n=Zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(n=Zn()){return/crios\//i.test(n)}function tT(n=Zn()){return/iemobile/i.test(n)}function nT(n=Zn()){return/android/i.test(n)}function rT(n=Zn()){return/blackberry/i.test(n)}function iT(n=Zn()){return/webos/i.test(n)}function Hm(n=Zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F6(n=Zn()){var e;return Hm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j6(){return YI()&&document.documentMode===10}function aT(n=Zn()){return Hm(n)||nT(n)||iT(n)||rT(n)||/windows phone/i.test(n)||tT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n,e=[]){let t;switch(n){case"Browser":t=Lx(Zn());break;case"Worker":t=`${Lx(Zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ru}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(n,e={}){return Dt(n,"GET","/v2/passwordPolicy",Ot(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=6;class q6{constructor(e){var t,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:G6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kx(this),this.idTokenSubscription=new kx(this),this.beforeStateQueue=new H6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Aa(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bd(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ut(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(On(this));const t=e?Ve(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(On(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(On(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z6(this),t=new q6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await U6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Aa(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[Aa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&A6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qt(n){return Ve(n)}class kx{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W6(n){xf=n}function zm(n){return xf.loadJS(n)}function Y6(){return xf.recaptchaV2Script}function $6(){return xf.recaptchaEnterpriseScript}function K6(){return xf.gapiScript}function sT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=500,Z6=6e4,nd=1e12;class J6{constructor(e){this.auth=e,this.counter=nd,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new n8(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||nd;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||nd;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||nd;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class e8{constructor(){this.enterprise=new t8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class t8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class n8{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=r8(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},Z6)},Q6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function r8(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const i8="recaptcha-enterprise",Gc="NO_RECAPTCHA";class lT{constructor(e){this.type=i8,this.auth=qt(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{WA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new XA(c);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,s(h.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;Dx(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(h=>{s(h)}).catch(()=>{s(Gc)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e8().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!t&&Dx(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$6();c.length!==0&&(c+=u),zm(c).then(()=>{i(u,a,s)}).catch(h=>{s(h)})}}).catch(u=>{s(u)})})}}async function Cc(n,e,t,r=!1,i=!1){const a=new lT(n);let s;if(i)s=Gc;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ao(n,e,t,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Cc(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Cc(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const u=await Cc(n,e,t);return r(n,u).catch(async c=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const p=await Cc(n,e,t,!1,!0);return r(n,p)}return Promise.reject(c)})}else{const u=await Cc(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function uT(n){const e=qt(n),t=await WA(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new XA(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new lT(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n,e){const t=km(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Cs(a,e??{}))return i;xr(i,"already-initialized")}return t.initialize({options:e})}function a8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Aa);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fT(n,e,t){const r=qt(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),a=hT(e),{host:s,port:u}=o8(e),c=u===null?"":`:${u}`,h={url:`${a}//${s}${c}/`},p=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Cs(h,r.config.emulator)&&Cs(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,vf(s)?(DA(`${a}//${s}${c}`),PA("Auth",!0)):i||s8()}function hT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o8(n){const e=hT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Bx(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:Bx(s)}}}function Bx(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function s8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(n,e){return Dt(n,"POST","/v1/accounts:resetPassword",Ot(n,e))}async function l8(n,e){return Dt(n,"POST","/v1/accounts:update",e)}async function u8(n,e){return Dt(n,"POST","/v1/accounts:signUp",e)}async function c8(n,e){return Dt(n,"POST","/v1/accounts:update",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(n,e){return ka(n,"POST","/v1/accounts:signInWithPassword",Ot(n,e))}async function f0(n,e){return Dt(n,"POST","/v1/accounts:sendOobCode",Ot(n,e))}async function h8(n,e){return f0(n,e)}async function d8(n,e){return f0(n,e)}async function p8(n,e){return f0(n,e)}async function g8(n,e){return f0(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(n,e){return ka(n,"POST","/v1/accounts:signInWithEmailLink",Ot(n,e))}async function v8(n,e){return ka(n,"POST","/v1/accounts:signInWithEmailLink",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends au{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ao(e,t,"signInWithPassword",f8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return m8(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ao(e,r,"signUpPassword",u8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v8(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(n,e){return ka(n,"POST","/v1/accounts:signInWithIdp",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="http://localhost";class Vi extends au{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Bm(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Vi(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Sa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Sa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sa(e,t)}buildRequest(){const e={requestUri:y8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vx(n,e){return Dt(n,"POST","/v1/accounts:sendVerificationCode",Ot(n,e))}async function _8(n,e){return ka(n,"POST","/v1/accounts:signInWithPhoneNumber",Ot(n,e))}async function x8(n,e){const t=await ka(n,"POST","/v1/accounts:signInWithPhoneNumber",Ot(n,e));if(t.temporaryProof)throw Lc(n,"account-exists-with-different-credential",t);return t}const E8={USER_NOT_FOUND:"user-not-found"};async function w8(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ka(n,"POST","/v1/accounts:signInWithPhoneNumber",Ot(n,t),E8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends au{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new To({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new To({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return _8(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return x8(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return w8(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!t&&!i&&!a?null:new To({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T8(n){const e=Pc(Mc(n)).link,t=e?Pc(Mc(e)).deep_link_id:null,r=Pc(Mc(n)).deep_link_id;return(r?Pc(Mc(r)).link:null)||r||t||e||n}class ou{constructor(e){var t,r,i,a,s,u;const c=Pc(Mc(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=A8((i=c.mode)!==null&&i!==void 0?i:null);de(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=T8(e);try{return new ou(t)}catch{return null}}}function b8(n){return ou.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,t){return zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ou.parseLink(t);return de(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Ba{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qc extends su{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Vi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Vi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return qc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return qc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:u}=e;if(!r&&!i&&!t&&!a||!u)return null;try{return new qc(u)._credential({idToken:t,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends su{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _a.credential(e.oauthAccessToken)}catch{return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com";_a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vi._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xa.credential(t,r)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends su{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com";Ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="http://localhost";class tf extends au{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Sa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Sa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sa(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return!r||!i||!a||r!==i?null:new tf(r,a)}static _create(e,t){return new tf(e,t)}buildRequest(){return{requestUri:S8,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="saml.";class Vd extends Ba{constructor(e){de(e.startsWith(C8),"argument-error"),super(e)}static credentialFromResult(e){return Vd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=tf.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return tf._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends su{constructor(){super("twitter.com")}static credential(e,t){return Vi._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return wa.credential(t,r)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com";wa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(n,e){return ka(n,"POST","/v1/accounts:signUp",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await li._fromIdTokenResponse(e,r,i),s=Ux(r);return new Qr({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Ux(r);return new Qr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Ux(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(n){var e;if(Ut(n.app))return Promise.reject(On(n));const t=qt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Qr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await pT(t,{returnSecureToken:!0}),i=await Qr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends La{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ud(e,t,r,i)}}function gT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(n,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(n,e){const t=Ve(n);await h0(!0,t,e);const{providerUserInfo:r}=await P6(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=mT(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Gm(n,e,t=!1){const r=await Oa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Qr._forOperation(n,"link",r)}async function h0(n,e,t){await ef(e);const r=mT(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(n,e,t=!1){const{auth:r}=n;if(Ut(r.app))return Promise.reject(On(r));const i="reauthenticate";try{const a=await Oa(n,gT(r,i,e,n),t);de(a.idToken,r,"internal-error");const s=c0(a.idToken);de(s,r,"internal-error");const{sub:u}=s;return de(n.uid===u,r,"user-mismatch"),Qr._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(n,e,t=!1){if(Ut(n.app))return Promise.reject(On(n));const r="signIn",i=await gT(n,r,e),a=await Qr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function d0(n,e){return yT(qt(n),e)}async function _T(n,e){const t=Ve(n);return await h0(!1,t,e.providerId),Gm(t,e)}async function xT(n,e){return vT(Ve(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(n,e){return ka(n,"POST","/v1/accounts:signInWithCustomToken",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(n,e){if(Ut(n.app))return Promise.reject(On(n));const t=qt(n),r=await N8(t,{token:e,returnSecureToken:!0}),i=await Qr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?qm._fromServerResponse(e,t):"totpInfo"in t?Xm._fromServerResponse(e,t):xr(e,"internal-error")}}class qm extends Ef{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new qm(t)}}class Xm extends Ef{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Xm(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(n){const e=qt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D8(n,e,t){const r=qt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&p0(r,i,t),await Ao(r,i,"getOobCode",d8,"EMAIL_PASSWORD_PROVIDER")}async function P8(n,e,t){await dT(Ve(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wm(n),r})}async function M8(n,e){await c8(Ve(n),{oobCode:e})}async function ET(n,e){const t=Ve(n),r=await dT(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Ef._fromServerResponse(qt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function L8(n,e){const{data:t}=await ET(Ve(n),e);return t.email}async function wT(n,e,t){if(Ut(n.app))return Promise.reject(On(n));const r=qt(n),s=await Ao(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pT,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Wm(n),c}),u=await Qr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function AT(n,e,t){return Ut(n.app)?Promise.reject(On(n)):d0(Ve(n),Lo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wm(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k8(n,e,t){const r=qt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,u){de(u.handleCodeInApp,r,"argument-error"),u&&p0(r,s,u)}a(i,t),await Ao(r,i,"getOobCode",p8,"EMAIL_PASSWORD_PROVIDER")}function B8(n,e){const t=ou.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function V8(n,e,t){if(Ut(n.app))return Promise.reject(On(n));const r=Ve(n),i=Lo.credentialWithLink(e,t||Jc());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),d0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(n,e){return Dt(n,"POST","/v1/accounts:createAuthUri",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(n,e){const t=Fm()?Jc():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await U8(Ve(n),r);return i||[]}async function j8(n,e){const t=Ve(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&p0(t.auth,i,e);const{email:a}=await h8(t.auth,i);a!==n.email&&await n.reload()}async function H8(n,e,t){const r=Ve(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&p0(r.auth,a,t);const{email:s}=await g8(r.auth,a);s!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(n,e){return Dt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ve(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=await Oa(r,z8(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function q8(n,e){const t=Ve(n);return Ut(t.auth.app)?Promise.reject(On(t.auth)):TT(t,e,null)}function X8(n,e){return TT(Ve(n),null,e)}async function TT(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const s=await Oa(n,l8(r,a));await n._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const s=(t=(e=c0(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(s){const u=s!=="anonymous"&&s!=="custom"?s:null;return new Fl(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new Y8(a,i);case"github.com":return new $8(a,i);case"google.com":return new K8(a,i);case"twitter.com":return new Q8(a,i,n.screenName||null);case"custom":case"anonymous":return new Fl(a,null);default:return new Fl(a,r,i)}}class Fl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class bT extends Fl{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Y8 extends Fl{constructor(e,t){super(e,"facebook.com",t)}}class $8 extends bT{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class K8 extends Fl{constructor(e,t){super(e,"google.com",t)}}class Q8 extends bT{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Z8(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:W8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(n,e){return Ve(n).setPersistence(e)}function eN(n){return uT(n)}async function tN(n,e){return qt(n).validatePassword(e)}function ST(n,e,t,r){return Ve(n).onIdTokenChanged(e,t,r)}function CT(n,e,t){return Ve(n).beforeAuthStateChanged(e,t)}function IT(n,e,t,r){return Ve(n).onAuthStateChanged(e,t,r)}function nN(n){Ve(n).useDeviceLanguage()}function rN(n,e){return Ve(n).updateCurrentUser(e)}function RT(n){return Ve(n).signOut()}function iN(n,e){return qt(n).revokeAccessToken(e)}async function aN(n){return Ve(n).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new xs("enroll",e,t)}static _fromMfaPendingCredential(e){return new xs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return xs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return xs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=qt(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(u=>Ef._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const s=xs._fromMfaPendingCredential(i.mfaPendingCredential);return new Ym(s,a,async u=>{const c=await u._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const p=await Qr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return de(t.user,r,"internal-error"),Qr._forOperation(t.user,t.operationType,h);default:xr(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function oN(n,e){var t;const r=Ve(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Ym._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:start",Ot(n,e))}function sN(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(n,e))}function lN(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:start",Ot(n,e))}function uN(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(n,e))}function cN(n,e){return Dt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(n,e))}class $m{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Ef._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new $m(e)}async getSession(){return xs._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),a=await Oa(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Oa(this.user,cN(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Jp=new WeakMap;function fN(n){const e=Ve(n);return Jp.has(e)||Jp.set(e,$m._fromUser(e)),Jp.get(e)}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1e3,dN=10;class OT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);j6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dN):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const DT=OT;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1e3;function eg(n){var e,t;const r=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return(t=(e=document.cookie.match(i))===null||e===void 0?void 0:e[1])!==null&&t!==void 0?t:null}function tg(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class PT{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:(e=navigator.cookieEnabled)!==null&&e!==void 0?e:!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=tg(e);if(window.cookieStore){const r=await window.cookieStore.get(t);return r==null?void 0:r.value}return eg(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=tg(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=tg(e);if(window.cookieStore){const u=h=>{const p=h.changed.find(y=>y.name===r);p&&t(p.value),h.deleted.find(y=>y.name===r)&&t(null)},c=()=>window.cookieStore.removeEventListener("change",u);return this.listenerUnsubscribes.set(t,c),window.cookieStore.addEventListener("change",u)}let i=eg(r);const a=setInterval(()=>{const u=eg(r);u!==i&&(t(u),i=u)},pN),s=()=>clearInterval(a);this.listenerUnsubscribes.set(t,s)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}PT.type="COOKIE";const gN=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MT.type="SESSION";const Km=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new g0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async h=>h(t.origin,a)),c=await mN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}g0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const h=m0("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return window}function yN(n){an().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}async function _N(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function EN(){return Qm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebaseLocalStorageDb",wN=1,jd="firebaseLocalStorage",kT="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function v0(n,e){return n.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function AN(){const n=indexedDB.deleteDatabase(LT);return new wf(n).toPromise()}function qg(){const n=indexedDB.open(LT,wN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(jd,{keyPath:kT})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await AN(),e(await qg()))})})}async function jx(n,e,t){const r=v0(n,!0).put({[kT]:e,value:t});return new wf(r).toPromise()}async function TN(n,e){const t=v0(n,!1).get(e),r=await new wf(t).toPromise();return r===void 0?null:r.value}function Hx(n,e){const t=v0(n,!0).delete(e);return new wf(t).toPromise()}const bN=800,SN=3;class BT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>SN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g0._getInstance(EN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new vN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await jx(e,Fd,"1"),await Hx(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jx(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=v0(i,!1).getAll();return new wf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BT.type="LOCAL";const VT=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n,e){return Dt(n,"POST","/v2/accounts/mfaSignIn:start",Ot(n,e))}function CN(n,e){return Dt(n,"POST","/v2/accounts/mfaSignIn:finalize",Ot(n,e))}function IN(n,e){return Dt(n,"POST","/v2/accounts/mfaSignIn:finalize",Ot(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=sT("rcb"),RN=new _f(3e4,6e4);class NN{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=an().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(ON(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ox(an().grecaptcha)?Promise.resolve(an().grecaptcha):new Promise((r,i)=>{const a=an().setTimeout(()=>{i(ur(e,"network-request-failed"))},RN.get());an()[ng]=()=>{an().clearTimeout(a),delete an()[ng];const u=an().grecaptcha;if(!u||!Ox(u)){i(ur(e,"internal-error"));return}const c=u.render;u.render=(h,p)=>{const m=c(h,p);return this.counter++,m},this.hostLanguage=t,r(u)};const s=`${Y6()}?${nu({onload:ng,render:"explicit",hl:t})}`;zm(s).catch(()=>{clearTimeout(a),i(ur(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=an().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ON(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class DN{async load(e){return new J6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="recaptcha",PN={theme:"light",type:"image"};class MN{constructor(e,t,r=Object.assign({},PN)){this.parameters=r,this.type=Xc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new DN:new NN,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=an()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(Fm()&&!Qm(),this.auth,"internal-error"),await LN(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await O6(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function LN(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=To._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function kN(n,e,t){if(Ut(n.app))return Promise.reject(On(n));const r=qt(n),i=await y0(r,e,Ve(t));return new Zm(i,a=>d0(r,a))}async function BN(n,e,t){const r=Ve(n);await h0(!1,r,"phone");const i=await y0(r.auth,e,Ve(t));return new Zm(i,a=>_T(r,a))}async function VN(n,e,t){const r=Ve(n);if(Ut(r.auth.app))return Promise.reject(On(r.auth));const i=await y0(r.auth,e,Ve(t));return new Zm(i,a=>xT(r,a))}async function y0(n,e,t){var r;if(!n._getRecaptchaConfig())try{await uT(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){de(a.type==="enroll",n,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ao(n,s,"mfaSmsEnrollment",async(p,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===Gc){de((t==null?void 0:t.type)===Xc,p,"argument-error");const y=await rg(p,m,t);return Fx(p,y)}return Fx(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{de(a.type==="signin",n,"internal-error");const s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(s,n,"missing-multi-factor-info");const u={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ao(n,u,"mfaSmsSignIn",async(m,y)=>{if(y.phoneSignInInfo.captchaResponse===Gc){de((t==null?void 0:t.type)===Xc,m,"argument-error");const x=await rg(m,y,t);return zx(m,x)}return zx(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ao(n,a,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===Gc){de((t==null?void 0:t.type)===Xc,h,"argument-error");const m=await rg(h,p,t);return Vx(h,m)}return Vx(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function UN(n,e){const t=Ve(n);if(Ut(t.auth.app))return Promise.reject(On(t.auth));await Gm(t,e)}async function rg(n,e,t){de(t.type===Xc,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.providerId=Ts.PROVIDER_ID,this.auth=qt(e)}verifyPhoneNumber(e,t){return y0(this.auth,e,Ve(t))}static credential(e,t){return To._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ts.credentialFromTaggedObject(t)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?To._fromTokenResponse(t,r):null}}Ts.PROVIDER_ID="phone";Ts.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n,e){return e?Aa(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends au{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function FN(n){return yT(n.auth,new Jm(n),n.bypassAuthState)}function jN(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),vT(t,new Jm(n),n.bypassAuthState)}async function HN(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),Gm(t,new Jm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FN;case"linkViaPopup":case"linkViaRedirect":return HN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:xr(this.auth,"internal-error")}}resolve(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new _f(2e3,1e4);async function GN(n,e,t){if(Ut(n.app))return Promise.reject(ur(n,"operation-not-supported-in-this-environment"));const r=qt(n);iu(n,e,Ba);const i=Ds(r,t);return new Ta(r,"signInViaPopup",e,i).executeNotNull()}async function qN(n,e,t){const r=Ve(n);if(Ut(r.auth.app))return Promise.reject(ur(r.auth,"operation-not-supported-in-this-environment"));iu(r.auth,e,Ba);const i=Ds(r.auth,t);return new Ta(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function XN(n,e,t){const r=Ve(n);iu(r.auth,e,Ba);const i=Ds(r.auth,t);return new Ta(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ta extends UT{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Na(this.filter.length===1,"Popup operations only handle one event");const e=m0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zN.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="pendingRedirect",xd=new Map;class YN extends UT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const r=await $N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $N(n,e){const t=jT(e),r=FT(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function ev(n,e){return FT(n)._set(jT(e),"true")}function KN(n,e){xd.set(n._key(),e)}function FT(n){return Aa(n._redirectPersistence)}function jT(n){return _d(WN,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n,e,t){return ZN(n,e,t)}async function ZN(n,e,t){if(Ut(n.app))return Promise.reject(On(n));const r=qt(n);iu(n,e,Ba),await r._initializationPromise;const i=Ds(r,t);return await ev(i,r),i._openRedirect(r,e,"signInViaRedirect")}function JN(n,e,t){return eO(n,e,t)}async function eO(n,e,t){const r=Ve(n);if(iu(r.auth,e,Ba),Ut(r.auth.app))return Promise.reject(On(r.auth));await r.auth._initializationPromise;const i=Ds(r.auth,t);await ev(i,r.auth);const a=await zT(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function tO(n,e,t){return nO(n,e,t)}async function nO(n,e,t){const r=Ve(n);iu(r.auth,e,Ba),await r.auth._initializationPromise;const i=Ds(r.auth,t);await h0(!1,r,e.providerId),await ev(i,r.auth);const a=await zT(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function rO(n,e){return await qt(n)._initializationPromise,HT(n,e,!1)}async function HT(n,e,t=!1){if(Ut(n.app))return Promise.reject(On(n));const r=qt(n),i=Ds(r,e),s=await new YN(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function zT(n){const e=m0(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=10*60*1e3;class aO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!GT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ur(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gx(e))}saveEventToCache(e){this.cachedEventUids.add(Gx(e)),this.lastProcessedEventTime=Date.now()}}function Gx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sO(n,e={}){return Dt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uO=/^https?/;async function cO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sO(n);for(const t of e)try{if(fO(t))return}catch{}xr(n,"unauthorized-domain")}function fO(n){const e=Jc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!uO.test(t))return!1;if(lO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new _f(3e4,6e4);function qx(){const n=an().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dO(n){return new Promise((e,t)=>{var r,i,a;function s(){qx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qx(),t(ur(n,"network-request-failed"))},timeout:hO.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=an().gapi)===null||a===void 0)&&a.load)s();else{const u=sT("iframefcb");return an()[u]=()=>{gapi.load?s():t(ur(n,"network-request-failed"))},zm(`${K6()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function pO(n){return Ed=Ed||dO(n),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new _f(5e3,15e3),mO="__/auth/iframe",vO="emulator/auth/iframe",yO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jm(e,vO):`https://${n.config.authDomain}/${mO}`,r={apiKey:e.apiKey,appName:n.name,v:ru},i=_O.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${nu(r).slice(1)}`}async function EO(n){const e=await pO(n),t=an().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:xO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=ur(n,"network-request-failed"),u=an().setTimeout(()=>{a(s)},gO.get());function c(){an().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AO=500,TO=600,bO="_blank",SO="http://localhost";class Xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CO(n,e,t,r=AO,i=TO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},wO),{width:r.toString(),height:i.toString(),top:a,left:s}),h=Zn().toLowerCase();t&&(u=eT(h)?bO:t),ZA(h)&&(e=e||SO,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[x,E])=>`${y}${x}=${E},`,"");if(F6(h)&&u!=="_self")return IO(e||"",u),new Xx(null);const m=window.open(e||"",u,p);de(m,n,"popup-blocked");try{m.focus()}catch{}return new Xx(m)}function IO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="__/auth/handler",NO="emulator/auth/handler",OO=encodeURIComponent("fac");async function Wx(n,e,t,r,i,a){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ru,eventId:i};if(e instanceof Ba){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",tR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))s[p]=m}if(e instanceof su){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${OO}=${encodeURIComponent(c)}`:"";return`${DO(n)}?${nu(u).slice(1)}${h}`}function DO({config:n}){return n.emulator?jm(n,NO):`https://${n.authDomain}/${RO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class PO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Km,this._completeRedirectFn=HT,this._overrideRedirectResult=KN}async _openPopup(e,t,r,i){var a;Na((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Wx(e,t,r,Jc(),i);return CO(e,s,m0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Wx(e,t,r,Jc(),i);return yN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Na(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await EO(e),r=new aO(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ig,{type:ig},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ig];s!==void 0&&t(!!s),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aT()||JA()||Hm()}}const qT=PO;class XT{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Mi("unexpected MultiFactorSessionType")}}}class tv extends XT{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new tv(e)}_finalizeEnroll(e,t,r){return sN(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return CN(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class WT{constructor(){}static assertion(e){return tv._fromCredential(e)}}WT.FACTOR_ID="phone";class YT{static assertionForEnrollment(e,t){return nf._fromSecret(e,t)}static assertionForSignIn(e,t){return nf._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;de(typeof((t=r.user)===null||t===void 0?void 0:t.auth)<"u","internal-error");const i=await lN(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return _0._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}YT.FACTOR_ID="totp";class nf extends XT{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new nf(t,void 0,e)}static _fromEnrollmentId(e,t){return new nf(t,e)}async _finalizeEnroll(e,t,r){return de(typeof this.secret<"u",e,"argument-error"),uN(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){de(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return IN(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class _0{constructor(e,t,r,i,a,s,u){this.sessionInfo=s,this.auth=u,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new _0(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(rd(e)||rd(t))&&(i=!0),i&&(rd(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),rd(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function rd(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var Yx="@firebase/auth",$x="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kO(n){Hl(new Is("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oT(n)},h=new X6(r,i,a,c);return a8(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new Is("auth-internal",e=>{const t=qt(e.getProvider("auth").getImmediate());return(r=>new MO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(Yx,$x,LO(n)),wo(Yx,$x,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=5*60,VO=OA("authIdTokenMaxAge")||BO;let Kx=null;const UO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>VO)return;const i=t==null?void 0:t.token;Kx!==i&&(Kx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pl(n=BA()){const e=km(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cT(n,{popupRedirectResolver:qT,persistence:[VT,DT,Km]}),r=OA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=UO(a.toString());CT(t,s,()=>s(t.currentUser)),ST(t,u=>s(u))}}const i=RA("auth");return i&&fT(t,`http://${i}`),t}function FO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}W6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=ur("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",FO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kO("Browser");const jO=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:_6,ActionCodeURL:ou,AuthCredential:au,AuthErrorCodes:w6,EmailAuthCredential:zl,EmailAuthProvider:Lo,FacebookAuthProvider:_a,FactorId:g6,GithubAuthProvider:Ea,GoogleAuthProvider:xa,OAuthCredential:Vi,OAuthProvider:qc,OperationType:y6,PhoneAuthCredential:To,PhoneAuthProvider:Ts,PhoneMultiFactorGenerator:WT,ProviderId:m6,RecaptchaVerifier:MN,SAMLAuthProvider:Vd,SignInMethod:v6,TotpMultiFactorGenerator:YT,TotpSecret:_0,TwitterAuthProvider:wa,applyActionCode:M8,beforeAuthStateChanged:CT,browserCookiePersistence:gN,browserLocalPersistence:DT,browserPopupRedirectResolver:qT,browserSessionPersistence:Km,checkActionCode:ET,confirmPasswordReset:P8,connectAuthEmulator:fT,createUserWithEmailAndPassword:wT,debugErrorMap:E6,deleteUser:aN,fetchSignInMethodsForEmail:F8,getAdditionalUserInfo:Z8,getAuth:Pl,getIdToken:M6,getIdTokenResult:YA,getMultiFactorResolver:oN,getRedirectResult:rO,inMemoryPersistence:Gg,indexedDBLocalPersistence:VT,initializeAuth:cT,initializeRecaptchaConfig:eN,isSignInWithEmailLink:B8,linkWithCredential:_T,linkWithPhoneNumber:BN,linkWithPopup:XN,linkWithRedirect:tO,multiFactor:fN,onAuthStateChanged:IT,onIdTokenChanged:ST,parseActionCodeURL:b8,prodErrorMap:jA,reauthenticateWithCredential:xT,reauthenticateWithPhoneNumber:VN,reauthenticateWithPopup:qN,reauthenticateWithRedirect:JN,reload:$A,revokeAccessToken:iN,sendEmailVerification:j8,sendPasswordResetEmail:D8,sendSignInLinkToEmail:k8,setPersistence:J8,signInAnonymously:I8,signInWithCredential:d0,signInWithCustomToken:O8,signInWithEmailAndPassword:AT,signInWithEmailLink:V8,signInWithPhoneNumber:kN,signInWithPopup:GN,signInWithRedirect:QN,signOut:RT,unlink:R8,updateCurrentUser:rN,updateEmail:q8,updatePassword:X8,updatePhoneNumber:UN,updateProfile:G8,useDeviceLanguage:nN,validatePassword:tN,verifyBeforeUpdateEmail:H8,verifyPasswordResetCode:L8},Symbol.toStringTag,{value:"Module"})),HO={apiKey:void 0,authDomain:void 0,projectId:"woo-combine",storageBucket:"woo-combine.appspot.com",messagingSenderId:"94939411053",appId:"1:94939411053:web:9441e73b88c1985e5c8564"},zO=kA(HO),$t=Pl(zO);function $T(n,e){return function(){return n.apply(e,arguments)}}const{toString:GO}=Object.prototype,{getPrototypeOf:nv}=Object,{iterator:x0,toStringTag:KT}=Symbol,E0=(n=>e=>{const t=GO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),di=n=>(n=n.toLowerCase(),e=>E0(e)===n),w0=n=>e=>typeof e===n,{isArray:lu}=Array,rf=w0("undefined");function qO(n){return n!==null&&!rf(n)&&n.constructor!==null&&!rf(n.constructor)&&yr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const QT=di("ArrayBuffer");function XO(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&QT(n.buffer),e}const WO=w0("string"),yr=w0("function"),ZT=w0("number"),A0=n=>n!==null&&typeof n=="object",YO=n=>n===!0||n===!1,wd=n=>{if(E0(n)!=="object")return!1;const e=nv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KT in n)&&!(x0 in n)},$O=di("Date"),KO=di("File"),QO=di("Blob"),ZO=di("FileList"),JO=n=>A0(n)&&yr(n.pipe),eD=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||yr(n.append)&&((e=E0(n))==="formdata"||e==="object"&&yr(n.toString)&&n.toString()==="[object FormData]"))},tD=di("URLSearchParams"),[nD,rD,iD,aD]=["ReadableStream","Request","Response","Headers"].map(di),oD=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Af(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),lu(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),s=a.length;let u;for(r=0;r<s;r++)u=a[r],e.call(null,n[u],u,n)}}function JT(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eb=n=>!rf(n)&&n!==Es;function Xg(){const{caseless:n}=eb(this)&&this||{},e={},t=(r,i)=>{const a=n&&JT(e,i)||i;wd(e[a])&&wd(r)?e[a]=Xg(e[a],r):wd(r)?e[a]=Xg({},r):lu(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Af(arguments[r],t);return e}const sD=(n,e,t,{allOwnKeys:r}={})=>(Af(e,(i,a)=>{t&&yr(i)?n[a]=$T(i,t):n[a]=i},{allOwnKeys:r}),n),lD=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),uD=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},cD=(n,e,t,r)=>{let i,a,s;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)s=i[a],(!r||r(s,n,e))&&!u[s]&&(e[s]=n[s],u[s]=!0);n=t!==!1&&nv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},fD=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},hD=n=>{if(!n)return null;if(lu(n))return n;let e=n.length;if(!ZT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},dD=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&nv(Uint8Array)),pD=(n,e)=>{const r=(n&&n[x0]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},gD=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},mD=di("HTMLFormElement"),vD=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Qx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yD=di("RegExp"),tb=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Af(t,(i,a)=>{let s;(s=e(i,a,n))!==!1&&(r[a]=s||i)}),Object.defineProperties(n,r)},_D=n=>{tb(n,(e,t)=>{if(yr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(yr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},xD=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return lu(n)?r(n):r(String(n).split(e)),t},ED=()=>{},wD=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function AD(n){return!!(n&&yr(n.append)&&n[KT]==="FormData"&&n[x0])}const TD=n=>{const e=new Array(10),t=(r,i)=>{if(A0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=lu(r)?[]:{};return Af(r,(s,u)=>{const c=t(s,i+1);!rf(c)&&(a[u]=c)}),e[i]=void 0,a}}return r};return t(n,0)},bD=di("AsyncFunction"),SD=n=>n&&(A0(n)||yr(n))&&yr(n.then)&&yr(n.catch),nb=((n,e)=>n?setImmediate:e?((t,r)=>(Es.addEventListener("message",({source:i,data:a})=>{i===Es&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Es.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yr(Es.postMessage)),CD=typeof queueMicrotask<"u"?queueMicrotask.bind(Es):typeof process<"u"&&process.nextTick||nb,ID=n=>n!=null&&yr(n[x0]),re={isArray:lu,isArrayBuffer:QT,isBuffer:qO,isFormData:eD,isArrayBufferView:XO,isString:WO,isNumber:ZT,isBoolean:YO,isObject:A0,isPlainObject:wd,isReadableStream:nD,isRequest:rD,isResponse:iD,isHeaders:aD,isUndefined:rf,isDate:$O,isFile:KO,isBlob:QO,isRegExp:yD,isFunction:yr,isStream:JO,isURLSearchParams:tD,isTypedArray:dD,isFileList:ZO,forEach:Af,merge:Xg,extend:sD,trim:oD,stripBOM:lD,inherits:uD,toFlatObject:cD,kindOf:E0,kindOfTest:di,endsWith:fD,toArray:hD,forEachEntry:pD,matchAll:gD,isHTMLForm:mD,hasOwnProperty:Qx,hasOwnProp:Qx,reduceDescriptors:tb,freezeMethods:_D,toObjectSet:xD,toCamelCase:vD,noop:ED,toFiniteNumber:wD,findKey:JT,global:Es,isContextDefined:eb,isSpecCompliantForm:AD,toJSONObject:TD,isAsyncFn:bD,isThenable:SD,setImmediate:nb,asap:CD,isIterable:ID};function Fe(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const rb=Fe.prototype,ib={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ib[n]={value:n}});Object.defineProperties(Fe,ib);Object.defineProperty(rb,"isAxiosError",{value:!0});Fe.from=(n,e,t,r,i,a)=>{const s=Object.create(rb);return re.toFlatObject(n,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Fe.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,a&&Object.assign(s,a),s};const RD=null;function Wg(n){return re.isPlainObject(n)||re.isArray(n)}function ab(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function Zx(n,e,t){return n?n.concat(e).map(function(i,a){return i=ab(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function ND(n){return re.isArray(n)&&!n.some(Wg)}const OD=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function T0(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,S){return!re.isUndefined(S[T])});const r=t.metaTokens,i=t.visitor||p,a=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(E){if(E===null)return"";if(re.isDate(E))return E.toISOString();if(!c&&re.isBlob(E))throw new Fe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(E)||re.isTypedArray(E)?c&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,T,S){let I=E;if(E&&!S&&typeof E=="object"){if(re.endsWith(T,"{}"))T=r?T:T.slice(0,-2),E=JSON.stringify(E);else if(re.isArray(E)&&ND(E)||(re.isFileList(E)||re.endsWith(T,"[]"))&&(I=re.toArray(E)))return T=ab(T),I.forEach(function(D,F){!(re.isUndefined(D)||D===null)&&e.append(s===!0?Zx([T],F,a):s===null?T:T+"[]",h(D))}),!1}return Wg(E)?!0:(e.append(Zx(S,T,a),h(E)),!1)}const m=[],y=Object.assign(OD,{defaultVisitor:p,convertValue:h,isVisitable:Wg});function x(E,T){if(!re.isUndefined(E)){if(m.indexOf(E)!==-1)throw Error("Circular reference detected in "+T.join("."));m.push(E),re.forEach(E,function(I,R){(!(re.isUndefined(I)||I===null)&&i.call(e,I,re.isString(R)?R.trim():R,T,y))===!0&&x(I,T?T.concat(R):[R])}),m.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return x(n),e}function Jx(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rv(n,e){this._pairs=[],n&&T0(n,this,e)}const ob=rv.prototype;ob.append=function(e,t){this._pairs.push([e,t])};ob.toString=function(e){const t=e?function(r){return e.call(this,r,Jx)}:Jx;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function DD(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sb(n,e,t){if(!e)return n;const r=t&&t.encode||DD;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=re.isURLSearchParams(e)?e.toString():new rv(e,t).toString(r),a){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class eE{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const lb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PD=typeof URLSearchParams<"u"?URLSearchParams:rv,MD=typeof FormData<"u"?FormData:null,LD=typeof Blob<"u"?Blob:null,kD={isBrowser:!0,classes:{URLSearchParams:PD,FormData:MD,Blob:LD},protocols:["http","https","file","blob","url","data"]},iv=typeof window<"u"&&typeof document<"u",Yg=typeof navigator=="object"&&navigator||void 0,BD=iv&&(!Yg||["ReactNative","NativeScript","NS"].indexOf(Yg.product)<0),VD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UD=iv&&window.location.href||"http://localhost",FD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iv,hasStandardBrowserEnv:BD,hasStandardBrowserWebWorkerEnv:VD,navigator:Yg,origin:UD},Symbol.toStringTag,{value:"Module"})),Qn={...FD,...kD};function jD(n,e){return T0(n,new Qn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return Qn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function HD(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function zD(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function ub(n){function e(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),c=a>=t.length;return s=!s&&re.isArray(i)?i.length:s,c?(re.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!u):((!i[s]||!re.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],a)&&re.isArray(i[s])&&(i[s]=zD(i[s])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(HD(r),i,t,0)}),t}return null}function GD(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Tf={transitional:lb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=re.isObject(e);if(a&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(ub(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return jD(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return T0(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),GD(e)):e}],transformResponse:[function(e){const t=this.transitional||Tf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(s)throw u.name==="SyntaxError"?Fe.from(u,Fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qn.classes.FormData,Blob:Qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Tf.headers[n]={}});const qD=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XD=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&qD[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},tE=Symbol("internals");function Ic(n){return n&&String(n).trim().toLowerCase()}function Ad(n){return n===!1||n==null?n:re.isArray(n)?n.map(Ad):String(n)}function WD(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const YD=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ag(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function $D(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function KD(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let _r=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(u,c,h){const p=Ic(c);if(!p)throw new Error("header name must be a non-empty string");const m=re.findKey(i,p);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||c]=Ad(u))}const s=(u,c)=>re.forEach(u,(h,p)=>a(h,p,c));if(re.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(re.isString(e)&&(e=e.trim())&&!YD(e))s(XD(e),t);else if(re.isObject(e)&&re.isIterable(e)){let u={},c,h;for(const p of e){if(!re.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(c=u[h])?re.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}s(u,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Ic(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return WD(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ic(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||ag(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(s){if(s=Ic(s),s){const u=re.findKey(r,s);u&&(!t||ag(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||ag(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,a)=>{const s=re.findKey(r,a);if(s){t[s]=Ad(i),delete t[a];return}const u=e?$D(a):String(a).trim();u!==a&&delete t[a],t[u]=Ad(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[tE]=this[tE]={accessors:{}}).accessors,i=this.prototype;function a(s){const u=Ic(s);r[u]||(KD(i,s),r[u]=!0)}return re.isArray(e)?e.forEach(a):a(e),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(_r.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(_r);function og(n,e){const t=this||Tf,r=e||t,i=_r.from(r.headers);let a=r.data;return re.forEach(n,function(u){a=u.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function cb(n){return!!(n&&n.__CANCEL__)}function uu(n,e,t){Fe.call(this,n??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(uu,Fe,{__CANCEL__:!0});function fb(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function QD(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ZD(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),p=r[a];s||(s=h),t[i]=c,r[i]=h;let m=a,y=0;for(;m!==i;)y+=t[m++],m=m%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),h-s<e)return;const x=p&&h-p;return x?Math.round(y*1e3/x):void 0}}function JD(n,e){let t=0,r=1e3/e,i,a;const s=(h,p=Date.now())=>{t=p,i=null,a&&(clearTimeout(a),a=null),n.apply(null,h)};return[(...h)=>{const p=Date.now(),m=p-t;m>=r?s(h,p):(i=h,a||(a=setTimeout(()=>{a=null,s(i)},r-m)))},()=>i&&s(i)]}const Hd=(n,e,t=3)=>{let r=0;const i=ZD(50,250);return JD(a=>{const s=a.loaded,u=a.lengthComputable?a.total:void 0,c=s-r,h=i(c),p=s<=u;r=s;const m={loaded:s,total:u,progress:u?s/u:void 0,bytes:c,rate:h||void 0,estimated:h&&u&&p?(u-s)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(m)},t)},nE=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},rE=n=>(...e)=>re.asap(()=>n(...e)),e5=Qn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Qn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Qn.origin),Qn.navigator&&/(msie|trident)/i.test(Qn.navigator.userAgent)):()=>!0,t5=Qn.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const s=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),re.isString(r)&&s.push("path="+r),re.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function n5(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function r5(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function hb(n,e,t){let r=!n5(e);return n&&(r||t==!1)?r5(n,e):e}const iE=n=>n instanceof _r?{...n}:n;function Rs(n,e){e=e||{};const t={};function r(h,p,m,y){return re.isPlainObject(h)&&re.isPlainObject(p)?re.merge.call({caseless:y},h,p):re.isPlainObject(p)?re.merge({},p):re.isArray(p)?p.slice():p}function i(h,p,m,y){if(re.isUndefined(p)){if(!re.isUndefined(h))return r(void 0,h,m,y)}else return r(h,p,m,y)}function a(h,p){if(!re.isUndefined(p))return r(void 0,p)}function s(h,p){if(re.isUndefined(p)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,m){if(m in e)return r(h,p);if(m in n)return r(void 0,h)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(h,p,m)=>i(iE(h),iE(p),m,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(p){const m=c[p]||i,y=m(n[p],e[p],p);re.isUndefined(y)&&m!==u||(t[p]=y)}),t}const db=n=>{const e=Rs({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:u}=e;e.headers=s=_r.from(s),e.url=sb(hb(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(re.isFormData(t)){if(Qn.hasStandardBrowserEnv||Qn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[h,...p]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...p].join("; "))}}if(Qn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&e5(e.url))){const h=i&&a&&t5.read(a);h&&s.set(i,h)}return e},i5=typeof XMLHttpRequest<"u",a5=i5&&function(n){return new Promise(function(t,r){const i=db(n);let a=i.data;const s=_r.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:h}=i,p,m,y,x,E;function T(){x&&x(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function I(){if(!S)return;const D=_r.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:D,config:n,request:S};fb(function(P){t(P),T()},function(P){r(P),T()},j),S=null}"onloadend"in S?S.onloadend=I:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(I)},S.onabort=function(){S&&(r(new Fe("Request aborted",Fe.ECONNABORTED,n,S)),S=null)},S.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||lb;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new Fe(F,j.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,n,S)),S=null},a===void 0&&s.setContentType(null),"setRequestHeader"in S&&re.forEach(s.toJSON(),function(F,j){S.setRequestHeader(j,F)}),re.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),u&&u!=="json"&&(S.responseType=i.responseType),h&&([y,E]=Hd(h,!0),S.addEventListener("progress",y)),c&&S.upload&&([m,x]=Hd(c),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(p=D=>{S&&(r(!D||D.type?new uu(null,n,S):D),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const R=QD(i.url);if(R&&Qn.protocols.indexOf(R)===-1){r(new Fe("Unsupported protocol "+R+":",Fe.ERR_BAD_REQUEST,n));return}S.send(a||null)})},o5=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(h){if(!i){i=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof Fe?p:new uu(p instanceof Error?p.message:p))}};let s=e&&setTimeout(()=>{s=null,a(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const u=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>re.asap(u),c}},s5=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},l5=async function*(n,e){for await(const t of u5(n))yield*s5(t,e)},u5=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},aE=(n,e,t,r)=>{const i=l5(n,e);let a=0,s,u=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await i.next();if(h){u(),c.close();return}let m=p.byteLength;if(t){let y=a+=m;t(y)}c.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},b0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",pb=b0&&typeof ReadableStream=="function",c5=b0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),gb=(n,...e)=>{try{return!!n(...e)}catch{return!1}},f5=pb&&gb(()=>{let n=!1;const e=new Request(Qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),oE=64*1024,$g=pb&&gb(()=>re.isReadableStream(new Response("").body)),zd={stream:$g&&(n=>n.body)};b0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zd[e]&&(zd[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const h5=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Qn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await c5(n)).byteLength},d5=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??h5(e)},p5=b0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:u,onUploadProgress:c,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:y}=db(n);h=h?(h+"").toLowerCase():"text";let x=o5([i,a&&a.toAbortSignal()],s),E;const T=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let S;try{if(c&&f5&&t!=="get"&&t!=="head"&&(S=await d5(p,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),X;if(re.isFormData(r)&&(X=j.headers.get("content-type"))&&p.setContentType(X),j.body){const[P,N]=nE(S,Hd(rE(c)));r=aE(j.body,oE,P,N)}}re.isString(m)||(m=m?"include":"omit");const I="credentials"in Request.prototype;E=new Request(e,{...y,signal:x,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:I?m:void 0});let R=await fetch(E);const D=$g&&(h==="stream"||h==="response");if($g&&(u||D&&T)){const j={};["status","statusText","headers"].forEach(L=>{j[L]=R[L]});const X=re.toFiniteNumber(R.headers.get("content-length")),[P,N]=u&&nE(X,Hd(rE(u),!0))||[];R=new Response(aE(R.body,oE,P,()=>{N&&N(),T&&T()}),j)}h=h||"text";let F=await zd[re.findKey(zd,h)||"text"](R,n);return!D&&T&&T(),await new Promise((j,X)=>{fb(j,X,{data:F,headers:_r.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:E})})}catch(I){throw T&&T(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,n,E),{cause:I.cause||I}):Fe.from(I,I&&I.code,n,E)}}),Kg={http:RD,xhr:a5,fetch:p5};re.forEach(Kg,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sE=n=>`- ${n}`,g5=n=>re.isFunction(n)||n===null||n===!1,mb={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let s;if(r=t,!g5(t)&&(r=Kg[(s=String(t)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(sE).join(`
`):" "+sE(a[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Kg};function sg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new uu(null,n)}function lE(n){return sg(n),n.headers=_r.from(n.headers),n.data=og.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mb.getAdapter(n.adapter||Tf.adapter)(n).then(function(r){return sg(n),r.data=og.call(n,n.transformResponse,r),r.headers=_r.from(r.headers),r},function(r){return cb(r)||(sg(n),r&&r.response&&(r.response.data=og.call(n,n.transformResponse,r.response),r.response.headers=_r.from(r.response.headers))),Promise.reject(r)})}const vb="1.9.0",S0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{S0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const uE={};S0.transitional=function(e,t,r){function i(a,s){return"[Axios v"+vb+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,u)=>{if(e===!1)throw new Fe(i(s," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!uE[s]&&(uE[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,s,u):!0}};S0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function m5(n,e,t){if(typeof n!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const u=n[a],c=u===void 0||s(u,a,n);if(c!==!0)throw new Fe("option "+a+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+a,Fe.ERR_BAD_OPTION)}}const Td={assertOptions:m5,validators:S0},Di=Td.validators;let bs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eE,response:new eE}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Rs(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Td.assertOptions(r,{silentJSONParsing:Di.transitional(Di.boolean),forcedJSONParsing:Di.transitional(Di.boolean),clarifyTimeoutError:Di.transitional(Di.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Td.assertOptions(i,{encode:Di.function,serialize:Di.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Td.assertOptions(t,{baseUrl:Di.spelling("baseURL"),withXsrfToken:Di.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&re.merge(a.common,a[t.method]);a&&re.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),t.headers=_r.concat(s,a);const u=[];let c=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(t)===!1||(c=c&&T.synchronous,u.unshift(T.fulfilled,T.rejected))});const h=[];this.interceptors.response.forEach(function(T){h.push(T.fulfilled,T.rejected)});let p,m=0,y;if(!c){const E=[lE.bind(this),void 0];for(E.unshift.apply(E,u),E.push.apply(E,h),y=E.length,p=Promise.resolve(t);m<y;)p=p.then(E[m++],E[m++]);return p}y=u.length;let x=t;for(m=0;m<y;){const E=u[m++],T=u[m++];try{x=E(x)}catch(S){T.call(this,S);break}}try{p=lE.call(this,x)}catch(E){return Promise.reject(E)}for(m=0,y=h.length;m<y;)p=p.then(h[m++],h[m++]);return p}getUri(e){e=Rs(this.defaults,e);const t=hb(e.baseURL,e.url,e.allowAbsoluteUrls);return sb(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){bs.prototype[e]=function(t,r){return this.request(Rs(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(a,s,u){return this.request(Rs(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}bs.prototype[e]=t(),bs.prototype[e+"Form"]=t(!0)});let v5=class yb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(u=>{r.subscribe(u),a=u}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,u){r.reason||(r.reason=new uu(a,s,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new yb(function(i){e=i}),cancel:e}}};function y5(n){return function(t){return n.apply(null,t)}}function _5(n){return re.isObject(n)&&n.isAxiosError===!0}const Qg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qg).forEach(([n,e])=>{Qg[e]=n});function _b(n){const e=new bs(n),t=$T(bs.prototype.request,e);return re.extend(t,bs.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return _b(Rs(n,i))},t}const Zt=_b(Tf);Zt.Axios=bs;Zt.CanceledError=uu;Zt.CancelToken=v5;Zt.isCancel=cb;Zt.VERSION=vb;Zt.toFormData=T0;Zt.AxiosError=Fe;Zt.Cancel=Zt.CanceledError;Zt.all=function(e){return Promise.all(e)};Zt.spread=y5;Zt.isAxiosError=_5;Zt.mergeConfig=Rs;Zt.AxiosHeaders=_r;Zt.formToJSON=n=>ub(re.isHTMLForm(n)?new FormData(n):n);Zt.getAdapter=mb.getAdapter;Zt.HttpStatusCode=Qg;Zt.default=Zt;const{Axios:FV,AxiosError:jV,CanceledError:HV,isCancel:zV,CancelToken:GV,VERSION:qV,all:XV,Cancel:WV,isAxiosError:YV,spread:$V,toFormData:KV,AxiosHeaders:QV,HttpStatusCode:ZV,formToJSON:JV,getAdapter:eU,mergeConfig:tU}=Zt,sn=Zt.create({baseURL:"https://woo-combine-backend.onrender.com",withCredentials:!0,timeout:1e4});sn.interceptors.response.use(n=>n,async n=>{const e=n.config;if(!e||!e.retry||(e.retryCount=e.retryCount||0,e.retryCount>=e.retry))return Promise.reject(n);e.retryCount+=1;const t=Math.pow(2,e.retryCount)*1e3;return await new Promise(r=>setTimeout(r,t)),sn(e)});sn.interceptors.request.use(async n=>{const e=$t.currentUser;if(e){const t=await e.getIdToken();n.headers=n.headers||{},n.headers.Authorization=`Bearer ${t}`}return n},n=>Promise.reject(n));sn.interceptors.response.use(n=>n,n=>(n.response&&n.response.data&&n.response.data.detail?console.error("API Error:",n.response.data.detail):console.error("API Error:",n.message),Promise.reject(n)));var cE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,xb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function L(){}L.prototype=N.prototype,P.D=N.prototype,P.prototype=new L,P.prototype.constructor=P,P.C=function(V,G,k){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return N.prototype[G].apply(V,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,N,L){L||(L=0);var V=Array(16);if(typeof N=="string")for(var G=0;16>G;++G)V[G]=N.charCodeAt(L++)|N.charCodeAt(L++)<<8|N.charCodeAt(L++)<<16|N.charCodeAt(L++)<<24;else for(G=0;16>G;++G)V[G]=N[L++]|N[L++]<<8|N[L++]<<16|N[L++]<<24;N=P.g[0],L=P.g[1],G=P.g[2];var k=P.g[3],U=N+(k^L&(G^k))+V[0]+3614090360&4294967295;N=L+(U<<7&4294967295|U>>>25),U=k+(G^N&(L^G))+V[1]+3905402710&4294967295,k=N+(U<<12&4294967295|U>>>20),U=G+(L^k&(N^L))+V[2]+606105819&4294967295,G=k+(U<<17&4294967295|U>>>15),U=L+(N^G&(k^N))+V[3]+3250441966&4294967295,L=G+(U<<22&4294967295|U>>>10),U=N+(k^L&(G^k))+V[4]+4118548399&4294967295,N=L+(U<<7&4294967295|U>>>25),U=k+(G^N&(L^G))+V[5]+1200080426&4294967295,k=N+(U<<12&4294967295|U>>>20),U=G+(L^k&(N^L))+V[6]+2821735955&4294967295,G=k+(U<<17&4294967295|U>>>15),U=L+(N^G&(k^N))+V[7]+4249261313&4294967295,L=G+(U<<22&4294967295|U>>>10),U=N+(k^L&(G^k))+V[8]+1770035416&4294967295,N=L+(U<<7&4294967295|U>>>25),U=k+(G^N&(L^G))+V[9]+2336552879&4294967295,k=N+(U<<12&4294967295|U>>>20),U=G+(L^k&(N^L))+V[10]+4294925233&4294967295,G=k+(U<<17&4294967295|U>>>15),U=L+(N^G&(k^N))+V[11]+2304563134&4294967295,L=G+(U<<22&4294967295|U>>>10),U=N+(k^L&(G^k))+V[12]+1804603682&4294967295,N=L+(U<<7&4294967295|U>>>25),U=k+(G^N&(L^G))+V[13]+4254626195&4294967295,k=N+(U<<12&4294967295|U>>>20),U=G+(L^k&(N^L))+V[14]+2792965006&4294967295,G=k+(U<<17&4294967295|U>>>15),U=L+(N^G&(k^N))+V[15]+1236535329&4294967295,L=G+(U<<22&4294967295|U>>>10),U=N+(G^k&(L^G))+V[1]+4129170786&4294967295,N=L+(U<<5&4294967295|U>>>27),U=k+(L^G&(N^L))+V[6]+3225465664&4294967295,k=N+(U<<9&4294967295|U>>>23),U=G+(N^L&(k^N))+V[11]+643717713&4294967295,G=k+(U<<14&4294967295|U>>>18),U=L+(k^N&(G^k))+V[0]+3921069994&4294967295,L=G+(U<<20&4294967295|U>>>12),U=N+(G^k&(L^G))+V[5]+3593408605&4294967295,N=L+(U<<5&4294967295|U>>>27),U=k+(L^G&(N^L))+V[10]+38016083&4294967295,k=N+(U<<9&4294967295|U>>>23),U=G+(N^L&(k^N))+V[15]+3634488961&4294967295,G=k+(U<<14&4294967295|U>>>18),U=L+(k^N&(G^k))+V[4]+3889429448&4294967295,L=G+(U<<20&4294967295|U>>>12),U=N+(G^k&(L^G))+V[9]+568446438&4294967295,N=L+(U<<5&4294967295|U>>>27),U=k+(L^G&(N^L))+V[14]+3275163606&4294967295,k=N+(U<<9&4294967295|U>>>23),U=G+(N^L&(k^N))+V[3]+4107603335&4294967295,G=k+(U<<14&4294967295|U>>>18),U=L+(k^N&(G^k))+V[8]+1163531501&4294967295,L=G+(U<<20&4294967295|U>>>12),U=N+(G^k&(L^G))+V[13]+2850285829&4294967295,N=L+(U<<5&4294967295|U>>>27),U=k+(L^G&(N^L))+V[2]+4243563512&4294967295,k=N+(U<<9&4294967295|U>>>23),U=G+(N^L&(k^N))+V[7]+1735328473&4294967295,G=k+(U<<14&4294967295|U>>>18),U=L+(k^N&(G^k))+V[12]+2368359562&4294967295,L=G+(U<<20&4294967295|U>>>12),U=N+(L^G^k)+V[5]+4294588738&4294967295,N=L+(U<<4&4294967295|U>>>28),U=k+(N^L^G)+V[8]+2272392833&4294967295,k=N+(U<<11&4294967295|U>>>21),U=G+(k^N^L)+V[11]+1839030562&4294967295,G=k+(U<<16&4294967295|U>>>16),U=L+(G^k^N)+V[14]+4259657740&4294967295,L=G+(U<<23&4294967295|U>>>9),U=N+(L^G^k)+V[1]+2763975236&4294967295,N=L+(U<<4&4294967295|U>>>28),U=k+(N^L^G)+V[4]+1272893353&4294967295,k=N+(U<<11&4294967295|U>>>21),U=G+(k^N^L)+V[7]+4139469664&4294967295,G=k+(U<<16&4294967295|U>>>16),U=L+(G^k^N)+V[10]+3200236656&4294967295,L=G+(U<<23&4294967295|U>>>9),U=N+(L^G^k)+V[13]+681279174&4294967295,N=L+(U<<4&4294967295|U>>>28),U=k+(N^L^G)+V[0]+3936430074&4294967295,k=N+(U<<11&4294967295|U>>>21),U=G+(k^N^L)+V[3]+3572445317&4294967295,G=k+(U<<16&4294967295|U>>>16),U=L+(G^k^N)+V[6]+76029189&4294967295,L=G+(U<<23&4294967295|U>>>9),U=N+(L^G^k)+V[9]+3654602809&4294967295,N=L+(U<<4&4294967295|U>>>28),U=k+(N^L^G)+V[12]+3873151461&4294967295,k=N+(U<<11&4294967295|U>>>21),U=G+(k^N^L)+V[15]+530742520&4294967295,G=k+(U<<16&4294967295|U>>>16),U=L+(G^k^N)+V[2]+3299628645&4294967295,L=G+(U<<23&4294967295|U>>>9),U=N+(G^(L|~k))+V[0]+4096336452&4294967295,N=L+(U<<6&4294967295|U>>>26),U=k+(L^(N|~G))+V[7]+1126891415&4294967295,k=N+(U<<10&4294967295|U>>>22),U=G+(N^(k|~L))+V[14]+2878612391&4294967295,G=k+(U<<15&4294967295|U>>>17),U=L+(k^(G|~N))+V[5]+4237533241&4294967295,L=G+(U<<21&4294967295|U>>>11),U=N+(G^(L|~k))+V[12]+1700485571&4294967295,N=L+(U<<6&4294967295|U>>>26),U=k+(L^(N|~G))+V[3]+2399980690&4294967295,k=N+(U<<10&4294967295|U>>>22),U=G+(N^(k|~L))+V[10]+4293915773&4294967295,G=k+(U<<15&4294967295|U>>>17),U=L+(k^(G|~N))+V[1]+2240044497&4294967295,L=G+(U<<21&4294967295|U>>>11),U=N+(G^(L|~k))+V[8]+1873313359&4294967295,N=L+(U<<6&4294967295|U>>>26),U=k+(L^(N|~G))+V[15]+4264355552&4294967295,k=N+(U<<10&4294967295|U>>>22),U=G+(N^(k|~L))+V[6]+2734768916&4294967295,G=k+(U<<15&4294967295|U>>>17),U=L+(k^(G|~N))+V[13]+1309151649&4294967295,L=G+(U<<21&4294967295|U>>>11),U=N+(G^(L|~k))+V[4]+4149444226&4294967295,N=L+(U<<6&4294967295|U>>>26),U=k+(L^(N|~G))+V[11]+3174756917&4294967295,k=N+(U<<10&4294967295|U>>>22),U=G+(N^(k|~L))+V[2]+718787259&4294967295,G=k+(U<<15&4294967295|U>>>17),U=L+(k^(G|~N))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(G+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+G&4294967295,P.g[3]=P.g[3]+k&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var L=N-this.blockSize,V=this.B,G=this.h,k=0;k<N;){if(G==0)for(;k<=L;)i(this,P,k),k+=this.blockSize;if(typeof P=="string"){for(;k<N;)if(V[G++]=P.charCodeAt(k++),G==this.blockSize){i(this,V),G=0;break}}else for(;k<N;)if(V[G++]=P[k++],G==this.blockSize){i(this,V),G=0;break}}this.h=G,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var L=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=L&255,L/=256;for(this.u(P),P=Array(16),N=L=0;4>N;++N)for(var V=0;32>V;V+=8)P[L++]=this.g[N]>>>V&255;return P};function a(P,N){var L=u;return Object.prototype.hasOwnProperty.call(L,P)?L[P]:L[P]=N(P)}function s(P,N){this.h=N;for(var L=[],V=!0,G=P.length-1;0<=G;G--){var k=P[G]|0;V&&k==N||(L[G]=k,V=!1)}this.g=L}var u={};function c(P){return-128<=P&&128>P?a(P,function(N){return new s([N|0],0>N?-1:0)}):new s([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return S(h(-P));for(var N=[],L=1,V=0;P>=L;V++)N[V]=P/L|0,L*=4294967296;return new s(N,0)}function p(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return S(p(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(N,8)),V=m,G=0;G<P.length;G+=8){var k=Math.min(8,P.length-G),U=parseInt(P.substring(G,G+k),N);8>k?(k=h(Math.pow(N,k)),V=V.j(k).add(h(U))):(V=V.j(L),V=V.add(h(U)))}return V}var m=c(0),y=c(1),x=c(16777216);n=s.prototype,n.m=function(){if(T(this))return-S(this).m();for(var P=0,N=1,L=0;L<this.g.length;L++){var V=this.i(L);P+=(0<=V?V:4294967296+V)*N,N*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(T(this))return"-"+S(this).toString(P);for(var N=h(Math.pow(P,6)),L=this,V="";;){var G=F(L,N).g;L=I(L,G.j(N));var k=((0<L.g.length?L.g[0]:L.h)>>>0).toString(P);if(L=G,E(L))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function T(P){return P.h==-1}n.l=function(P){return P=I(this,P),T(P)?-1:E(P)?0:1};function S(P){for(var N=P.g.length,L=[],V=0;V<N;V++)L[V]=~P.g[V];return new s(L,~P.h).add(y)}n.abs=function(){return T(this)?S(this):this},n.add=function(P){for(var N=Math.max(this.g.length,P.g.length),L=[],V=0,G=0;G<=N;G++){var k=V+(this.i(G)&65535)+(P.i(G)&65535),U=(k>>>16)+(this.i(G)>>>16)+(P.i(G)>>>16);V=U>>>16,k&=65535,U&=65535,L[G]=U<<16|k}return new s(L,L[L.length-1]&-2147483648?-1:0)};function I(P,N){return P.add(S(N))}n.j=function(P){if(E(this)||E(P))return m;if(T(this))return T(P)?S(this).j(S(P)):S(S(this).j(P));if(T(P))return S(this.j(S(P)));if(0>this.l(x)&&0>P.l(x))return h(this.m()*P.m());for(var N=this.g.length+P.g.length,L=[],V=0;V<2*N;V++)L[V]=0;for(V=0;V<this.g.length;V++)for(var G=0;G<P.g.length;G++){var k=this.i(V)>>>16,U=this.i(V)&65535,Se=P.i(G)>>>16,Ee=P.i(G)&65535;L[2*V+2*G]+=U*Ee,R(L,2*V+2*G),L[2*V+2*G+1]+=k*Ee,R(L,2*V+2*G+1),L[2*V+2*G+1]+=U*Se,R(L,2*V+2*G+1),L[2*V+2*G+2]+=k*Se,R(L,2*V+2*G+2)}for(V=0;V<N;V++)L[V]=L[2*V+1]<<16|L[2*V];for(V=N;V<2*N;V++)L[V]=0;return new s(L,0)};function R(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function D(P,N){this.g=P,this.h=N}function F(P,N){if(E(N))throw Error("division by zero");if(E(P))return new D(m,m);if(T(P))return N=F(S(P),N),new D(S(N.g),S(N.h));if(T(N))return N=F(P,S(N)),new D(S(N.g),N.h);if(30<P.g.length){if(T(P)||T(N))throw Error("slowDivide_ only works with positive integers.");for(var L=y,V=N;0>=V.l(P);)L=j(L),V=j(V);var G=X(L,1),k=X(V,1);for(V=X(V,2),L=X(L,2);!E(V);){var U=k.add(V);0>=U.l(P)&&(G=G.add(L),k=U),V=X(V,1),L=X(L,1)}return N=I(P,G.j(N)),new D(G,N)}for(G=m;0<=P.l(N);){for(L=Math.max(1,Math.floor(P.m()/N.m())),V=Math.ceil(Math.log(L)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=h(L),U=k.j(N);T(U)||0<U.l(P);)L-=V,k=h(L),U=k.j(N);E(k)&&(k=y),G=G.add(k),P=I(P,U)}return new D(G,P)}n.A=function(P){return F(this,P).h},n.and=function(P){for(var N=Math.max(this.g.length,P.g.length),L=[],V=0;V<N;V++)L[V]=this.i(V)&P.i(V);return new s(L,this.h&P.h)},n.or=function(P){for(var N=Math.max(this.g.length,P.g.length),L=[],V=0;V<N;V++)L[V]=this.i(V)|P.i(V);return new s(L,this.h|P.h)},n.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),L=[],V=0;V<N;V++)L[V]=this.i(V)^P.i(V);return new s(L,this.h^P.h)};function j(P){for(var N=P.g.length+1,L=[],V=0;V<N;V++)L[V]=P.i(V)<<1|P.i(V-1)>>>31;return new s(L,P.h)}function X(P,N){var L=N>>5;N%=32;for(var V=P.g.length-L,G=[],k=0;k<V;k++)G[k]=0<N?P.i(k+L)>>>N|P.i(k+L+1)<<32-N:P.i(k+L);return new s(G,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xb=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,bo=s}).apply(typeof cE<"u"?cE:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eb,kc,wb,bd,Zg,Ab,Tb,bb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,b){return g==Array.prototype||g==Object.prototype||(g[w]=b.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var w=0;w<g.length;++w){var b=g[w];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(g,w){if(w)e:{var b=r;g=g.split(".");for(var M=0;M<g.length-1;M++){var $=g[M];if(!($ in b))break e;b=b[$]}g=g[g.length-1],M=b[g],w=w(M),w!=M&&w!=null&&e(b,g,{configurable:!0,writable:!0,value:w})}}function a(g,w){g instanceof String&&(g+="");var b=0,M=!1,$={next:function(){if(!M&&b<g.length){var ne=b++;return{value:w(ne,g[ne]),done:!1}}return M=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(g){return g||function(){return a(this,function(w,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function h(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function p(g,w,b){return g.call.apply(g.bind,arguments)}function m(g,w,b){if(!g)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,M),g.apply(w,$)}}return function(){return g.apply(w,arguments)}}function y(g,w,b){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,w){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),g.apply(this,M)}}function E(g,w){function b(){}b.prototype=w.prototype,g.aa=w.prototype,g.prototype=new b,g.prototype.constructor=g,g.Qb=function(M,$,ne){for(var pe=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)pe[Je-2]=arguments[Je];return w.prototype[$].apply(M,pe)}}function T(g){const w=g.length;if(0<w){const b=Array(w);for(let M=0;M<w;M++)b[M]=g[M];return b}return[]}function S(g,w){for(let b=1;b<arguments.length;b++){const M=arguments[b];if(c(M)){const $=g.length||0,ne=M.length||0;g.length=$+ne;for(let pe=0;pe<ne;pe++)g[$+pe]=M[pe]}else g.push(M)}}class I{constructor(w,b){this.i=w,this.j=b,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(g){return/^[\s\xa0]*$/.test(g)}function D(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function F(g){return F[" "](g),g}F[" "]=function(){};var j=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function X(g,w,b){for(const M in g)w.call(b,g[M],M,g)}function P(g,w){for(const b in g)w.call(void 0,g[b],b,g)}function N(g){const w={};for(const b in g)w[b]=g[b];return w}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(g,w){let b,M;for(let $=1;$<arguments.length;$++){M=arguments[$];for(b in M)g[b]=M[b];for(let ne=0;ne<L.length;ne++)b=L[ne],Object.prototype.hasOwnProperty.call(M,b)&&(g[b]=M[b])}}function G(g){var w=1;g=g.split(":");const b=[];for(;0<w&&g.length;)b.push(g.shift()),w--;return g.length&&b.push(g.join(":")),b}function k(g){u.setTimeout(()=>{throw g},0)}function U(){var g=Xe;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class Se{constructor(){this.h=this.g=null}add(w,b){const M=Ee.get();M.set(w,b),this.h?this.h.next=M:this.g=M,this.h=M}}var Ee=new I(()=>new ee,g=>g.reset());class ee{constructor(){this.next=this.g=this.h=null}set(w,b){this.h=w,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ve=!1,Xe=new Se,q=()=>{const g=u.Promise.resolve(void 0);ce=()=>{g.then(ue)}};var ue=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(b){k(b)}var w=Ee;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}ve=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const b=()=>{};u.addEventListener("test",b,w),u.removeEventListener("test",b,w)}catch{}return g}();function He(g,w){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var b=this.type=g.type,M=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(j){e:{try{F(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else b=="mouseover"?w=g.fromElement:b=="mouseout"&&(w=g.toElement);this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Me[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&He.aa.h.call(this)}}E(He,he);var Me={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),st=0;function cr(g,w,b,M,$){this.listener=g,this.proxy=null,this.src=w,this.type=b,this.capture=!!M,this.ha=$,this.key=++st,this.da=this.fa=!1}function Hi(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function pi(g){this.src=g,this.g={},this.h=0}pi.prototype.add=function(g,w,b,M,$){var ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);var pe=Gi(g,w,M,$);return-1<pe?(w=g[pe],b||(w.fa=!1)):(w=new cr(w,this.src,ne,!!M,$),w.fa=b,g.push(w)),w};function zi(g,w){var b=w.type;if(b in g.g){var M=g.g[b],$=Array.prototype.indexOf.call(M,w,void 0),ne;(ne=0<=$)&&Array.prototype.splice.call(M,$,1),ne&&(Hi(w),g.g[b].length==0&&(delete g.g[b],g.h--))}}function Gi(g,w,b,M){for(var $=0;$<g.length;++$){var ne=g[$];if(!ne.da&&ne.listener==w&&ne.capture==!!b&&ne.ha==M)return $}return-1}var qi="closure_lm_"+(1e6*Math.random()|0),Va={};function ko(g,w,b,M,$){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)ko(g,w[ne],b,M,$);return null}return b=_e(b),g&&g[jt]?g.K(w,b,h(M)?!!M.capture:!1,$):fr(g,w,b,!1,M,$)}function fr(g,w,b,M,$,ne){if(!w)throw Error("Invalid event type");var pe=h($)?!!$.capture:!!$,Je=wr(g);if(Je||(g[qi]=Je=new pi(g)),b=Je.add(w,b,M,pe,ne),b.proxy)return b;if(M=Pr(),b.proxy=M,M.src=g,M.listener=b,g.addEventListener)Te||($=pe),$===void 0&&($=!1),g.addEventListener(w.toString(),M,$);else if(g.attachEvent)g.attachEvent(Xi(w.toString()),M);else if(g.addListener&&g.removeListener)g.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Pr(){function g(b){return w.call(g.src,g.listener,b)}const w=mu;return g}function Bo(g,w,b,M,$){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Bo(g,w[ne],b,M,$);else M=h(M)?!!M.capture:!!M,b=_e(b),g&&g[jt]?(g=g.i,w=String(w).toString(),w in g.g&&(ne=g.g[w],b=Gi(ne,b,M,$),-1<b&&(Hi(ne[b]),Array.prototype.splice.call(ne,b,1),ne.length==0&&(delete g.g[w],g.h--)))):g&&(g=wr(g))&&(w=g.g[w.toString()],g=-1,w&&(g=Gi(w,b,M,$)),(b=-1<g?w[g]:null)&&Ua(b))}function Ua(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[jt])zi(w.i,g);else{var b=g.type,M=g.proxy;w.removeEventListener?w.removeEventListener(b,M,g.capture):w.detachEvent?w.detachEvent(Xi(b),M):w.addListener&&w.removeListener&&w.removeListener(M),(b=wr(w))?(zi(b,g),b.h==0&&(b.src=null,w[qi]=null)):Hi(g)}}}function Xi(g){return g in Va?Va[g]:Va[g]="on"+g}function mu(g,w){if(g.da)g=!0;else{w=new He(w,this);var b=g.listener,M=g.ha||g.src;g.fa&&Ua(g),g=b.call(M,w)}return g}function wr(g){return g=g[qi],g instanceof pi?g:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(g){return typeof g=="function"?g:(g[Vo]||(g[Vo]=function(w){return g.handleEvent(w)}),g[Vo])}function Ae(){me.call(this),this.i=new pi(this),this.M=this,this.F=null}E(Ae,me),Ae.prototype[jt]=!0,Ae.prototype.removeEventListener=function(g,w,b,M){Bo(this,g,w,b,M)};function De(g,w){var b,M=g.F;if(M)for(b=[];M;M=M.F)b.push(M);if(g=g.M,M=w.type||w,typeof w=="string")w=new he(w,g);else if(w instanceof he)w.target=w.target||g;else{var $=w;w=new he(M,g),V(w,$)}if($=!0,b)for(var ne=b.length-1;0<=ne;ne--){var pe=w.g=b[ne];$=_t(pe,M,!0,w)&&$}if(pe=w.g=g,$=_t(pe,M,!0,w)&&$,$=_t(pe,M,!1,w)&&$,b)for(ne=0;ne<b.length;ne++)pe=w.g=b[ne],$=_t(pe,M,!1,w)&&$}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var b=g.g[w],M=0;M<b.length;M++)Hi(b[M]);delete g.g[w],g.h--}}this.F=null},Ae.prototype.K=function(g,w,b,M){return this.i.add(String(g),w,!1,b,M)},Ae.prototype.L=function(g,w,b,M){return this.i.add(String(g),w,!0,b,M)};function _t(g,w,b,M){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,ne=0;ne<w.length;++ne){var pe=w[ne];if(pe&&!pe.da&&pe.capture==b){var Je=pe.listener,un=pe.ha||pe.src;pe.fa&&zi(g.i,pe),$=Je.call(un,M)!==!1&&$}}return $&&!M.defaultPrevented}function ft(g,w,b){if(typeof g=="function")b&&(g=y(g,b));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(g,w||0)}function er(g){g.g=ft(()=>{g.g=null,g.i&&(g.i=!1,er(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class vu extends me{constructor(w,b){super(),this.m=w,this.l=b,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:er(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(g){me.call(this),this.h=g,this.g={}}E(gi,me);var Wi=[];function Jr(g){X(g.g,function(w,b){this.g.hasOwnProperty(b)&&Ua(w)},g),g.g={}}gi.prototype.N=function(){gi.aa.N.call(this),Jr(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=u.JSON.stringify,Bs=u.JSON.parse,Uo=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function yu(){}yu.prototype.h=null;function _u(g){return g.h||(g.h=g.i())}function xu(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){he.call(this,"d")}E($i,he);function Eu(){he.call(this,"c")}E(Eu,he);var mi={},wu=null;function Fa(){return wu=wu||new Ae}mi.La="serverreachability";function Vs(g){he.call(this,mi.La,g)}E(Vs,he);function ja(g){const w=Fa();De(w,new Vs(w))}mi.STAT_EVENT="statevent";function Mf(g,w){he.call(this,mi.STAT_EVENT,g),this.stat=w}E(Mf,he);function Pt(g){const w=Fa();De(w,new Mf(w,g))}mi.Ma="timingevent";function ln(g,w){he.call(this,mi.Ma,g),this.size=w}E(ln,he);function Jt(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},w)}function Mr(){this.g=!0}Mr.prototype.xa=function(){this.g=!1};function Au(g,w,b,M,$,ne){g.info(function(){if(g.g)if(ne)for(var pe="",Je=ne.split("&"),un=0;un<Je.length;un++){var et=Je[un].split("=");if(1<et.length){var An=et[0];et=et[1];var cn=An.split("_");pe=2<=cn.length&&cn[1]=="type"?pe+(An+"="+et+"&"):pe+(An+"=redacted&")}}else pe=null;else pe=ne;return"XMLHTTP REQ ("+M+") [attempt "+$+"]: "+w+`
`+b+`
`+pe})}function H0(g,w,b,M,$,ne,pe){g.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+$+"]: "+w+`
`+b+`
`+ne+" "+pe})}function Ha(g,w,b,M){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+Fo(g,b)+(M?" "+M:"")})}function Lf(g,w){g.info(function(){return"TIMEOUT: "+w})}Mr.prototype.info=function(){};function Fo(g,w){if(!g.g)return w;if(!w)return null;try{var b=JSON.parse(w);if(b){for(g=0;g<b.length;g++)if(Array.isArray(b[g])){var M=b[g];if(!(2>M.length)){var $=M[1];if(Array.isArray($)&&!(1>$.length)){var ne=$[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var pe=1;pe<$.length;pe++)$[pe]=""}}}}return Ar(b)}catch{return w}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function yi(){}E(yi,yu),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},vi=new yi;function tr(g,w,b,M){this.j=g,this.i=w,this.l=b,this.R=M||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xt}function Xt(){this.i=null,this.g="",this.h=!1}var Tu={},Us={};function ei(g,w,b){g.L=1,g.v=qo(Tr(w)),g.m=b,g.P=!0,Qi(g,null)}function Qi(g,w){g.F=Date.now(),jo(g),g.A=Tr(g.v);var b=g.A,M=g.R;Array.isArray(M)||(M=[String(M)]),Nu(b.i,"t",M),g.C=0,b=g.j.J,g.h=new Xt,g.g=Qf(g.j,b?w:null,!g.m),0<g.O&&(g.M=new vu(y(g.Y,g,g.g),g.O)),w=g.U,b=g.g,M=g.ca;var $="readystatechange";Array.isArray($)||($&&(Wi[0]=$.toString()),$=Wi);for(var ne=0;ne<$.length;ne++){var pe=ko(b,$[ne],M||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),ja(),Au(g.i,g.u,g.A,g.l,g.R,g.m)}tr.prototype.ca=function(g){g=g.target;const w=this.M;w&&Vr(g)==3?w.j():this.Y(g)},tr.prototype.Y=function(g){try{if(g==this.g)e:{const cn=Vr(this.g);var w=this.g.Ba();const aa=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||zf(this.g)))){this.J||cn!=4||w==7||(w==8||0>=aa?ja(3):ja(2)),Ga(this);var b=this.g.Z();this.X=b;t:if(kf(this)){var M=zf(this.g);g="";var $=M.length,ne=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),_i(this);var pe="";break t}this.h.i=new u.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,g+=this.h.i.decode(M[w],{stream:!(ne&&w==$-1)});M.length=0,this.h.g+=g,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=b==200,H0(this.i,this.u,this.A,this.l,this.R,cn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,un=this.g;if((Je=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Je)){var et=Je;break t}}et=null}if(b=et)Ha(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ho(this,b);else{this.o=!1,this.s=3,Pt(12),Dn(this),_i(this);break e}}if(this.P){b=!0;let Pn;for(;!this.J&&this.C<pe.length;)if(Pn=Bf(this,pe),Pn==Us){cn==4&&(this.s=4,Pt(14),b=!1),Ha(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==Tu){this.s=4,Pt(15),Ha(this.i,this.l,pe,"[Invalid Chunk]"),b=!1;break}else Ha(this.i,this.l,Pn,null),Ho(this,Pn);if(kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||pe.length!=0||this.h.h||(this.s=1,Pt(16),b=!1),this.o=this.o&&b,!b)Ha(this.i,this.l,pe,"[Invalid Chunked Response]"),Dn(this),_i(this);else if(0<pe.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),Jo(An),An.M=!0,Pt(11))}}else Ha(this.i,this.l,pe,null),Ho(this,pe);cn==4&&Dn(this),this.o&&!this.J&&(cn==4?Yf(this.j,this):(this.o=!1,jo(this)))}else W0(this.g),b==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Dn(this),_i(this)}}}catch{}finally{}};function kf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Bf(g,w){var b=g.C,M=w.indexOf(`
`,b);return M==-1?Us:(b=Number(w.substring(b,M)),isNaN(b)?Tu:(M+=1,M+b>w.length?Us:(w=w.slice(M,M+b),g.C=M+b,w)))}tr.prototype.cancel=function(){this.J=!0,Dn(this)};function jo(g){g.S=Date.now()+g.I,Vf(g,g.I)}function Vf(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Jt(y(g.ba,g),w)}function Ga(g){g.B&&(u.clearTimeout(g.B),g.B=null)}tr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Lf(this.i,this.A),this.L!=2&&(ja(),Pt(17)),Dn(this),this.s=2,_i(this)):Vf(this,this.S-g)};function _i(g){g.j.G==0||g.J||Yf(g.j,g)}function Dn(g){Ga(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Jr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function Ho(g,w){try{var b=g.j;if(b.G!=0&&(b.g==g||bu(b.h,g))){if(!g.K&&bu(b.h,g)&&b.G==3){try{var M=b.Da.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var $=M;if($[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<g.F)Qs(b),$s(b);else break e;Lu(b),Pt(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=Jt(y(b.Za,b),6e3));if(1>=js(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ia(b,11)}else if((g.K||b.g==g)&&Qs(b),!R(w))for($=b.Da.g.parse(w),w=0;w<$.length;w++){let et=$[w];if(b.T=et[0],et=et[1],b.G==2)if(et[0]=="c"){b.K=et[1],b.ia=et[2];const An=et[3];An!=null&&(b.la=An,b.j.info("VER="+b.la));const cn=et[4];cn!=null&&(b.Aa=cn,b.j.info("SVER="+b.Aa));const aa=et[5];aa!=null&&typeof aa=="number"&&0<aa&&(M=1.5*aa,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;const Pn=g.g;if(Pn){const Si=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var ne=M.h;ne.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Hs(ne,ne.h),ne.h=null))}if(M.D){const Bu=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bu&&(M.ya=Bu,xt(M.I,M.D,Bu))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-g.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var pe=g;if(M.qa=Kf(M,M.J?M.ia:null,M.W),pe.K){nr(M.h,pe);var Je=pe,un=M.L;un&&(Je.I=un),Je.B&&(Ga(Je),jo(Je)),M.g=pe}else Xf(M);0<b.i.length&&Ks(b)}else et[0]!="stop"&&et[0]!="close"||ia(b,7);else b.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?ia(b,7):Pu(b):et[0]!="noop"&&b.l&&b.l.ta(et),b.v=0)}}ja(4)}catch{}}var Uf=class{constructor(g,w){this.g=g,this.map=w}};function Zi(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function js(g){return g.h?1:g.g?g.g.size:0}function bu(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function Hs(g,w){g.g?g.g.add(w):g.h=w}function nr(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Zi.prototype.cancel=function(){if(this.i=Su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Su(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const b of g.g.values())w=w.concat(b.D);return w}return T(g.i)}function z0(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var w=[],b=g.length,M=0;M<b;M++)w.push(g[M]);return w}w=[],b=0;for(M in g)w[b++]=g[M];return w}function zs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var w=[];g=g.length;for(var b=0;b<g;b++)w.push(b);return w}w=[],b=0;for(const M in g)w[b++]=M;return w}}}function Cu(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var b=zs(g),M=z0(g),$=M.length,ne=0;ne<$;ne++)w.call(void 0,M[ne],b&&b[ne],g)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G0(g,w){if(g){g=g.split("&");for(var b=0;b<g.length;b++){var M=g[b].indexOf("="),$=null;if(0<=M){var ne=g[b].substring(0,M);$=g[b].substring(M+1)}else ne=g[b];w(ne,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function en(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof en){this.h=g.h,Go(this,g.j),this.o=g.o,this.g=g.g,qa(this,g.s),this.l=g.l;var w=g.i,b=new ea;b.i=w.i,w.g&&(b.g=new Map(w.g),b.h=w.h),Ji(this,b),this.m=g.m}else g&&(w=String(g).match(zo))?(this.h=!1,Go(this,w[1]||"",!0),this.o=Lr(w[2]||""),this.g=Lr(w[3]||"",!0),qa(this,w[4]),this.l=Lr(w[5]||"",!0),Ji(this,w[6]||"",!0),this.m=Lr(w[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}en.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Xo(w,Iu,!0),":");var b=this.g;return(b||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Xo(w,Iu,!0),"@"),g.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&g.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&g.push("/"),g.push(Xo(b,b.charAt(0)=="/"?q0:Ru,!0))),(b=this.i.toString())&&g.push("?",b),(b=this.m)&&g.push("#",Xo(b,Gs)),g.join("")};function Tr(g){return new en(g)}function Go(g,w,b){g.j=b?Lr(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function qa(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function Ji(g,w,b){w instanceof ea?(g.i=w,jf(g.i,g.h)):(b||(w=Xo(w,X0)),g.i=new ea(w,g.h))}function xt(g,w,b){g.i.set(w,b)}function qo(g){return xt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Lr(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Xo(g,w,b){return typeof g=="string"?(g=encodeURI(g).replace(w,Ff),b&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ff(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Iu=/[#\/\?@]/g,Ru=/[#\?:]/g,q0=/[#\?]/g,X0=/[#\?@]/g,Gs=/#/g;function ea(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function kr(g){g.g||(g.g=new Map,g.h=0,g.i&&G0(g.i,function(w,b){g.add(decodeURIComponent(w.replace(/\+/g," ")),b)}))}n=ea.prototype,n.add=function(g,w){kr(this),this.i=null,g=xi(this,g);var b=this.g.get(g);return b||this.g.set(g,b=[]),b.push(w),this.h+=1,this};function ta(g,w){kr(g),w=xi(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function na(g,w){return kr(g),w=xi(g,w),g.g.has(w)}n.forEach=function(g,w){kr(this),this.g.forEach(function(b,M){b.forEach(function($){g.call(w,$,M,this)},this)},this)},n.na=function(){kr(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),b=[];for(let M=0;M<w.length;M++){const $=g[M];for(let ne=0;ne<$.length;ne++)b.push(w[M])}return b},n.V=function(g){kr(this);let w=[];if(typeof g=="string")na(this,g)&&(w=w.concat(this.g.get(xi(this,g))));else{g=Array.from(this.g.values());for(let b=0;b<g.length;b++)w=w.concat(g[b])}return w},n.set=function(g,w){return kr(this),this.i=null,g=xi(this,g),na(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},n.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function Nu(g,w,b){ta(g,w),0<b.length&&(g.i=null,g.g.set(xi(g,w),T(b)),g.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var b=0;b<w.length;b++){var M=w[b];const ne=encodeURIComponent(String(M)),pe=this.V(M);for(M=0;M<pe.length;M++){var $=ne;pe[M]!==""&&($+="="+encodeURIComponent(String(pe[M]))),g.push($)}}return this.i=g.join("&")};function xi(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function jf(g,w){w&&!g.j&&(kr(g),g.i=null,g.g.forEach(function(b,M){var $=M.toLowerCase();M!=$&&(ta(this,M),Nu(this,$,b))},g)),g.j=w}function Wo(g,w){const b=new Mr;if(u.Image){const M=new Image;M.onload=x(Br,b,"TestLoadImage: loaded",!0,w,M),M.onerror=x(Br,b,"TestLoadImage: error",!1,w,M),M.onabort=x(Br,b,"TestLoadImage: abort",!1,w,M),M.ontimeout=x(Br,b,"TestLoadImage: timeout",!1,w,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=g}else w(!1)}function ti(g,w){const b=new Mr,M=new AbortController,$=setTimeout(()=>{M.abort(),Br(b,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:M.signal}).then(ne=>{clearTimeout($),ne.ok?Br(b,"TestPingServer: ok",!0,w):Br(b,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),Br(b,"TestPingServer: error",!1,w)})}function Br(g,w,b,M,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),M(b)}catch{}}function Yo(){this.g=new Uo}function Ei(g,w,b){const M=b||"";try{Cu(g,function($,ne){let pe=$;h($)&&(pe=Ar($)),w.push(M+ne+"="+encodeURIComponent(pe))})}catch($){throw w.push(M+"type="+encodeURIComponent("_badmap")),$}}function Xa(g){this.l=g.Ub||null,this.j=g.eb||!1}E(Xa,yu),Xa.prototype.g=function(){return new ra(this.l,this.j)},Xa.prototype.i=function(g){return function(){return g}}({});function ra(g,w){Ae.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(ra,Ae),n=ra.prototype,n.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,Ai(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ou(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?wi(this):Ai(this),this.readyState==3&&Ou(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,wi(this))},n.Qa=function(g){this.g&&(this.response=g,wi(this))},n.ga=function(){this.g&&wi(this)};function wi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ai(g)}n.setRequestHeader=function(g,w){this.u.append(g,w)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var b=w.next();!b.done;)b=b.value,g.push(b[0]+": "+b[1]),b=w.next();return g.join(`\r
`)};function Ai(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Du(g){let w="";return X(g,function(b,M){w+=M,w+=":",w+=b,w+=`\r
`}),w}function wn(g,w,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=Du(b),typeof g=="string"?b!=null&&encodeURIComponent(String(b)):xt(g,w,b))}function ht(g){Ae.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ht,Ae);var qs=/^https?$/i,$o=["POST","PUT"];n=ht.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,w,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?_u(this.o):_u(vi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(ne){Hf(this,ne);return}if(g=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var $ in M)b.set($,M[$]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ne of M.keys())b.set(ne,M.get(ne));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(ne=>ne.toLowerCase()=="content-type"),$=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call($o,w,void 0))||M||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,pe]of b)this.g.setRequestHeader(ne,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ko(this),this.u=!0,this.g.send(g),this.u=!1}catch(ne){Hf(this,ne)}};function Hf(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Xs(g),Ti(g)}function Xs(g){g.A||(g.A=!0,De(g,"complete"),De(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,De(this,"complete"),De(this,"abort"),Ti(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ws(this):this.bb())},n.bb=function(){Ws(this)};function Ws(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Vr(g)!=4||g.Z()!=2)){if(g.u&&Vr(g)==4)ft(g.Ea,0,g);else if(De(g,"readystatechange"),Vr(g)==4){g.h=!1;try{const pe=g.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var b;if(!(b=w)){var M;if(M=pe===0){var $=String(g.D).match(zo)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),M=!qs.test($?$.toLowerCase():"")}b=M}if(b)De(g,"complete"),De(g,"success");else{g.m=6;try{var ne=2<Vr(g)?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.Z()+"]",Xs(g)}}finally{Ti(g)}}}}function Ti(g,w){if(g.g){Ko(g);const b=g.g,M=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||De(g,"ready");try{b.onreadystatechange=M}catch{}}}function Ko(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Vr(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),Bs(w)}};function zf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function W0(g){const w={};g=(g.g&&2<=Vr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<g.length;M++){if(R(g[M]))continue;var b=G(g[M]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ne=w[$]||[];w[$]=ne,ne.push(b)}P(w,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(g,w,b){return b&&b.internalChannelParams&&b.internalChannelParams[g]||w}function Ys(g){this.Aa=0,this.i=[],this.j=new Mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,g),this.cb=Qo("retryDelaySeedMs",1e4,g),this.Wa=Qo("forwardChannelMaxRetries",2,g),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Zi(g&&g.concurrentRequestLimit),this.Da=new Yo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ys.prototype,n.la=8,n.G=1,n.connect=function(g,w,b,M){Pt(0),this.W=g,this.H=w||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=Kf(this,null,this.W),Ks(this)};function Pu(g){if(Gf(g),g.G==3){var w=g.U++,b=Tr(g.I);if(xt(b,"SID",g.K),xt(b,"RID",w),xt(b,"TYPE","terminate"),Zo(g,b),w=new tr(g,g.j,w),w.L=2,w.v=qo(Tr(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!b&&u.Image&&(new Image().src=w.v,b=!0),b||(w.g=Qf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),jo(w)}$f(g)}function $s(g){g.g&&(Jo(g),g.g.cancel(),g.g=null)}function Gf(g){$s(g),g.u&&(u.clearTimeout(g.u),g.u=null),Qs(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Ks(g){if(!Fs(g.h)&&!g.s){g.s=!0;var w=g.Ga;ce||q(),ve||(ce(),ve=!0),Xe.add(w,g),g.B=0}}function Y0(g,w){return js(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Jt(y(g.Ga,g,w),ku(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const $=new tr(this,this.j,g);let ne=this.o;if(this.S&&(ne?(ne=N(ne),V(ne,this.S)):ne=this.S),this.m!==null||this.O||($.H=ne,ne=null),this.P)e:{for(var w=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,4096<w){w=b;break e}if(w===4096||b===this.i.length-1){w=b+1;break e}}w=1e3}else w=1e3;w=qf(this,$,w),b=Tr(this.I),xt(b,"RID",g),xt(b,"CVER",22),this.D&&xt(b,"X-HTTP-Session-Id",this.D),Zo(this,b),ne&&(this.O?w="headers="+encodeURIComponent(String(Du(ne)))+"&"+w:this.m&&wn(b,this.m,ne)),Hs(this.h,$),this.Ua&&xt(b,"TYPE","init"),this.P?(xt(b,"$req",w),xt(b,"SID","null"),$.T=!0,ei($,b,null)):ei($,b,w),this.G=2}}else this.G==3&&(g?Mu(this,g):this.i.length==0||Fs(this.h)||Mu(this))};function Mu(g,w){var b;w?b=w.l:b=g.U++;const M=Tr(g.I);xt(M,"SID",g.K),xt(M,"RID",b),xt(M,"AID",g.T),Zo(g,M),g.m&&g.o&&wn(M,g.m,g.o),b=new tr(g,g.j,b,g.B+1),g.m===null&&(b.H=g.o),w&&(g.i=w.D.concat(g.i)),w=qf(g,b,1e3),b.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Hs(g.h,b),ei(b,M,w)}function Zo(g,w){g.H&&X(g.H,function(b,M){xt(w,M,b)}),g.l&&Cu({},function(b,M){xt(w,M,b)})}function qf(g,w,b){b=Math.min(g.i.length,b);var M=g.l?y(g.l.Na,g.l,g):null;e:{var $=g.i;let ne=-1;for(;;){const pe=["count="+b];ne==-1?0<b?(ne=$[0].g,pe.push("ofs="+ne)):ne=0:pe.push("ofs="+ne);let Je=!0;for(let un=0;un<b;un++){let et=$[un].g;const An=$[un].map;if(et-=ne,0>et)ne=Math.max(0,$[un].g-100),Je=!1;else try{Ei(An,pe,"req"+et+"_")}catch{M&&M(An)}}if(Je){M=pe.join("&");break e}}}return g=g.i.splice(0,b),w.D=g,M}function Xf(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;ce||q(),ve||(ce(),ve=!0),Xe.add(w,g),g.v=0}}function Lu(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Jt(y(g.Fa,g),ku(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Wf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Jt(y(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),$s(this),Wf(this))};function Jo(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Wf(g){g.g=new tr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Tr(g.qa);xt(w,"RID","rpc"),xt(w,"SID",g.K),xt(w,"AID",g.T),xt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&xt(w,"TO",g.ja),xt(w,"TYPE","xmlhttp"),Zo(g,w),g.m&&g.o&&wn(w,g.m,g.o),g.L&&(g.g.I=g.L);var b=g.g;g=g.ia,b.L=1,b.v=qo(Tr(w)),b.m=null,b.P=!0,Qi(b,g)}n.Za=function(){this.C!=null&&(this.C=null,$s(this),Lu(this),Pt(19))};function Qs(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Yf(g,w){var b=null;if(g.g==w){Qs(g),Jo(g),g.g=null;var M=2}else if(bu(g.h,w))b=w.D,nr(g.h,w),M=1;else return;if(g.G!=0){if(w.o)if(M==1){b=w.m?w.m.length:0,w=Date.now()-w.F;var $=g.B;M=Fa(),De(M,new ln(M,b)),Ks(g)}else Xf(g);else if($=w.s,$==3||$==0&&0<w.X||!(M==1&&Y0(g,w)||M==2&&Lu(g)))switch(b&&0<b.length&&(w=g.h,w.i=w.i.concat(b)),$){case 1:ia(g,5);break;case 4:ia(g,10);break;case 3:ia(g,6);break;default:ia(g,2)}}}function ku(g,w){let b=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(b*=2),b*w}function ia(g,w){if(g.j.info("Error code "+w),w==2){var b=y(g.fb,g),M=g.Xa;const $=!M;M=new en(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Go(M,"https"),qo(M),$?Wo(M.toString(),b):ti(M.toString(),b)}else Pt(2);g.G=0,g.l&&g.l.sa(w),$f(g),Gf(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function $f(g){if(g.G=0,g.ka=[],g.l){const w=Su(g.h);(w.length!=0||g.i.length!=0)&&(S(g.ka,w),S(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function Kf(g,w,b){var M=b instanceof en?Tr(b):new en(b);if(M.g!="")w&&(M.g=w+"."+M.g),qa(M,M.s);else{var $=u.location;M=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var ne=new en(null);M&&Go(ne,M),w&&(ne.g=w),$&&qa(ne,$),b&&(ne.l=b),M=ne}return b=g.D,w=g.ya,b&&w&&xt(M,b,w),xt(M,"VER",g.la),Zo(g,M),M}function Qf(g,w,b){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new ht(new Xa({eb:b})):new ht(g.pa),w.Ha(g.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zf(){}n=Zf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Zs(){}Zs.prototype.g=function(g,w){return new rr(g,w)};function rr(g,w){Ae.call(this),this.g=new Ys(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!R(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new bi(this)}E(rr,Ae),rr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Pu(this.g)},rr.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var b={};b.__data__=g,g=b}else this.u&&(b={},b.__data__=Ar(g),g=b);w.i.push(new Uf(w.Ya++,g)),w.G==3&&Ks(w)},rr.prototype.N=function(){this.g.l=null,delete this.j,Pu(this.g),delete this.g,rr.aa.N.call(this)};function Jf(g){$i.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const b in w){g=b;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}E(Jf,$i);function eh(){Eu.call(this),this.status=1}E(eh,Eu);function bi(g){this.g=g}E(bi,Zf),bi.prototype.ua=function(){De(this.g,"a")},bi.prototype.ta=function(g){De(this.g,new Jf(g))},bi.prototype.sa=function(g){De(this.g,new eh)},bi.prototype.ra=function(){De(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,bb=function(){return new Zs},Tb=function(){return Fa()},Ab=mi,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,bd=za,Ki.COMPLETE="complete",wb=Ki,xu.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,kc=xu,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Eb=ht}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});const fE="@firebase/firestore",hE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Mm("@firebase/firestore");function Rl(){return Ns.logLevel}function ye(n,...e){if(Ns.logLevel<=Qe.DEBUG){const t=e.map(av);Ns.debug(`Firestore (${cu}): ${n}`,...t)}}function Da(n,...e){if(Ns.logLevel<=Qe.ERROR){const t=e.map(av);Ns.error(`Firestore (${cu}): ${n}`,...t)}}function Gl(n,...e){if(Ns.logLevel<=Qe.WARN){const t=e.map(av);Ns.warn(`Firestore (${cu}): ${n}`,...t)}}function av(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Sb(n,r,t)}function Sb(n,e,t){let r=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Da(r),new Error(r)}function pt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Sb(e,i,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends La{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($n.UNAUTHENTICATED))}shutdown(){}}class E5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class w5{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new So;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new So,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new So)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new Cb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class A5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new A5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new dE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new dE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=S5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function Jg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return qe(r,i);{const a=Ib(),s=C5(a.encode(pE(n,t)),a.encode(pE(e,t)));return s!==0?s:qe(r,i)}}t+=r>65535?2:1}return qe(n.length,e.length)}function pE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function C5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qe(n[t],e[t]);return qe(n.length,e.length)}function ql(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,mE=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mE);return new xn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gE)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new xn(0,0))}static max(){return new Be(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__name__";class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Pi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return qe(e.length,t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),i=Pi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):Jg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class Gt extends Pi{construct(e,t,r){return new Gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Gt(t)}static emptyPath(){return new Gt([])}}const I5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jn extends Pi{construct(e,t,r){return new jn(e,t,r)}static isValidIdentifier(e){return I5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vE}static keyField(){return new jn([vE])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ne(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ne(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new Ne(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jn(t)}static emptyPath(){return new jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Gt.fromString(e))}static fromName(e){return new Oe(Gt.fromString(e).popFirst(5))}static empty(){return new Oe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;function R5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new xn(t+1,0):new xn(t,r));return new Ro(i,Oe.empty(),e)}function N5(n){return new Ro(n.readTime,n.key,af)}class Ro{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ro(Be.min(),Oe.empty(),af)}static max(){return new Ro(Be.max(),Oe.empty(),af)}}function O5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==D5)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&t()},c=>r(c))}),s=!0,a===i&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(i=>i?le.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new le((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const h=c;t(e[h]).next(p=>{s[h]=p,++u,u===a&&r(s)},p=>i(p))}})}static doWhile(e,t){return new le((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function M5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}C0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=-1;function I0(n){return n==null}function Gd(n){return n===0&&1/n==-1/0}function L5(n){return typeof n=="number"&&Number.isInteger(n)&&!Gd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="";function k5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yE(e)),e=B5(n.get(t),e);return yE(e)}function B5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Nb:t+="";break;default:t+=a}}return t}function yE(n){return n+Nb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ob(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}}class ad{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Un.RED,this.left=i??Un.EMPTY,this.right=a??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Un(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(jn.comparator)}static empty(){return new ui([])}unionWith(e){let t=new En(jn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Db("Invalid base64 string: "+a):a}}(e);return new zn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const V5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const t=V5.exec(n);if(pt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(n.seconds),nanos:Qt(n.nanos)}}function Qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oo(n){return typeof n=="string"?zn.fromBase64String(n):zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="server_timestamp",Mb="__type__",Lb="__previous_value__",kb="__local_write_time__";function sv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mb])===null||t===void 0?void 0:t.stringValue)===Pb}function R0(n){const e=n.mapValue.fields[Lb];return sv(e)?R0(e):e}function of(n){const e=No(n.mapValue.fields[kb].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,t,r,i,a,s,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const qd="(default)";class sf{constructor(e,t){this.projectId=e,this.database=t||qd}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__type__",F5="__max__",od={mapValue:{}},Vb="__vector__",Xd="value";function Do(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sv(n)?4:H5(n)?9007199254740991:j5(n)?10:11:ke(28295,{value:n})}function Ui(n,e){if(n===e)return!0;const t=Do(n);if(t!==Do(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return of(n).isEqual(of(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=No(i.timestampValue),u=No(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Oo(i.bytesValue).isEqual(Oo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Qt(i.geoPointValue.latitude)===Qt(a.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Qt(i.integerValue)===Qt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Qt(i.doubleValue),u=Qt(a.doubleValue);return s===u?Gd(s)===Gd(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return ql(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(_E(s)!==_E(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Ui(s[c],u[c])))return!1;return!0}(n,e);default:return ke(52216,{left:n})}}function lf(n,e){return(n.values||[]).find(t=>Ui(t,e))!==void 0}function Xl(n,e){if(n===e)return 0;const t=Do(n),r=Do(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(a,s){const u=Qt(a.integerValue||a.doubleValue),c=Qt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return EE(n.timestampValue,e.timestampValue);case 4:return EE(of(n),of(e));case 5:return Jg(n.stringValue,e.stringValue);case 6:return function(a,s){const u=Oo(a),c=Oo(s);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=qe(u[h],c[h]);if(p!==0)return p}return qe(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const u=qe(Qt(a.latitude),Qt(s.latitude));return u!==0?u:qe(Qt(a.longitude),Qt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return wE(n.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,h,p;const m=a.fields||{},y=s.fields||{},x=(u=m[Xd])===null||u===void 0?void 0:u.arrayValue,E=(c=y[Xd])===null||c===void 0?void 0:c.arrayValue,T=qe(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:wE(x,E)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===od.mapValue&&s===od.mapValue)return 0;if(a===od.mapValue)return 1;if(s===od.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=Jg(c[m],p[m]);if(y!==0)return y;const x=Xl(u[c[m]],h[p[m]]);if(x!==0)return x}return qe(c.length,p.length)}(n.mapValue,e.mapValue);default:throw ke(23264,{Pe:t})}}function EE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=No(n),r=No(e),i=qe(t.seconds,r.seconds);return i!==0?i:qe(t.nanos,r.nanos)}function wE(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Xl(t[i],r[i]);if(a)return a}return qe(t.length,r.length)}function Wl(n){return em(n)}function em(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=No(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=em(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${em(t.fields[s])}`;return i+"}"}(n.mapValue):ke(61005,{value:n})}function Sd(n){switch(Do(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=R0(n);return e?16+Sd(e):16;case 5:return 2*n.stringValue.length;case 6:return Oo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Sd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ps(r.fields,(a,s)=>{i+=a.length+Sd(s)}),i}(n.mapValue);default:throw ke(13486,{value:n})}}function tm(n){return!!n&&"integerValue"in n}function lv(n){return!!n&&"arrayValue"in n}function AE(n){return!!n&&"nullValue"in n}function TE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cd(n){return!!n&&"mapValue"in n}function j5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bb])===null||t===void 0?void 0:t.stringValue)===Vb}function Wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ps(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===F5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(t)}setAll(e){let t=jn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}s?r[u.lastSegment()]=Wc(s):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Cd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ps(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wr(Wc(this.value))}}function Ub(n){const e=[];return Ps(n.fields,(t,r)=>{const i=new jn([t]);if(Cd(r)){const a=Ub(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t,r,i,a,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,Be.min(),Be.min(),Be.min(),Wr.empty(),0)}static newFoundDocument(e,t,r,i){return new Kn(e,1,t,Be.min(),r,i,0)}static newNoDocument(e,t){return new Kn(e,2,t,Be.min(),Be.min(),Wr.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Be.min(),Be.min(),Wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.position=e,this.inclusive=t}}function bE(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=Oe.comparator(Oe.fromName(s.referenceValue),t.key):r=Xl(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function SE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function z5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class vn extends Fb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new q5(e,t,r):t==="array-contains"?new Y5(e,r):t==="in"?new $5(e,r):t==="not-in"?new K5(e,r):t==="array-contains-any"?new Q5(e,r):new vn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new X5(e,r):new W5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xl(t,this.value)):t!==null&&Do(this.value)===Do(t)&&this.matchesComparison(Xl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends Fb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Fi(e,t)}matches(e){return jb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function jb(n){return n.op==="and"}function Hb(n){return G5(n)&&jb(n)}function G5(n){for(const e of n.filters)if(e instanceof Fi)return!1;return!0}function nm(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+Wl(n.value);if(Hb(n))return n.filters.map(e=>nm(e)).join(",");{const e=n.filters.map(t=>nm(t)).join(",");return`${n.op}(${e})`}}function zb(n,e){return n instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.field.isEqual(i.field)&&Ui(r.value,i.value)}(n,e):n instanceof Fi?function(r,i){return i instanceof Fi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,u)=>a&&zb(s,i.filters[u]),!0):!1}(n,e):void ke(19439)}function Gb(n){return n instanceof vn?function(t){return`${t.field.canonicalString()} ${t.op} ${Wl(t.value)}`}(n):n instanceof Fi?function(t){return t.op.toString()+" {"+t.getFilters().map(Gb).join(" ,")+"}"}(n):"Filter"}class q5 extends vn{constructor(e,t,r){super(e,t,r),this.key=Oe.fromName(r.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class X5 extends vn{constructor(e,t){super(e,"in",t),this.keys=qb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W5 extends vn{constructor(e,t){super(e,"not-in",t),this.keys=qb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Oe.fromName(r.referenceValue))}class Y5 extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&lf(t.arrayValue,this.value)}}class $5 extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lf(this.value.arrayValue,t)}}class K5 extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lf(this.value.arrayValue,t)}}class Q5 extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,t=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Ie=null}}function CE(n,e=null,t=[],r=[],i=null,a=null,s=null){return new Z5(n,e,t,r,i,a,s)}function uv(n){const e=Ue(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),I0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wl(r)).join(",")),e.Ie=t}return e.Ie}function cv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!z5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SE(n.startAt,e.startAt)&&SE(n.endAt,e.endAt)}function rm(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function J5(n,e,t,r,i,a,s,u){return new N0(n,e,t,r,i,a,s,u)}function fv(n){return new N0(n)}function IE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function e7(n){return n.collectionGroup!==null}function Yc(n){const e=Ue(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new En(jn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Yd(a,r))}),t.has(jn.keyField().canonicalString())||e.Ee.push(new Yd(jn.keyField(),r))}return e.Ee}function ki(n){const e=Ue(n);return e.de||(e.de=t7(e,Yc(n))),e.de}function t7(n,e){if(n.limitType==="F")return CE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Yd(i.field,a)});const t=n.endAt?new Wd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Wd(n.startAt.position,n.startAt.inclusive):null;return CE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function im(n,e,t){return new N0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function O0(n,e){return cv(ki(n),ki(e))&&n.limitType===e.limitType}function Xb(n){return`${uv(ki(n))}|lt:${n.limitType}`}function Nl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Gb(i)).join(", ")}]`),I0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wl(i)).join(",")),`Target(${r})`}(ki(n))}; limitType=${n.limitType})`}function D0(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Oe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Yc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const h=bE(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,u,c){const h=bE(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,Yc(r),i))}(n,e)}function n7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Wb(n){return(e,t)=>{let r=!1;for(const i of Yc(n)){const a=r7(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function r7(n,e,t){const r=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(a,s,u){const c=s.data.field(a),h=u.data.field(a);return c!==null&&h!==null?Xl(c,h):ke(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=new Ft(Oe.comparator);function Pa(){return i7}const Yb=new Ft(Oe.comparator);function Bc(...n){let e=Yb;for(const t of n)e=e.insert(t.key,t);return e}function $b(n){let e=Yb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return $c()}function Kb(){return $c()}function $c(){return new Ms(n=>n.toString(),(n,e)=>n.isEqual(e))}const a7=new Ft(Oe.comparator),o7=new En(Oe.comparator);function Ze(...n){let e=o7;for(const t of n)e=e.add(t);return e}const s7=new En(qe);function l7(){return s7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gd(e)?"-0":e}}function Qb(n){return{integerValue:""+n}}function u7(n,e){return L5(e)?Qb(e):hv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this._=void 0}}function c7(n,e,t){return n instanceof uf?function(i,a){const s={fields:{[Mb]:{stringValue:Pb},[kb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sv(a)&&(a=R0(a)),a&&(s.fields[Lb]=a),{mapValue:s}}(t,e):n instanceof cf?Jb(n,e):n instanceof ff?eS(n,e):function(i,a){const s=Zb(i,a),u=RE(s)+RE(i.Re);return tm(s)&&tm(i.Re)?Qb(u):hv(i.serializer,u)}(n,e)}function f7(n,e,t){return n instanceof cf?Jb(n,e):n instanceof ff?eS(n,e):t}function Zb(n,e){return n instanceof $d?function(r){return tm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class uf extends P0{}class cf extends P0{constructor(e){super(),this.elements=e}}function Jb(n,e){const t=tS(e);for(const r of n.elements)t.some(i=>Ui(i,r))||t.push(r);return{arrayValue:{values:t}}}class ff extends P0{constructor(e){super(),this.elements=e}}function eS(n,e){let t=tS(e);for(const r of n.elements)t=t.filter(i=>!Ui(i,r));return{arrayValue:{values:t}}}class $d extends P0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function RE(n){return Qt(n.integerValue||n.doubleValue)}function tS(n){return lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,t){this.field=e,this.transform=t}}function d7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof cf&&i instanceof cf||r instanceof ff&&i instanceof ff?ql(r.elements,i.elements,Ui):r instanceof $d&&i instanceof $d?Ui(r.Re,i.Re):r instanceof uf&&i instanceof uf}(n.transform,e.transform)}class p7{constructor(e,t){this.version=e,this.transformResults=t}}class Ca{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ca}static exists(e){return new Ca(void 0,e)}static updateTime(e){return new Ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class M0{}function nS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new iS(n.key,Ca.none()):new bf(n.key,n.data,Ca.none());{const t=n.data,r=Wr.empty();let i=new En(jn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Ls(n.key,r,new ui(i.toArray()),Ca.none())}}function g7(n,e,t){n instanceof bf?function(i,a,s){const u=i.value.clone(),c=OE(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ls?function(i,a,s){if(!Id(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=OE(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(rS(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Kc(n,e,t,r){return n instanceof bf?function(a,s,u,c){if(!Id(a.precondition,s))return u;const h=a.value.clone(),p=DE(a.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ls?function(a,s,u,c){if(!Id(a.precondition,s))return u;const h=DE(a.fieldTransforms,c,s),p=s.data;return p.setAll(rS(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(a,s,u){return Id(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(n,e,t)}function m7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Zb(r.transform,i||null);a!=null&&(t===null&&(t=Wr.empty()),t.set(r.field,a))}return t||null}function NE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(a,s)=>d7(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bf extends M0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ls extends M0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OE(n,e,t){const r=new Map;pt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,f7(s,u,t[i]))}return r}function DE(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,c7(a,s,e))}return r}class iS extends M0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v7 extends M0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&g7(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Kb();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=t.has(i.key)?null:u;const c=nS(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(t,r)=>NE(t,r))&&ql(this.baseMutations,e.baseMutations,(t,r)=>NE(t,r))}}class dv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return a7}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new dv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,nt;function E7(n){switch(n){case fe.OK:return ke(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function aS(n){if(n===void 0)return Da("GRPC error has no .code"),fe.UNKNOWN;switch(n){case rn.OK:return fe.OK;case rn.CANCELLED:return fe.CANCELLED;case rn.UNKNOWN:return fe.UNKNOWN;case rn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case rn.INTERNAL:return fe.INTERNAL;case rn.UNAVAILABLE:return fe.UNAVAILABLE;case rn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case rn.NOT_FOUND:return fe.NOT_FOUND;case rn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case rn.ABORTED:return fe.ABORTED;case rn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case rn.DATA_LOSS:return fe.DATA_LOSS;default:return ke(39323,{code:n})}}(nt=rn||(rn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new bo([4294967295,4294967295],0);function PE(n){const e=Ib().encode(n),t=new xb;return t.update(e),new Uint8Array(t.digest())}function ME(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bo([t,r],0),new bo([i,a],0)]}class pv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=bo.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(bo.fromNumber(r)));return i.compare(w7)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=PE(e),[r,i]=ME(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.Se(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new pv(a,i,t);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.pe===0)return;const t=PE(e),[r,i]=ME(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.be(s)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new L0(Be.min(),i,new Ft(qe),Pa(),Ze())}}class Sf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Sf(r,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class oS{constructor(e,t){this.targetId=e,this.Ce=t}}class sS{constructor(e,t,r=zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class LE{constructor(){this.Fe=0,this.Me=kE(),this.xe=zn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ze(),t=Ze(),r=Ze();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}}),new Sf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=kE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class A7{constructor(e){this.ze=e,this.je=new Map,this.He=Pa(),this.Je=sd(),this.Ye=sd(),this.Ze=new Ft(qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(rm(a))if(r===0){const s=new Oe(a.path);this.tt(t,s,Kn.newNoDocument(s,Be.min()))}else pt(r===1,20013,{expectedCount:r});else{const s=this.ut(t);if(s!==r){const u=this.ct(e),c=u?this.lt(u,e,s):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,u;try{s=Oo(r).toUint8Array()}catch(c){if(c instanceof Db)return Gl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new pv(s,i,a)}catch(c){return Gl(c instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,s)=>{const u=this._t(s);if(u){if(a.current&&rm(u.target)){const c=new Oe(u.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Kn.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let r=Ze();this.Ye.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new L0(e,t,this.Ze,this.He,r);return this.He=Pa(),this.Je=sd(),this.Ye=sd(),this.Ze=new Ft(qe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new LE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new En(qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new En(qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new LE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function sd(){return new Ft(Oe.comparator)}function kE(){return new Ft(Oe.comparator)}const T7={asc:"ASCENDING",desc:"DESCENDING"},b7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S7={and:"AND",or:"OR"};class C7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function am(n,e){return n.useProto3Json||I0(e)?e:{value:e}}function Kd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function I7(n,e){return Kd(n,e.toTimestamp())}function Bi(n){return pt(!!n,49232),Be.fromTimestamp(function(t){const r=No(t);return new xn(r.seconds,r.nanos)}(n))}function gv(n,e){return om(n,e).canonicalString()}function om(n,e){const t=function(i){return new Gt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uS(n){const e=Gt.fromString(n);return pt(pS(e),10190,{key:e.toString()}),e}function sm(n,e){return gv(n.databaseId,e.path)}function lg(n,e){const t=uS(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(fS(t))}function cS(n,e){return gv(n.databaseId,e)}function R7(n){const e=uS(n);return e.length===4?Gt.emptyPath():fS(e)}function lm(n){return new Gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fS(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BE(n,e,t){return{name:sm(n,e),fields:t.value.mapValue.fields}}function N7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(pt(p===void 0||typeof p=="string",58123),zn.fromBase64String(p||"")):(pt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),zn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(h){const p=h.code===void 0?fe.UNKNOWN:aS(h.code);return new Ne(p,h.message||"")}(s);t=new sS(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lg(n,r.document.name),a=Bi(r.document.updateTime),s=r.document.createTime?Bi(r.document.createTime):Be.min(),u=new Wr({mapValue:{fields:r.document.fields}}),c=Kn.newFoundDocument(i,a,s,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Rd(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lg(n,r.document),a=r.readTime?Bi(r.readTime):Be.min(),s=Kn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Rd([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lg(n,r.document),a=r.removedTargetIds||[];t=new Rd([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new x7(i,a),u=r.targetId;t=new oS(u,s)}}return t}function O7(n,e){let t;if(e instanceof bf)t={update:BE(n,e.key,e.value)};else if(e instanceof iS)t={delete:sm(n,e.key)};else if(e instanceof Ls)t={update:BE(n,e.key,e.data),updateMask:F7(e.fieldMask)};else{if(!(e instanceof v7))return ke(16599,{ft:e.type});t={verify:sm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const u=s.transform;if(u instanceof uf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ff)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $d)return{fieldPath:s.field.canonicalString(),increment:u.Re};throw ke(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:I7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)}(n,e.precondition)),t}function D7(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map(t=>function(i,a){let s=i.updateTime?Bi(i.updateTime):Bi(a);return s.isEqual(Be.min())&&(s=Bi(a)),new p7(s,i.transformResults||[])}(t,e))):[]}function P7(n,e){return{documents:[cS(n,e.path)]}}function M7(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cS(n,i);const a=function(h){if(h.length!==0)return dS(Fi.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Ol(y.field),direction:B7(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=am(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function L7(n){let e=R7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(m){const y=hS(m);return y instanceof Fi&&Hb(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(y=>function(E){return new Yd(Dl(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,I0(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(m){const y=!!m.before,x=m.values||[];return new Wd(x,y)}(t.startAt));let h=null;return t.endAt&&(h=function(m){const y=!m.before,x=m.values||[];return new Wd(x,y)}(t.endAt)),J5(e,i,s,a,u,"F",c,h)}function k7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Dl(t.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Dl(t.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Dl(t.unaryFilter.field);return vn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Dl(t.unaryFilter.field);return vn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(n):n.fieldFilter!==void 0?function(t){return vn.create(Dl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fi.create(t.compositeFilter.filters.map(r=>hS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(t.compositeFilter.op))}(n):ke(30097,{filter:n})}function B7(n){return T7[n]}function V7(n){return b7[n]}function U7(n){return S7[n]}function Ol(n){return{fieldPath:n.canonicalString()}}function Dl(n){return jn.fromServerFormat(n.fieldPath)}function dS(n){return n instanceof vn?function(t){if(t.op==="=="){if(TE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NAN"}};if(AE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NAN"}};if(AE(t.value))return{unaryFilter:{field:Ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(t.field),op:V7(t.op),value:t.value}}}(n):n instanceof Fi?function(t){const r=t.getFilters().map(i=>dS(i));return r.length===1?r[0]:{compositeFilter:{op:U7(t.op),filters:r}}}(n):ke(54877,{filter:n})}function F7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,r,i,a=Be.min(),s=Be.min(),u=zn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.wt=e}}function H7(n){const e=L7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(){this.Cn=new G7}addToCollectionParentIndex(e,t){return this.Cn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Ro.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class G7{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(Gt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gS=41943040;class mr{static withCacheSize(e){return new mr(e,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.DEFAULT_COLLECTION_PERCENTILE=10,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mr.DEFAULT=new mr(gS,mr.DEFAULT_COLLECTION_PERCENTILE,mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mr.DISABLED=new mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Yl(0)}static lr(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",q7=1048576;function FE([n,e],[t,r]){const i=qe(n,t);return i===0?qe(e,r):i}class X7{constructor(e){this.Er=e,this.buffer=new En(FE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();FE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class W7{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(UE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hu(t)?ye(UE,"Ignoring IndexedDB error during garbage collection: ",t):await fu(t)}await this.mr(3e5)})}}class Y7{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return le.resolve(C0.le);const r=new X7(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(VE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,s,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,u=Date.now(),this.removeTargets(e,r,t))).next(m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Rl()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function $7(n,e){return new Y7(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.changes=new Ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Kc(r.mutation,i,ui.empty(),xn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ze()){const i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let s=Bc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ze()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{t.set(s,u)})})}computeViews(e,t,r,i){let a=Pa();const s=$c(),u=function(){return $c()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ls)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Kc(p.mutation,h,p.mutation.getFieldMask(),xn.now())):s.set(h.key,ui.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((h,p)=>s.set(h,p)),t.forEach((h,p)=>{var m;return u.set(h,new Q7(p,(m=s.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,t){const r=$c();let i=new Ft((s,u)=>s-u),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const u of s)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||ui.empty();p=u.applyToLocalView(h,p),r.set(c,p);const m=(i.get(u.batchId)||Ze()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,m=Kb();p.forEach(y=>{if(!a.has(y)){const x=nS(t.get(y),r.get(y));x!==null&&m.set(y,x),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):e7(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):le.resolve(ws());let u=af,c=a;return s.next(h=>le.forEach(h,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(p)?le.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,c,h,Ze())).next(p=>({batchId:u,changes:$b(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Bc();return this.indexManager.getCollectionParents(e,a).next(u=>le.forEach(u,c=>{const h=function(m,y){return new N0(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(s=>{a.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,Kn.newInvalidDocument(p)))});let u=Bc();return s.forEach((c,h)=>{const p=a.get(c);p!==void 0&&Kc(p.mutation,h,ui.empty(),xn.now()),D0(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return le.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Bi(i.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:H7(i.bundledQuery),readTime:Bi(i.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.overlays=new Ft(Oe.comparator),this.Qr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ws();return le.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.bt(e,t,a)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const i=ws(),a=t.length+1,s=new Oe(t.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ft((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=ws(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=ws(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return le.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _7(t,r));let a=this.Qr.get(t);a===void 0&&(a=Ze(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.$r=new En(Rn.Ur),this.Kr=new En(Rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Rn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Oe(new Gt([])),r=new Rn(t,e),i=new Rn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Oe(new Gt([])),r=new Rn(t,e),i=new Rn(t,e+1);let a=Ze();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new Rn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Oe.comparator(e.key,t.key)||qe(e.Zr,t.Zr)}static Wr(e,t){return qe(e.Zr,t.Zr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new En(Rn.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new y7(a,t,r,i);this.mutationQueue.push(s);for(const u of i)this.Xr=this.Xr.add(new Rn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,t){return le.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?ov:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),i=new Rn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const u=this.ei(s.Zr);a.push(u)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(qe);return t.forEach(i=>{const a=new Rn(i,0),s=new Rn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],u=>{r=r.add(u.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Oe.isDocumentKey(a)||(a=a.child(""));const s=new Rn(new Oe(a),0);let u=new En(qe);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Zr)),!0)},s),le.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(t.mutations,i=>{const a=new Rn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Rn(t,0),i=this.Xr.firstAfterOrEqual(r);return le.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.ii=e,this.docs=function(){return new Ft(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let r=Pa();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Kn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Pa();const s=t.path,u=new Oe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||O5(N5(p),r)<=0||(i.has(p.key)||D0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke(9500)}si(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iP(this)}getSize(e){return le.resolve(this.size)}}class iP extends K7{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.persistence=e,this.oi=new Ms(t=>uv(t),cv),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this._i=0,this.ai=new mv,this.targetCount=0,this.ui=Yl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),le.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Tr(t),le.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((s,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.ci={},this.overlays={},this.li=new C0(0),this.hi=!1,this.hi=!0,this.Pi=new tP,this.referenceDelegate=e(this),this.Ti=new aP(this),this.indexManager=new z7,this.remoteDocumentCache=function(i){return new rP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new j7(t),this.Ei=new J7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new nP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const i=new oP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class oP extends P5{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Vi=new mv,this.mi=null}static fi(e){return new vv(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),le.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const i=Oe.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return le.or([()=>le.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Qd{constructor(e,t){this.persistence=e,this.yi=new Ms(r=>k5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$7(this,t)}static fi(e,t){return new Qd(e,t)}di(){}Ai(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return le.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?le.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(u=>{u||(r++,a.removeEntry(s,Be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),le.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sd(e.data.value)),t}Dr(e,t,r){return le.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ze(),i=Ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $I()?8:M5(Zn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Ss(e,t,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new sP;return this.bs(e,t,s).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,s,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Rl()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(Rl()<=Qe.DEBUG&&ye("QueryEngine","Query:",Nl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Rl()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(t))):le.resolve())}ws(e,t){if(IE(t))return le.resolve(null);let r=ki(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=im(t,null,"F"),r=ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Ze(...a);return this.ys.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,u);return this.Cs(t,h,s,c.readTime)?this.ws(e,im(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return IE(t)||i.isEqual(Be.min())?le.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(t,a);return this.Cs(t,s,r,i)?le.resolve(null):(Rl()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nl(t)),this.Fs(e,s,t,R5(i,af)).next(u=>u))})}vs(e,t){let r=new En(Wb(e));return t.forEach((i,a)=>{D0(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,r){return Rl()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Nl(t)),this.ys.getDocumentsMatchingQuery(e,t,Ro.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LocalStore",uP=3e8;class cP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Ft(qe),this.Os=new Ms(a=>uv(a),cv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z7(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function fP(n,e,t,r){return new cP(n,e,t,r)}async function vS(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],u=[];let c=Ze();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:s,addedBatchIds:u}))})})}function hP(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const m=h.batch,y=m.keys();let x=le.resolve();return y.forEach(E=>{x=x.next(()=>p.getEntry(c,E)).next(T=>{const S=h.docVersions.get(E);pt(S!==null,48541),T.version.compareTo(S)<0&&(m.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),p.addEntry(T)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ze();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yS(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function dP(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;u.push(t.Ti.removeMatchingKeys(a,p.removedDocuments,m).next(()=>t.Ti.addMatchingKeys(a,p.addedDocuments,m)));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(zn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(m,x),function(T,S,I){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=uP?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,x,p)&&u.push(t.Ti.updateTargetData(a,x))});let c=Pa(),h=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(pP(a,s,e.documentUpdates).next(p=>{c=p.qs,h=p.Qs})),!r.isEqual(Be.min())){const p=t.Ti.getLastRemoteSnapshotVersion(a).next(m=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return le.waitFor(u).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,h)).next(()=>c)}).then(a=>(t.xs=i,a))}function pP(n,e,t){let r=Ze(),i=Ze();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let s=Pa();return t.forEach((u,c)=>{const h=a.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):ye(_v,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function gP(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ov),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mP(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new _o(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function um(n,e,t){const r=Ue(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!hu(s))throw s;ye(_v,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function jE(n,e,t){const r=Ue(n);let i=Be.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const m=Ue(c),y=m.Os.get(p);return y!==void 0?le.resolve(m.xs.get(y)):m.Ti.getTargetData(h,p)}(r,s,ki(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:Be.min(),t?a:Ze())).next(u=>(vP(r,n7(e),u),{documents:u,$s:a})))}function vP(n,e,t){let r=n.Ns.get(e)||Be.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class HE{constructor(){this.activeTargetIds=l7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yP{constructor(){this.xo=new HE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new HE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class GE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(zE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(zE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function cm(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="RestConnection",xP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===qd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const s=cm(),u=this.jo(e,t.toUriEncodedString());ye(ug,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:h}=new URL(u),p=vf(h);return this.Jo(e,u,c,r,p).then(m=>(ye(ug,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Gl(ug,`RPC '${e}' ${s} failed with error: `,m,"url: ",u,"request:",r),m})}Yo(e,t,r,i,a,s){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=xP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class AP extends EP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=cm();return new Promise((u,c)=>{const h=new Eb;h.setWithCredentials(!0),h.listenOnce(wb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bd.NO_ERROR:const m=h.getResponseJson();ye(Wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),u(m);break;case bd.TIMEOUT:ye(Wn,`RPC '${e}' ${s} timed out`),c(new Ne(fe.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const y=h.getStatus();if(ye(Wn,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const T=function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(R)>=0?R:fe.UNKNOWN}(E.status);c(new Ne(T,E.message))}else c(new Ne(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ne(fe.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ye(Wn,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);ye(Wn,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}T_(e,t,r){const i=cm(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bb(),u=Tb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");ye(Wn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=s.createWebChannel(p,c);let y=!1,x=!1;const E=new wP({Zo:S=>{x?ye(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(ye(Wn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),ye(Wn,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Xo:()=>m.close()}),T=(S,I,R)=>{S.listen(I,D=>{try{R(D)}catch(F){setTimeout(()=>{throw F},0)}})};return T(m,kc.EventType.OPEN,()=>{x||(ye(Wn,`RPC '${e}' stream ${i} transport opened.`),E.__())}),T(m,kc.EventType.CLOSE,()=>{x||(x=!0,ye(Wn,`RPC '${e}' stream ${i} transport closed`),E.u_())}),T(m,kc.EventType.ERROR,S=>{x||(x=!0,Gl(Wn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.u_(new Ne(fe.UNAVAILABLE,"The operation could not be completed")))}),T(m,kc.EventType.MESSAGE,S=>{var I;if(!x){const R=S.data[0];pt(!!R,16349);const D=R,F=(D==null?void 0:D.error)||((I=D[0])===null||I===void 0?void 0:I.error);if(F){ye(Wn,`RPC '${e}' stream ${i} received error:`,F);const j=F.status;let X=function(L){const V=rn[L];if(V!==void 0)return aS(V)}(j),P=F.message;X===void 0&&(X=fe.INTERNAL,P="Unknown error status: "+j+" with message "+F.message),x=!0,E.u_(new Ne(X,P)),m.close()}else ye(Wn,`RPC '${e}' stream ${i} received:`,R),E.c_(R)}}),T(u,Ab.STAT_EVENT,S=>{S.stat===Zg.PROXY?ye(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Zg.NOPROXY&&ye(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n){return new C7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class xS{constructor(e,t,r,i,a,s,u,c){this.xi=e,this.y_=r,this.w_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new _S(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Da(t.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Ne(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ye(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ye(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TP extends xS{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=N7(this.serializer,e),r=function(a){if(!("targetChange"in a))return Be.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Be.min():s.readTime?Bi(s.readTime):Be.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=lm(this.serializer),t.addTarget=function(a,s){let u;const c=s.target;if(u=rm(c)?{documents:P7(a,c)}:{query:M7(a,c).gt},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=lS(a,s.resumeToken);const h=am(a,s.expectedCount);h!==null&&(u.expectedCount=h)}else if(s.snapshotVersion.compareTo(Be.min())>0){u.readTime=Kd(a,s.snapshotVersion.toTimestamp());const h=am(a,s.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=k7(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=lm(this.serializer),t.removeTarget=e,this.L_(t)}}class bP extends xS{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=D7(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=lm(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>O7(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{}class CP extends SP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,om(t,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(fe.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Yo(e,om(t,r),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(fe.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class IP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Da(t),this.oa=!1):ye("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class RP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(s=>{r.enqueueAndForget(async()=>{ks(this)&&(ye(Os,"Restarting streams for network reachability change."),await async function(c){const h=Ue(c);h.Ta.add(4),await Cf(h),h.da.set("Unknown"),h.Ta.delete(4),await B0(h)}(this))})}),this.da=new IP(r,i)}}async function B0(n){if(ks(n))for(const e of n.Ia)await e(!0)}async function Cf(n){for(const e of n.Ia)await e(!1)}function ES(n,e){const t=Ue(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Av(t)?wv(t):du(t).M_()&&Ev(t,e))}function xv(n,e){const t=Ue(n),r=du(t);t.Pa.delete(e),r.M_()&&wS(t,e),t.Pa.size===0&&(r.M_()?r.N_():ks(t)&&t.da.set("Unknown"))}function Ev(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).H_(e)}function wS(n,e){n.Aa.Ke(e),du(n).J_(e)}function wv(n){n.Aa=new A7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),du(n).start(),n.da._a()}function Av(n){return ks(n)&&!du(n).F_()&&n.Pa.size>0}function ks(n){return Ue(n).Ta.size===0}function AS(n){n.Aa=void 0}async function NP(n){n.da.set("Online")}async function OP(n){n.Pa.forEach((e,t)=>{Ev(n,e)})}async function DP(n,e){AS(n),Av(n)?(n.da.ca(e),wv(n)):n.da.set("Unknown")}async function PP(n,e,t){if(n.da.set("Online"),e instanceof sS&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){ye(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zd(n,r)}else if(e instanceof Rd?n.Aa.Xe(e):e instanceof oS?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Be.min()))try{const r=await yS(n.localStore);t.compareTo(r)>=0&&await function(a,s){const u=a.Aa.It(s);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Pa.get(h);p&&a.Pa.set(h,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,h)=>{const p=a.Pa.get(c);if(!p)return;a.Pa.set(c,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),wS(a,c);const m=new _o(p.target,c,h,p.sequenceNumber);Ev(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ye(Os,"Failed to raise snapshot:",r),await Zd(n,r)}}async function Zd(n,e,t){if(!hu(e))throw e;n.Ta.add(1),await Cf(n),n.da.set("Offline"),t||(t=()=>yS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Os,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await B0(n)})}function TS(n,e){return e().catch(t=>Zd(n,t,e))}async function V0(n){const e=Ue(n),t=Po(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ov;for(;MP(e);)try{const i=await gP(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,LP(e,i)}catch(i){await Zd(e,i)}bS(e)&&SS(e)}function MP(n){return ks(n)&&n.ha.length<10}function LP(n,e){n.ha.push(e);const t=Po(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function bS(n){return ks(n)&&!Po(n).F_()&&n.ha.length>0}function SS(n){Po(n).start()}async function kP(n){Po(n).ta()}async function BP(n){const e=Po(n);for(const t of n.ha)e.Z_(t.mutations)}async function VP(n,e,t){const r=n.ha.shift(),i=dv.from(r,e,t);await TS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await V0(n)}async function UP(n,e){e&&Po(n).Y_&&await async function(r,i){if(function(s){return E7(s)&&s!==fe.ABORTED}(i.code)){const a=r.ha.shift();Po(r).O_(),await TS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await V0(r)}}(n,e),bS(n)&&SS(n)}async function XE(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ye(Os,"RemoteStore received new credentials");const r=ks(t);t.Ta.add(3),await Cf(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await B0(t)}async function FP(n,e){const t=Ue(n);e?(t.Ta.delete(2),await B0(t)):e||(t.Ta.add(2),await Cf(t),t.da.set("Unknown"))}function du(n){return n.Ra||(n.Ra=function(t,r,i){const a=Ue(t);return a.ra(),new TP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:NP.bind(null,n),n_:OP.bind(null,n),i_:DP.bind(null,n),j_:PP.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Av(n)?wv(n):n.da.set("Unknown")):(await n.Ra.stop(),AS(n))})),n.Ra}function Po(n){return n.Va||(n.Va=function(t,r,i){const a=Ue(t);return a.ra(),new bP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:kP.bind(null,n),i_:UP.bind(null,n),X_:BP.bind(null,n),ea:VP.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await V0(n)):(await n.Va.stop(),n.ha.length>0&&(ye(Os,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,u=new Tv(e,t,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(n,e){if(Da("AsyncQueue",`${e}: ${n}`),hu(n))return new Ne(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Oe.comparator(t.key,r.key):(t,r)=>Oe.comparator(t.key,r.key),this.keyedMap=Bc(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.ma=new Ft(Oe.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class $l{constructor(e,t,r,i,a,s,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new $l(e,t,jl.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&O0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class HP{constructor(){this.queries=YE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ue(t),a=i.queries;i.queries=YE(),a.forEach((s,u)=>{for(const c of u.ya)c.onError(r)})})(this,new Ne(fe.ABORTED,"Firestore shutting down"))}}function YE(){return new Ms(n=>Xb(n),O0)}async function zP(n,e){const t=Ue(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(r=2):(a=new jP,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const u=bv(s,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&Sv(t)}async function GP(n,e){const t=Ue(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.ya.indexOf(e);s>=0&&(a.ya.splice(s,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function qP(n,e){const t=Ue(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const u of s.ya)u.va(i)&&(r=!0);s.pa=i}}r&&Sv(t)}function XP(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const a of i.ya)a.onError(t);r.queries.delete(e)}function Sv(n){n.ba.forEach(e=>{e.next()})}var fm,$E;($E=fm||(fm={})).Ca="default",$E.Cache="cache";class WP{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class YP{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ze(),this.mutatedKeys=Ze(),this.Ha=Wb(e),this.Ja=new jl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new WE,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),x=D0(this.query,m)?m:null,E=!!y&&this.mutatedKeys.has(y.key),T=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;y&&x?y.data.isEqual(x.data)?E!==T&&(r.track({type:3,doc:x}),S=!0):this.eu(y,x)||(r.track({type:2,doc:x}),S=!0,(c&&this.Ha(x,c)>0||h&&this.Ha(x,h)<0)&&(u=!0)):!y&&x?(r.track({type:0,doc:x}),S=!0):y&&!x&&(r.track({type:1,doc:y}),S=!0,(c||h)&&(u=!0)),S&&(x?(s=s.add(x),a=T?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ja:s,Xa:r,Cs:u,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((p,m)=>function(x,E){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:S})}};return T(x)-T(E)}(p.type,m.type)||this.Ha(p.doc,m.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,s.length!==0||h?{snapshot:new $l(this.query,e.Ja,a,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ze(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new IS(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new CS(r))}),t}su(e){this.Ga=e.$s,this.ja=Ze();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return $l.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Cv="SyncEngine";class $P{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class KP{constructor(e){this.key=e,this._u=!1}}class QP{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Ms(u=>Xb(u),O0),this.cu=new Map,this.lu=new Set,this.hu=new Ft(Oe.comparator),this.Pu=new Map,this.Tu=new mv,this.Iu={},this.Eu=new Map,this.du=Yl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function ZP(n,e,t=!0){const r=MS(n);let i;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await RS(r,e,t,!0),i}async function JP(n,e){const t=MS(n);await RS(t,e,!0,!1)}async function RS(n,e,t,r){const i=await mP(n.localStore,ki(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await e9(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&ES(n.remoteStore,i),u}async function e9(n,e,t,r,i){n.Ru=(m,y,x)=>async function(T,S,I,R){let D=S.view.Za(I);D.Cs&&(D=await jE(T.localStore,S.query,!1).then(({documents:P})=>S.view.Za(P,D)));const F=R&&R.targetChanges.get(S.targetId),j=R&&R.targetMismatches.get(S.targetId)!=null,X=S.view.applyChanges(D,T.isPrimaryClient,F,j);return QE(T,S.targetId,X.ru),X.snapshot}(n,m,y,x);const a=await jE(n.localStore,e,!0),s=new YP(e,a.$s),u=s.Za(a.documents),c=Sf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(u,n.isPrimaryClient,c);QE(n,t,h.ru);const p=new $P(e,t,s);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function t9(n,e,t){const r=Ue(n),i=r.uu.get(e),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter(s=>!O0(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await um(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&xv(r.remoteStore,i.targetId),hm(r,i.targetId)}).catch(fu)):(hm(r,i.targetId),await um(r.localStore,i.targetId,!0))}async function n9(n,e){const t=Ue(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xv(t.remoteStore,r.targetId))}async function r9(n,e,t){const r=c9(n);try{const i=await function(s,u){const c=Ue(s),h=xn.now(),p=u.reduce((x,E)=>x.add(E.key),Ze());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=Pa(),T=Ze();return c.Bs.getEntries(x,p).next(S=>{E=S,E.forEach((I,R)=>{R.isValidDocument()||(T=T.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,E)).next(S=>{m=S;const I=[];for(const R of u){const D=m7(R,m.get(R.key).overlayedDocument);D!=null&&I.push(new Ls(R.key,D,Ub(D.value.mapValue),Ca.exists(!0)))}return c.mutationQueue.addMutationBatch(x,h,I,u)}).next(S=>{y=S;const I=S.applyToLocalDocumentSet(m,T);return c.documentOverlayCache.saveOverlays(x,S.batchId,I)})}).then(()=>({batchId:y.batchId,changes:$b(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.Iu[s.currentUser.toKey()];h||(h=new Ft(qe)),h=h.insert(u,c),s.Iu[s.currentUser.toKey()]=h}(r,i.batchId,t),await If(r,i.changes),await V0(r.remoteStore)}catch(i){const a=bv(i,"Failed to persist write");t.reject(a)}}async function NS(n,e){const t=Ue(n);try{const r=await dP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Pu.get(a);s&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?pt(s._u,14607):i.removedDocuments.size>0&&(pt(s._u,42227),s._u=!1))}),await If(t,r,e)}catch(r){await fu(r)}}function KE(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((a,s)=>{const u=s.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ue(s);c.onlineState=u;let h=!1;c.queries.forEach((p,m)=>{for(const y of m.ya)y.Da(u)&&(h=!0)}),h&&Sv(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i9(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),a=i&&i.key;if(a){let s=new Ft(Oe.comparator);s=s.insert(a,Kn.newNoDocument(a,Be.min()));const u=Ze().add(a),c=new L0(Be.min(),new Map,new Ft(qe),s,u);await NS(r,c),r.hu=r.hu.remove(a),r.Pu.delete(e),Iv(r)}else await um(r.localStore,e,!1).then(()=>hm(r,e,t)).catch(fu)}async function a9(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await hP(t.localStore,e);DS(t,r,null),OS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await If(t,i)}catch(i){await fu(i)}}async function o9(n,e,t){const r=Ue(n);try{const i=await function(s,u){const c=Ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(m=>(pt(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);DS(r,e,t),OS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await If(r,i)}catch(i){await fu(i)}}function OS(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function DS(n,e,t){const r=Ue(n);let i=r.Iu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function hm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||PS(n,r)})}function PS(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(xv(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Iv(n))}function QE(n,e,t){for(const r of t)r instanceof CS?(n.Tu.addReference(r.key,e),s9(n,r)):r instanceof IS?(ye(Cv,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||PS(n,r.key)):ke(19791,{mu:r})}function s9(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(ye(Cv,"New document in limbo: "+t),n.lu.add(r),Iv(n))}function Iv(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Oe(Gt.fromString(e)),r=n.du.next();n.Pu.set(r,new KP(t)),n.hu=n.hu.insert(t,r),ES(n.remoteStore,new _o(ki(fv(t.path)),r,"TargetPurposeLimboResolution",C0.le))}}async function If(n,e,t){const r=Ue(n),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach((u,c)=>{s.push(r.Ru(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=yv.Rs(c.targetId,h);a.push(m)}}))}),await Promise.all(s),r.au.j_(i),await async function(c,h){const p=Ue(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>le.forEach(h,y=>le.forEach(y.ds,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>le.forEach(y.As,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!hu(m))throw m;ye(_v,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const x=p.xs.get(y),E=x.snapshotVersion,T=x.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(y,T)}}}(r.localStore,a))}async function l9(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ye(Cv,"User change. New user:",e.toKey());const r=await vS(t.localStore,e);t.currentUser=e,function(a,s){a.Eu.forEach(u=>{u.forEach(c=>{c.reject(new Ne(fe.CANCELLED,s))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await If(t,r.ks)}}function u9(n,e){const t=Ue(n),r=t.Pu.get(e);if(r&&r._u)return Ze().add(r.key);{let i=Ze();const a=t.cu.get(e);if(!a)return i;for(const s of a){const u=t.uu.get(s);i=i.unionWith(u.view.Ya)}return i}}function MS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i9.bind(null,e),e.au.j_=qP.bind(null,e.eventManager),e.au.Vu=XP.bind(null,e.eventManager),e}function c9(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o9.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=k0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return fP(this.persistence,new lP,e.initialUser,this.serializer)}yu(e){return new mS(vv.fi,this.serializer)}pu(e){return new yP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class f9 extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){pt(this.persistence.referenceDelegate instanceof Qd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new W7(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?mr.withCacheSize(this.cacheSizeBytes):mr.DEFAULT;return new mS(r=>Qd.fi(r,t),this.serializer)}}class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l9.bind(null,this.syncEngine),await FP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HP}()}createDatastore(e){const t=k0(e.databaseInfo.databaseId),r=function(a){return new AP(a)}(e.databaseInfo);return function(a,s,u,c){return new CP(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,s,u){return new RP(r,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,t=>KE(this.syncEngine,t,0),function(){return GE.C()?new GE:new _P}())}createSyncEngine(e,t){return function(i,a,s,u,c,h,p){const m=new QP(i,a,s,u,c,h);return p&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ue(i);ye(Os,"RemoteStore shutting down."),a.Ta.add(5),await Cf(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Da("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="FirestoreClient";class d9{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=Rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{ye(Mo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ye(Mo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=bv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Mo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function ZE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await p9(n);ye(Mo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>XE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>XE(e.remoteStore,i)),n._onlineComponents=e}async function p9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Mo,"Using user provided OfflineComponentProvider");try{await fg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gl("Error using user provided cache. Falling back to memory cache: "+t),await fg(n,new Jd)}}else ye(Mo,"Using default OfflineComponentProvider"),await fg(n,new f9(void 0));return n._offlineComponents}async function LS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Mo,"Using user provided OnlineComponentProvider"),await ZE(n,n._uninitializedComponentsProvider._online)):(ye(Mo,"Using default OnlineComponentProvider"),await ZE(n,new dm))),n._onlineComponents}function g9(n){return LS(n).then(e=>e.syncEngine)}async function m9(n){const e=await LS(n),t=e.eventManager;return t.onListen=ZP.bind(null,e.syncEngine),t.onUnlisten=t9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n9.bind(null,e.syncEngine),t}function v9(n,e,t={}){const r=new So;return n.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,h){const p=new h9({next:y=>{p.Cu(),s.enqueueAndForget(()=>GP(a,m));const x=y.docs.has(u);!x&&y.fromCache?h.reject(new Ne(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&y.fromCache&&c&&c.source==="server"?h.reject(new Ne(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new WP(fv(u.path),p,{includeMetadataChanges:!0,La:!0});return zP(a,m)}(await m9(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(n,e,t){if(!t)throw new Ne(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _9(n,e,t,r){if(e===!0&&r===!0)throw new Ne(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ew(n){if(!Oe.isDocumentKey(n))throw new Ne(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function hf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rv(n);throw new Ne(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firestore.googleapis.com",tw=!0;class nw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BS,this.ssl=tw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q7)throw new Ne(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new x5;switch(r.type){case"firstParty":return new T5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=JE.get(t);r&&(ye("ComponentProvider","Removing Datastore"),JE.delete(t),r.terminate())}(this),Promise.resolve()}}function x9(n,e,t,r={}){var i;n=hf(n,Nv);const a=vf(e),s=n._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a&&(DA(`https://${c}`),PA("Firestore",!0)),s.host!==BS&&s.host!==c&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!Cs(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=$n.MOCK_USER;else{p=FI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $n(y)}n._authCredentials=new E5(new Cb(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ov(this.firestore,e,this._query)}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new df(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class df extends Ov{constructor(e,t,r){super(e,t,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new Oe(e))}withConverter(e){return new df(this.firestore,e,this._path)}}function pm(n,e,...t){if(n=Ve(n),arguments.length===1&&(e=Rb.newId()),y9("doc","path",e),n instanceof Nv){const r=Gt.fromString(e,...t);return ew(r),new $r(n,null,new Oe(r))}{if(!(n instanceof $r||n instanceof df))throw new Ne(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Gt.fromString(e,...t));return ew(r),new $r(n.firestore,n instanceof df?n.converter:null,new Oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new _S(this,"async_queue_retry"),this.ec=()=>{const r=cg();r&&ye(rw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=cg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=cg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new So;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!hu(e))throw e;ye(rw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Da("INTERNAL UNHANDLED ERROR: ",aw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=Tv.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&ke(47125,{_c:aw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function aw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Dv extends Nv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new iw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function gm(n,e){const t=BA(),r=qd,i=km(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=VI("firestore");a&&x9(i,...a)}return i}function VS(n){if(n._terminated)throw new Ne(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||E9(n),n._firestoreClient}function E9(n){var e,t,r;const i=n._freezeSettings(),a=function(u,c,h,p){return new U5(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new d9(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(zn.fromBase64String(e))}catch(t){throw new Ne(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=/^__.*__$/;class A9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new bf(e,this.data,t,this.fieldTransforms)}}function US(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{hc:n})}}class Bv{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return e0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(US(this.hc)&&w9.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class T9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||k0(e)}gc(e,t,r,i=!1){return new Bv({hc:e,methodName:t,fc:r,path:jn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b9(n){const e=n._freezeSettings(),t=k0(n._databaseId);return new T9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S9(n,e,t,r,i,a={}){const s=n.gc(a.merge||a.mergeFields?2:0,e,t,i);zS("Data must be an object, but it was:",s,r);const u=jS(r,s);let c,h;if(a.merge)c=new ui(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=C9(e,m,t);if(!s.contains(y))throw new Ne(fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);R9(p,y)||p.push(y)}c=new ui(p),h=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=s.fieldTransforms;return new A9(new Wr(u),c,h)}class Vv extends Mv{_toFieldTransform(e){return new h7(e.path,new uf)}isEqual(e){return e instanceof Vv}}function FS(n,e){if(HS(n=Ve(n)))return zS("Unsupported field value:",e,n),jS(n,e);if(n instanceof Mv)return function(r,i){if(!US(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const u of r){let c=FS(u,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=xn.fromDate(r);return{timestampValue:Kd(i.serializer,a)}}if(r instanceof xn){const a=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,a)}}if(r instanceof Lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kl)return{bytesValue:lS(i.serializer,r._byteString)};if(r instanceof $r){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kv)return function(s,u){return{mapValue:{fields:{[Bb]:{stringValue:Vb},[Xd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return hv(u.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Rv(r)}`)}(n,e)}function jS(n,e){const t={};return Ob(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(n,(r,i)=>{const a=FS(i,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function HS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof xn||n instanceof Lv||n instanceof Kl||n instanceof $r||n instanceof Mv||n instanceof kv)}function zS(n,e,t){if(!HS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Rv(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function C9(n,e,t){if((e=Ve(e))instanceof Pv)return e._internalPath;if(typeof e=="string")return GS(n,e);throw e0("Field path arguments must be of type string or ",n,!1,void 0,t)}const I9=new RegExp("[~\\*/\\[\\]]");function GS(n,e,t){if(e.search(I9)>=0)throw e0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pv(...e.split("."))._internalPath}catch{throw e0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function e0(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Ne(fe.INVALID_ARGUMENT,u+n+c)}function R9(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N9 extends qS{data(){return super.data()}}function XS(n,e){return typeof e=="string"?GS(n,e):e instanceof Pv?e._internalPath:e._delegate._internalPath}class O9{convertValue(e,t="none"){switch(Do(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ps(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Xd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Qt(s.doubleValue));return new kv(a)}convertGeoPoint(e){return new Lv(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=R0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(of(e));default:return null}}convertTimestamp(e){const t=No(e);return new xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Gt.fromString(e);pt(pS(r),9688,{name:e});const i=new sf(r.get(1),r.get(3)),a=new Oe(r.popFirst(5));return i.isEqual(t)||Da(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WS extends qS{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new M9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(XS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class M9 extends WS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n){n=hf(n,$r);const e=hf(n.firestore,Dv);return v9(VS(e),n._key).then(t=>V9(e,n,t))}class L9 extends O9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function k9(n,e,t){n=hf(n,$r);const r=hf(n.firestore,Dv),i=D9(n.converter,e,t);return B9(r,[S9(b9(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ca.none())])}function B9(n,e){return function(r,i){const a=new So;return r.asyncQueue.enqueueAndForget(async()=>r9(await g9(r),i,a)),a.promise}(VS(n),e)}function V9(n,e,t){const r=t.docs.get(e._key),i=new L9(n);return new WS(n,i,e._key,r,new P9(t.hasPendingWrites,t.fromCache),e.converter)}function U9(){return new Vv("serverTimestamp")}(function(e,t=!0){(function(i){cu=i})(ru),Hl(new Is("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new Dv(new w5(r.getProvider("auth-internal")),new b5(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ne(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),wo(fE,hE,e),wo(fE,hE,"esm2017")})();function Rf(){const{setUser:n}=Gn();return async function(){await RT($t),n(null)}}const YS=H.createContext();function F9({children:n}){const[e,t]=H.useState(null),[r,i]=H.useState(!0),[a,s]=H.useState(!1),[u,c]=H.useState(null),[h,p]=H.useState([]),[m,y]=H.useState(()=>localStorage.getItem("selectedLeagueId")||""),[x,E]=H.useState(null),[T,S]=H.useState(null),I=Dr();H.useEffect(()=>{console.log("[AuthContext] user:",e,"loading:",r,"roleChecking:",a,"error:",u)},[e,r,a,u]),H.useEffect(()=>{e&&e.emailVerified&&T?(async()=>{var F,j,X,P,N,L;try{const V=await sn.get("/leagues/me");p(V.data.leagues||[]);const G=((F=V.data.leagues)==null?void 0:F.find(k=>k.id===m))||((j=V.data.leagues)==null?void 0:j[0]);E((G==null?void 0:G.role)||null),V.data.leagues&&V.data.leagues.length>0&&(!m||!V.data.leagues.some(k=>k.id===m))&&(y(V.data.leagues[0].id),localStorage.setItem("selectedLeagueId",V.data.leagues[0].id))}catch(V){console.log("[AuthContext] League fetch result:",(X=V.response)==null?void 0:X.status,(N=(P=V.response)==null?void 0:P.data)==null?void 0:N.detail),((L=V.response)==null?void 0:L.status)===404?(console.log("[AuthContext] User has no leagues yet (normal for new users)"),p([])):(console.error("[AuthContext] Error fetching leagues:",V),p([]))}})():(p([]),E(null),y(""))},[e,m,T]),H.useEffect(()=>{if(m)localStorage.setItem("selectedLeagueId",m);else{const F=localStorage.getItem("selectedLeagueId");F?y(F):localStorage.removeItem("selectedLeagueId")}},[m]),H.useEffect(()=>{const F=IT($t,async j=>{if(console.log("[AuthContext] Auth state changed:",j==null?void 0:j.email,"verified:",j==null?void 0:j.emailVerified),console.log("[AuthContext] Current pathname:",window.location.pathname),j)if(await j.reload(),t(j),i(!1),!j.emailVerified)console.log("[AuthContext] User not verified, redirecting to verify-email"),window.location.pathname!=="/verify-email"&&I("/verify-email");else{console.log("[AuthContext] User verified, checking role in Firestore..."),s(!0);const X=gm(),P=pm(X,"users",j.uid);try{const N=await ow(P);console.log("[AuthContext] Firestore check complete. Document exists:",N.exists()),console.log("[AuthContext] Role data:",N.exists()?N.data():null),!N.exists()||!N.data().role?(console.log("[AuthContext] No role found, navigating to select-role"),console.log("[AuthContext] Current path before redirect:",window.location.pathname),I("/select-role")):(console.log("[AuthContext] Role found:",N.data().role),["/login","/signup","/verify-email","/select-role","/"].includes(window.location.pathname)?(console.log("[AuthContext] On onboarding route, navigating to dashboard"),I("/dashboard")):console.log("[AuthContext] Not on onboarding route, staying on:",window.location.pathname))}catch(N){console.error("[AuthContext] Firestore role check failed:",N),console.log("[AuthContext] Firestore error, defaulting to select-role"),I("/select-role")}finally{s(!1)}}else console.log("[AuthContext] No user, clearing state"),t(null),i(!1),s(!1)},j=>{console.error("[AuthContext] Auth state change error:",j),c(j),i(!1)});return()=>F()},[I]),H.useEffect(()=>{if(!e){S(null),s(!1);return}const F=gm();(async()=>{try{const X=pm(F,"users",e.uid),P=await ow(X);P.exists()?S(P.data().role||null):S(null)}catch(X){console.error("[AuthContext] Firestore role fetch failed:",X),S(null)}})()},[e]);const R=F=>{p(j=>j.some(X=>X.id===F.id)?j:[...j,F]),y(F.id),localStorage.setItem("selectedLeagueId",F.id),E(F.role)},D=()=>{var F;return((F=h.find(j=>j.id===m))==null?void 0:F.role)==="organizer"};return A.jsx(YS.Provider,{value:{user:e,loading:r,roleChecking:a,error:u,leagues:h,selectedLeagueId:m,setSelectedLeagueId:y,role:x,addLeague:R,isOrganizer:D,userRole:T},children:r||a?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-gray-300 border-t-cyan-600 rounded-full"}),A.jsx("div",{className:"mt-4 text-gray-600",children:r?"Loading...":"Checking account..."})]})}):n})}function Gn(){return H.useContext(YS)}function sw(){const n=Dr(),{user:e}=Gn(),t=Rf(),[r,i]=H.useState(""),a=async()=>{console.log("[LeagueFallback] Create League button clicked"),console.log("[LeagueFallback] Current user:",e),console.log("[LeagueFallback] User verified:",e==null?void 0:e.emailVerified),console.log("[LeagueFallback] User UID:",e==null?void 0:e.uid),console.log("[LeagueFallback] Current window location:",window.location.href),i("Redirecting to Create League...");try{console.log("[LeagueFallback] About to call navigate..."),await new Promise(c=>setTimeout(c,100)),console.log("[LeagueFallback] Calling navigate to /create-league"),n("/create-league"),console.log("[LeagueFallback] Navigate call completed"),setTimeout(()=>{console.log("[LeagueFallback] Location after navigate attempt:",window.location.href),window.location.pathname!=="/create-league"&&(console.warn("[LeagueFallback] Navigation failed - still on:",window.location.pathname),i("Navigation failed. Please try refreshing the page."))},500)}catch(c){console.error("[LeagueFallback] Create league navigation error:",c),console.error("[LeagueFallback] Error stack:",c.stack),i(`Navigation error: ${c.message}`)}},s=()=>{console.log("[LeagueFallback] Navigating to join"),console.log("[LeagueFallback] Current user:",e),console.log("[LeagueFallback] User verified:",e==null?void 0:e.emailVerified),i("Redirecting to Join League...");try{n("/join")}catch(c){console.error("[LeagueFallback] Join league navigation error:",c),i("Navigation error. Please try again.")}},u=async()=>{console.log("[LeagueFallback] Logging out"),i("Logging out...");try{await t(),n("/welcome")}catch(c){console.error("[LeagueFallback] Logout error:",c),i("Logout error. Please refresh the page.")}};return A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh] mt-20",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 py-6 px-5 mb-6 max-w-lg w-full mx-auto px-4 sm:px-6 text-center",children:[A.jsx("h2",{className:"text-lg font-semibold text-cyan-700 mb-4",children:"No League Selected"}),A.jsx("p",{className:"text-gray-600 mb-2",children:"If you were invited by a coach, enter your code or scan the QR they sent you."}),A.jsx("p",{className:"text-gray-600 mb-4",children:"You can join an existing league or create a new one to get started."}),r&&A.jsx("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-2 rounded-lg mb-4 text-sm",children:r}),A.jsxs("div",{className:"flex gap-4 justify-center mt-2 flex-wrap",children:[A.jsx("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition active:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-cyan-500",onClick:a,children:"Create League"}),A.jsx("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition active:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-cyan-500",onClick:s,children:"Join League"})]}),A.jsxs("div",{className:"mt-4 text-xs",children:[A.jsx("button",{className:"bg-gray-500 text-white rounded px-2 py-1 text-xs mr-2",onClick:()=>{console.log("[DEBUG] Direct navigation test using navigate()"),n("/create-league")},children:"Test Direct Navigation"}),A.jsx("button",{className:"bg-gray-500 text-white rounded px-2 py-1 text-xs",onClick:()=>{console.log("[DEBUG] React Router Link test"),window.history.pushState({},"","/create-league"),window.dispatchEvent(new PopStateEvent("popstate"))},children:"Test History Push"})]}),A.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[A.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Logged in as: ",(e==null?void 0:e.email)||"Unknown"]}),A.jsx("button",{className:"bg-red-500 text-white rounded-full px-4 py-2 text-sm font-medium shadow-sm hover:bg-red-600 transition",onClick:u,children:"Log Out"})]}),A.jsx("div",{className:"mt-4 text-xs text-gray-500",children:"Having trouble? Check the browser console for errors or contact support."})]})})}const $S=H.createContext();function j9({children:n}){const{selectedLeagueId:e,user:t}=Gn(),[r,i]=H.useState([]),[a,s]=H.useState(null),[u,c]=H.useState(!1),[h,p]=H.useState(!1),[m,y]=H.useState(null),x=Ma(),E=["/welcome","/login","/signup","/verify-email","/select-role","/select-league","/claim"];H.useEffect(()=>{async function I(){var R,D,F;if(!e||!t){c(!0),i([]),s(null);return}c(!1),p(!0),y(null);try{const j=new AbortController,X=setTimeout(()=>j.abort(),8e3),P=`/leagues/${e}/events`,{data:N}=await sn.get(P,{signal:j.signal,retry:2});clearTimeout(X);const L=N.events||[];i(Array.isArray(L)?L:[]);const V=localStorage.getItem("selectedEventId"),G=Array.isArray(L)?L.find(k=>k.id===V):null;G?s(G):Array.isArray(L)&&L.length>0?s(L[0]):s(null),y(null)}catch(j){console.error("Failed to fetch events:",j),i([]),s(null),j.name==="AbortError"?y("Request timed out. Please try again."):((R=j.response)==null?void 0:R.status)===401?y("Authentication failed. Please refresh the page."):y(((F=(D=j.response)==null?void 0:D.data)==null?void 0:F.detail)||j.message||"Failed to load events")}finally{p(!1)}}I()},[e,t]),H.useEffect(()=>{a&&localStorage.setItem("selectedEventId",a.id)},[a]);const T=async()=>{var I,R;if(!(!e||!t)){p(!0),y(null);try{const D=`/leagues/${e}/events`,{data:F}=await sn.get(D,{retry:2}),j=F.events||[];i(Array.isArray(j)?j:[]),y(null)}catch(D){console.error("Failed to refresh events:",D),y(((R=(I=D.response)==null?void 0:I.data)==null?void 0:R.detail)||D.message||"Failed to refresh events")}finally{p(!1)}}},S=u&&!E.includes(x.pathname);return A.jsx($S.Provider,{value:{events:r,selectedEvent:a,setSelectedEvent:s,setEvents:i,noLeague:u,loading:h,error:m,refreshEvents:T,LeagueFallback:sw},children:S?A.jsx(sw,{}):n})}function Nf(){return H.useContext($S)}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),lw=n=>{const e=z9(n);return e.charAt(0).toUpperCase()+e.slice(1)},KS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),G9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>H.createElement("svg",{ref:c,...q9,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:KS("lucide",i),...!a&&!G9(u)&&{"aria-hidden":"true"},...u},[...s.map(([h,p])=>H.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=(n,e)=>{const t=H.forwardRef(({className:r,...i},a)=>H.createElement(X9,{ref:a,iconNode:e,className:KS(`lucide-${H9(lw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=lw(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uv=Zr("arrow-left",W9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$9=Zr("copy",Y9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],QS=Zr("eye-off",K9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZS=Zr("eye",Q9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],J9=Zr("link-2",Z9);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],tM=Zr("menu",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],uw=Zr("qr-code",nM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],cw=Zr("refresh-ccw",rM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aM=Zr("settings",iM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fw=Zr("upload",oM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hw=Zr("user-plus",sM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uM=Zr("users",lM);function JS({className:n=""}){return A.jsx("div",{className:`font-extrabold text-2xl text-cyan-700 min-w-0 ${n}`,children:"Woo-Combine"})}function Rc(){const{user:n,userRole:e}=Gn(),[t,r]=H.useState(!1),i=Rf(),a=Dr(),s=()=>r(!1);return A.jsxs("nav",{className:"bg-white shadow-md p-4",children:[A.jsxs("div",{className:"flex flex-row justify-between items-center max-w-screen-xl mx-auto",children:[A.jsx(JS,{}),A.jsxs("div",{className:"flex items-center gap-x-6 min-w-0 sm:flex",children:[A.jsx(Fn,{to:"/dashboard",className:"text-lg font-semibold text-gray-800 hover:text-cyan-700",children:"Dashboard"}),A.jsx(Fn,{to:"/players",className:"text-lg font-semibold text-gray-800 hover:text-cyan-700",children:"Players"}),e==="organizer"&&A.jsx(Fn,{to:"/admin",className:"text-lg font-semibold text-gray-800 hover:text-cyan-700",children:"Admin"}),n&&A.jsx("button",{onClick:async()=>{await i(),a("/welcome")},className:"text-lg font-semibold text-gray-800 hover:text-cyan-700 px-2",children:"Log Out"})]}),A.jsx("button",{className:"sm:hidden p-2 ml-2",onClick:()=>r(u=>!u),"aria-label":"Open menu",children:A.jsx(tM,{className:"w-7 h-7 text-cyan-700"})})]}),t&&A.jsx("div",{className:"sm:hidden fixed top-16 left-0 w-full bg-white shadow-lg z-50 border-t border-gray-200",children:A.jsxs("div",{className:"flex flex-col items-center py-4 space-y-2",children:[A.jsx(Fn,{to:"/dashboard",className:"block text-lg font-semibold text-gray-800 hover:text-cyan-700 px-4 py-2",onClick:s,children:"Dashboard"}),A.jsx(Fn,{to:"/players",className:"block text-lg font-semibold text-gray-800 hover:text-cyan-700 px-4 py-2",onClick:s,children:"Players"}),e==="organizer"&&A.jsx(Fn,{to:"/admin",className:"block text-lg font-semibold text-gray-800 hover:text-cyan-700 px-4 py-2",onClick:s,children:"Admin"}),n&&A.jsx("button",{onClick:async()=>{await i(),a("/welcome")},className:"block text-lg font-semibold text-gray-800 hover:text-cyan-700 px-4 py-2",children:"Log Out"})]})})]})}function Ql({onEventSelected:n}){const{events:e,selectedEvent:t,setSelectedEvent:r,setEvents:i,loading:a,error:s,refreshEvents:u}=Nf(),{selectedLeagueId:c,user:h}=Gn(),[p,m]=H.useState(!1),[y,x]=H.useState(""),[E,T]=H.useState(""),[S,I]=H.useState(!1),[R,D]=H.useState(""),F=X=>{if(!Array.isArray(e))return;const P=e.find(N=>N.id===X.target.value);P&&(r(P),n&&n(P))},j=async X=>{var P,N;X.preventDefault(),I(!0),D("");try{const L=E?new Date(E).toISOString().slice(0,10):"",G={id:(await sn.post(`/leagues/${c}/events`,{name:y,date:L})).data.event_id,name:y,date:L,created_at:new Date().toISOString()};i(k=>[G,...k]),r(G),m(!1),x(""),T(""),n&&n(G)}catch(L){console.error("Event creation error:",L),D(((N=(P=L.response)==null?void 0:P.data)==null?void 0:N.detail)||L.message||"Failed to create event")}finally{I(!1)}};return a?A.jsx("div",{className:"flex flex-col gap-2 mb-6",children:A.jsxs("div",{className:"text-center text-gray-500 py-4",children:[A.jsx("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-300 border-t-cmf-primary rounded-full"}),A.jsx("div",{className:"mt-2",children:"Loading events..."})]})}):s?A.jsx("div",{className:"flex flex-col gap-2 mb-6",children:A.jsxs("div",{className:"text-center text-red-500 py-4 bg-red-50 rounded-lg border border-red-200",children:[A.jsx("div",{className:"mb-2",children:" Failed to load events"}),A.jsx("div",{className:"text-sm text-red-400 mb-3",children:s}),A.jsx("button",{onClick:u,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition text-sm",children:"Try Again"})]})}):A.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[e.length===0&&A.jsx("div",{className:"text-center text-cmf-secondary text-lg font-semibold py-2",children:"No events found. Please create a new event."}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:F,className:"border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",disabled:!Array.isArray(e)||e.length===0,children:[A.jsx("option",{value:"",children:"Select an event..."}),Array.isArray(e)&&e.map(X=>{let P="Invalid Date";return X.date&&!isNaN(Date.parse(X.date))&&(P=new Date(X.date).toLocaleDateString()),A.jsxs("option",{value:X.id,children:[X.name,"  ",P]},X.id)})]}),A.jsx("button",{onClick:()=>m(!0),className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow hover:bg-cmf-secondary transition",children:"Create New Event"})]}),p&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[A.jsx("h3",{className:"text-lg font-bold mb-4",children:"Create New Event"}),A.jsxs("form",{onSubmit:j,children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name"}),A.jsx("input",{type:"text",value:y,onChange:X=>x(X.target.value),className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Date"}),A.jsx("input",{type:"date",value:E,onChange:X=>T(X.target.value),className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),R&&A.jsx("div",{className:"text-red-500 text-sm mb-4",children:R}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"submit",disabled:S,className:"bg-cmf-primary text-white px-4 py-2 rounded hover:bg-cmf-secondary transition disabled:opacity-50",children:S?"Creating...":"Create"}),A.jsx("button",{type:"button",onClick:()=>m(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition",children:"Cancel"})]})]})]})})]})}var Cl={},hg={exports:{}},dg,dw;function cM(){if(dw)return dg;dw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dg=n,dg}var pg,pw;function fM(){if(pw)return pg;pw=1;var n=cM();function e(){}function t(){}return t.resetWarningCache=e,pg=function(){function r(s,u,c,h,p,m){if(m!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},pg}var gw;function eC(){return gw||(gw=1,hg.exports=fM()()),hg.exports}var gg,mw;function tC(){return mw||(mw=1,gg={L:1,M:0,Q:3,H:2}),gg}var mg,vw;function nC(){return vw||(vw=1,mg={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),mg}var vg,yw;function hM(){if(yw)return vg;yw=1;var n=nC();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}},vg=e,vg}var yg,_w;function dM(){if(_w)return yg;_w=1;var n=tC();function e(t,r){this.totalCount=t,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,r){var i=e.getRsBlockTable(t,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var a=i.length/3,s=new Array,u=0;u<a;u++)for(var c=i[u*3+0],h=i[u*3+1],p=i[u*3+2],m=0;m<c;m++)s.push(new e(h,p));return s},e.getRsBlockTable=function(t,r){switch(r){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},yg=e,yg}var _g,xw;function pM(){if(xw)return _g;xw=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},_g=n,_g}var xg,Ew;function rC(){if(Ew)return xg;Ew=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return xg=n,xg}var Eg,ww;function iC(){if(ww)return Eg;ww=1;var n=rC();function e(t,r){if(t.length==null)throw new Error(t.length+"/"+r);for(var i=0;i<t.length&&t[i]==0;)i++;this.num=new Array(t.length-i+r);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)r[i+a]^=n.gexp(n.glog(this.get(i))+n.glog(t.get(a)));return new e(r,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=n.glog(this.get(0))-n.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<t.getLength();a++)i[a]^=n.gexp(n.glog(t.get(a))+r);return new e(i,0).mod(t)}},Eg=e,Eg}var wg,Aw;function gM(){if(Aw)return wg;Aw=1;var n=nC(),e=iC(),t=rC(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var s=a<<10;i.getBCHDigit(s)-i.getBCHDigit(i.G15)>=0;)s^=i.G15<<i.getBCHDigit(s)-i.getBCHDigit(i.G15);return(a<<10|s)^i.G15_MASK},getBCHTypeNumber:function(a){for(var s=a<<12;i.getBCHDigit(s)-i.getBCHDigit(i.G18)>=0;)s^=i.G18<<i.getBCHDigit(s)-i.getBCHDigit(i.G18);return a<<12|s},getBCHDigit:function(a){for(var s=0;a!=0;)s++,a>>>=1;return s},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,s,u){switch(a){case r.PATTERN000:return(s+u)%2==0;case r.PATTERN001:return s%2==0;case r.PATTERN010:return u%3==0;case r.PATTERN011:return(s+u)%3==0;case r.PATTERN100:return(Math.floor(s/2)+Math.floor(u/3))%2==0;case r.PATTERN101:return s*u%2+s*u%3==0;case r.PATTERN110:return(s*u%2+s*u%3)%2==0;case r.PATTERN111:return(s*u%3+(s+u)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var s=new e([1],0),u=0;u<a;u++)s=s.multiply(new e([1,t.gexp(u)],0));return s},getLengthInBits:function(a,s){if(1<=s&&s<10)switch(a){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(s<27)switch(a){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(s<41)switch(a){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+s)},getLostPoint:function(a){for(var s=a.getModuleCount(),u=0,c=0;c<s;c++)for(var h=0;h<s;h++){for(var p=0,m=a.isDark(c,h),y=-1;y<=1;y++)if(!(c+y<0||s<=c+y))for(var x=-1;x<=1;x++)h+x<0||s<=h+x||y==0&&x==0||m==a.isDark(c+y,h+x)&&p++;p>5&&(u+=3+p-5)}for(var c=0;c<s-1;c++)for(var h=0;h<s-1;h++){var E=0;a.isDark(c,h)&&E++,a.isDark(c+1,h)&&E++,a.isDark(c,h+1)&&E++,a.isDark(c+1,h+1)&&E++,(E==0||E==4)&&(u+=3)}for(var c=0;c<s;c++)for(var h=0;h<s-6;h++)a.isDark(c,h)&&!a.isDark(c,h+1)&&a.isDark(c,h+2)&&a.isDark(c,h+3)&&a.isDark(c,h+4)&&!a.isDark(c,h+5)&&a.isDark(c,h+6)&&(u+=40);for(var h=0;h<s;h++)for(var c=0;c<s-6;c++)a.isDark(c,h)&&!a.isDark(c+1,h)&&a.isDark(c+2,h)&&a.isDark(c+3,h)&&a.isDark(c+4,h)&&!a.isDark(c+5,h)&&a.isDark(c+6,h)&&(u+=40);for(var T=0,h=0;h<s;h++)for(var c=0;c<s;c++)a.isDark(c,h)&&T++;var S=Math.abs(100*T/s/s-50)/5;return u+=S*10,u}};return wg=i,wg}var Ag,Tw;function mM(){if(Tw)return Ag;Tw=1;var n=hM(),e=dM(),t=pM(),r=gM(),i=iC();function a(u,c){this.typeNumber=u,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s=a.prototype;return s.addData=function(u){var c=new n(u);this.dataList.push(c),this.dataCache=null},s.isDark=function(u,c){if(u<0||this.moduleCount<=u||c<0||this.moduleCount<=c)throw new Error(u+","+c);return this.modules[u][c]},s.getModuleCount=function(){return this.moduleCount},s.make=function(){if(this.typeNumber<1){var u=1;for(u=1;u<40;u++){for(var c=e.getRSBlocks(u,this.errorCorrectLevel),h=new t,p=0,m=0;m<c.length;m++)p+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var y=this.dataList[m];h.put(y.mode,4),h.put(y.getLength(),r.getLengthInBits(y.mode,u)),y.write(h)}if(h.getLengthInBits()<=p*8)break}this.typeNumber=u}this.makeImpl(!1,this.getBestMaskPattern())},s.makeImpl=function(u,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++){this.modules[h]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[h][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(u,c),this.typeNumber>=7&&this.setupTypeNumber(u),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},s.setupPositionProbePattern=function(u,c){for(var h=-1;h<=7;h++)if(!(u+h<=-1||this.moduleCount<=u+h))for(var p=-1;p<=7;p++)c+p<=-1||this.moduleCount<=c+p||(0<=h&&h<=6&&(p==0||p==6)||0<=p&&p<=6&&(h==0||h==6)||2<=h&&h<=4&&2<=p&&p<=4?this.modules[u+h][c+p]=!0:this.modules[u+h][c+p]=!1)},s.getBestMaskPattern=function(){for(var u=0,c=0,h=0;h<8;h++){this.makeImpl(!0,h);var p=r.getLostPoint(this);(h==0||u>p)&&(u=p,c=h)}return c},s.createMovieClip=function(u,c,h){var p=u.createEmptyMovieClip(c,h),m=1;this.make();for(var y=0;y<this.modules.length;y++)for(var x=y*m,E=0;E<this.modules[y].length;E++){var T=E*m,S=this.modules[y][E];S&&(p.beginFill(0,100),p.moveTo(T,x),p.lineTo(T+m,x),p.lineTo(T+m,x+m),p.lineTo(T,x+m),p.endFill())}return p},s.setupTimingPattern=function(){for(var u=8;u<this.moduleCount-8;u++)this.modules[u][6]==null&&(this.modules[u][6]=u%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},s.setupPositionAdjustPattern=function(){for(var u=r.getPatternPosition(this.typeNumber),c=0;c<u.length;c++)for(var h=0;h<u.length;h++){var p=u[c],m=u[h];if(this.modules[p][m]==null)for(var y=-2;y<=2;y++)for(var x=-2;x<=2;x++)y==-2||y==2||x==-2||x==2||y==0&&x==0?this.modules[p+y][m+x]=!0:this.modules[p+y][m+x]=!1}},s.setupTypeNumber=function(u){for(var c=r.getBCHTypeNumber(this.typeNumber),h=0;h<18;h++){var p=!u&&(c>>h&1)==1;this.modules[Math.floor(h/3)][h%3+this.moduleCount-8-3]=p}for(var h=0;h<18;h++){var p=!u&&(c>>h&1)==1;this.modules[h%3+this.moduleCount-8-3][Math.floor(h/3)]=p}},s.setupTypeInfo=function(u,c){for(var h=this.errorCorrectLevel<<3|c,p=r.getBCHTypeInfo(h),m=0;m<15;m++){var y=!u&&(p>>m&1)==1;m<6?this.modules[m][8]=y:m<8?this.modules[m+1][8]=y:this.modules[this.moduleCount-15+m][8]=y}for(var m=0;m<15;m++){var y=!u&&(p>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=y:m<9?this.modules[8][15-m-1+1]=y:this.modules[8][15-m-1]=y}this.modules[this.moduleCount-8][8]=!u},s.mapData=function(u,c){for(var h=-1,p=this.moduleCount-1,m=7,y=0,x=this.moduleCount-1;x>0;x-=2)for(x==6&&x--;;){for(var E=0;E<2;E++)if(this.modules[p][x-E]==null){var T=!1;y<u.length&&(T=(u[y]>>>m&1)==1);var S=r.getMask(c,p,x-E);S&&(T=!T),this.modules[p][x-E]=T,m--,m==-1&&(y++,m=7)}if(p+=h,p<0||this.moduleCount<=p){p-=h,h=-h;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(u,c,h){for(var p=e.getRSBlocks(u,c),m=new t,y=0;y<h.length;y++){var x=h[y];m.put(x.mode,4),m.put(x.getLength(),r.getLengthInBits(x.mode,u)),x.write(m)}for(var E=0,y=0;y<p.length;y++)E+=p[y].dataCount;if(m.getLengthInBits()>E*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+E*8+")");for(m.getLengthInBits()+4<=E*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=E*8||(m.put(a.PAD0,8),m.getLengthInBits()>=E*8));)m.put(a.PAD1,8);return a.createBytes(m,p)},a.createBytes=function(u,c){for(var h=0,p=0,m=0,y=new Array(c.length),x=new Array(c.length),E=0;E<c.length;E++){var T=c[E].dataCount,S=c[E].totalCount-T;p=Math.max(p,T),m=Math.max(m,S),y[E]=new Array(T);for(var I=0;I<y[E].length;I++)y[E][I]=255&u.buffer[I+h];h+=T;var R=r.getErrorCorrectPolynomial(S),D=new i(y[E],R.getLength()-1),F=D.mod(R);x[E]=new Array(R.getLength()-1);for(var I=0;I<x[E].length;I++){var j=I+F.getLength()-x[E].length;x[E][I]=j>=0?F.get(j):0}}for(var X=0,I=0;I<c.length;I++)X+=c[I].totalCount;for(var P=new Array(X),N=0,I=0;I<p;I++)for(var E=0;E<c.length;E++)I<y[E].length&&(P[N++]=y[E][I]);for(var I=0;I<m;I++)for(var E=0;E<c.length;E++)I<x[E].length&&(P[N++]=x[E][I]);return P},Ag=a,Ag}var ud={},bw;function vM(){if(bw)return ud;bw=1,Object.defineProperty(ud,"__esModule",{value:!0});var n=Object.assign||function(h){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(h[y]=m[y])}return h},e=eC(),t=a(e),r=pf(),i=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){var m={};for(var y in h)p.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(h,y)&&(m[y]=h[y]);return m}var u={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},c=(0,r.forwardRef)(function(h,p){var m=h.bgColor,y=h.bgD,x=h.fgD,E=h.fgColor,T=h.size,S=h.title,I=h.viewBoxSize,R=h.xmlns,D=R===void 0?"http://www.w3.org/2000/svg":R,F=s(h,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",n({},F,{height:T,ref:p,viewBox:"0 0 "+I+" "+I,width:T,xmlns:D}),S?i.default.createElement("title",null,S):null,i.default.createElement("path",{d:y,fill:m}),i.default.createElement("path",{d:x,fill:E}))});return c.displayName="QRCodeSvg",c.propTypes=u,ud.default=c,ud}var Sw;function yM(){if(Sw)return Cl;Sw=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.QRCode=void 0;var n=Object.assign||function(T){for(var S=1;S<arguments.length;S++){var I=arguments[S];for(var R in I)Object.prototype.hasOwnProperty.call(I,R)&&(T[R]=I[R])}return T},e=eC(),t=m(e),r=tC(),i=m(r),a=mM(),s=m(a),u=pf(),c=m(u),h=vM(),p=m(h);function m(T){return T&&T.__esModule?T:{default:T}}function y(T,S){var I={};for(var R in T)S.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(T,R)&&(I[R]=T[R]);return I}var x={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},E=(0,u.forwardRef)(function(T,S){var I=T.bgColor,R=I===void 0?"#FFFFFF":I,D=T.fgColor,F=D===void 0?"#000000":D,j=T.level,X=j===void 0?"L":j,P=T.size,N=P===void 0?256:P,L=T.value,V=y(T,["bgColor","fgColor","level","size","value"]),G=new s.default(-1,i.default[X]);G.addData(L),G.make();var k=G.modules;return c.default.createElement(p.default,n({},V,{bgColor:R,bgD:k.map(function(U,Se){return U.map(function(Ee,ee){return Ee?"":"M "+ee+" "+Se+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:F,fgD:k.map(function(U,Se){return U.map(function(Ee,ee){return Ee?"M "+ee+" "+Se+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:S,size:N,viewBoxSize:k.length}))});return Cl.QRCode=E,E.displayName="QRCode",E.propTypes=x,Cl.default=E,Cl}var _M=yM();const aC=fA(_M);function oC({onCreated:n}){const{user:e,addLeague:t}=Gn(),[r,i]=H.useState(""),[a,s]=H.useState(null),[u,c]=H.useState(!1),[h,p]=H.useState(""),m=async y=>{y.preventDefault(),c(!0),p(""),s(null);try{const{data:x}=await sn.post("/leagues",{name:r,user_id:e==null?void 0:e.uid,email:e==null?void 0:e.email});s(x.league_id),t&&t({id:x.league_id,name:r,role:"organizer"}),n&&n(x.league_id)}catch(x){p(x.message||"Error creating league")}finally{c(!1)}};return A.jsxs("div",{className:"w-full max-w-md text-center mx-auto",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Create a New League"}),a?A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("div",{className:"font-semibold",children:"League Join Code:"}),A.jsx("div",{className:"text-2xl font-mono bg-gray-100 rounded p-2 inline-block mt-1",children:a})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("div",{className:"flex justify-center",children:A.jsx(aC,{value:`https://woo-combine.com/join/${a}`,size:180})}),A.jsxs("div",{className:"text-xs mt-2",children:["Scan to join: ",A.jsx("br",{}),"https://woo-combine.com/join/",a]})]}),A.jsx("div",{className:"text-green-600 font-semibold",children:"Share this code or QR with coaches to join your league!"})]}):A.jsxs("form",{onSubmit:m,className:"space-y-4",children:[A.jsx("input",{type:"text",className:"border rounded px-3 py-2 w-full",placeholder:"League Name",value:r,onChange:y=>i(y.target.value),required:!0}),A.jsx("button",{type:"submit",className:"bg-cmf-primary text-white px-4 py-2 rounded w-full font-semibold",disabled:u,children:u?"Creating...":"Create League"}),h&&A.jsx("div",{className:"text-red-500 text-sm mt-2",children:h})]})]})}function xM(){return console.log("[CreateLeague] Component rendering"),console.log("[CreateLeague] Current location:",window.location.pathname),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs text-gray-500 mb-4",children:"Debug: CreateLeague component loaded successfully"}),A.jsx(oC,{})]})}const Tg={"40m_dash":.3,vertical_jump:.2,catching:.15,throwing:.15,agility:.2},Cw=[{key:"40m_dash",label:"40M Dash"},{key:"vertical_jump",label:"Vertical Jump"},{key:"catching",label:"Catching"},{key:"throwing",label:"Throwing"},{key:"agility",label:"Agility"}];function EM(){const{selectedEvent:n,noLeague:e,LeagueFallback:t}=Nf(),{user:r,selectedLeagueId:i,userRole:a,leagues:s}=Gn(),[u,c]=H.useState(""),[h,p]=H.useState([]),[m,y]=H.useState(!1),[x,E]=H.useState(null),[T,S]=H.useState([]),[I,R]=H.useState({...Tg}),[D,F]=H.useState(""),j=Dr();H.useEffect(()=>{async function k(){var U,Se,Ee,ee;if(!(!n||!r||!i))try{const{data:ce}=await sn.get(`/players?event_id=${n.id}&league_id=${i}`);S(ce)}catch(ce){console.log("[CoachDashboard] Players API response:",(U=ce.response)==null?void 0:U.status,(Ee=(Se=ce.response)==null?void 0:Se.data)==null?void 0:Ee.detail),((ee=ce.response)==null?void 0:ee.status)===404?(console.log("[CoachDashboard] No players found for event yet (normal for new events)"),S([])):(console.error("[CoachDashboard] Players fetch error:",ce),S([]))}}k()},[n,r,i]);const X=[...new Set(T.map(k=>k.age_group))].sort();H.useEffect(()=>{if(!u||!r||!i){p([]);return}y(!0),E(null),R({...Tg}),sn.get(`/rankings?age_group=${encodeURIComponent(u)}&user_id=${r.uid}&league_id=${i}`).then(k=>{p(k.data),y(!1)}).catch(k=>{var U,Se,Ee,ee;console.log("[CoachDashboard] Rankings API response:",(U=k.response)==null?void 0:U.status,(Ee=(Se=k.response)==null?void 0:Se.data)==null?void 0:Ee.detail),((ee=k.response)==null?void 0:ee.status)===404?(console.log("[CoachDashboard] No rankings found for age group yet (normal for new events)"),E(null),p([])):(console.error("[CoachDashboard] Rankings fetch error:",k),E(k.message)),y(!1)})},[u,r,i]);const P=(k,U)=>{R(Se=>({...Se,[k]:U}))},N=()=>{R({...Tg}),F("")},L=()=>{const k=Cw.map(Ee=>parseFloat(I[Ee.key])),U=k.reduce((Ee,ee)=>Ee+ee,0);if(k.some(Ee=>isNaN(Ee)||Ee<0||Ee>1)){F("All weights must be between 0 and 1.");return}if(Math.abs(U-1)>1e-6){F("Weights must sum to 1.00");return}F(""),y(!0),E(null);const Se=new URLSearchParams({age_group:u,league_id:i});Se.append("weight_40m_dash",I["40m_dash"]),Se.append("weight_vertical_jump",I.vertical_jump),Se.append("weight_catching",I.catching),Se.append("weight_throwing",I.throwing),Se.append("weight_agility",I.agility),sn.get(`/rankings?${Se.toString()}`).then(Ee=>{p(Ee.data),y(!1)}).catch(Ee=>{var ee,ce,ve,Xe;console.log("[CoachDashboard] Custom weights rankings API response:",(ee=Ee.response)==null?void 0:ee.status,(ve=(ce=Ee.response)==null?void 0:ce.data)==null?void 0:ve.detail),((Xe=Ee.response)==null?void 0:Xe.status)===404?(console.log("[CoachDashboard] No rankings found for custom weights yet (normal for new events)"),E(null),p([])):(console.error("[CoachDashboard] Custom weights rankings fetch error:",Ee),E(Ee.message)),y(!1)})},V=()=>{if(!u||h.length===0)return;let k=`Rank,Name,Jersey Number,Composite Score
`;h.forEach(ve=>{k+=`${ve.rank},"${ve.name}",${ve.number},${ve.composite_score.toFixed(2)}
`});const U=n?new Date(n.date).toISOString().slice(0,10):"event",Se=`rankings_${u}_${U}.csv`,Ee=new Blob([k],{type:"text/csv"}),ee=URL.createObjectURL(Ee),ce=document.createElement("a");ce.href=ee,ce.download=Se,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(ee)},G=n&&n.date&&!isNaN(Date.parse(n.date))?new Date(n.date).toLocaleDateString():"Invalid Date";if(H.useEffect(()=>{const k=window.location.hash;if(k){const U=document.querySelector(k);U&&U.scrollIntoView({behavior:"smooth"})}},[]),T.length===0){const k=()=>{j("/admin#player-upload-section")};return!s||s.length===0?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh] mt-20",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cyan-200",children:[A.jsx("h2",{className:"text-2xl font-bold text-cyan-700 mb-4",children:"Welcome to Woo-Combine!"}),A.jsx("p",{className:"text-cyan-700 mb-2",children:"It looks like you haven't created a league yet. That's totally normal for new organizers!"}),A.jsx("p",{className:"text-gray-700 mb-4",children:"To get started, create your first league below:"}),A.jsx(oC,{onCreated:()=>j("/onboarding/event")})]})}):A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh] mt-20",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cyan-200",children:[A.jsx("h2",{className:"text-2xl font-bold text-cyan-700 mb-4",children:"Welcome to Woo-Combine!"}),A.jsx("p",{className:"text-cyan-700 mb-2",children:"It looks like you haven't added any players yet. That's totally normal for new leagues!"}),A.jsx("p",{className:"text-gray-700 mb-4",children:"To get started, you can:"}),A.jsx("div",{className:"flex flex-col gap-3 items-center",children:a==="organizer"?A.jsx("button",{onClick:k,className:"bg-cyan-700 text-white font-bold px-4 py-2 rounded shadow hover:bg-cyan-800 transition w-full max-w-xs",children:" Import Players"}):A.jsx("span",{className:"text-gray-500",children:"Waiting for organizer to import players."})})]})})}return e?A.jsx(t,{}):A.jsx("div",{className:"min-h-screen bg-gray-50 text-cmf-contrast font-sans",children:A.jsxs("div",{className:"max-w-lg mx-auto px-4 sm:px-6 mt-20",children:[A.jsx(Ql,{}),A.jsx("div",{className:"text-xs uppercase font-bold text-gray-500 tracking-wide mb-1",children:"Coach Dashboard"}),A.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-4",children:n?`${n.name}  ${G}`:"No event selected"}),A.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4 shadow-sm",children:[A.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Select Age Group"}),A.jsxs("select",{value:u,onChange:k=>c(k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-cyan-600 focus:border-cyan-600 sm:text-sm",children:[A.jsx("option",{value:"",children:"Select Age Group"}),X.map(k=>A.jsx("option",{value:k,children:k},k))]})]}),a==="organizer"&&A.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-2xl p-5 mb-6",children:[A.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[A.jsx(aM,{className:"w-4 h-4 text-cyan-600"}),A.jsx("h2",{className:"text-sm font-medium text-gray-800",children:"Adjust Drill Weighting"})]}),A.jsx("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:Cw.map(k=>A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:k.label}),A.jsx("input",{type:"range",min:0,max:1,step:.01,value:I[k.key],onChange:U=>P(k.key,parseFloat(U.target.value)),className:"w-full accent-cyan-600 h-2 rounded-lg bg-gray-100"}),A.jsx("span",{className:"block text-right font-mono text-cyan-700 text-xs mt-1",children:parseFloat(I[k.key]).toFixed(2)})]},k.key))}),A.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mt-6",children:[A.jsx("button",{onClick:N,className:"rounded-full bg-cyan-600 hover:bg-cyan-700 text-white px-5 py-2 text-sm font-medium shadow-sm transition",children:"Reset to Default"}),A.jsx("button",{onClick:L,className:"rounded-full bg-cyan-600 hover:bg-cyan-700 text-white px-5 py-2 text-sm font-medium shadow-sm transition",children:"Update Rankings"})]}),D&&A.jsx("div",{className:"text-red-500 mt-2 text-sm",children:D})]}),m?A.jsx("div",{children:"Loading rankings..."}):x?A.jsxs("div",{className:"text-red-500",children:["Error: ",x]}):u===""?A.jsx("div",{className:"text-gray-500",children:"Please select an age group to view rankings."}):h.length===0?A.jsx("div",{children:"No players found for this age group."}):A.jsxs("div",{className:"bg-white rounded shadow p-6 overflow-x-auto",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[A.jsxs("h2",{className:"text-xl font-semibold",children:["Rankings (",u,")"]}),A.jsx("button",{onClick:V,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-700",disabled:h.length===0,style:{display:h.length===0?"none":"inline-block"},children:"Export Rankings as CSV"})]}),A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"py-2 px-2",children:"Rank"}),A.jsx("th",{className:"py-2 px-2",children:"Name"}),A.jsx("th",{className:"py-2 px-2",children:"Jersey #"}),A.jsx("th",{className:"py-2 px-2",children:"Score"})]})}),A.jsx("tbody",{children:h.map(k=>A.jsxs("tr",{className:"border-t",children:[A.jsx("td",{className:`py-2 px-2 font-bold ${k.rank===1?"text-yellow-500":k.rank===2?"text-gray-500":k.rank===3?"text-orange-500":""}`,children:k.rank===1?"":k.rank===2?"":k.rank===3?"":k.rank}),A.jsx("td",{className:"py-2 px-2",children:k.name}),A.jsx("td",{className:"py-2 px-2",children:k.number}),A.jsx("td",{className:"py-2 px-2 font-mono",children:k.composite_score.toFixed(2)})]},k.player_id))})]})]})]})})}const wM=[{value:"40m_dash",label:"40M Dash"},{value:"vertical_jump",label:"Vertical Jump"},{value:"catching",label:"Catching"},{value:"throwing",label:"Throwing"},{value:"agility",label:"Agility"}];function AM({playerId:n,onSuccess:e}){const{user:t,selectedLeagueId:r}=Gn(),[i,a]=H.useState(""),[s,u]=H.useState(""),[c,h]=H.useState(!1),[p,m]=H.useState(""),[y,x]=H.useState(""),E=async T=>{if(T.preventDefault(),m(""),x(""),!i||!s){m("Please select a drill type and enter a value.");return}h(!0);try{await sn.post("/drill-results/",{player_id:n,type:i,value:parseFloat(s),league_id:r}),x("Drill result submitted!"),a(""),u(""),e&&e()}catch(S){m(S.message)}finally{h(!1)}};return A.jsxs("form",{onSubmit:E,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md mx-auto mb-6",children:[A.jsx("h2",{className:"text-xl font-bold mb-4 text-cmf-primary",children:"Submit Drill Result"}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"Drill Type"}),A.jsxs("select",{value:i,onChange:T=>a(T.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0,children:[A.jsx("option",{value:"",children:"Select a drill"}),wM.map(T=>A.jsx("option",{value:T.value,children:T.label},T.value))]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block mb-1 font-semibold",children:"Value"}),A.jsx("input",{type:"number",step:"any",value:s,onChange:T=>u(T.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),p&&A.jsx("div",{className:"text-red-500 mb-2 text-sm",children:p}),y&&A.jsx("div",{className:"text-green-600 mb-2 text-sm",children:y}),A.jsx("button",{type:"submit",className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold py-2 rounded-lg shadow transition",disabled:c,children:c?"Submitting...":"Submit Result"})]})}function TM(){const{selectedEvent:n}=Nf(),{user:e,selectedLeagueId:t,userRole:r}=Gn(),[i,a]=H.useState([]),[s,u]=H.useState(!0),[c,h]=H.useState(null),[p,m]=H.useState({}),y=async()=>{var T,S,I,R;if(!n||!e||!t){console.log("[Players] No event/user/league selected, skipping player fetch.");return}u(!0),h(null);try{const{data:D}=await sn.get(`/players?event_id=${n.id}&league_id=${t}`);a(D)}catch(D){console.log("[Players] API response:",(T=D.response)==null?void 0:T.status,(I=(S=D.response)==null?void 0:S.data)==null?void 0:I.detail),((R=D.response)==null?void 0:R.status)===404?(console.log("[Players] No players found for event yet (normal for new events)"),h(null),a([])):(console.error("[Players] Fetch error:",D),h(D.message))}finally{u(!1)}};H.useEffect(()=>{y()},[n]);const x=T=>{m(S=>({...S,[T]:!S[T]}))},E=i.reduce((T,S)=>(T[S.age_group]=T[S.age_group]||[],T[S.age_group].push(S),T),{});return!n||!n.id?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[A.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No event selected"}),A.jsx("p",{className:"text-cmf-secondary mb-4",children:r==="organizer"?"Select or create an event to manage players and drills.":"Ask your league operator to assign you to an event."}),A.jsx("div",{className:"mb-4",children:A.jsx(Ql,{})})]})}):s?A.jsx("div",{children:"Loading players..."}):c?c.includes("422")?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[A.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No players found"}),A.jsx("p",{className:"text-cmf-secondary mb-4",children:"Use the Admin tab to upload or import players to get started."}),A.jsx("a",{href:"/admin",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-secondary transition",children:"Go to Admin"})]})}):A.jsxs("div",{className:"text-red-500",children:["Error: ",c]}):i.length===0?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[A.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No players found yet"}),A.jsx("p",{className:"text-cmf-secondary mb-4",children:"You can upload a CSV or add them manually to get started."}),A.jsxs("div",{className:"flex gap-4 justify-center",children:[A.jsx("a",{href:"#player-upload-section",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-secondary transition",children:"Upload CSV"}),A.jsx("a",{href:"#player-upload-section",className:"bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition",children:"Add Player"})]})]})}):A.jsxs("div",{className:"max-w-2xl mx-auto py-8",children:[A.jsx(Ql,{}),A.jsxs("div",{className:"mb-4 text-lg font-semibold flex items-center gap-2",children:[A.jsx("span",{role:"img","aria-label":"event",children:""}),"Managing: ",n.name,"  ",n.date&&!isNaN(Date.parse(n.date))?new Date(n.date).toLocaleDateString():"Invalid Date"]}),A.jsx("h1",{className:"text-3xl font-extrabold mb-6 text-center text-cmf-primary drop-shadow",children:"Woo-Combine: Players"}),Object.keys(E).sort().map(T=>{const S=E[T].slice().sort((I,R)=>R.composite_score-I.composite_score);return A.jsxs("div",{className:"mb-8",children:[A.jsxs("h2",{className:"text-xl font-bold mb-2 text-cmf-secondary",children:["Age Group: ",T]}),A.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4",children:A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"py-2 px-2",children:"Rank"}),A.jsx("th",{className:"py-2 px-2",children:"Name"}),A.jsx("th",{className:"py-2 px-2",children:"Jersey #"}),A.jsx("th",{className:"py-2 px-2",children:"Composite Score"}),A.jsx("th",{className:"py-2 px-2"})]})}),A.jsx("tbody",{children:S.map((I,R)=>A.jsxs(Sm.Fragment,{children:[A.jsxs("tr",{className:"border-t",children:[A.jsx("td",{className:`py-2 px-2 font-bold ${R===0?"text-yellow-500":R===1?"text-gray-500":R===2?"text-orange-500":""}`,children:R===0?"":R===1?"":R===2?"":R+1}),A.jsx("td",{className:"py-2 px-2",children:I.name}),A.jsx("td",{className:"py-2 px-2",children:I.number}),A.jsx("td",{className:"py-2 px-2 font-mono",children:I.composite_score.toFixed(2)}),A.jsx("td",{className:"py-2 px-2",children:r==="organizer"&&A.jsx("button",{onClick:()=>x(I.id),className:"text-cmf-primary underline text-sm font-bold hover:text-cmf-secondary transition",children:p[I.id]?"Hide Form":"Add Result"})})]}),p[I.id]&&A.jsx("tr",{children:A.jsx("td",{colSpan:5,className:"bg-cmf-light",children:r==="organizer"&&A.jsx(AM,{playerId:I.id,onSuccess:y})})})]},I.id))})]})})]},T)})]})}const cd=["name","number","age_group","40m_dash","vertical_jump","catching","throwing","agility"],Iw=["7-8","9-10","11-12"],bM=[["Jane Smith","23","9-10","6.1","19","8","7","6.8"],["Alex Lee","45","11-12","5.8","21","9","8","7.2"]];function SM(n){const e=n.trim().split(/\r?\n/),t=e[0].split(",").map(i=>i.trim()),r=e.slice(1).map(i=>i.split(",").map(a=>a.trim()));return{headers:t,rows:r}}function CM(n,e){const t=[],r={};return e.forEach((i,a)=>{r[i]=n[a]??""}),r.name||t.push("Missing name"),r.number&&r.number.trim()!==""&&isNaN(Number(r.number))&&t.push("Invalid number"),r.age_group&&r.age_group.trim()!==""&&!["7-8","9-10","11-12"].includes(r.age_group)&&t.push("Invalid age group"),["40m_dash","vertical_jump","catching","throwing","agility"].forEach(i=>{const a=r[i];a&&a.trim()!==""&&isNaN(Number(a))&&t.push(`Invalid ${i}`)}),{...r,warnings:t}}function IM(){const{user:n,role:e,userRole:t,selectedLeagueId:r,leagues:i}=Gn(),{selectedEvent:a,setEvents:s,setSelectedEvent:u}=Nf(),[c,h]=H.useState(""),[p,m]=H.useState("idle"),[y,x]=H.useState(""),[E,T]=H.useState([]),[S,I]=H.useState([]),[R,D]=H.useState([]),[F,j]=H.useState(""),[X,P]=H.useState("idle"),[N,L]=H.useState(""),[V,G]=H.useState(!1),[k,U]=H.useState({name:"",number:"",age_group:"","40m_dash":"",vertical_jump:"",catching:"",throwing:"",agility:""}),[Se,Ee]=H.useState([]),[ee,ce]=H.useState("idle"),[ve,Xe]=H.useState(""),[q,ue]=H.useState(0),[me,he]=H.useState(!1),Te=H.useRef(),[He,Me]=H.useState(!1),jt=i==null?void 0:i.find(_e=>_e.id===r),st=(jt==null?void 0:jt.id)||"",cr=st?`https://woo-combine.com/join?code=${st}`:"",[Hi,pi]=H.useState(!1);H.useEffect(()=>{const _e=()=>{if(window.location.hash==="#player-upload-section"){const Ae=document.getElementById("player-upload-section");Ae&&Ae.scrollIntoView({behavior:"smooth"})}};return _e(),window.addEventListener("hashchange",_e),()=>window.removeEventListener("hashchange",_e)},[]),H.useEffect(()=>{console.log("[AdminTools] mount"),console.log("[AdminTools] userRole:",t),console.log("[AdminTools] selectedEvent:",a)},[t,a]);const zi=async()=>{if(!(!a||!n||!r)){m("loading"),x("");try{await sn.delete(`/players/reset?event_id=${a.id}&user_id=${n.uid}&league_id=${r}`),m("success"),h("")}catch(_e){m("error"),x(_e.message||"Error during reset.")}}},Gi=_e=>{const Ae=_e.target.files[0];if(!Ae)return;j(Ae.name);const De=new FileReader;De.onload=_t=>{const ft=_t.target.result,{headers:er,rows:vu}=SM(ft),gi=[];(er.length!==cd.length||!cd.every((Jr,Ar)=>Jr===er[Ar]))&&gi.push("Headers must match: "+cd.join(", "));const Wi=vu.map(Jr=>CM(Jr,er));I(er),T(Wi),D(gi)},De.readAsText(Ae)};R.length===0&&E.length>0&&E.every(_e=>_e.warnings.length===0);const qi=R.length===0&&E.length>0&&E.some(_e=>_e.name&&_e.name.trim()!=="");E.every(_e=>_e.warnings.every(Ae=>!Ae.includes("Missing name")));const Va=async()=>{var _e,Ae,De,_t;if(!(!a||!n||!r)){he(!0);try{const{data:ft}=await sn.get(`/players?event_id=${a.id}&user_id=${n.uid}&league_id=${r}`);ue(Array.isArray(ft)?ft.length:0)}catch(ft){console.log("[AdminTools] Player count API response:",(_e=ft.response)==null?void 0:_e.status,(De=(Ae=ft.response)==null?void 0:Ae.data)==null?void 0:De.detail),((_t=ft.response)==null?void 0:_t.status)===404?(console.log("[AdminTools] No players found for event yet (normal for new events)"),ue(0)):(console.error("[AdminTools] Player count fetch error:",ft),ue(0))}finally{he(!1)}}};H.useEffect(()=>{Va()},[a]);const ko=()=>{Va()},fr=async()=>{if(!a||!n||!r)return;P("loading"),L("");const _e={event_id:a.id,players:E.map(Ae=>{const{warnings:De,..._t}=Ae;return _t})};console.log("Uploading players:",_e);try{const Ae=await sn.post("/players/upload",_e);console.log("Upload response:",Ae);const{data:De}=Ae;De.errors&&De.errors.length>0?(P("error"),L("Some rows failed to upload. See errors below.")):(P("success"),L(` Upload successful! ${De.added} players added.`),T([]),I([]),j(""),ko())}catch(Ae){P("error"),L(` ${Ae.message||"Upload failed."}`)}},Pr=_e=>{U({...k,[_e.target.name]:_e.target.value})},Bo=()=>{const _e=[];return k.name||_e.push("Missing name"),k.number&&isNaN(Number(k.number))&&_e.push("Invalid number"),k.age_group&&!Iw.includes(k.age_group)&&_e.push("Invalid age group"),["40m_dash","vertical_jump","catching","throwing","agility"].forEach(Ae=>{k[Ae]&&isNaN(Number(k[Ae]))&&_e.push(`Invalid ${Ae}`)}),_e},Ua=async _e=>{_e.preventDefault(),Ee([]),ce("idle"),Xe("");const Ae=Bo();if(Ae.length>0){Ee(Ae);return}ce("loading");try{const De={name:k.name,number:Number(k.number),age_group:k.age_group};k.photo_url&&(De.photo_url=k.photo_url),await sn.post("/players",De),ce("success"),Xe("Player added!"),U({name:"",number:"",age_group:"","40m_dash":"",vertical_jump:"",catching:"",throwing:"",agility:""}),G(!1),ko()}catch(De){ce("error"),Xe(De.message||"Failed to add player.")}},Xi=()=>{let _e=cd.join(",")+`
`;bM.forEach(ft=>{_e+=ft.join(",")+`
`});const Ae=new Blob([_e],{type:"text/csv"}),De=URL.createObjectURL(Ae),_t=document.createElement("a");_t.href=De,_t.download="sample_players.csv",document.body.appendChild(_t),_t.click(),document.body.removeChild(_t),URL.revokeObjectURL(De)},mu=()=>A.jsxs("div",{className:"bg-cmf-primary/10 border-l-4 border-cmf-primary text-cmf-primary px-4 py-3 mb-6 rounded",children:[A.jsx("strong",{children:"Welcome, Admin."})," Manage your combine tools below."]}),wr="Score range: 110. Use decimals for precision (e.g., 7.5)",Vo=()=>{T([]),I([]),D([]),j(""),Te.current&&(Te.current.value="")};return t!=="organizer"?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto text-center border-2 border-red-200",children:[A.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Admin Access Required"}),A.jsxs("p",{className:"text-cmf-secondary",children:["You do not have permission to view this page.",A.jsx("br",{}),"Organizer access required."]})]})}):!a||!a.id?A.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:A.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto text-center border-2 border-yellow-200",children:[A.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-4",children:"No Event Selected"}),A.jsx("p",{className:"text-cmf-secondary mb-4",children:"Before importing players, you'll need to select or create an event."}),A.jsx("div",{className:"mb-4",children:A.jsx(Ql,{})})]})}):A.jsx("div",{className:"max-w-lg mx-auto px-4 mt-8",children:A.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",children:[A.jsx(Ql,{}),a&&A.jsx("div",{className:"flex items-center gap-3 mb-4",children:A.jsxs("span",{className:"inline-flex items-center bg-cmf-primary/10 border border-cmf-primary text-cmf-primary font-bold px-4 py-2 rounded-full text-base",children:[A.jsx("span",{role:"img","aria-label":"player",children:""}),me?A.jsx("span",{className:"ml-2 animate-pulse",children:"Loading..."}):A.jsxs("span",{className:"ml-2",children:[q," Players Uploaded to: ",a.name,"  ",a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"]})]})}),A.jsx(mu,{}),A.jsxs("div",{className:"mb-4 text-lg font-semibold flex items-center gap-2 text-gray-900",children:[A.jsx("span",{role:"img","aria-label":"event",children:""}),"Managing: ",a?`${a.name}  ${a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"}`:"No event selected"]}),A.jsx("div",{id:"player-upload-section",className:"mb-8",children:A.jsxs("div",{className:"mb-2",children:[A.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1",children:"Step 2"}),A.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add Players to Your Event"}),A.jsxs("div",{className:"flex gap-2 mb-2",children:[A.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition",onClick:Xi,children:[A.jsx(fw,{className:"inline-block mr-2 w-4 h-4"}),"Sample CSV"]}),A.jsx("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition",onClick:()=>G(_e=>!_e),children:"+ Add Player Manually"})]}),A.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Uploading to: ",A.jsxs("span",{className:"font-bold",children:[a.name,"  ",new Date(a.date).toLocaleDateString()]})]}),A.jsxs("div",{className:"border-dashed border-2 border-blue-300 bg-blue-50 p-5 rounded-xl text-center text-sm text-gray-600 flex flex-col items-center",children:[A.jsx(fw,{className:"w-8 h-8 text-blue-400 mb-2"}),A.jsx("input",{ref:Te,type:"file",accept:".csv",onChange:Gi,className:"mb-2 cursor-pointer",style:{maxWidth:300}}),F&&A.jsx("div",{className:"text-xs text-gray-500 mb-2",children:F}),R.length>0&&A.jsx("div",{className:"text-red-500 text-sm mb-2",children:R.join("; ")}),Array.isArray(E)&&E.length>0&&R.length===0&&A.jsx("div",{className:"overflow-x-auto max-h-64 border rounded mb-2 w-full",children:A.jsxs("table",{className:"min-w-full text-xs",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-2 py-1"}),A.jsx("th",{className:"px-2 py-1",children:"#"}),Array.isArray(S)&&S.length>0&&S.map(_e=>A.jsxs("th",{className:"px-2 py-1",children:[_e.replace(/_/g," ").replace("m dash","m Dash").replace(/\b\w/g,Ae=>Ae.toUpperCase()),["40m_dash","vertical_jump","catching","throwing","agility"].includes(_e)&&A.jsx("span",{className:"ml-1 cursor-pointer",title:wr,children:""})]},_e)),A.jsx("th",{className:"px-2 py-1",children:"Warnings"})]})}),A.jsx("tbody",{children:Array.isArray(E)&&E.length>0&&E.map((_e,Ae)=>{const De=_e.warnings.length>0,_t=_e.warnings.some(er=>er.includes("Missing name")||er.includes("Invalid")),ft=_e.name&&_e.name.trim()!=="";return A.jsxs("tr",{className:_t?"bg-red-50":De?"bg-yellow-50":"",children:[A.jsx("td",{className:"px-2 py-1 text-center",children:ft?A.jsx("span",{className:"text-green-600",children:""}):A.jsx("span",{className:"text-red-500 cursor-pointer",title:_e.warnings.join(", "),children:""})}),A.jsx("td",{className:"px-2 py-1 font-mono",children:Ae+1}),Array.isArray(S)&&S.length>0&&S.map(er=>A.jsx("td",{className:"px-2 py-1",children:_e[er]},er)),A.jsx("td",{className:"px-2 py-1 text-yellow-600",children:_e.warnings&&_e.warnings.length>0?_e.warnings.join(", "):""})]},Ae)})})]})}),Array.isArray(E)&&E.length>0&&A.jsx("button",{className:"mt-2 bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition",onClick:Vo,type:"button",children:" Upload Another CSV"}),A.jsx("button",{className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow disabled:opacity-50 hover:bg-cmf-secondary transition mt-2",disabled:!qi||X==="loading"||!a,onClick:fr,children:X==="loading"?"Uploading...":"Confirm Upload"}),X==="success"&&A.jsx("div",{className:"text-green-600 mt-2",children:N}),X==="error"&&A.jsx("div",{className:"text-red-500 mt-2",children:N})]})]})}),V&&A.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",id:"manual-add-form-section",children:[A.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[A.jsx(hw,{className:"w-4 h-4"}),"Manual Add"]}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add Player Manually"}),A.jsxs("form",{onSubmit:async _e=>{if(await Ua(_e),ee==="success"){const Ae=document.getElementById("manual-add-form-section");Ae&&Ae.scrollIntoView({behavior:"smooth",block:"center"})}},children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[A.jsx("input",{name:"name",value:k.name,onChange:Pr,placeholder:"Name",className:"border rounded px-2 py-1",required:!0}),A.jsx("input",{name:"number",value:k.number,onChange:Pr,placeholder:"Number",className:"border rounded px-2 py-1"}),A.jsxs("select",{name:"age_group",value:k.age_group,onChange:Pr,className:"border rounded px-2 py-1",children:[A.jsx("option",{value:"",children:"Age Group"}),Iw.map(_e=>A.jsx("option",{value:_e,children:_e},_e))]}),A.jsxs("label",{className:"flex items-center gap-1",children:[A.jsx("input",{name:"40m_dash",value:k["40m_dash"],onChange:Pr,placeholder:"40m Dash",className:"border rounded px-2 py-1 flex-1"}),A.jsx("span",{className:"cursor-pointer",title:wr,children:""})]}),A.jsxs("label",{className:"flex items-center gap-1",children:[A.jsx("input",{name:"vertical_jump",value:k.vertical_jump,onChange:Pr,placeholder:"Vertical Jump",className:"border rounded px-2 py-1 flex-1"}),A.jsx("span",{className:"cursor-pointer",title:wr,children:""})]}),A.jsxs("label",{className:"flex items-center gap-1",children:[A.jsx("input",{name:"catching",value:k.catching,onChange:Pr,placeholder:"Catching",className:"border rounded px-2 py-1 flex-1"}),A.jsx("span",{className:"cursor-pointer",title:wr,children:""})]}),A.jsxs("label",{className:"flex items-center gap-1",children:[A.jsx("input",{name:"throwing",value:k.throwing,onChange:Pr,placeholder:"Throwing",className:"border rounded px-2 py-1 flex-1"}),A.jsx("span",{className:"cursor-pointer",title:wr,children:""})]}),A.jsxs("label",{className:"flex items-center gap-1",children:[A.jsx("input",{name:"agility",value:k.agility,onChange:Pr,placeholder:"Agility",className:"border rounded px-2 py-1 flex-1"}),A.jsx("span",{className:"cursor-pointer",title:wr,children:""})]})]}),Se.length>0&&A.jsx("div",{className:"text-red-500 text-sm mt-2",children:Se.join(", ")}),A.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap justify-center",children:[A.jsxs("button",{type:"submit",className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",disabled:ee==="loading",children:[A.jsx(hw,{className:"w-4 h-4"}),ee==="loading"?"Adding...":"Add Player"]}),A.jsx("button",{type:"button",className:"bg-gray-200 text-cyan-700 rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-gray-300 transition flex items-center gap-2",onClick:()=>G(!1),children:"Cancel"})]}),ee==="success"&&A.jsxs("div",{className:"text-green-600 mt-2",children:[" ",ve]}),ee==="error"&&A.jsxs("div",{className:"text-red-500 mt-2",children:[" ",ve]})]})]}),A.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",children:[A.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[A.jsx(cw,{className:"w-4 h-4"}),"Reset Players"]}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Remove All Players from Event"}),A.jsxs("label",{className:"block mb-1 font-medium",children:["Type ",A.jsx("span",{className:"font-mono",children:"REMOVE"})," to enable reset:"]}),A.jsx("input",{type:"text",value:c,onChange:_e=>h(_e.target.value),className:"w-full border-cyan-200 rounded px-3 py-2 focus:ring-cyan-600 focus:border-cyan-600 mb-2",disabled:p==="success"}),A.jsxs("button",{disabled:c!=="REMOVE"||p==="loading"||p==="success"||!a,onClick:zi,className:"bg-red-500 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm mt-2 disabled:opacity-50 hover:bg-red-600 transition flex items-center gap-2",children:[A.jsx(cw,{className:"w-4 h-4"}),p==="loading"?"Resetting...":"Reset All Players"]}),p==="success"&&A.jsx("div",{className:"text-green-600 mt-4",children:"Reset successful!"}),p==="error"&&A.jsx("div",{className:"text-red-500 mt-4",children:y})]}),e==="organizer"&&r&&A.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6 flex flex-col items-center text-center",children:[A.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[A.jsx(uM,{className:"w-4 h-4"}),"Invite Coaches"]}),A.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Share League Access"}),A.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Share this code, link, or QR with coaches to let them join as a coach."}),A.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-2 w-full justify-center",children:[A.jsx("div",{className:"font-mono text-lg bg-gray-100 text-gray-800 px-4 py-2 rounded-lg border flex-1 select-all",children:st}),A.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(st)},children:[A.jsx($9,{className:"w-4 h-4"}),"Copy Code"]}),A.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(cr)},children:[A.jsx(J9,{className:"w-4 h-4"}),"Copy Invite Link"]}),A.jsxs("button",{className:"bg-cyan-700 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-800 transition flex items-center gap-2",onClick:()=>Me(!0),children:[A.jsx(uw,{className:"w-4 h-4"}),"Show QR"]})]}),He&&A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:A.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg flex flex-col items-center",children:[A.jsx(aC,{value:cr,size:200}),A.jsxs("div",{className:"mt-2 text-xs",children:["Scan to join: ",A.jsx("br",{}),cr]}),A.jsxs("button",{className:"mt-4 bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>Me(!1),children:[A.jsx(uw,{className:"w-4 h-4"}),"Close"]})]})})]})]})})}function Of({children:n,footerLinks:e,backgroundColor:t,contentClassName:r,hideHeader:i,showOverlay:a=!0}){return A.jsxs("div",{className:`min-h-screen flex flex-col ${t||"bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700"} relative`,children:[!i&&A.jsx("header",{className:"absolute top-0 left-0 p-6",children:A.jsx(JS,{className:"text-white drop-shadow-lg"})}),A.jsx("main",{className:`flex flex-1 flex-col justify-center items-center px-4 ${r||""}`,children:n}),A.jsx("footer",{className:"w-full flex flex-col items-center gap-2 pb-8 mt-auto",children:e}),a!==!1&&A.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"})]})}function RM(){const[n,e]=H.useState(""),[t,r]=H.useState(""),[i,a]=H.useState(!1),[s,u]=H.useState(""),[c,h]=H.useState(!1),{loading:p}=Gn(),m=Dr(),y=async x=>{x.preventDefault(),u(""),h(!0);try{const E=await AT($t,n,t);await E.user.reload(),E.user.emailVerified||m("/verify-email")}catch(E){E.code==="auth/invalid-credential"?u("Account not found. Please sign up before logging in."):E.code==="auth/user-not-found"||E.code==="auth/wrong-password"?u("Invalid email or password."):u("Login failed. Please try again.")}finally{h(!1)}};return p?A.jsx("div",{children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"w-full flex flex-row justify-between items-center mb-6 px-2",children:[A.jsx("button",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none",type:"button","aria-label":"Back to welcome",onClick:()=>m("/welcome"),children:A.jsx(Uv,{size:20})}),A.jsx(Fn,{to:"/help",className:"text-xs text-cyan-700 hover:underline font-semibold",children:"Need Help?"})]}),A.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Welcome Back"}),A.jsxs("form",{onSubmit:y,className:"w-full flex flex-col items-center",children:[A.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:x=>e(x.target.value),className:"w-full mb-6 px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0}),A.jsxs("div",{className:"relative w-full mb-6",children:[A.jsx("input",{type:i?"text":"password",placeholder:"Password",value:t,onChange:x=>r(x.target.value),className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition pr-12",required:!0}),A.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-700 hover:text-cyan-900",tabIndex:-1,onClick:()=>a(x=>!x),"aria-label":i?"Hide password":"Show password",children:i?A.jsx(QS,{size:22}):A.jsx(ZS,{size:22})})]}),s&&A.jsx("div",{className:"text-red-500 mb-4 text-sm w-full text-center",children:s}),A.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-800 text-white font-bold px-6 py-3 rounded-full shadow transition mb-4",disabled:c,children:c?"Signing in...":"Sign In"}),A.jsxs("div",{className:"w-full flex flex-col gap-2 mt-2 text-center",children:[A.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",A.jsx(Fn,{to:"/signup",className:"text-cyan-700 font-semibold hover:underline",children:"Let's Get Started"})]}),A.jsx("span",{className:"text-sm",children:A.jsx(Fn,{to:"/forgot-password",className:"text-cyan-700 hover:underline",children:"Forgot password?"})})]})]})]})}function NM(){return A.jsx(Of,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:A.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:A.jsx(RM,{})})})}const OM="modulepreload",DM=function(n){return"/"+n},Rw={},PM=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=s(t.map(h=>{if(h=DM(h),h in Rw)return;Rw[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":OM,p||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((x,E)=>{y.addEventListener("load",x),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function MM(){const[n,e]=H.useState(""),[t,r]=H.useState(""),[i,a]=H.useState(""),[s,u]=H.useState(""),[c,h]=H.useState(!1),[p,m]=H.useState(""),[y,x]=H.useState(!1),{user:E,loading:T,error:S}=Gn(),I=Dr(),R=async D=>{D.preventDefault(),m(""),x(!0);try{const F=await wT($t,i,s);if(F.user)try{await PM(()=>Promise.resolve().then(()=>jO),[]).then(j=>j.sendEmailVerification(F.user)),console.log("Verification email sent to:",F.user.email)}catch(j){console.error("Failed to send verification email:",j)}I("/verify-email")}catch(F){m(F.message),console.error("Signup error:",F)}finally{x(!1)}};return T?A.jsx("div",{children:"Loading..."}):A.jsxs("div",{className:"w-full max-w-md flex flex-col items-center relative",children:[A.jsx("button",{className:"absolute left-4 top-4 w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none z-10",type:"button","aria-label":"Back to welcome",onClick:()=>I("/welcome"),style:{left:0,top:0,position:"absolute"},children:A.jsx(Uv,{size:20})}),A.jsx(Fn,{to:"/help",className:"absolute right-4 top-4 text-xs text-cyan-700 hover:underline font-semibold",style:{right:0,top:0,position:"absolute"},children:"Need Help?"}),A.jsx("img",{src:"/favicon/ChatGPT Image May 21, 2025, 05_33_34 PM.png",alt:"Woo-Combine Logo",className:"w-20 h-20 mx-auto mb-4 mt-8",style:{objectFit:"contain"}}),A.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Let's Get Started"}),A.jsxs("form",{onSubmit:R,className:"w-full flex flex-col items-center",children:[A.jsxs("div",{className:"flex flex-row gap-4 w-full mb-6 min-w-0",children:[A.jsx("input",{type:"text",placeholder:"First Name",value:n,onChange:D=>e(D.target.value),className:"flex-1 min-w-0 box-border px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0}),A.jsx("input",{type:"text",placeholder:"Last Name",value:t,onChange:D=>r(D.target.value),className:"flex-1 min-w-0 box-border px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0})]}),A.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:D=>a(D.target.value),className:"w-full mb-6 px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0}),A.jsxs("div",{className:"relative w-full mb-6",children:[A.jsx("input",{type:c?"text":"password",placeholder:"Create Password",value:s,onChange:D=>u(D.target.value),className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition pr-12",required:!0}),A.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-700 hover:text-cyan-900",tabIndex:-1,onClick:()=>h(D=>!D),"aria-label":c?"Hide password":"Show password",children:c?A.jsx(QS,{size:22}):A.jsx(ZS,{size:22})})]}),p&&A.jsx("div",{className:"text-red-500 mb-4 text-sm",children:p}),S&&A.jsx("div",{className:"text-red-500 mb-4 text-sm",children:S.message}),A.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-800 text-white font-bold py-3 rounded-full shadow transition mb-4",disabled:y,children:y?"Signing up...":"Sign Up"}),A.jsxs("div",{className:"text-xs text-gray-500 text-center mb-2",children:["By signing up for Woo-Combine, you agree to our"," ",A.jsx(Fn,{to:"/terms",className:"underline hover:text-cyan-700",children:"Terms & Conditions"})," and"," ",A.jsx(Fn,{to:"/privacy",className:"underline hover:text-cyan-700",children:"Privacy Policy"}),"."]})]})]})}function LM(){return A.jsx(Of,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:A.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:A.jsx(MM,{})})})}function gs({children:n}){const{user:e,loading:t,roleChecking:r}=Gn();return console.log("[RequireAuth] user:",e,"loading:",t,"roleChecking:",r),console.log("[RequireAuth] user verified:",e==null?void 0:e.emailVerified),console.log("[RequireAuth] current path:",window.location.pathname),t||r?(console.log("[RequireAuth] Loading or checking role - showing loading state"),A.jsx("div",{children:"Loading..."})):e?e.emailVerified?(console.log("[RequireAuth] User authenticated and verified - rendering children"),n):(console.log("[RequireAuth] User not verified - redirecting to verify-email"),A.jsx(kg,{to:"/verify-email",replace:!0})):(console.log("[RequireAuth] No user - redirecting to login"),A.jsx(kg,{to:"/login",replace:!0}))}function kM(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function BM(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var VM=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UM=function(n){VM(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),kM(a,i.prototype),BM(a),a}return e}(Error),FM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Er=function(n){FM(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(UM),jM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kt=function(n){jM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Er),HM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ie=function(n){HM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Er),sC=function(){function n(e){if(this.binarizer=e,e===null)throw new Ie("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),zM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),on=function(n){zM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Er),GM=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),Ct=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),qM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fv=function(n){qM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Er),XM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nw=function(n){XM(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Fv),WM=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yn=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Ie("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new Nw(t);if(r>e)throw new Nw(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=WM(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=31*i+u}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return Ct.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,u=r(t,e[s]);if(u>0)i=s+1;else if(u<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),Ye=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Nn=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Ct.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var u=i*32+Ye.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var u=i*32+Ye.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Ie;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var u=s>r?0:e&31,c=s<i?31:t&31,h=(2<<c)-(1<<u);a[s]|=h}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Ie;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,u=i;u<=a;u++){var c=u>i?0:e&31,h=u<a?31:t&31,p=(2<<h)-(1<<c)&4294967295;if((s[u]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Ie("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Ie("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,u=0;u<8;u++)this.get(e)&&(s|=1<<7-u),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var u=r*32-this.size,c=e[0]>>>u,a=1;a<r;a++){var h=e[a];c|=h<<32-u,e[a-1]=c,c=h>>>u}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&yn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+yn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),mm;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(mm||(mm={}));const It=mm;var YM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ge=function(n){YM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Er),$M=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vt;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(vt||(vt={}));var mn=function(){function n(e,t,r){for(var i,a,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,h=0,p=c.length;h!==p;h++){var m=c[h];n.VALUES_TO_ECI.set(m,this)}try{for(var y=$M(s),x=y.next();!x.done;x=y.next()){var E=x.value;n.NAME_TO_ECI.set(E,this)}}catch(T){i={error:T}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ge("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new ge("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new ge("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(vt.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(vt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(vt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(vt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(vt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(vt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(vt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(vt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(vt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(vt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(vt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(vt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(vt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(vt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(vt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(vt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(vt.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(vt.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(vt.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(vt.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(vt.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(vt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(vt.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(vt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(vt.Big5,28,"Big5"),n.GB18030=new n(vt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(vt.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),KM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nd=function(n){KM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Er),Kr=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof mn?e:mn.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(mn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Nd("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(mn.UTF8)||e.equals(mn.ISO8859_1)||e.equals(mn.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),rt=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return Kr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(It.CHARACTER_SET)!==void 0)return t.get(It.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,u=0,c=0,h=0,p=0,m=0,y=0,x=0,E=0,T=0,S=0,I=0,R=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,D=0;D<r&&(i||a||s);D++){var F=e[D]&255;s&&(u>0?(F&128)===0?s=!1:u--:(F&128)!==0&&((F&64)===0?s=!1:(u++,(F&32)===0?c++:(u++,(F&16)===0?h++:(u++,(F&8)===0?p++:s=!1))))),i&&(F>127&&F<160?i=!1:F>159&&(F<192||F===215||F===247)&&I++),a&&(m>0?F<64||F===127||F>252?a=!1:m--:F===128||F===160||F>239?a=!1:F>160&&F<224?(y++,E=0,x++,x>T&&(T=x)):F>127?(m++,x=0,E++,E>S&&(S=E)):(x=0,E=0))}return s&&u>0&&(s=!1),a&&m>0&&(a=!1),s&&(R||c+h+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||T>=3||S>=3)?n.SHIFT_JIS:i&&a?T===2&&y===2||I*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(u,c,h,p,m,y){if(u==="%%")return"%";if(t[++i]!==void 0){u=p?parseInt(p.substr(1)):void 0;var x=m?parseInt(m.substr(1)):void 0,E;switch(y){case"s":E=t[i];break;case"c":E=t[i][0];break;case"f":E=parseFloat(t[i]).toFixed(u);break;case"p":E=parseFloat(t[i]).toPrecision(u);break;case"e":E=parseFloat(t[i]).toExponential(u);break;case"x":E=parseInt(t[i]).toString(x||16);break;case"d":E=parseFloat(parseInt(t[i],x||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(x);for(var T=parseInt(h),S=h&&h[0]+""=="0"?"0":" ";E.length<T;)E=c!==void 0?E+S:S+E;return E}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return Kr.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=mn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=mn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=mn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),Ge=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=rt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),ji=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Ie("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],u=0;u<r;u++)s[u]&&i.set(u,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Ie("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,u=-1,c=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new Ie("row lengths do not match");s=a,c++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[a]=!1,a++;else throw new Ie("illegal character encountered: "+e.substring(h));if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new Ie("row lengths do not match");c++}for(var p=new n(u,c),m=0;m<a;m++)i[m]&&p.set(Math.floor(m%u),Math.floor(m/u));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Ie("input matrix dimensions do not match");for(var t=new Nn(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var u=a*r,c=e.getRow(a,t).getBitArray(),h=0;h<r;h++)i[u+h]^=c[h]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Ie("Left and top must be nonnegative");if(i<1||r<1)throw new Ie("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new Ie("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,h=t;h<s;h++)for(var p=h*u,m=e;m<a;m++)c[p+Math.floor(m/32)]|=1<<(m&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Nn(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){Ct.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Nn(e),i=new Nn(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,u=-1,c=-1,h=0;h<t;h++)for(var p=0;p<r;p++){var m=i[h*r+p];if(m!==0){if(h<s&&(s=h),h>c&&(c=h),p*32<a){for(var y=0;(m<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>u){for(var y=31;!(m>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<a||c<s?null:Int32Array.from([a,s,u-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],u=0;(s<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],u=31;!(s>>>u);)u--;return a+=u,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&yn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+yn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new Ge,a=0,s=this.height;a<s;a++){for(var u=0,c=this.width;u<c;u++)i.append(this.get(u,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),QM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ie=function(n){QM(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Er),ZM=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JM=function(n){ZM(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Nn(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),u=this.buckets,c=0;c<a;c++)u[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<h&&r.set(c);else for(var p=s[0]&255,m=s[1]&255,c=1;c<a-1;c++){var y=s[c+1]&255;(m*4-p-y)/2<h&&r.set(c),p=m,m=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new ji(r,i);this.initArrays(r);for(var s=this.buckets,u=1;u<5;u++)for(var c=Math.floor(i*u/5),h=t.getRow(c,this.luminances),p=Math.floor(r*4/5),m=Math.floor(r/5);m<p;m++){var y=h[m]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var x=e.estimateBlackPoint(s),E=t.getMatrix(),u=0;u<i;u++)for(var T=u*r,m=0;m<r;m++){var y=E[T+m]&255;y<x&&a.set(m,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,u=0;u<r;u++)t[u]>s&&(a=u,s=t[u]),t[u]>i&&(i=t[u]);for(var c=0,h=0,u=0;u<r;u++){var p=u-a,m=t[u]*p*p;m>h&&(c=u,h=m)}if(a>c){var y=a;a=c,c=y}if(c-a<=r/16)throw new ie;for(var x=c-1,E=-1,u=c-1;u>a;u--){var T=u-a,m=T*T*(c-u)*(i-t[u]);m>E&&(x=u,E=m)}return x<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(GM),eL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),lC=function(n){eL(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var c=e.calculateBlackPoints(a,s,u,r,i),h=new ji(r,i);e.calculateThresholdForBlock(a,s,u,r,i,c,h),this.matrix=h}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,u,c){for(var h=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,m=0;m<i;m++){var y=m<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var x=e.cap(m,2,i-3),E=0;E<r;E++){var T=E<<e.BLOCK_SIZE_POWER;T>p&&(T=p);for(var S=e.cap(E,2,r-3),I=0,R=-2;R<=2;R++){var D=u[x+R];I+=D[S-2]+D[S-1]+D[S]+D[S+1]+D[S+2]}var F=I/25;e.thresholdBlock(t,T,y,F,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,u){for(var c=0,h=i*s+r;c<e.BLOCK_SIZE;c++,h+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&u.set(r+p,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var u=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(r);var m=p<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var y=0;y<r;y++){var x=y<<e.BLOCK_SIZE_POWER;x>c&&(x=c);for(var E=0,T=255,S=0,I=0,R=m*a+x;I<e.BLOCK_SIZE;I++,R+=a){for(var D=0;D<e.BLOCK_SIZE;D++){var F=t[R+D]&255;E+=F,F<T&&(T=F),F>S&&(S=F)}if(S-T>e.MIN_DYNAMIC_RANGE)for(I++,R+=a;I<e.BLOCK_SIZE;I++,R+=a)for(var D=0;D<e.BLOCK_SIZE;D++)E+=t[R+D]&255}var j=E>>e.BLOCK_SIZE_POWER*2;if(S-T<=e.MIN_DYNAMIC_RANGE&&(j=T/2,p>0&&y>0)){var X=(h[p-1][y]+2*h[p][y-1]+h[p-1][y-1])/4;T<X&&(j=X)}h[p][y]=j}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(JM),Df=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Nd("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Nd("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Nd("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new Ge,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,u=void 0;s<64?u="#":s<128?u="+":s<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},n}(),tL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),U0=function(n){tL(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Df),nL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),rL=function(n){nL(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,c=0,h=t.length;u<h;u+=4,c++){var p=void 0,m=t[u+3];if(m===0)p=255;else{var y=t[u],x=t[u+1],E=t[u+2];p=306*y+601*x+117*E+512>>10}s[c]=p}else for(var u=0,c=0,T=t.length;u<T;u+=4,c++){var p=void 0,m=t[u+3];if(m===0)p=255;else{var y=t[u],x=t[u+1],E=t[u+2];p=306*y+601*x+117*E+512>>10}s[c]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*u);return r.width=c,r.height=h,i.translate(c/2,h/2),i.rotate(a),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new U0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Df),iL=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),ar=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(m){s(m)}}function c(p){try{h(r.throw(p))}catch(m){s(m)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},or=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},aL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pu=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return ar(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,m,y;return or(this,function(x){switch(x.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=x.sent(),t=[];try{for(r=aL(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){m={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(m)throw m.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return ar(this,void 0,void 0,function(){var e;return or(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new iL(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return ar(this,void 0,void 0,function(){var t;return or(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return ar(this,void 0,void 0,function(){return or(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return ar(this,void 0,void 0,function(){var r,i;return or(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return ar(this,void 0,void 0,function(){var r;return or(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return ar(this,void 0,void 0,function(){var r,i;return or(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return ar(this,void 0,void 0,function(){return or(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return ar(this,void 0,void 0,function(){var i,a;return or(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return ar(this,void 0,void 0,function(){var i;return or(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return ar(this,void 0,void 0,function(){var i;return or(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return ar(this,void 0,void 0,function(){var r;return or(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return ar(this,void 0,void 0,function(){return or(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Kt("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Kt("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Kt("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Kt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Kt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Kt("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Kt("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Kt("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Kt("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Kt("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return ar(this,void 0,void 0,function(){return or(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return ar(this,void 0,void 0,function(){return or(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,u){if(i._stopAsyncDecode){u(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(y){var h=t&&y instanceof ie,p=y instanceof on||y instanceof ge,m=p&&r;if(h||m)return setTimeout(a,i._timeBetweenDecodingAttempts,s,u);u(y)}};return new Promise(function(s,u){return a(s,u)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof on||c instanceof ge,u=c instanceof ie;(s||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new rL(r,t),a=new lC(i);return new sC(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),Jn=function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=Ct.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Ct.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Ct.arraycopy(t,0,r,0,t.length),Ct.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),vm;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vm||(vm={}));const Ce=vm;var ym;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ym||(ym={}));const Hn=ym;var F0=function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Uc=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Ie;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),Co=function(){function n(e,t){if(t.length===0)throw new Ie;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Ct.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=Uc.addOrSubtract(r,s)}return r}r=t[0];for(var u=t.length,c=this.field,i=1;i<u;i++)r=Uc.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Ie("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Ct.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=Uc.addOrSubtract(t[u-s],r[u]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Ie("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=this.field,c=0;c<r;c++)for(var h=t[c],p=0;p<a;p++)s[c+p]=Uc.addOrSubtract(s[c+p],u.multiply(h,i[p]));return new n(u,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Ie;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,u=0;u<i;u++)a[u]=s.multiply(r[u],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Ie("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Ie("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),h=e.multiplyByMonomial(u,c),p=t.buildMonomial(u,c);r=r.addOrSubtract(p),i=i.addOrSubtract(h)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),oL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uC=function(n){oL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Er),sL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vr=function(n){sL(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),u=1,c=0;c<r;c++)s[c]=u,u*=2,u>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),c=0;c<r-1;c++)h[s[c]]=c;return a.logTable=h,a.zero=new Co(a,Int32Array.from([0])),a.one=new Co(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Ie;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Co(this,i)},e.prototype.inverse=function(t){if(t===0)throw new uC;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Uc),lL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fd=function(n){lL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Er),uL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pf=function(n){uL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Er),j0=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new Co(r,e),a=new Int32Array(t),s=!0,u=0;u<t;u++){var c=i.evaluateAt(r.exp(u+r.getGeneratorBase()));a[a.length-1-u]=c,c!==0&&(s=!1)}if(!s)for(var h=new Co(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),h,t),m=p[0],y=p[1],x=this.findErrorLocations(m),E=this.findErrorMagnitudes(y,x),u=0;u<x.length;u++){var T=e.length-1-r.log(x[u]);if(T<0)throw new fd("Bad error location");e[T]=vr.addOrSubtract(e[T],E[u])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,u=t,c=a.getZero(),h=a.getOne();u.getDegree()>=(r/2|0);){var p=s,m=c;if(s=u,c=h,s.isZero())throw new fd("r_{i-1} was zero");u=p;for(var y=a.getZero(),x=s.getCoefficient(s.getDegree()),E=a.inverse(x);u.getDegree()>=s.getDegree()&&!u.isZero();){var T=u.getDegree()-s.getDegree(),S=a.multiply(u.getCoefficient(u.getDegree()),E);y=y.addOrSubtract(a.buildMonomial(T,S)),u=u.addOrSubtract(s.multiplyByMonomial(T,S))}if(h=y.multiply(c).addOrSubtract(m),u.getDegree()>=s.getDegree())throw new Pf("Division algorithm failed to reduce polynomial?")}var I=h.getCoefficient(0);if(I===0)throw new fd("sigmaTilde(0) was zero");var R=a.inverse(I),D=h.multiplyScalar(R),F=u.multiplyScalar(R);return[D,F]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new fd("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var u=a.inverse(t[s]),c=1,h=0;h<r;h++)if(s!==h){var p=a.multiply(t[h],u),m=(p&1)===0?p|1:p&-2;c=a.multiply(c,m)}i[s]=a.multiply(e.evaluateAt(u),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],u))}return i},n}(),Bn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Bn||(Bn={}));var Ow=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),u=new F0(a,s,null,null);return u.setNumBits(i.length),u},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Bn.UPPER,i=Bn.UPPER,a="",s=0;s<t;)if(i===Bn.BINARY){if(t-s<5)break;var u=n.readCode(e,s,5);if(s+=5,u===0){if(t-s<11)break;u=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<u;c++){if(t-s<8){s=t;break}var h=n.readCode(e,s,8);a+=rt.castAsNonUtf8Char(h),s+=8}i=r}else{var p=i===Bn.DIGIT?4:5;if(t-s<p)break;var h=n.readCode(e,s,p);s+=p;var m=n.getCharacter(i,h);m.startsWith("CTRL_")?(r=i,i=n.getTable(m.charAt(5)),m.charAt(6)==="L"&&(r=i)):(a+=m,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Bn.LOWER;case"P":return Bn.PUNCT;case"M":return Bn.MIXED;case"D":return Bn.DIGIT;case"B":return Bn.BINARY;case"U":default:return Bn.UPPER}},n.getCharacter=function(e,t){switch(e){case Bn.UPPER:return n.UPPER_TABLE[t];case Bn.LOWER:return n.LOWER_TABLE[t];case Bn.MIXED:return n.MIXED_TABLE[t];case Bn.PUNCT:return n.PUNCT_TABLE[t];case Bn.DIGIT:return n.DIGIT_TABLE[t];default:throw new Pf("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=vr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=vr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=vr.AZTEC_DATA_10):(r=12,t=vr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ge;for(var s=e.length%r,u=new Int32Array(a),c=0;c<a;c++,s+=r)u[c]=n.readCode(e,s,r);try{var h=new j0(t);h.decode(u,a-i)}catch(S){throw new ge(S)}for(var p=(1<<r)-1,m=0,c=0;c<i;c++){var y=u[c];if(y===0||y===p)throw new ge;(y===1||y===p-1)&&m++}for(var x=new Array(i*r-m),E=0,c=0;c<i;c++){var y=u[c];if(y===1||y===p-1)x.fill(y>1,E,E+r-1),E+=r-1;else for(var T=r-1;T>=0;--T)x[E++]=(y&1<<T)!==0}return x},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),h=i/2,p=Ye.truncDivision(c,2),u=0;u<h;u++){var m=u+Ye.truncDivision(u,15);a[h-u-1]=p-m-1,a[h+u]=p+m+1}for(var u=0,y=0;u<r;u++){for(var x=(r-u)*4+(t?9:12),E=u*2,T=i-1-E,S=0;S<x;S++)for(var I=S*2,R=0;R<2;R++)s[y+I+R]=e.get(a[E+R],a[E+S]),s[y+2*x+I+R]=e.get(a[E+S],a[T-R]),s[y+4*x+I+R]=e.get(a[T-R],a[T-S]),s[y+6*x+I+R]=e.get(a[T-S],a[E+R]);y+=x*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),ot=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),_m=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),we=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*_m.floatToIntBits(this.x)+_m.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,u;if(r>=t&&r>=i?(s=e[0],a=e[1],u=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],u=e[2]):(s=e[2],a=e[0],u=e[1]),this.crossProductZ(a,s,u)<0){var c=a;a=u,u=c}e[0]=a,e[1]=s,e[2]=u},n.distance=function(e,t){return ot.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),jv=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),cL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fL=function(n){cL(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=s,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(jv),xm=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,u=!1,c=!1,h=!1,p=!1,m=!1,y=this.width,x=this.height;s;){s=!1;for(var E=!0;(E||!c)&&t<y;)E=this.containsBlackPoint(r,i,t,!1),E?(t++,s=!0,c=!0):c||t++;if(t>=y){a=!0;break}for(var T=!0;(T||!h)&&i<x;)T=this.containsBlackPoint(e,t,i,!0),T?(i++,s=!0,h=!0):h||i++;if(i>=x){a=!0;break}for(var S=!0;(S||!p)&&e>=0;)S=this.containsBlackPoint(r,i,e,!1),S?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var I=!0;(I||!m)&&r>=0;)I=this.containsBlackPoint(e,t,r,!0),I?(r--,s=!0,m=!0):m||r--;if(r<0){a=!0;break}s&&(u=!0)}if(!a&&u){for(var R=t-e,D=null,F=1;D===null&&F<R;F++)D=this.getBlackPointOnSegment(e,i-F,e+F,i);if(D==null)throw new ie;for(var j=null,F=1;j===null&&F<R;F++)j=this.getBlackPointOnSegment(e,r+F,e+F,r);if(j==null)throw new ie;for(var X=null,F=1;X===null&&F<R;F++)X=this.getBlackPointOnSegment(t,r+F,t-F,r);if(X==null)throw new ie;for(var P=null,F=1;P===null&&F<R;F++)P=this.getBlackPointOnSegment(t,i-F,t-F,i);if(P==null)throw new ie;return this.centerEdges(P,D,X,j)}else throw new ie},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=ot.round(ot.distance(e,t,r,i)),s=(r-e)/a,u=(i-t)/a,c=this.image,h=0;h<a;h++){var p=ot.round(e+h*s),m=ot.round(t+h*u);if(c.get(p,m))return new we(p,m)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),u=t.getX(),c=t.getY(),h=r.getX(),p=r.getY(),m=i.getX(),y=i.getY(),x=n.CORR;return a<this.width/2?[new we(m-x,y+x),new we(u+x,c+x),new we(h-x,p-x),new we(a+x,s-x)]:[new we(m+x,y+x),new we(u+x,c-x),new we(h-x,p+x),new we(a-x,s-x)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var u=e;u<=t;u++)if(a.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),Dw=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n}(),cC=function(){function n(e,t,r,i,a,s,u,c,h){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=u,this.a23=c,this.a33=h}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,u,c,h,p,m,y,x,E,T,S){var I=n.quadrilateralToSquare(e,t,r,i,a,s,u,c),R=n.squareToQuadrilateral(h,p,m,y,x,E,T,S);return R.times(I)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,m=this.a33,y=0;y<t;y+=2){var x=e[y],E=e[y+1],T=a*x+c*E+m;e[y]=(r*x+s*E+h)/T,e[y+1]=(i*x+u*E+p)/T}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,m=this.a33,y=e.length,x=0;x<y;x++){var E=e[x],T=t[x],S=a*E+c*T+m;e[x]=(r*E+s*T+h)/S,t[x]=(i*E+u*T+p)/S}},n.squareToQuadrilateral=function(e,t,r,i,a,s,u,c){var h=e-r+a-u,p=t-i+s-c;if(h===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var m=r-a,y=u-a,x=i-s,E=c-s,T=m*E-y*x,S=(h*E-y*p)/T,I=(m*p-h*x)/T;return new n(r-e+S*r,u-e+I*u,e,i-t+S*i,c-t+I*c,t,S,I,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,u,c){return n.squareToQuadrilateral(e,t,r,i,a,s,u,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),hL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dL=function(n){hL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,u,c,h,p,m,y,x,E,T,S,I,R,D,F){var j=cC.quadrilateralToQuadrilateral(a,s,u,c,h,p,m,y,x,E,T,S,I,R,D,F);return this.sampleGridWithTransform(t,r,i,j)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ie;for(var s=new ji(r,i),u=new Float32Array(2*r),c=0;c<i;c++){for(var h=u.length,p=c+.5,m=0;m<h;m+=2)u[m]=m/2+.5,u[m+1]=p;a.transformPoints(u),Dw.checkAndNudgePoints(t,u);try{for(var m=0;m<h;m+=2)t.get(Math.floor(u[m]),Math.floor(u[m+1]))&&s.set(m/2,c)}catch{throw new ie}}return s},e}(Dw),Hv=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new dL,n}(),gr=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new we(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),pL=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new fL(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,u){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ye.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{var c=new j0(vr.AZTEC_PARAM);c.decode(s,a)}catch{throw new ie}for(var h=0,u=0;u<i;u++)h=(h<<4)+s[u];return h},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),h=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var m=this.distancePoint(p,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(m<.75||m>1.25||!this.isWhiteOrBlackRectangle(u,c,h,p))break}t=u,r=c,i=h,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var y=new we(t.getX()+.5,t.getY()-.5),x=new we(r.getX()+.5,r.getY()+.5),E=new we(i.getX()-.5,i.getY()+.5),T=new we(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,x,E,T],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new xm(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new gr(s+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new gr(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new gr(s-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new gr(s-7,u-7),!1,-1,-1).toResultPoint()}var c=ot.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ot.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new xm(this.image,15,c,h).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new gr(c+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new gr(c+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new gr(c-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new gr(c-7,h-7),!1,-1,-1).toResultPoint()}return c=ot.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ot.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new gr(c,h)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=Hv.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return s.sampleGrid(e,u,u,c,c,h,c,h,h,c,h,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,u=e.getX(),c=e.getY(),h=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,m=0;m<r;m++)this.image.get(ot.round(u+m*h),ot.round(c+m*p))&&(i|=1<<r-m-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new gr(e.getX()-a,e.getY()+a),t=new gr(t.getX()-a,t.getY()-a),r=new gr(r.getX()+a,r.getY()-a),i=new gr(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var u=this.getColor(e,t);return u!==s||(u=this.getColor(t,r),u!==s)?!1:(u=this.getColor(r,i),u===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,u=e.getX(),c=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),m=0;m<p;m++)u+=i,c+=a,this.image.get(ot.round(u),ot.round(c))!==h&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===h?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new gr(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,h=new we(u+i*a,c+i*s),p=new we(u-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var m=new we(u+i*a,c+i*s),y=new we(u-i*a,c-i*s),x=[h,m,p,y];return x},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=ot.round(e.getX()),r=ot.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return ot.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return ot.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},n}(),t0=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new pL(e.getBlackMatrix()),a=null,s=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new Ow().decode(u)}catch(m){r=m}if(s==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new Ow().decode(u)}catch(m){throw r??m}var c=new Jn(s.getText(),s.getRawBytes(),s.getNumBits(),a,Ce.AZTEC,Ct.currentTimeMillis()),h=s.getByteSegments();h!=null&&c.putMetadata(Hn.BYTE_SEGMENTS,h);var p=s.getECLevel();return p!=null&&c.putMetadata(Hn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(It.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),gL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){gL(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new t0,t)||this}return e})(pu);var _n=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(It.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),u=270;s!==null&&s.get(Hn.ORIENTATION)===!0&&(u=u+s.get(Hn.ORIENTATION)%360),a.putMetadata(Hn.ORIENTATION,u);var c=a.getResultPoints();if(c!==null)for(var h=i.getHeight(),p=0;p<c.length;p++)c[p]=new we(h-c[p].getY()-1,c[p].getX());return a}else throw new ie}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Nn(r),s=t&&t.get(It.TRY_HARDER)===!0,u=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var h=Math.trunc(i/2),p=0;p<c;p++){var m=Math.trunc((p+1)/2),y=(p&1)===0,x=h+u*(y?m:-m);if(x<0||x>=i)break;try{a=e.getBlackRow(x,a)}catch{continue}for(var E=function(R){if(R===1&&(a.reverse(),t&&t.get(It.NEED_RESULT_POINT_CALLBACK)===!0)){var D=new Map;t.forEach(function(X,P){return D.set(P,X)}),D.delete(It.NEED_RESULT_POINT_CALLBACK),t=D}try{var F=T.decodeRow(x,a,t);if(R===1){F.putMetadata(Hn.ORIENTATION,180);var j=F.getResultPoints();j!==null&&(j[0]=new we(r-j[0].getX()-1,j[0].getY()),j[1]=new we(r-j[1].getX()-1,j[1].getY()))}return{value:F}}catch{}},T=this,S=0;S<2;S++){var I=E(S);if(typeof I=="object")return I.value}}throw new ie},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ie;for(var u=!e.get(t),c=0,h=t;h<s;){if(e.get(h)!==u)r[c]++;else{if(++c===i)break;r[c]=1,u=!u}h++}if(!(c===i||c===i-1&&h===s))throw new ie},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ie;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var m=e[p],y=t[p]*c,x=m>y?m-y:y-m;if(x>r)return Number.POSITIVE_INFINITY;h+=x}return h/a},n}(),mL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pw=function(n){mL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1,h=6,p=i;p<r;p++)if(t.get(p)!==c)s[a]++;else{if(a===h-1){for(var m=e.MAX_AVG_VARIANCE,y=-1,x=e.CODE_START_A;x<=e.CODE_START_C;x++){var E=_n.patternMatchVariance(s,e.CODE_PATTERNS[x],e.MAX_INDIVIDUAL_VARIANCE);E<m&&(m=E,y=x)}if(y>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,y]);u+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new ie},e.decodeCode=function(t,r,i){_n.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=u)}if(s>=0)return s;throw new ie},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(It.ASSUME_GS1)===!0,s=e.findStartPattern(r),u=s[2],c=0,h=new Uint8Array(20);h[c++]=u;var p;switch(u){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new ge}for(var m=!1,y=!1,x="",E=s[0],T=s[1],S=Int32Array.from([0,0,0,0,0,0]),I=0,R=0,D=u,F=0,j=!0,X=!1,P=!1;!m;){var N=y;switch(y=!1,I=R,R=e.decodeCode(r,S,T),h[c++]=R,R!==e.CODE_STOP&&(j=!0),R!==e.CODE_STOP&&(F++,D+=F*R),E=T,T+=S.reduce(function(ce,ve){return ce+ve},0),R){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ge}switch(p){case e.CODE_CODE_A:if(R<64)P===X?x+=String.fromCharCode(32+R):x+=String.fromCharCode(32+R+128),P=!1;else if(R<96)P===X?x+=String.fromCharCode(R-64):x+=String.fromCharCode(R+64),P=!1;else switch(R!==e.CODE_STOP&&(j=!1),R){case e.CODE_FNC_1:a&&(x.length===0?x+="]C1":x+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!X&&P?(X=!0,P=!1):X&&P?(X=!1,P=!1):P=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_B:if(R<96)P===X?x+=String.fromCharCode(32+R):x+=String.fromCharCode(32+R+128),P=!1;else switch(R!==e.CODE_STOP&&(j=!1),R){case e.CODE_FNC_1:a&&(x.length===0?x+="]C1":x+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!X&&P?(X=!0,P=!1):X&&P?(X=!1,P=!1):P=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_C:if(R<100)R<10&&(x+="0"),x+=R;else switch(R!==e.CODE_STOP&&(j=!1),R){case e.CODE_FNC_1:a&&(x.length===0?x+="]C1":x+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:m=!0;break}break}N&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var L=T-E;if(T=r.getNextUnset(T),!r.isRange(T,Math.min(r.getSize(),T+(T-E)/2),!1))throw new ie;if(D-=F*I,D%103!==I)throw new on;var V=x.length;if(V===0)throw new ie;V>0&&j&&(p===e.CODE_CODE_C?x=x.substring(0,V-2):x=x.substring(0,V-1));for(var G=(s[1]+s[0])/2,k=E+L/2,U=h.length,Se=new Uint8Array(U),Ee=0;Ee<U;Ee++)Se[Ee]=h[Ee];var ee=[new we(G,t),new we(k,t)];return new Jn(x,Se,0,ee,Ce.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(_n),vL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mw=function(n){vL(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,h),m=r.getNextSet(p[1]),y=r.getSize(),x,E;do{e.recordPattern(r,m,h);var T=e.toNarrowWidePattern(h);if(T<0)throw new ie;x=e.patternToChar(T),this.decodeRowResult+=x,E=m;try{for(var S=(a=void 0,bg(h)),I=S.next();!I.done;I=S.next()){var R=I.value;m+=R}}catch(U){a={error:U}}finally{try{I&&!I.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}m=r.getNextSet(m)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var F=bg(h),j=F.next();!j.done;j=F.next()){var R=j.value;D+=R}}catch(U){u={error:U}}finally{try{j&&!j.done&&(c=F.return)&&c.call(F)}finally{if(u)throw u.error}}var X=m-E-D;if(m!==y&&X*2<D)throw new ie;if(this.usingCheckDigit){for(var P=this.decodeRowResult.length-1,N=0,L=0;L<P;L++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(P)!==e.ALPHABET_STRING.charAt(N%43))throw new on;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new ie;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var G=(p[1]+p[0])/2,k=E+D/2;return new Jn(V,null,0,[new we(G,t),new we(k,t)],Ce.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,u=a,c=!1,h=r.length,p=a;p<i;p++)if(t.get(p)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new ie},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,u;do{var c=2147483647;try{for(var h=(r=void 0,bg(t)),p=h.next();!p.done;p=h.next()){var m=p.value;m<c&&m>s&&(c=m)}}catch(T){r={error:T}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=c,u=0;for(var y=0,x=0,E=0;E<a;E++){var m=t[E];m>s&&(x|=1<<a-1-E,u++,y+=m)}if(u===3){for(var E=0;E<a&&u>0;E++){var m=t[E];if(m>s&&(u--,m*2>=y))return-1}return x}}while(u>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var u=t.charAt(a+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ge;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ge;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new ge;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ge;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(_n),yL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lw=function(n){yL(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.findAsteriskPattern(r),p=r.getNextSet(h[1]),m=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var x,E;do{e.recordPattern(r,p,y);var T=this.toPattern(y);if(T<0)throw new ie;x=this.patternToChar(T),this.decodeRowResult+=x,E=p;try{for(var S=(a=void 0,Sg(y)),I=S.next();!I.done;I=S.next()){var R=I.value;p+=R}}catch(L){a={error:L}}finally{try{I&&!I.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var F=Sg(y),j=F.next();!j.done;j=F.next()){var R=j.value;D+=R}}catch(L){u={error:L}}finally{try{j&&!j.done&&(c=F.return)&&c.call(F)}finally{if(u)throw u.error}}if(p===m||!r.get(p))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var X=this.decodeExtended(this.decodeRowResult),P=(h[1]+h[0])/2,N=E+D/2;return new Jn(X,null,0,[new we(P,t),new we(N,t)],Ce.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,u=!1,c=a.length,h=0,p=i;p<r;p++)if(t.get(p)!==u)a[h]++;else{if(h===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new ie},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=Sg(t),u=s.next();!u.done;u=s.next()){var c=u.value;a+=c}}catch(E){r={error:E}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var h=0,p=t.length,m=0;m<p;m++){var y=Math.round(t[m]*9/a);if(y<1||y>4)return-1;if((m&1)===0)for(var x=0;x<y;x++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ie},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new ge;var u=t.charAt(a+1),c="\0";switch(s){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ge;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ge;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new ge;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ge;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,u=r-1;u>=0;u--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new on},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(_n),_L=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kw=function(n){_L(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,u=this.decodeStart(r),c=this.decodeEnd(r),h=new Ge;e.decodeMiddle(r,u[1],c[0],h);var p=h.toString(),m=null;i!=null&&(m=i.get(It.ALLOWED_LENGTHS)),m==null&&(m=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,x=!1,E=0;try{for(var T=xL(m),S=T.next();!S.done;S=T.next()){var I=S.value;if(y===I){x=!0;break}I>E&&(E=I)}}catch(F){a={error:F}}finally{try{S&&!S.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}if(!x&&y>E&&(x=!0),!x)throw new ge;var R=[new we(u[1],t),new we(c[0],t)],D=new Jn(p,null,0,R,Ce.ITF,new Date().getTime());return D},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){_n.recordPattern(t,r,s);for(var h=0;h<5;h++){var p=2*h;u[h]=s[p],c[h]=s[p+1]}var m=e.decodeDigit(u);a.append(m.toString()),m=this.decodeDigit(c),a.append(m.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ie;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ie&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),u=t.getSize(),c=!1,h=0,p=r;s.fill(0);for(var m=r;m<u;m++)if(t.get(m)!==c)s[h]++;else{if(h===a-1){if(_n.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,m];p+=s[0]+s[1],Ct.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new ie},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var u=e.PATTERNS[s],c=_n.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(_n),EL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zl=function(n){EL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var u=i[0];a=i[1];var c=u-(a-u);c>=0&&(r=t.isRange(c,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ge;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ge;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,h=r,p=a.length,m=i,y=r;y<u;y++)if(t.get(y)!==m)s[c]++;else{if(c===p-1){if(_n.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=s[0]+s[1];for(var x=s.slice(2,s.length),E=0;E<c-1;E++)s[E]=x[E];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,m=!m}throw new ie},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,u=-1,c=a.length,h=0;h<c;h++){var p=a[h],m=_n.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);m<s&&(s=m,u=h)}if(u>=0)return u;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(_n),wL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AL=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new we((r[0]+r[1])/2,e),new we(a,e)],h=new Jn(s,null,0,c,Ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<5&&c<u;p++){var m=Zl.decodeDigit(e,s,c,Zl.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var y=(i=void 0,wL(s)),x=y.next();!x.done;x=y.next()){var E=x.value;c+=E}}catch(S){i={error:S}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}m>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ie;var T=this.determineCheckDigit(h);if(n.extensionChecksum(r.toString())!==T)throw new ie;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ie},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Hn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n}(),TL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bL=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new we((r[0]+r[1])/2,e),new we(a,e)],h=new Jn(s,null,0,c,Ce.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<2&&c<u;p++){var m=Zl.decodeDigit(e,s,c,Zl.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var y=(i=void 0,TL(s)),x=y.next();!x.done;x=y.next()){var E=x.value;c+=E}}catch(T){i={error:T}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}m>=10&&(h|=1<<1-p),p!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ie;if(parseInt(r.toString())%4!==h)throw new ie;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Hn.ISSUE_NUMBER,parseInt(e)]])},n}(),SL=function(){function n(){}return n.decodeRow=function(e,t,r){var i=Zl.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new AL;return a.decodeRow(e,t,i)}catch{var s=new bL;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),CL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gn=function(n){CL(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(It.NEED_RESULT_POINT_CALLBACK);if(s!=null){var u=new we((a[0]+a[1])/2,t);s.foundPossibleResultPoint(u)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),h=c.rowOffset,p=c.resultString;if(s!=null){var m=new we(h,t);s.foundPossibleResultPoint(m)}var y=e.decodeEnd(r,h);if(s!=null){var x=new we((y[0]+y[1])/2,t);s.foundPossibleResultPoint(x)}var E=y[1],T=E+(E-y[0]);if(T>=r.getSize()||!r.isRange(E,T,!1))throw new ie;var S=p.toString();if(S.length<8)throw new ge;if(!e.checkChecksum(S))throw new on;var I=(a[1]+a[0])/2,R=(y[1]+y[0])/2,D=this.getBarcodeFormat(),F=[new we(I,t),new we(R,t)],j=new Jn(S,null,0,F,D,new Date().getTime()),X=0;try{var P=SL.decodeRow(t,r,y[1]);j.putMetadata(Hn.UPC_EAN_EXTENSION,P.getText()),j.putAllMetadata(P.getResultMetadata()),j.addResultPoints(P.getResultPoints()),X=P.getText().length}catch{}var N=i==null?null:i.get(It.ALLOWED_EAN_EXTENSIONS);if(N!=null){var L=!1;for(var V in N)if(X.toString()===V){L=!0;break}if(!L)throw new ie}return D===Ce.EAN_13||Ce.UPC_A,j},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ge;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ge;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(Zl),IL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Em=function(n){IL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),m=r[1],y=0,x=0;x<6&&m<p;x++){var E=gn.decodeDigit(t,h,m,gn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);try{for(var T=(a=void 0,Bw(h)),S=T.next();!S.done;S=T.next()){var I=S.value;m+=I}}catch(j){a={error:j}}finally{try{S&&!S.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}E>=10&&(y|=1<<5-x)}i=e.determineFirstDigit(i,y);var R=gn.findGuardPattern(t,m,!0,gn.MIDDLE_PATTERN,new Int32Array(gn.MIDDLE_PATTERN.length).fill(0));m=R[1];for(var x=0;x<6&&m<p;x++){var E=gn.decodeDigit(t,h,m,gn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var D=(u=void 0,Bw(h)),F=D.next();!F.done;F=D.next()){var I=F.value;m+=I}}catch(P){u={error:P}}finally{try{F&&!F.done&&(c=D.return)&&c.call(D)}finally{if(u)throw u.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ce.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(gn),RL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Uw=function(n){RL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),m=r[1],y=0;y<4&&m<p;y++){var x=gn.decodeDigit(t,h,m,gn.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var E=(a=void 0,Vw(h)),T=E.next();!T.done;T=E.next()){var S=T.value;m+=S}}catch(F){a={error:F}}finally{try{T&&!T.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}var I=gn.findGuardPattern(t,m,!0,gn.MIDDLE_PATTERN,new Int32Array(gn.MIDDLE_PATTERN.length).fill(0));m=I[1];for(var y=0;y<4&&m<p;y++){var x=gn.decodeDigit(t,h,m,gn.L_PATTERNS);i+=String.fromCharCode(48+x);try{for(var R=(u=void 0,Vw(h)),D=R.next();!D.done;D=R.next()){var S=D.value;m+=S}}catch(X){u={error:X}}finally{try{D&&!D.done&&(c=R.return)&&c.call(R)}finally{if(u)throw u.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ce.EAN_8},e}(gn),NL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fw=function(n){NL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Em,t}return e.prototype.getBarcodeFormat=function(){return Ce.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new Jn(r.substring(1),null,null,t.getResultPoints(),Ce.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(gn),OL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jw=function(n){OL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u=this.decodeMiddleCounters.map(function(S){return S});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),h=r[1],p=0,m=0;m<6&&h<c;m++){var y=e.decodeDigit(t,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var x=(a=void 0,DL(u)),E=x.next();!E.done;E=x.next()){var T=E.value;h+=T}}catch(S){a={error:S}}finally{try{E&&!E.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-m)}return e.determineNumSysAndCheckDigit(new Ge(i),p),h},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return gn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ce.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new Ge;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(gn),PL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cg=function(n){PL(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(It.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ce.EAN_13)>-1&&a.push(new Em),i.indexOf(Ce.UPC_A)>-1&&a.push(new Fw),i.indexOf(Ce.EAN_8)>-1&&a.push(new Uw),i.indexOf(Ce.UPC_E)>-1&&a.push(new jw)),a.length===0&&(a.push(new Em),a.push(new Fw),a.push(new Uw),a.push(new jw)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var u=Hw(this.readers),c=u.next();!c.done;c=u.next()){var h=c.value;try{var p=h.decodeRow(t,r,i),m=p.getBarcodeFormat()===Ce.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(It.POSSIBLE_FORMATS),x=y==null||y.includes(Ce.UPC_A);if(m&&x){var E=p.getRawBytes(),T=new Jn(p.getText().substring(1),E,E?E.length:null,p.getResultPoints(),Ce.UPC_A);return T.putAllMetadata(p.getResultMetadata()),T}return p}catch{}}}catch(S){a={error:S}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new ie},e.prototype.reset=function(){var t,r;try{for(var i=Hw(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(_n),ML=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LL=function(n){ML(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ie;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ie;return new Jn(s,null,0,[new we(a.left,t),new we(a.right,t)],Ce.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],u=r[0],c=1,h=1;h<r.length;h++)r[h]===u?c++:(u=r[h],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,h){return(c+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(_n),kL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_s=function(n){kL(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(_n.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(t){return ot.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],u=a/s;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=BL(t),m=p.next();!m.done;m=p.next()){var y=m.value;y>h&&(h=y),y<c&&(c=y)}}catch(x){r={error:x}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return h<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(_n),n0=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),fC=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new we(r,a)),this.resultPoints.push(new we(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),VL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ml=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var u=VL(e),c=u.next();!c.done;c=u.next()){var h=c.value;s+=h}}catch(R){i={error:R}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var p=0,m=0,y=e.length,x=0;x<y-1;x++){var E=void 0;for(E=1,m|=1<<x;E<e[x];E++,m&=~(1<<x)){var T=n.combins(s-E-1,y-x-2);if(r&&m===0&&s-E-(y-x-1)>=y-x-1&&(T-=n.combins(s-E-(y-x),y-x-2)),y-x-1>1){for(var S=0,I=s-E-(y-x-2);I>t;I--)S+=n.combins(s-E-I-1,y-x-3);T-=S*(y-1-x)}else s-E>t&&T--;p+=T}s-=E}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,u=e;u>r;u--)a*=u,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n}(),UL=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Nn(r),a=0,s=e[0],u=s.getRightChar().getValue(),c=11;c>=0;--c)(u&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var h=e[c],p=h.getLeftChar().getValue(),m=11;m>=0;--m)(p&1<<m)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),m=11;m>=0;--m)(y&1<<m)!==0&&i.set(a),a++}return i},n}(),ms=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),zv=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),FL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ai=function(n){FL(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(zv),jL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vs=function(n){jL(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(zv),HL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Il=function(n){HL(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new ge;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(zv),hd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zL=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,u,c,h;if(!e)return null;if(e.length<2)throw new ie;var p=e.substring(0,2);try{for(var m=hd(n.TWO_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){var x=y.value;if(x[0]===p)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,x[2],e):n.processFixedAI(2,x[1],e)}}catch(X){t={error:X}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}if(e.length<3)throw new ie;var E=e.substring(0,3);try{for(var T=hd(n.THREE_DIGIT_DATA_LENGTH),S=T.next();!S.done;S=T.next()){var x=S.value;if(x[0]===E)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,x[2],e):n.processFixedAI(3,x[1],e)}}catch(X){i={error:X}}finally{try{S&&!S.done&&(a=T.return)&&a.call(T)}finally{if(i)throw i.error}}try{for(var I=hd(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),R=I.next();!R.done;R=I.next()){var x=R.value;if(x[0]===E)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,x[2],e):n.processFixedAI(4,x[1],e)}}catch(X){s={error:X}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}if(e.length<4)throw new ie;var D=e.substring(0,4);try{for(var F=hd(n.FOUR_DIGIT_DATA_LENGTH),j=F.next();!j.done;j=F.next()){var x=j.value;if(x[0]===D)return x[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,x[2],e):n.processFixedAI(4,x[1],e)}}catch(X){c={error:X}}finally{try{j&&!j.done&&(h=F.return)&&h.call(F)}finally{if(c)throw c.error}}throw new ie},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ie;var i=r.substring(0,e);if(r.length<e+t)throw new ie;var a=r.substring(e,e+t),s=r.substring(e+t),u="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?u:u+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),u=r.substring(a),c="("+i+")"+s,h=n.parseFieldsInGeneralPurpose(u);return h==null?c:c+h},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),Od=function(){function n(e){this.buffer=new Ge,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=zL.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Il(this.information.getSize(),Il.FNC1,Il.FNC1):new Il(this.information.getSize(),t-1,Il.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Il(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new vs(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new vs(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new vs(this.current.getPosition(),this.buffer.toString()):t=new vs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ms(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new vs(this.current.getPosition(),this.buffer.toString());return new ms(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ms(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new vs(this.current.getPosition(),this.buffer.toString());return new ms(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ms(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new vs(this.current.getPosition(),this.buffer.toString());return new ms(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ms(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new ai(e+5,ai.FNC1);if(t>=5&&t<15)return new ai(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new ai(e+7,""+(r+1));if(r>=90&&r<116)return new ai(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ge}return new ai(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new ai(e+5,ai.FNC1);if(t>=5&&t<15)return new ai(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new ai(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Pf("Decoding invalid alphanumeric value: "+r)}return new ai(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),hC=function(){function n(e){this.information=e,this.generalDecoder=new Od(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),GL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oi=function(n){GL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(hC),qL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),XL=function(n){qL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ge;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(oi),WL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YL=function(n){WL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new Ge;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(hC),$L=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dd=function(n){$L(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),u=1e5,c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)},e}(oi),KL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dC=function(n){KL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Dd.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var t=new Ge;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Dd.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Dd),QL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ZL=function(n){QL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(dC),JL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ek=function(n){JL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(dC),tk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nk=function(n){tk(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+oi.GTIN_SIZE)throw new ie;var t=new Ge;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+oi.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+oi.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(oi),rk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ik=function(n){rk(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+oi.GTIN_SIZE)throw new ie;var t=new Ge;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+oi.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+oi.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+oi.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(oi),ak=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mo=function(n){ak(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var t=new Ge;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Dd);function ok(n){try{if(n.get(1))return new XL(n);if(!n.get(2))return new YL(n);var e=Od.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new ZL(n);case 5:return new ek(n)}var t=Od.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new nk(n);case 13:return new ik(n)}var r=Od.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new mo(n,"310","11");case 57:return new mo(n,"320","11");case 58:return new mo(n,"310","13");case 59:return new mo(n,"320","13");case 60:return new mo(n,"310","15");case 61:return new mo(n,"320","15");case 62:return new mo(n,"310","17");case 63:return new mo(n,"320","17")}}catch(i){throw console.log(i),new Pf("unknown decoder: "+n)}}var zw=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),sk=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),lk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vo=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uk=function(n){lk(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ie},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var u=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,vo(t)),h=c.next();!h.done;h=c.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var m=new Array(t);m.push(u);try{return this.checkRows(m,s+1)}catch(y){console.log(y)}}}throw new ie},e.isValidSequence=function(t){var r,i;try{for(var a=vo(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var u=s.value;if(!(t.length>u.length)){for(var c=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==u[h]){c=!1;break}if(c)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new sk(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,u,c,h;try{for(var p=vo(r),m=p.next();!m.done;m=p.next()){var y=m.value;if(y.getPairs().length!==t.length){var x=!0;try{for(var E=(s=void 0,vo(y.getPairs())),T=E.next();!T.done;T=E.next()){var S=T.value,I=!1;try{for(var R=(c=void 0,vo(t)),D=R.next();!D.done;D=R.next()){var F=D.value;if(zw.equals(S,F)){I=!0;break}}}catch(j){c={error:j}}finally{try{D&&!D.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}I||(x=!1)}}catch(j){s={error:j}}finally{try{T&&!T.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}}}catch(j){i={error:j}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,u,c,h;try{for(var p=vo(r),m=p.next();!m.done;m=p.next()){var y=m.value,x=!0;try{for(var E=(s=void 0,vo(t)),T=E.next();!T.done;T=E.next()){var S=T.value,I=!1;try{for(var R=(c=void 0,vo(y.getPairs())),D=R.next();!D.done;D=R.next()){var F=D.value;if(S.equals(F)){I=!0;break}}}catch(j){c={error:j}}finally{try{D&&!D.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}if(!I){x=!1;break}}}catch(j){s={error:j}}finally{try{T&&!T.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(x)return!0}}catch(j){i={error:j}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=UL.buildBitArray(t),i=ok(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new Jn(a,null,null,c,Ce.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);a+=c.getLeftChar().getChecksumPortion(),s++;var h=c.getRightChar();h!=null&&(a+=h.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ie;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(m){p=null,console.log(m)}return new zw(h,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var c=r[r.length-1];u=c.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;u<s&&(p=!t.get(u),!!p);)u++;for(var m=0,y=u,x=u;x<s;x++)if(t.get(x)!==p)a[m]++;else{if(m===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=x;return}h&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,p=!p}throw new ie},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,u;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Ct.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new fC(p,[s,u],s,u,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),u=0;u<s.length;u++)s[u]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,h=s.length-1;c<h;c++,h--){var p=s[c];s[c]=s[h],s[h]=p}}var m=17,y=ot.sum(new Int32Array(s))/m,x=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-x)/x>.3)throw new ie;for(var E=this.getOddCounts(),T=this.getEvenCounts(),S=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var R=1*s[c]/y,D=R+.5;if(D<1){if(R<.3)throw new ie;D=1}else if(D>8){if(R>8.7)throw new ie;D=8}var F=c/2;(c&1)===0?(E[F]=D,S[F]=R-D):(T[F]=D,I[F]=R-D)}this.adjustOddEvenCounts(m);for(var j=4*r.getValue()+(i?0:2)+(a?0:1)-1,X=0,P=0,c=E.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var N=e.WEIGHTS[j][2*c];P+=E[c]*N}X+=E[c]}for(var L=0,c=T.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var N=e.WEIGHTS[j][2*c+1];L+=T[c]*N}var V=P+L;if((X&1)!==0||X>13||X<4)throw new ie;var G=(13-X)/2,k=e.SYMBOL_WIDEST[G],U=9-k,Se=Ml.getRSSvalue(E,k,!0),Ee=Ml.getRSSvalue(T,U,!1),ee=e.EVEN_TOTAL_SUBSET[G],ce=e.GSUM[G],ve=Se*ee+Ee+ce;return new n0(ve,V)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=ot.sum(new Int32Array(this.getOddCounts())),i=ot.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);var h=r+i-t,p=(r&1)===1,m=(i&1)===0;if(h===1)if(p){if(m)throw new ie;s=!0}else{if(!m)throw new ie;c=!0}else if(h===-1)if(p){if(m)throw new ie;a=!0}else{if(!m)throw new ie;u=!0}else if(h===0){if(p){if(!m)throw new ie;r<i?(a=!0,c=!0):(s=!0,u=!0)}else if(m)throw new ie}else throw new ie;if(a){if(s)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(_s),ck=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fk=function(n){ck(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(n0),hk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ig=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gw=function(n){hk(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var m=Ig(this.possibleLeftPairs),y=m.next();!y.done;y=m.next()){var x=y.value;if(x.getCount()>1)try{for(var E=(u=void 0,Ig(this.possibleRightPairs)),T=E.next();!T.done;T=E.next()){var S=T.value;if(S.getCount()>1&&e.checkChecksum(x,S))return e.constructResult(x,S)}}catch(I){u={error:I}}finally{try{T&&!T.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}throw new ie},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var u=Ig(t),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.getValue()===r.getValue()){h.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new Ge,u=13-a.length;u>0;u--)s.append("0");s.append(a);for(var c=0,u=0;u<13;u++){var h=s.charAt(u).charCodeAt(0)-48;c+=(u&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c.toString());var p=t.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new Jn(s.toString(),null,0,[p[0],p[1],m[0],m[1]],Ce.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(It.NEED_RESULT_POINT_CALLBACK);if(c!=null){var h=(s[0]+s[1])/2;r&&(h=t.getSize()-1-h),c.foundPossibleResultPoint(new we(h,i))}var p=this.decodeDataCharacter(t,u,!0),m=this.decodeDataCharacter(t,u,!1);return new fk(1597*p.getValue()+m.getValue(),p.getChecksumPortion()+4*m.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)_n.recordPatternInReverse(t,r.getStartEnd()[0],a);else{_n.recordPattern(t,r.getStartEnd()[1]+1,a);for(var u=0,c=a.length-1;u<c;u++,c--){var h=a[u];a[u]=a[c],a[c]=h}}for(var p=i?16:15,m=ot.sum(new Int32Array(a))/p,y=this.getOddCounts(),x=this.getEvenCounts(),E=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var S=a[u]/m,I=Math.floor(S+.5);I<1?I=1:I>8&&(I=8);var R=Math.floor(u/2);(u&1)===0?(y[R]=I,E[R]=S-I):(x[R]=I,T[R]=S-I)}this.adjustOddEvenCounts(i,p);for(var D=0,F=0,u=y.length-1;u>=0;u--)F*=9,F+=y[u],D+=y[u];for(var j=0,X=0,u=x.length-1;u>=0;u--)j*=9,j+=x[u],X+=x[u];var P=F+3*j;if(i){if((D&1)!==0||D>12||D<4)throw new ie;var N=(12-D)/2,L=e.OUTSIDE_ODD_WIDEST[N],V=9-L,G=Ml.getRSSvalue(y,L,!1),k=Ml.getRSSvalue(x,V,!0),U=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],Se=e.OUTSIDE_GSUM[N];return new n0(G*U+k+Se,P)}else{if((X&1)!==0||X>10||X<4)throw new ie;var N=(10-X)/2,L=e.INSIDE_ODD_WIDEST[N],V=9-L,G=Ml.getRSSvalue(y,L,!0),k=Ml.getRSSvalue(x,V,!1),Ee=e.INSIDE_ODD_TOTAL_SUBSET[N],Se=e.INSIDE_GSUM[N];return new n0(k*Ee+G+Se,P)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,u=0;u<a&&(s=!t.get(u),r!==s);)u++;for(var c=0,h=u,p=u;p<a;p++)if(t.get(p)!==s)i[c]++;else{if(c===3){if(_s.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new ie},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),u=a[0]-1;u>=0&&s!==t.get(u);)u--;u++;var c=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);Ct.arraycopy(h,0,p,1,h.length-1),p[0]=c;var m=this.parseFinderValue(p,e.FINDER_PATTERNS),y=u,x=a[1];return i&&(y=t.getSize()-1-y,x=t.getSize()-1-x),new fC(m,[u,a[1]],y,x,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=ot.sum(new Int32Array(this.getOddCounts())),a=ot.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(i>12?u=!0:i<4&&(s=!0),a>12?h=!0:a<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),a>10?h=!0:a<4&&(c=!0));var p=i+a-r,m=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(m){if(y)throw new ie;u=!0}else{if(!y)throw new ie;h=!0}else if(p===-1)if(m){if(y)throw new ie;s=!0}else{if(!y)throw new ie;c=!0}else if(p===0){if(m){if(!y)throw new ie;i<a?(s=!0,h=!0):(u=!0,c=!0)}else if(y)throw new ie}else throw new ie;if(s){if(u)throw new ie;_s.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&_s.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new ie;_s.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&_s.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(_s),dk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ll=function(n){dk(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(It.POSSIBLE_FORMATS):null,a=t&&t.get(It.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(It.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ce.EAN_13)||i.includes(Ce.UPC_A)||i.includes(Ce.EAN_8)||i.includes(Ce.UPC_E))&&r.readers.push(new Cg(t)),i.includes(Ce.CODE_39)&&r.readers.push(new Mw(a,s)),i.includes(Ce.CODE_93)&&r.readers.push(new Lw),i.includes(Ce.CODE_128)&&r.readers.push(new Pw),i.includes(Ce.ITF)&&r.readers.push(new kw),i.includes(Ce.CODABAR)&&r.readers.push(new LL),i.includes(Ce.RSS_14)&&r.readers.push(new Gw),i.includes(Ce.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new uk))),r.readers.length===0&&(r.readers.push(new Cg(t)),r.readers.push(new Mw),r.readers.push(new Lw),r.readers.push(new Cg(t)),r.readers.push(new Pw),r.readers.push(new kw),r.readers.push(new Gw)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(_n),pk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){pk(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Ll(r),t,r)||this}return e})(pu);var qw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),ut=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),gk=function(){function n(e,t,r,i,a,s){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var h=0,p=s.getECCodewords(),m=s.getECBlocks();try{for(var y=qw(m),x=y.next();!x.done;x=y.next()){var E=x.value;h+=E.getCount()*(E.getDataCodewords()+p)}}catch(T){u={error:T}}finally{try{x&&!x.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=h}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new ge;try{for(var a=qw(n.VERSIONS),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ge},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new dt(5,new ut(1,3))),new n(2,12,12,10,10,new dt(7,new ut(1,5))),new n(3,14,14,12,12,new dt(10,new ut(1,8))),new n(4,16,16,14,14,new dt(12,new ut(1,12))),new n(5,18,18,16,16,new dt(14,new ut(1,18))),new n(6,20,20,18,18,new dt(18,new ut(1,22))),new n(7,22,22,20,20,new dt(20,new ut(1,30))),new n(8,24,24,22,22,new dt(24,new ut(1,36))),new n(9,26,26,24,24,new dt(28,new ut(1,44))),new n(10,32,32,14,14,new dt(36,new ut(1,62))),new n(11,36,36,16,16,new dt(42,new ut(1,86))),new n(12,40,40,18,18,new dt(48,new ut(1,114))),new n(13,44,44,20,20,new dt(56,new ut(1,144))),new n(14,48,48,22,22,new dt(68,new ut(1,174))),new n(15,52,52,24,24,new dt(42,new ut(2,102))),new n(16,64,64,14,14,new dt(56,new ut(2,140))),new n(17,72,72,16,16,new dt(36,new ut(4,92))),new n(18,80,80,18,18,new dt(48,new ut(4,114))),new n(19,88,88,20,20,new dt(56,new ut(4,144))),new n(20,96,96,22,22,new dt(68,new ut(4,174))),new n(21,104,104,24,24,new dt(56,new ut(6,136))),new n(22,120,120,18,18,new dt(68,new ut(6,175))),new n(23,132,132,20,20,new dt(62,new ut(8,163))),new n(24,144,144,22,22,new dt(62,new ut(8,156),new ut(2,155))),new n(25,8,18,6,16,new dt(7,new ut(1,5))),new n(26,8,32,6,14,new dt(11,new ut(1,10))),new n(27,12,26,10,24,new dt(14,new ut(1,16))),new n(28,12,36,10,16,new dt(18,new ut(1,22))),new n(29,16,36,14,16,new dt(24,new ut(1,32))),new n(30,16,48,14,22,new dt(28,new ut(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),mk=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new ge;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ji(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return gk.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),u=!1,c=!1,h=!1,p=!1;do if(r===a&&i===0&&!u)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,u=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!h)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,h=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new ge;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Ie("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,u=r/a|0,c=s*i,h=u*a,p=new ji(h,c),m=0;m<s;++m)for(var y=m*i,x=0;x<u;++x)for(var E=x*a,T=0;T<i;++T)for(var S=m*(i+2)+1+T,I=y+T,R=0;R<a;++R){var D=x*(a+2)+1+R;if(e.get(D,S)){var F=E+R;p.set(F,I)}}return p},n}(),Xw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vk=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,u=t.getECBlocks(),c=0,h=u.getECBlocks();try{for(var p=Xw(h),m=p.next();!m.done;m=p.next()){var y=m.value;c+=y.getCount()}}catch(Se){r={error:Se}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var x=new Array(c),E=0;try{for(var T=Xw(h),S=T.next();!S.done;S=T.next())for(var y=S.value,I=0;I<y.getCount();I++){var R=y.getDataCodewords(),D=u.getECCodewords()+R;x[E++]=new n(R,new Uint8Array(D))}}catch(Se){a={error:Se}}finally{try{S&&!S.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}for(var F=x[0].codewords.length,j=F-u.getECCodewords(),X=j-1,P=0,I=0;I<X;I++)for(var N=0;N<E;N++)x[N].codewords[I]=e[P++];for(var L=t.getVersionNumber()===24,V=L?8:E,N=0;N<V;N++)x[N].codewords[j-1]=e[P++];for(var G=x[0].codewords.length,I=j;I<G;I++)for(var N=0;N<E;N++){var k=L?(N+8)%E:N,U=L&&k>7?I-1:I;x[k].codewords[U]=e[P++]}if(P!==e.length)throw new Ie;return x},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),pC=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Ie(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,u=e<s?e:s,c=s-u,h=255>>8-u<<c;t=(a[i]&h)>>c,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,h=255>>c<<c;t=t<<e|(a[i]&h)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),dn;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(dn||(dn={}));var yk=function(){function n(){}return n.decode=function(e){var t=new pC(e),r=new Ge,i=new Ge,a=new Array,s=dn.ASCII_ENCODE;do if(s===dn.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case dn.C40_ENCODE:this.decodeC40Segment(t,r);break;case dn.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case dn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case dn.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case dn.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new ge}s=dn.ASCII_ENCODE}while(s!==dn.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new F0(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ge;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),dn.ASCII_ENCODE;if(a===129)return dn.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return dn.C40_ENCODE;case 231:return dn.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return dn.ANSIX12_ENCODE;case 239:return dn.TEXT_ENCODE;case 240:return dn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ge;break}}while(e.available()>0);return dn.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ge;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ge}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new ge}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ge;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ge}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h),a=0}else throw new ge;break;default:throw new ge}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new ge;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new ge;for(var u=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new ge;u[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{t.append(Kr.decode(u,rt.ISO88591))}catch(h){throw new Pf("Platform does not support required encoding: "+h.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),_k=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xk=function(){function n(){this.rsDecoder=new j0(vr.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new mk(e),a=i.getVersion(),s=i.readCodewords(),u=vk.getDataBlocks(s,a),c=0;try{for(var h=_k(u),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m.getNumDataCodewords()}}catch(D){t={error:D}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}for(var y=new Uint8Array(c),x=u.length,E=0;E<x;E++){var T=u[E],S=T.getCodewords(),I=T.getNumDataCodewords();this.correctErrors(S,I);for(var R=0;R<I;R++)y[R*x+E]=S[R]}return yk.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new on}for(var i=0;i<t;i++)e[i]=r[i]},n}(),Ek=function(){function n(e){this.image=e,this.rectangleDetector=new xm(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ie;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var h=n.sampleGrid(this.image,r,i,a,s,u,c);return new jv(h,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new we(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new we(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=s,m=[a,t,r,i];return p>u&&(p=u,m[0]=t,m[1]=r,m[2]=i,m[3]=a),p>c&&(p=c,m[0]=r,m[1]=i,m[2]=a,m[3]=t),p>h&&(m[0]=i,m[1]=a,m[2]=t,m[3]=r),m},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),h=this.transitionsBetween(u,t),p=this.transitionsBetween(c,a);return h<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(u+1)*4),h=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),u=this.transitionsBetween(h,a);var p=new we(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),m=new we(a.getX()+(t.getX()-r.getX())/(u+1),a.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(m)?m:null;if(!this.isValid(m))return p;var y=this.transitionsBetween(c,p)+this.transitionsBetween(h,p),x=this.transitionsBetween(c,m)+this.transitionsBetween(h,m);return y>x?p:m},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,u*4),h=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,u=this.transitionsBetween(h,a)+1,(s&1)===1&&(s+=1),(u&1)===1&&(u+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,m=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,m),r=n.moveAway(r,p,m),i=n.moveAway(i,p,m),a=n.moveAway(a,p,m);var y,x;return c=n.shiftPoint(t,r,u*4),c=n.shiftPoint(c,a,s*4),y=n.shiftPoint(r,t,u*4),y=n.shiftPoint(y,i,s*4),h=n.shiftPoint(i,a,u*4),h=n.shiftPoint(h,r,s*4),x=n.shiftPoint(a,i,u*4),x=n.shiftPoint(x,t,s*4),[c,y,h,x]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,u){var c=Hv.getInstance();return c.sampleGrid(e,s,u,.5,.5,s-.5,.5,s-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.abs(s-i)>Math.abs(a-r);if(u){var c=r;r=i,i=c,c=a,a=s,s=c}for(var h=Math.abs(a-r),p=Math.abs(s-i),m=-h/2,y=i<s?1:-1,x=r<a?1:-1,E=0,T=this.image.get(u?i:r,u?r:i),S=r,I=i;S!==a;S+=x){var R=this.image.get(u?I:S,u?S:I);if(R!==T&&(E++,T=R),m+=p,m>0){if(I===s)break;I+=y,m-=h}}return E},n}(),r0=function(){function n(){this.decoder=new xk}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(It.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new Ek(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var u=r.getRawBytes(),c=new Jn(r.getText(),u,8*u.length,i,Ce.DATA_MATRIX,Ct.currentTimeMillis()),h=r.getByteSegments();h!=null&&c.putMetadata(Hn.BYTE_SEGMENTS,h);var p=r.getECLevel();return p!=null&&c.putMetadata(Hn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0],h=(c-u+1)/i,p=(s-a+1)/i;if(h<=0||p<=0)throw new ie;var m=i/2;a+=m,u+=m;for(var y=new ji(h,p),x=0;x<p;x++)for(var E=a+x*i,T=0;T<h;T++)e.get(u+T*i,E)&&y.set(T,x);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ie;var s=i-e[0];if(s===0)throw new ie;return s},n.NO_POINTS=[],n}(),wk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){wk(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new r0,t)||this}return e})(pu);var kl;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(kl||(kl={}));var Ak=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Kt(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Ie;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(kl.L,"L",1),n.M=new n(kl.M,"M",0),n.Q=new n(kl.Q,"Q",3),n.H=new n(kl.H,"H",2),n}(),Tk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gC=function(){function n(e){this.errorCorrectionLevel=Ak.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Ye.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var u=Tk(n.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var h=c.value,p=h[0];if(p===e||p===t)return new n(h[1]);var m=n.numBitsDiffering(e,p);m<a&&(s=h[1],a=m),e!==t&&(m=n.numBitsDiffering(t,p),m<a&&(s=h[1],a=m))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),bk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=bk(i),s=a.next();!s.done;s=a.next()){var u=s.value;r+=u.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),B=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),Sk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ss=function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,c=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=Sk(h),m=p.next();!m.done;m=p.next()){var y=m.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(x){r={error:x}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ge;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ge}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Ie;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=gC.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new ji(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Z(7,new B(1,19)),new Z(10,new B(1,16)),new Z(13,new B(1,13)),new Z(17,new B(1,9))),new n(2,Int32Array.from([6,18]),new Z(10,new B(1,34)),new Z(16,new B(1,28)),new Z(22,new B(1,22)),new Z(28,new B(1,16))),new n(3,Int32Array.from([6,22]),new Z(15,new B(1,55)),new Z(26,new B(1,44)),new Z(18,new B(2,17)),new Z(22,new B(2,13))),new n(4,Int32Array.from([6,26]),new Z(20,new B(1,80)),new Z(18,new B(2,32)),new Z(26,new B(2,24)),new Z(16,new B(4,9))),new n(5,Int32Array.from([6,30]),new Z(26,new B(1,108)),new Z(24,new B(2,43)),new Z(18,new B(2,15),new B(2,16)),new Z(22,new B(2,11),new B(2,12))),new n(6,Int32Array.from([6,34]),new Z(18,new B(2,68)),new Z(16,new B(4,27)),new Z(24,new B(4,19)),new Z(28,new B(4,15))),new n(7,Int32Array.from([6,22,38]),new Z(20,new B(2,78)),new Z(18,new B(4,31)),new Z(18,new B(2,14),new B(4,15)),new Z(26,new B(4,13),new B(1,14))),new n(8,Int32Array.from([6,24,42]),new Z(24,new B(2,97)),new Z(22,new B(2,38),new B(2,39)),new Z(22,new B(4,18),new B(2,19)),new Z(26,new B(4,14),new B(2,15))),new n(9,Int32Array.from([6,26,46]),new Z(30,new B(2,116)),new Z(22,new B(3,36),new B(2,37)),new Z(20,new B(4,16),new B(4,17)),new Z(24,new B(4,12),new B(4,13))),new n(10,Int32Array.from([6,28,50]),new Z(18,new B(2,68),new B(2,69)),new Z(26,new B(4,43),new B(1,44)),new Z(24,new B(6,19),new B(2,20)),new Z(28,new B(6,15),new B(2,16))),new n(11,Int32Array.from([6,30,54]),new Z(20,new B(4,81)),new Z(30,new B(1,50),new B(4,51)),new Z(28,new B(4,22),new B(4,23)),new Z(24,new B(3,12),new B(8,13))),new n(12,Int32Array.from([6,32,58]),new Z(24,new B(2,92),new B(2,93)),new Z(22,new B(6,36),new B(2,37)),new Z(26,new B(4,20),new B(6,21)),new Z(28,new B(7,14),new B(4,15))),new n(13,Int32Array.from([6,34,62]),new Z(26,new B(4,107)),new Z(22,new B(8,37),new B(1,38)),new Z(24,new B(8,20),new B(4,21)),new Z(22,new B(12,11),new B(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Z(30,new B(3,115),new B(1,116)),new Z(24,new B(4,40),new B(5,41)),new Z(20,new B(11,16),new B(5,17)),new Z(24,new B(11,12),new B(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Z(22,new B(5,87),new B(1,88)),new Z(24,new B(5,41),new B(5,42)),new Z(30,new B(5,24),new B(7,25)),new Z(24,new B(11,12),new B(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Z(24,new B(5,98),new B(1,99)),new Z(28,new B(7,45),new B(3,46)),new Z(24,new B(15,19),new B(2,20)),new Z(30,new B(3,15),new B(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Z(28,new B(1,107),new B(5,108)),new Z(28,new B(10,46),new B(1,47)),new Z(28,new B(1,22),new B(15,23)),new Z(28,new B(2,14),new B(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Z(30,new B(5,120),new B(1,121)),new Z(26,new B(9,43),new B(4,44)),new Z(28,new B(17,22),new B(1,23)),new Z(28,new B(2,14),new B(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Z(28,new B(3,113),new B(4,114)),new Z(26,new B(3,44),new B(11,45)),new Z(26,new B(17,21),new B(4,22)),new Z(26,new B(9,13),new B(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Z(28,new B(3,107),new B(5,108)),new Z(26,new B(3,41),new B(13,42)),new Z(30,new B(15,24),new B(5,25)),new Z(28,new B(15,15),new B(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Z(28,new B(4,116),new B(4,117)),new Z(26,new B(17,42)),new Z(28,new B(17,22),new B(6,23)),new Z(30,new B(19,16),new B(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Z(28,new B(2,111),new B(7,112)),new Z(28,new B(17,46)),new Z(30,new B(7,24),new B(16,25)),new Z(24,new B(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Z(30,new B(4,121),new B(5,122)),new Z(28,new B(4,47),new B(14,48)),new Z(30,new B(11,24),new B(14,25)),new Z(30,new B(16,15),new B(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Z(30,new B(6,117),new B(4,118)),new Z(28,new B(6,45),new B(14,46)),new Z(30,new B(11,24),new B(16,25)),new Z(30,new B(30,16),new B(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Z(26,new B(8,106),new B(4,107)),new Z(28,new B(8,47),new B(13,48)),new Z(30,new B(7,24),new B(22,25)),new Z(30,new B(22,15),new B(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Z(28,new B(10,114),new B(2,115)),new Z(28,new B(19,46),new B(4,47)),new Z(28,new B(28,22),new B(6,23)),new Z(30,new B(33,16),new B(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Z(30,new B(8,122),new B(4,123)),new Z(28,new B(22,45),new B(3,46)),new Z(30,new B(8,23),new B(26,24)),new Z(30,new B(12,15),new B(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new B(3,117),new B(10,118)),new Z(28,new B(3,45),new B(23,46)),new Z(30,new B(4,24),new B(31,25)),new Z(30,new B(11,15),new B(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new B(7,116),new B(7,117)),new Z(28,new B(21,45),new B(7,46)),new Z(30,new B(1,23),new B(37,24)),new Z(30,new B(19,15),new B(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new B(5,115),new B(10,116)),new Z(28,new B(19,47),new B(10,48)),new Z(30,new B(15,24),new B(25,25)),new Z(30,new B(23,15),new B(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new B(13,115),new B(3,116)),new Z(28,new B(2,46),new B(29,47)),new Z(30,new B(42,24),new B(1,25)),new Z(30,new B(23,15),new B(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new B(17,115)),new Z(28,new B(10,46),new B(23,47)),new Z(30,new B(10,24),new B(35,25)),new Z(30,new B(19,15),new B(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new B(17,115),new B(1,116)),new Z(28,new B(14,46),new B(21,47)),new Z(30,new B(29,24),new B(19,25)),new Z(30,new B(11,15),new B(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new B(13,115),new B(6,116)),new Z(28,new B(14,46),new B(23,47)),new Z(30,new B(44,24),new B(7,25)),new Z(30,new B(59,16),new B(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new B(12,121),new B(7,122)),new Z(28,new B(12,47),new B(26,48)),new Z(30,new B(39,24),new B(14,25)),new Z(30,new B(22,15),new B(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new B(6,121),new B(14,122)),new Z(28,new B(6,47),new B(34,48)),new Z(30,new B(46,24),new B(10,25)),new Z(30,new B(2,15),new B(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new B(17,122),new B(4,123)),new Z(28,new B(29,46),new B(14,47)),new Z(30,new B(49,24),new B(10,25)),new Z(30,new B(24,15),new B(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new B(4,122),new B(18,123)),new Z(28,new B(13,46),new B(32,47)),new Z(30,new B(48,24),new B(14,25)),new Z(30,new B(42,15),new B(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new B(20,117),new B(4,118)),new Z(28,new B(40,47),new B(7,48)),new Z(30,new B(43,24),new B(22,25)),new Z(30,new B(10,15),new B(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new B(19,118),new B(6,119)),new Z(28,new B(18,47),new B(31,48)),new Z(30,new B(34,24),new B(34,25)),new Z(30,new B(20,15),new B(61,16)))],n}(),Cn;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(Cn||(Cn={}));var Ww=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[Cn.DATA_MASK_000,new n(Cn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[Cn.DATA_MASK_001,new n(Cn.DATA_MASK_001,function(e,t){return(e&1)===0})],[Cn.DATA_MASK_010,new n(Cn.DATA_MASK_010,function(e,t){return t%3===0})],[Cn.DATA_MASK_011,new n(Cn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[Cn.DATA_MASK_100,new n(Cn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[Cn.DATA_MASK_101,new n(Cn.DATA_MASK_101,function(e,t){return e*t%6===0})],[Cn.DATA_MASK_110,new n(Cn.DATA_MASK_110,function(e,t){return e*t%6<3})],[Cn.DATA_MASK_111,new n(Cn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),Ck=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ge;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=gC.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ge},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ss.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var u=Ss.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(u=Ss.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ge},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=Ww.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,h=0,p=0,m=i-1;m>0;m-=2){m===6&&m--;for(var y=0;y<i;y++)for(var x=s?i-1-y:y,E=0;E<2;E++)a.get(m-E,x)||(p++,h<<=1,this.bitMatrix.get(m-E,x)&&(h|=1),p===8&&(u[c++]=h,p=0,h=0));s=!s}if(c!==t.getTotalCodewords())throw new ge;return u},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Ww.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),Yw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ik=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,u;if(e.length!==t.getTotalCodewords())throw new Ie;var c=t.getECBlocksForLevel(r),h=0,p=c.getECBlocks();try{for(var m=Yw(p),y=m.next();!y.done;y=m.next()){var x=y.value;h+=x.getCount()}}catch(U){i={error:U}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}var E=new Array(h),T=0;try{for(var S=Yw(p),I=S.next();!I.done;I=S.next())for(var x=I.value,R=0;R<x.getCount();R++){var D=x.getDataCodewords(),F=c.getECCodewordsPerBlock()+D;E[T++]=new n(D,new Uint8Array(F))}}catch(U){s={error:U}}finally{try{I&&!I.done&&(u=S.return)&&u.call(S)}finally{if(s)throw s.error}}for(var j=E[0].codewords.length,X=E.length-1;X>=0;){var P=E[X].codewords.length;if(P===j)break;X--}X++;for(var N=j-c.getECCodewordsPerBlock(),L=0,R=0;R<N;R++)for(var V=0;V<T;V++)E[V].codewords[R]=e[L++];for(var V=X;V<T;V++)E[V].codewords[N]=e[L++];for(var G=E[0].codewords.length,R=N;R<G;R++)for(var V=0;V<T;V++){var k=V<X?R:R+1;E[V].codewords[k]=e[L++]}return E},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),Xr;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Xr||(Xr={}));var Nt=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Ie;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Xr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Xr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Xr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Xr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Xr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Xr.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Xr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Xr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Xr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Xr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),Rk=function(){function n(){}return n.decode=function(e,t,r,i){var a=new pC(e),s=new Ge,u=new Array,c=-1,h=-1;try{var p=null,m=!1,y=void 0;do{if(a.available()<4)y=Nt.TERMINATOR;else{var x=a.readBits(4);y=Nt.forBits(x)}switch(y){case Nt.TERMINATOR:break;case Nt.FNC1_FIRST_POSITION:case Nt.FNC1_SECOND_POSITION:m=!0;break;case Nt.STRUCTURED_APPEND:if(a.available()<16)throw new ge;c=a.readBits(8),h=a.readBits(8);break;case Nt.ECI:var E=n.parseECIValue(a);if(p=mn.getCharacterSetECIByValue(E),p===null)throw new ge;break;case Nt.HANZI:var T=a.readBits(4),S=a.readBits(y.getCharacterCountBits(t));T===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,S);break;default:var I=a.readBits(y.getCharacterCountBits(t));switch(y){case Nt.NUMERIC:n.decodeNumericSegment(a,s,I);break;case Nt.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,I,m);break;case Nt.BYTE:n.decodeByteSegment(a,s,I,p,u,i);break;case Nt.KANJI:n.decodeKanjiSegment(a,s,I);break;default:throw new ge}break}}while(y!==Nt.TERMINATOR)}catch{throw new ge}return new F0(e,s.toString(),u.length===0?null:u,r===null?null:r.toString(),c,h)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new ge;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/96<<8&4294967295|s%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,r--}try{t.append(Kr.decode(i,rt.GB2312))}catch(c){throw new ge(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new ge;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/192<<8&4294967295|s%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,r--}try{t.append(Kr.decode(i,rt.SHIFT_JIS))}catch(c){throw new ge(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new ge;for(var u=new Uint8Array(r),c=0;c<r;c++)u[c]=e.readBits(8);var h;i===null?h=rt.guessEncoding(u,s):h=i.getName();try{t.append(Kr.decode(u,h))}catch(p){throw new ge(p)}a.push(u)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new ge;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new ge;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new ge;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new ge;var i=e.readBits(10);if(i>=1e3)throw new ge;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ge;var a=e.readBits(7);if(a>=100)throw new ge;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ge;var s=e.readBits(4);if(s>=10)throw new ge;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new ge},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),mC=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),$w=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Nk=function(){function n(){this.rsDecoder=new j0(vr.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(ji.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new Ck(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new mC(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=Ik.getDataBlocks(h,u,c),m=0;try{for(var y=$w(p),x=y.next();!x.done;x=y.next()){var E=x.value;m+=E.getNumDataCodewords()}}catch(X){r={error:X}}finally{try{x&&!x.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var T=new Uint8Array(m),S=0;try{for(var I=$w(p),R=I.next();!R.done;R=I.next()){var E=R.value,D=E.getCodewords(),F=E.getNumDataCodewords();this.correctErrors(D,F);for(var j=0;j<F;j++)T[S++]=D[j]}}catch(X){a={error:X}}finally{try{R&&!R.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}return Rk.decode(T,u,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new on}for(var i=0;i<t;i++)e[i]=r[i]},n}(),Ok=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dk=function(n){Ok(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,s,u)},e}(we),Pk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mk=function(){function n(e,t,r,i,a,s,u){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),u=this.image,c=0;c<t;c++){var h=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!u.get(p,h);)p++;for(var m=0;p<i;){if(u.get(p,h))if(m===1)s[1]++;else if(m===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,m=1}else s[++m]++;else m===1&&m++,s[m]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&u[1]<=r;)u[1]++,c++;if(c===s||u[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&u[2]<=r;)u[2]++,c++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],u=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,u,2*e[1],s);if(!isNaN(c)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=Pk(this.possibleCenters),m=p.next();!m.done;m=p.next()){var y=m.value;if(y.aboutEquals(h,c,u))return y.combineEstimate(c,u,h)}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var x=new Dk(u,c,h);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null},n}(),Lk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kk=function(n){Lk(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,u,c,a)},e}(we),Bk=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Nc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vk=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(It.TRY_HARDER)!==void 0,r=e!=null&&e.get(It.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),u=Math.floor(3*a/(4*n.MAX_MODULES));(u<n.MIN_SKIP||t)&&(u=n.MIN_SKIP);for(var c=!1,h=new Int32Array(5),p=u-1;p<a&&!c;p+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var m=0,y=0;y<s;y++)if(i.get(y,p))(m&1)===1&&m++,h[m]++;else if((m&1)===0)if(m===4)if(n.foundPatternCross(h)){var x=this.handlePossibleCenter(h,p,y,r);if(x===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var E=this.findRowSkip();E>h[2]&&(p+=E-h[2]-u,y=s-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;continue}m=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;else h[++m]++;else h[m]++;if(n.foundPatternCross(h)){var x=this.handlePossibleCenter(h,p,s,r);x===!0&&(u=h[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var T=this.selectBestPatterns();return we.orderBestPatterns(T),new Bk(T)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,u=this.image;e>=s&&t>=s&&u.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!u.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&u.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=u.getHeight(),h=u.getWidth();for(s=1;e+s<c&&t+s<h&&u.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=h)return!1;for(;e+s<c&&t+s<h&&!u.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=h||a[3]>=r)return!1;for(;e+s<c&&t+s<h&&u.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(u)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(u),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(s),e[2],a)))){for(var c=a/7,h=!1,p=this.possibleCenters,m=0,y=p.length;m<y;m++){var x=p[m];if(x.aboutEquals(c,u,s)){p[m]=x.combineEstimate(u,s,c),h=!0;break}}if(!h){var E=new kk(s,u,c);p.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Nc(this.possibleCenters),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.getCount()>=n.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,u=this.possibleCenters.length;try{for(var c=Nc(this.possibleCenters),h=c.next();!h.done;h=c.next()){var p=h.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(T){e={error:T}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var m=s/u,y=0;try{for(var x=Nc(this.possibleCenters),E=x.next();!E.done;E=x.next()){var p=E.value;y+=Math.abs(p.getEstimatedModuleSize()-m)}}catch(T){r={error:T}}finally{try{E&&!E.done&&(i=x.return)&&i.call(x)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ie;var s=this.possibleCenters,u;if(a>3){var c=0,h=0;try{for(var p=Nc(this.possibleCenters),m=p.next();!m.done;m=p.next()){var y=m.value,x=y.getEstimatedModuleSize();c+=x,h+=x*x}}catch(j){e={error:j}}finally{try{m&&!m.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}u=c/a;var E=Math.sqrt(h/a-u*u);s.sort(function(j,X){var P=Math.abs(X.getEstimatedModuleSize()-u),N=Math.abs(j.getEstimatedModuleSize()-u);return P<N?-1:P>N?1:0});for(var T=Math.max(.2*u,E),S=0;S<s.length&&s.length>3;S++){var I=s[S];Math.abs(I.getEstimatedModuleSize()-u)>T&&(s.splice(S,1),S--)}}if(s.length>3){var c=0;try{for(var R=Nc(s),D=R.next();!D.done;D=R.next()){var F=D.value;c+=F.getEstimatedModuleSize()}}catch(X){r={error:X}}finally{try{D&&!D.done&&(i=R.return)&&i.call(R)}finally{if(r)throw r.error}}u=c/s.length,s.sort(function(X,P){if(P.getCount()===X.getCount()){var N=Math.abs(P.getEstimatedModuleSize()-u),L=Math.abs(X.getEstimatedModuleSize()-u);return N<L?1:N>L?-1:0}else return P.getCount()-X.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),Uk=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(It.NEED_RESULT_POINT_CALLBACK);var t=new Vk(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ie("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),u=Ss.getProvisionalVersionForDimension(s),c=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),m=r.getY()-t.getY()+i.getY(),y=1-3/c,x=Math.floor(t.getX()+y*(p-t.getX())),E=Math.floor(t.getY()+y*(m-t.getY())),T=4;T<=16;T<<=1)try{h=this.findAlignmentInRegion(a,x,E,T);break}catch(D){if(!(D instanceof ie))throw D}var S=n.createTransform(t,r,i,h,s),I=n.sampleGrid(this.image,S,s),R;return h===null?R=[i,t,r]:R=[i,t,r,h],new jv(I,R)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,u,c,h,p;return i!==null?(u=i.getX(),c=i.getY(),h=s-3,p=h):(u=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),h=s,p=s),cC.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,h,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),u,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=Hv.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=ot.round(we.distance(e,t)/i),s=ot.round(we.distance(e,r)/i),u=Math.floor((a+s)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ie("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,u=e-(r-e);u<0?(s=e/(e-u),u=0):u>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var u=Math.abs(r-e),c=Math.abs(i-t),h=-u/2,p=e<r?1:-1,m=t<i?1:-1,y=0,x=r+p,E=e,T=t;E!==x;E+=p){var S=a?T:E,I=a?E:T;if(y===1===this.image.get(S,I)){if(y===2)return ot.distance(E,T,e,t);y++}if(h+=c,h>0){if(T===i)break;T+=m,h-=u}}return y===2?ot.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-s<e*3)throw new ie("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),h=Math.min(this.image.getHeight()-1,r+a);if(h-c<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var p=new Mk(this.image,s,c,u-s,h-c,e,this.resultPointCallback);return p.find()},n}(),i0=function(){function n(){this.decoder=new Nk}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(It.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new Uk(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof mC&&r.getOther().applyMirroredCorrection(i);var u=new Jn(r.getText(),r.getRawBytes(),void 0,i,Ce.QR_CODE,void 0),c=r.getByteSegments();c!==null&&u.putMetadata(Hn.BYTE_SEGMENTS,c);var h=r.getECLevel();return h!==null&&u.putMetadata(Hn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(Hn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Hn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0];if(u>=c||a>=s)throw new ie;if(s-a!==c-u&&(c=u+(s-a),c>=e.getWidth()))throw new ie;var h=Math.round((c-u+1)/i),p=Math.round((s-a+1)/i);if(h<=0||p<=0)throw new ie;if(p!==h)throw new ie;var m=Math.floor(i/2);a+=m,u+=m;var y=u+Math.floor((h-1)*i)-c;if(y>0){if(y>m)throw new ie;u-=y}var x=a+Math.floor((p-1)*i)-s;if(x>0){if(x>m)throw new ie;a-=x}for(var E=new ji(h,p),T=0;T<p;T++)for(var S=a+Math.floor(T*i),I=0;I<h;I++)e.get(u+Math.floor(I*i),S)&&E.set(I,T);return E},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],u=!0,c=0;a<i&&s<r;){if(u!==t.get(a,s)){if(++c===5)break;u=!u}a++,s++}if(a===i||s===r)throw new ie;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),Fk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},it=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return ot.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=Fk(e),u=s.next();!u.done;u=s.next()){var c=u.value;i[a++]=c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=yn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),jk=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Hk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zk=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new jk(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,u=0,c=!1;s<t.getHeight();){var h=n.findVertices(t,s,u);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,u=0;try{for(var p=(r=void 0,Hk(a)),m=p.next();!m.done;m=p.next()){var y=m.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(x){r={error:x}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var u=new Array(4),c=!1,h=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,h);if(p!=null){for(;i>0;){var m=n.findGuardPattern(e,a,--i,r,!1,s,h);if(m!=null)p=m;else{i++;break}}u[0]=new we(p[0],i),u[1]=new we(p[1],i),c=!0;break}}var y=i+1;if(c){for(var x=0,m=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,m[0],y,r,!1,s,h);if(p!=null&&Math.abs(m[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(m[1]-p[1])<n.MAX_PATTERN_DRIFT)m=p,x=0;else{if(x>n.SKIPPED_ROW_COUNT_MAX)break;x++}}y-=x+1,u[2]=new we(m[0],y),u[3]=new we(m[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&yn.fill(u,null),u},n.findGuardPattern=function(e,t,r,i,a,s,u){yn.fillWithin(u,0,u.length,0);for(var c=t,h=0;e.get(c,r)&&c>0&&h++<n.MAX_PIXEL_DRIFT;)c--;for(var p=c,m=0,y=s.length,x=a;p<i;p++){var E=e.get(p,r);if(E!==x)u[m]++;else{if(m===y-1){if(n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=u[0]+u[1],Ct.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,x=!x}}return m===y-1&&n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return 1/0;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var m=e[p],y=t[p]*c,x=m>y?m-y:y-m;if(x>r)return 1/0;h+=x}return h/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),Gk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},As=function(){function n(e,t){if(t.length===0)throw new Ie;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Ct.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Gk(this.coefficients),s=a.next();!s.done;s=a.next()){var u=s.value;i=this.field.add(i,u)}}catch(m){t={error:m}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)c=this.field.add(this.field.multiply(e,c),this.coefficients[p]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Ie("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Ct.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=this.field.add(t[u-s],r[u]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Ie("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Ie("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=0;u<r;u++)for(var c=t[u],h=0;h<a;h++)s[u+h]=this.field.add(s[u+h],this.field.multiply(c,i[h]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Ie;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new Ge,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),qk=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Ie;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new uC;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),Xk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wk=function(n){Xk(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new As(i,new Int32Array([0])),i.one=new As(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Ie;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new As(this,i)},e.PDF417_GF=new e(it.NUMBER_OF_CODEWORDS,3),e}(qk),Yk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$k=function(){function n(){this.field=Wk.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new As(this.field,e),u=new Int32Array(t),c=!1,h=t;h>0;h--){var p=s.evaluateAt(this.field.exp(h));u[t-h]=p,p!==0&&(c=!0)}if(!c)return 0;var m=this.field.getOne();if(r!=null)try{for(var y=Yk(r),x=y.next();!x.done;x=y.next()){var E=x.value,T=this.field.exp(e.length-1-E),S=new As(this.field,new Int32Array([this.field.subtract(0,T),1]));m=m.multiply(S)}}catch(N){i={error:N}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var I=new As(this.field,u),R=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),I,t),D=R[0],F=R[1],j=this.findErrorLocations(D),X=this.findErrorMagnitudes(F,D,j),h=0;h<j.length;h++){var P=e.length-1-this.field.log(j[h]);if(P<0)throw on.getChecksumInstance();e[P]=this.field.subtract(e[P],X[h])}return j.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,u=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var h=a,p=u;if(a=s,u=c,a.isZero())throw on.getChecksumInstance();s=h;for(var m=this.field.getZero(),y=a.getCoefficient(a.getDegree()),x=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var E=s.getDegree()-a.getDegree(),T=this.field.multiply(s.getCoefficient(s.getDegree()),x);m=m.add(this.field.buildMonomial(E,T)),s=s.subtract(a.multiplyByMonomial(E,T))}c=m.multiply(u).subtract(p).negative()}var S=c.getCoefficient(0);if(S===0)throw on.getChecksumInstance();var I=this.field.inverse(S),R=c.multiply(I),D=s.multiply(I);return[R,D]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw on.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var u=new As(this.field,a),c=r.length,h=new Int32Array(c),s=0;s<c;s++){var p=this.field.inverse(r[s]),m=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(u.evaluateAt(p));h[s]=this.field.multiply(m,y)}return h},n}(),wm=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,u=i==null||a==null;if(s&&u)throw new ie;s?(t=new we(0,i.getY()),r=new we(0,a.getY())):u&&(i=new we(e.getWidth()-1,t.getY()),a=new we(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,u=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,h=Math.trunc(c.getY()-e);h<0&&(h=0);var p=new we(c.getX(),h);r?i=p:s=p}if(t>0){var m=r?this.bottomLeft:this.bottomRight,y=Math.trunc(m.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var x=new we(m.getX(),y);r?a=x:u=x}return new n(this.image,i,a,s,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),Kk=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),Gv=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,u,c,h,p,m){if(s==="%%")return"%";if(t[++r]!==void 0){s=h?parseInt(h.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,x;switch(m){case"s":x=t[r];break;case"c":x=t[r][0];break;case"f":x=parseFloat(t[r]).toFixed(s);break;case"p":x=parseFloat(t[r]).toPrecision(s);break;case"e":x=parseFloat(t[r]).toExponential(s);break;case"x":x=parseInt(t[r]).toString(y||16);break;case"d":x=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}x=typeof x=="object"?JSON.stringify(x):(+x).toString(y);for(var E=parseInt(c),T=c&&c[0]+""=="0"?"0":" ";x.length<E;)x=u!==void 0?x+T:T+x;return x}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),Qk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vC=function(){function n(e){this.boundingBox=new wm(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new Gv,i=0;try{for(var a=Qk(this.codewords),s=a.next();!s.done;s=a.next()){var u=s.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),Zk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jk=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},Fc=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(m,y){var x={getKey:function(){return m},getValue:function(){return y}};x.getValue()>r?(r=x.getValue(),i=[],i.push(x.getKey())):x.getValue()===r&&i.push(x.getKey())};try{for(var s=Zk(this.values.entries()),u=s.next();!u.done;u=s.next()){var c=Jk(u.value,2),h=c[0],p=c[1];a(h,p)}}catch(m){e={error:m}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return it.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),eB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kw=function(n){eB(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=Rg(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,p=1,m=0,y=u;y<c;y++)if(r[y]!=null){var x=r[y],E=x.getRowNumber()-h;if(E===0)m++;else if(E===1)p=Math.max(p,m),m=1,h=x.getRowNumber();else if(E<0||x.getRowNumber()>=t.getRowCount()||E>y)r[y]=null;else{var T=void 0;p>2?T=(p-2)*E:T=E;for(var S=T>=y,I=1;I<=T&&!S;I++)S=r[y-I]!=null;S?r[y]=null:(h=x.getRowNumber(),m=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Rg(this.getCodewords()),u=s.next();!u.done;u=s.next()){var c=u.value;if(c!=null){var h=c.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),h=-1,p=s;p<u;p++)if(c[p]!=null){var m=c[p];m.setRowNumberAsRowIndicatorColumn();var y=m.getRowNumber()-h;y===0||(y===1?h=m.getRowNumber():m.getRowNumber()>=t.getRowCount()?c[p]=null:h=m.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new Fc,s=new Fc,u=new Fc,c=new Fc;try{for(var h=Rg(i),p=h.next();!p.done;p=h.next()){var m=p.value;if(m!=null){m.setRowNumberAsRowIndicatorColumn();var y=m.getValue()%30,x=m.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(T){t={error:T}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<it.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>it.MAX_ROWS_IN_BARCODE)return null;var E=new Kk(a.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,E),E},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(vC),tB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nB=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=it.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[t],h[3]=c[t],t>0&&(h[0]=r[t-1],h[4]=u[t-1],h[5]=c[t-1]),t>1&&(h[8]=r[t-2],h[10]=u[t-2],h[11]=c[t-2]),t<r.length-1&&(h[1]=r[t+1],h[6]=u[t+1],h[7]=c[t+1]),t<r.length-2&&(h[9]=r[t+2],h[12]=u[t+2],h[13]=c[t+2]);try{for(var p=tB(h),m=p.next();!m.done;m=p.next()){var y=m.value;if(n.adjustRowNumber(s,y))return}}catch(x){i={error:x}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Gv,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),rB=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),iB=function(){function n(){}return n.initialize=function(){for(var e=0;e<it.SYMBOL_TABLE.length;e++)for(var t=it.SYMBOL_TABLE[e],r=t&1,i=0;i<it.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(it.BARS_IN_MODULE)),n.RATIOS_TABLE[e][it.BARS_IN_MODULE-i-1]=Math.fround(a/it.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=ot.sum(e),r=new Int32Array(it.BARS_IN_MODULE),i=0,a=0,s=0;s<it.MODULES_IN_CODEWORD;s++){var u=t/(2*it.MODULES_IN_CODEWORD)+s*t/it.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return it.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=ot.sum(e),r=new Array(it.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=_m.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var c=0,h=n.RATIOS_TABLE[u],p=0;p<it.BARS_IN_MODULE;p++){var m=Math.fround(h[p]-r[p]);if(c+=Math.fround(m*m),c>=a)break}c<a&&(a=c,s=it.SYMBOL_TABLE[u])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(it.SYMBOL_TABLE.length).map(function(e){return new Array(it.BARS_IN_MODULE)}),n}(),aB=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),Qw=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),oB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sB=function(n){oB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Er),lB=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new sB;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new Fv;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),uB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cB=function(n){uB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Er),fB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hB=function(n){fB(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Ie("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new cB;i=Ye.MAX_VALUE}this.buf=yn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new Fv;this.ensureCapacity(this.count+i),Ct.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return yn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(lB),Tt;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Tt||(Tt={}));function yC(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var dd;function yo(n){if(typeof dd>"u"&&(dd=yC()),dd===null)throw new Error("BigInt is not supported!");return dd(n)}function dB(){var n=[];n[0]=yo(1);var e=yo(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var pB=function(){function n(){}return n.decode=function(e,t){var r=new Ge(""),i=mn.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],u=new aB;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:mn.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new ge;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw ge.getFormatInstance()}if(r.length()===0)throw ge.getFormatInstance();var c=new F0(null,r.toString(),null,t);return c.setOther(u),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ge.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Ye.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new Ge;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var u=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Ge;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new Ge;t=n.textCompaction(e,t+1,h),r.setSender(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new Ge;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var m=new Ge;t=n.numericCompaction(e,t+1,m),r.setSegmentCount(Ye.parseInt(m.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new Ge;t=n.numericCompaction(e,t+1,y),r.setTimestamp(Qw.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var x=new Ge;t=n.numericCompaction(e,t+1,x),r.setChecksum(Ye.parseInt(x.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var E=new Ge;t=n.numericCompaction(e,t+1,E),r.setFileSize(Qw.parseLong(E.toString()));break;default:throw ge.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw ge.getFormatInstance()}if(u!==-1){var T=t-u;r.isLastSegment()&&T--,r.setOptionalData(yn.copyOfRange(e,u,u+T))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=Tt.ALPHA,s=Tt.ALPHA,u=0;u<r;){var c=e[u],h="";switch(a){case Tt.ALPHA:if(c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.LL:a=Tt.LOWER;break;case n.ML:a=Tt.MIXED;break;case n.PS:s=a,a=Tt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Tt.ALPHA;break}break;case Tt.LOWER:if(c<26)h=String.fromCharCode(97+c);else switch(c){case 26:h=" ";break;case n.AS:s=a,a=Tt.ALPHA_SHIFT;break;case n.ML:a=Tt.MIXED;break;case n.PS:s=a,a=Tt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Tt.ALPHA;break}break;case Tt.MIXED:if(c<n.PL)h=n.MIXED_CHARS[c];else switch(c){case n.PL:a=Tt.PUNCT;break;case 26:h=" ";break;case n.LL:a=Tt.LOWER;break;case n.AL:a=Tt.ALPHA;break;case n.PS:s=a,a=Tt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Tt.ALPHA;break}break;case Tt.PUNCT:if(c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=Tt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Tt.ALPHA;break}break;case Tt.ALPHA_SHIFT:if(a=s,c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=Tt.ALPHA;break}break;case Tt.PUNCT_SHIFT:if(a=s,c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=Tt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Tt.ALPHA;break}break}h!==""&&i.append(h),u++}},n.byteCompaction=function(e,t,r,i,a){var s=new hB,u=0,c=0,h=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),m=t[i++];i<t[0]&&!h;)switch(p[u++]=m,c=900*c+m,m=t[i++],m){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(yo(c)>>yo(8*(5-y))));c=0,u=0}break}i===t[0]&&m<n.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=m);for(var x=0;x<u;x++)s.write(p[x]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var E=t[i++];if(E<n.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+E;else switch(E){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(yo(c)>>yo(8*(5-y))));c=0,u=0}}break}return a.append(Kr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<n.TEXT_COMPACTION_MODE_LATCH)s[i]=u,i++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||u===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=yo(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*yo(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ge;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=yC()?dB():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Oc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gB=function(){function n(){}return n.decode=function(e,t,r,i,a,s,u){for(var c=new wm(e,t,r,i,a),h=null,p=null,m,y=!0;;y=!1){if(t!=null&&(h=n.getRowIndicatorColumn(e,c,t,!0,s,u)),i!=null&&(p=n.getRowIndicatorColumn(e,c,i,!1,s,u)),m=n.merge(h,p),m==null)throw ie.getNotFoundInstance();var x=m.getBoundingBox();if(y&&x!=null&&(x.getMinY()<c.getMinY()||x.getMaxY()>c.getMaxY()))c=x;else break}m.setBoundingBox(c);var E=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,h),m.setDetectionResultColumn(E,p);for(var T=h!=null,S=1;S<=E;S++){var I=T?S:E-S;if(m.getDetectionResultColumn(I)===void 0){var R=void 0;I===0||I===E?R=new Kw(c,I===0):R=new vC(c),m.setDetectionResultColumn(I,R);for(var D=-1,F=D,j=c.getMinY();j<=c.getMaxY();j++){if(D=n.getStartColumn(m,I,j,T),D<0||D>c.getMaxX()){if(F===-1)continue;D=F}var X=n.detectCodeword(e,c.getMinX(),c.getMaxX(),T,D,j,s,u);X!=null&&(R.setCodeword(j,X),F=D,s=Math.min(s,X.getWidth()),u=Math.max(u,X.getWidth()))}}}return n.createDecoderResult(m)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=wm.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new nB(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var u=Oc(i),c=u.next();!c.done;c=u.next()){var h=c.value;if(s+=a-h,h>0)break}}catch(x){t={error:x}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),m=0;s>0&&p[m]==null;m++)s--;for(var y=0,m=i.length-1;m>=0&&(y+=a-i[m],!(i[m]>0));m--);for(var m=p.length-1;y>0&&p[m]==null;m--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Oc(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=Math.max(i,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var u=new Kw(t,i),c=0;c<2;c++)for(var h=c===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),m=Math.trunc(Math.trunc(r.getY()));m<=t.getMaxY()&&m>=t.getMinY();m+=h){var y=n.detectCodeword(e,0,e.getWidth(),i,p,m,a,s);y!=null&&(u.setCodeword(m,y),i?p=y.getStartX():p=y.getEndX())}return u},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>it.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var h=t[u][c+1].getValue(),p=u*e.getBarcodeColumnCount()+c;h.length===0?r.push(p):h.length===1?i[p]=h[0]:(s.push(p),a.push(h))}for(var m=new Array(a.length),y=0;y<m.length;y++)m[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,it.toIntArray(r),it.toIntArray(s),m)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),u=100;u-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(p){var h=p instanceof on;if(!h)throw p}if(s.length===0)throw on.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw on.getChecksumInstance()}throw on.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)s[u][c]=new Fc;var h=0;try{for(var p=Oc(e.getDetectionResultColumns()),m=p.next();!m.done;m=p.next()){var y=m.value;if(y!=null)try{for(var x=(i=void 0,Oc(y.getCodewords())),E=x.next();!E.done;E=x.next()){var T=E.value;if(T!=null){var S=T.getRowNumber();if(S>=0){if(S>=s.length)continue;s[S][h].setValue(T.getValue())}}}}catch(I){i={error:I}}finally{try{E&&!E.done&&(a=x.return)&&a.call(x)}finally{if(i)throw i.error}}h++}}catch(I){t={error:I}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,u=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var h=0;n.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var p=(a=void 0,Oc(e.getDetectionResultColumn(t).getCodewords())),m=p.next();!m.done;m=p.next()){var y=m.value;if(y!=null)return(i?y.getEndX():y.getStartX())+u*h*(y.getEndX()-y.getStartX())}}catch(x){a={error:x}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,u,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var h=n.getModuleBitCount(e,t,r,i,a,s);if(h==null)return null;var p,m=ot.sum(h);if(i)p=a+m;else{for(var y=0;y<h.length/2;y++){var x=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=x}p=a,a=p-m}if(!n.checkCodewordSkew(m,u,c))return null;var E=iB.getDecodedValue(h),T=it.getCodeword(E);return T===-1?null:new rB(a,p,n.getCodewordBucketNumber(E),T)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var u=a,c=new Int32Array(8),h=0,p=i?1:-1,m=i;(i?u<r:u>=t)&&h<c.length;)e.get(u,s)===m?(c[h]++,u+=p):(h++,m=!m);return h===c.length||u===(i?r:t)&&h===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var u=a,c=i?-1:1,h=0;h<2;h++){for(;(i?u>=t:u<r)&&i===e.get(u,s);){if(Math.abs(a-u)>n.CODEWORD_SKEW_SIZE)return a;u+=c}c=-c,i=!i}return u},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw ge.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=pB.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw on.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw ge.getFormatInstance();var r=e[0];if(r>e.length)throw ge.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw ge.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new Gv,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new $k,n}(),mB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a0=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ie.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof ge||r instanceof on?ie.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,u=zk.detectMultiple(e,t,r);try{for(var c=mB(u.getPoints()),h=c.next();!h.done;h=c.next()){var p=h.value,m=gB.decode(u.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new Jn(m.getText(),m.getRawBytes(),void 0,p,Ce.PDF_417);y.putMetadata(Hn.ERROR_CORRECTION_LEVEL,m.getECLevel());var x=m.getOther();x!=null&&y.putMetadata(Hn.PDF417_EXTRA_METADATA,x),s.push(y)}}catch(E){i={error:E}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(E){return E})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),vB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Zw=function(n){vB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(Er),Jw=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_C=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(It.TRY_HARDER)!==void 0,r=e==null?null:e.get(It.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Ce.UPC_A||s===Ce.UPC_E||s===Ce.EAN_13||s===Ce.EAN_8||s===Ce.CODABAR||s===Ce.CODE_39||s===Ce.CODE_93||s===Ce.CODE_128||s===Ce.ITF||s===Ce.RSS_14||s===Ce.RSS_EXPANDED});a&&!t&&i.push(new Ll(e)),r.includes(Ce.QR_CODE)&&i.push(new i0),r.includes(Ce.DATA_MATRIX)&&i.push(new r0),r.includes(Ce.AZTEC)&&i.push(new t0),r.includes(Ce.PDF_417)&&i.push(new a0),a&&t&&i.push(new Ll(e))}i.length===0&&(t||i.push(new Ll(e)),i.push(new i0),i.push(new r0),i.push(new t0),i.push(new a0),t&&i.push(new Ll(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=Jw(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new Zw("No readers where selected, nothing can be read.");try{for(var i=Jw(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(u){if(u instanceof Zw)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},n}(),yB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){yB(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new _C;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(pu);var _B=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){_B(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new a0,t)||this}return e})(pu);var xB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){xB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new i0,t)||this}return e})(pu);var Am;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(Am||(Am={}));const pd=Am;var xC=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Co(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new Co(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Ie("No error correction bytes");var r=e.length-t;if(r<=0)throw new Ie("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);Ct.arraycopy(e,0,a,0,r);var s=new Co(this.field,a);s=s.multiplyByMonomial(t,1);for(var u=s.divide(i)[1],c=u.getCoefficients(),h=t-c.length,p=0;p<h;p++)e[r+p]=0;Ct.arraycopy(c,0,e,r+h,c.length)},n}(),jc=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var u=r[s],c=0;c<i-1;c++){var h=u[c];h===u[c+1]&&h===r[s+1][c]&&h===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=0;u<i;u++){var c=r[s];u+6<i&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(n.isWhiteHorizontal(c,u-4,u)||n.isWhiteHorizontal(c,u+7,u+11))&&t++,s+6<a&&r[s][u]===1&&r[s+1][u]===0&&r[s+2][u]===1&&r[s+3][u]===1&&r[s+4][u]===1&&r[s+5][u]===0&&r[s+6][u]===1&&(n.isWhiteVertical(r,u,s-4,s)||n.isWhiteVertical(r,u,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=r[s],c=0;c<i;c++)u[c]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Ie("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),u=0;u<i;u++){for(var c=0,h=-1,p=0;p<a;p++){var m=t?s[u][p]:s[p][u];m===h?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,h=m)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),EB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wB=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=EB(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;yn.fill(s,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],u=0,c=this.width;u<c;++u)if(a[u]!==s[u])return!1;return!0},n.prototype.toString=function(){for(var e=new Ge,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),Tm=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new Ge;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),AB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rt=function(n){AB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(Er),eA=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Nn;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var u=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],h=c[0],p=c[1];if(r.setBoolean(h,p,u),a<8){var m=r.getWidth()-a-1,y=8;r.setBoolean(m,y,u)}else{var m=8,y=r.getHeight()-7+(a-8);r.setBoolean(m,y,u)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Nn;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var u=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,u),t.setBoolean(t.getHeight()-11+s,a,u)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,u=r.getHeight()-1;s>0;){for(s===6&&(s-=1);u>=0&&u<r.getHeight();){for(var c=0;c<2;++c){var h=s-c;if(n.isEmpty(r.get(h,u))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&jc.getDataMaskBit(t,h,u)&&(p=!p),r.setBoolean(h,u,p)}}u+=a}a=-a,u+=a,s-=2}if(i!==e.getSize())throw new Rt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Ie("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Tm.isValidMaskPattern(t))throw new Rt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new Nn;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Rt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Rt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Rt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Rt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Rt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var u=i[a];if(u>=0)for(var c=0;c!==s;c++){var h=i[c];h>=0&&n.isEmpty(t.get(h,u))&&n.embedPositionAdjustmentPattern(h-2,u-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),TB=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),tA=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return jc.applyMaskPenaltyRule1(e)+jc.applyMaskPenaltyRule2(e)+jc.applyMaskPenaltyRule3(e)+jc.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(pd.CHARACTER_SET)!==void 0;a&&(i=r.get(pd.CHARACTER_SET).toString());var s=this.chooseMode(e,i),u=new Nn;if(s===Nt.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=mn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(s,u);var h=new Nn;this.appendBytes(e,s,h,i);var p;if(r!==null&&r.get(pd.QR_VERSION)!==void 0){var m=Number.parseInt(r.get(pd.QR_VERSION).toString(),10);p=Ss.getVersionForNumber(m);var y=this.calculateBitsNeeded(s,u,h,p);if(!this.willFit(y,p,t))throw new Rt("Data too big for requested version")}else p=this.recommendVersion(t,s,u,h);var x=new Nn;x.appendBitArray(u);var E=s===Nt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(E,p,s,x),x.appendBitArray(h);var T=p.getECBlocksForLevel(t),S=p.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(S,x);var I=this.interleaveWithECBytes(x,p.getTotalCodewords(),S,T.getNumBlocks()),R=new Tm;R.setECLevel(t),R.setMode(s),R.setVersion(p);var D=p.getDimensionForVersion(),F=new wB(D,D),j=this.chooseMaskPattern(I,t,p,F);return R.setMaskPattern(j),eA.buildMatrix(I,t,p,j,F),R.setMatrix(F),R},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Ss.getVersionForNumber(1)),s=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(u,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),mn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Nt.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var u=e.charAt(a);if(n.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Nt.BYTE}return i?Nt.ALPHANUMERIC:r?Nt.NUMERIC:Nt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=Kr.encode(e,mn.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,u=0;u<Tm.NUM_MASK_PATTERNS;u++){eA.buildMatrix(e,t,r,u,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=u)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Ss.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Rt("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),u=i-s,c=(e+7)/8;return u>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Rt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Rt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Rt("Block ID too large");var u=e%r,c=r-u,h=Math.floor(e/r),p=h+1,m=Math.floor(t/r),y=m+1,x=h-m,E=p-y;if(x!==E)throw new Rt("EC bytes mismatch");if(r!==c+u)throw new Rt("RS blocks mismatch");if(e!==(m+x)*c+(y+E)*u)throw new Rt("Total bytes mismatch");i<c?(a[0]=m,s[0]=x):(a[0]=y,s[0]=E)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,u,c;if(e.getSizeInBytes()!==r)throw new Rt("Number of bits and data bytes does not match");for(var h=0,p=0,m=0,y=new Array,x=0;x<i;++x){var E=new Int32Array(1),T=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,x,E,T);var S=E[0],I=new Uint8Array(S);e.toBytes(8*h,I,0,S);var R=n.generateECBytes(I,T[0]);y.push(new TB(I,R)),p=Math.max(p,S),m=Math.max(m,R.length),h+=E[0]}if(r!==h)throw new Rt("Data bytes does not match offset");for(var D=new Nn,x=0;x<p;++x)try{for(var F=(a=void 0,tA(y)),j=F.next();!j.done;j=F.next()){var X=j.value,I=X.getDataBytes();x<I.length&&D.appendBits(I[x],8)}}catch(V){a={error:V}}finally{try{j&&!j.done&&(s=F.return)&&s.call(F)}finally{if(a)throw a.error}}for(var x=0;x<m;++x)try{for(var P=(u=void 0,tA(y)),N=P.next();!N.done;N=P.next()){var X=N.value,R=X.getErrorCorrectionBytes();x<R.length&&D.appendBits(R[x],8)}}catch(V){u={error:V}}finally{try{N&&!N.done&&(c=P.return)&&c.call(P)}finally{if(u)throw u.error}}if(t!==D.getSizeInBytes())throw new Rt("Interleaving error: "+t+" and "+D.getSizeInBytes()+" differ.");return D},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new xC(vr.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Rt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Nt.NUMERIC:n.appendNumericBytes(e,r);break;case Nt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Nt.BYTE:n.append8BitBytes(e,r,i);break;case Nt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Rt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),u=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+u,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Rt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Rt;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=Kr.encode(e,r)}catch(c){throw new Rt(c)}for(var a=0,s=i.length;a!==s;a++){var u=i[a];t.appendBits(u,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=Kr.encode(e,mn.SJIS)}catch(m){throw new Rt(m)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,u=r[a+1]&255,c=s<<8&4294967295|u,h=-1;if(c>=33088&&c<=40956?h=c-33088:c>=57408&&c<=60351&&(h=c-49472),h===-1)throw new Rt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(Nt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=mn.UTF8.getName(),n})();var bB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){bB(e,n);function e(t,r,i,a,s,u,c,h){var p=n.call(this,u,c)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+u>r||s+c>i)throw new Ie("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(u,c),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Ct.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Ct.arraycopy(this.yuvData,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Ct.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var c=u*t,h=0;h<t;h++){var p=a[s+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var u=s+t/2,c=s,h=s+t-1;c<u;c++,h--){var p=i[c];i[c]=i[h],i[h]=p}},e.prototype.invert=function(){return new U0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Df);var SB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){SB(e,n);function e(t,r,i,a,s,u,c){var h=n.call(this,r,i)||this;if(h.dataWidth=a,h.dataHeight=s,h.left=u,h.top=c,t.BYTES_PER_ELEMENT===4){for(var p=r*i,m=new Uint8ClampedArray(p),y=0;y<p;y++){var x=t[y],E=x>>16&255,T=x>>7&510,S=x&255;m[y]=(E+T+S)/4&255}h.luminances=m}else h.luminances=t;if(a===void 0&&(h.dataWidth=r),s===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),c===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new Ie("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Ct.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Ct.arraycopy(this.luminances,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Ct.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new U0(this)},e})(Df);var CB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IB=function(n){CB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(mn),RB=function(){function n(){}return n.ISO_8859_1=mn.ISO8859_1,n}(),bm,NB=301,OB=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=NB);return{LOG:n,ALOG:e}};bm=OB([],[]),bm.LOG;bm.ALOG;var nA;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(nA||(nA={}));var rA=129,EC=230,DB=231,PB=235,MB=236,LB=237,kB=238,BB=239,VB=240,Ng=254,UB=254,iA="[)>05",aA="[)>06",oA="",yt=0,Vn=1,lr=2,pn=3,In=4,Yn=5,FB=function(){function n(){}return n.prototype.getEncodingMode=function(){return yt},n.prototype.encode=function(e){var t=si.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=si.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Yn:e.writeCodeword(DB),e.signalEncoderChange(Yn);return;case Vn:e.writeCodeword(EC),e.signalEncoderChange(Vn);return;case pn:e.writeCodeword(kB),e.signalEncoderChange(pn);break;case lr:e.writeCodeword(BB),e.signalEncoderChange(lr);break;case In:e.writeCodeword(VB),e.signalEncoderChange(In);break;default:throw new Error("Illegal mode: "+i)}else si.isExtendedASCII(r)?(e.writeCodeword(PB),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(si.isDigit(e)&&si.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),jB=function(){function n(){}return n.prototype.getEncodingMode=function(){return Yn},n.prototype.encode=function(e){var t=new Ge;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=si.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(yt);break}}var a=t.length()-1,s=1,u=e.getCodewordCount()+a+s;e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,rt.getCharAt(a));else if(a<=1555)t.setCharAt(0,rt.getCharAt(Math.floor(a/250)+249)),t.insert(1,rt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,r=t.length();h<r;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),qv=function(){function n(){}return n.prototype.getEncodingMode=function(){return Vn},n.prototype.encodeMaximal=function(e){for(var t=new Ge,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var h=e.getSymbolInfo().getDataCapacity()-c,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(r>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(EC),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new Ge;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new Ge;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var h=t.length();if(h%3===0){var p=si.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(yt);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Ng)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Ng),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Ng)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(yt)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new Ge;return a.append(r),a.append(i),a.toString()},n}(),HB=function(){function n(){}return n.prototype.getEncodingMode=function(){return In},n.prototype.encode=function(e){for(var t=new Ge;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=si.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(yt);break}}}t.append(rt.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),h=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(u)}finally{e.signalEncoderChange(yt)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(rt.getCharAt(e-64)):si.illegalCharacter(rt.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(a<<6)+s,c=u>>16&255,h=u>>8&255,p=u&255,m=new Ge;return m.append(c),t>=2&&m.append(h),t>=3&&m.append(p),m.toString()},n}(),zB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(){function n(e,t,r,i,a,s,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=u,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,u;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=GB(XB),h=c.next();!h.done;h=c.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(m){s={error:m}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),qB=function(n){zB(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(ct),XB=[new ct(!1,3,5,8,8,1),new ct(!1,5,7,10,10,1),new ct(!0,5,7,16,6,1),new ct(!1,8,10,12,12,1),new ct(!0,10,11,14,6,2),new ct(!1,12,12,14,14,1),new ct(!0,16,14,24,10,1),new ct(!1,18,14,16,16,1),new ct(!1,22,18,18,18,1),new ct(!0,22,18,16,10,2),new ct(!1,30,20,20,20,1),new ct(!0,32,24,16,14,2),new ct(!1,36,24,22,22,1),new ct(!1,44,28,24,24,1),new ct(!0,49,28,22,14,2),new ct(!1,62,36,14,14,4),new ct(!1,86,42,16,16,4),new ct(!1,114,48,18,18,4),new ct(!1,144,56,20,20,4),new ct(!1,174,68,22,22,4),new ct(!1,204,84,24,24,4,102,42),new ct(!1,280,112,14,14,16,140,56),new ct(!1,368,144,16,16,16,92,36),new ct(!1,456,192,18,18,16,114,48),new ct(!1,576,224,20,20,16,144,56),new ct(!1,696,272,22,22,16,174,68),new ct(!1,816,336,24,24,16,136,56),new ct(!1,1050,408,18,18,36,175,68),new ct(!1,1304,496,20,20,36,163,62),new qB],WB=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),r=new Ge,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new Ge,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ct.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),YB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$B=function(n){YB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return pn},e.prototype.encode=function(t){for(var r=new Ge;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=si.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(yt);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):si.illegalCharacter(rt.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(UB),t.getNewEncoding()<0&&t.signalEncoderChange(yt)},e}(qv),KB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QB=function(n){KB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return lr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(qv),si=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=rA+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new qv,u=[new FB,s,new QB,new $B,new HB,new jB],c=new WB(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(iA)&&e.endsWith(oA)?(c.writeCodeword(MB),c.setSkipAtEnd(2),c.pos+=iA.length):e.startsWith(aA)&&e.endsWith(oA)&&(c.writeCodeword(LB),c.setSkipAtEnd(2),c.pos+=aA.length);var h=yt;for(a&&(s.encodeMaximal(c),h=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[h].encode(c),c.getNewEncoding()>=0&&(h=c.getNewEncoding(),c.resetEncoderSignal());var p=c.getCodewordCount();c.updateSymbolInfo();var m=c.getSymbolInfo().getDataCapacity();p<m&&h!==yt&&h!==Yn&&h!==In&&c.writeCodeword("");var y=c.getCodewords();for(y.length()<m&&y.append(rA);y.length()<m;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===pn&&i===pn){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return yt}else if(r===In&&i===In){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return yt}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===yt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),u=[];;){if(t+a===e.length){yn.fill(s,0),yn.fill(u,0);var c=this.findMinimums(i,u,Ye.MAX_VALUE,s),h=this.getMinimumCount(s);if(u[yt]===c)return yt;if(h===1){if(s[Yn]>0)return Yn;if(s[In]>0)return In;if(s[lr]>0)return lr;if(s[pn]>0)return pn}return Vn}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[yt]+=.5:this.isExtendedASCII(p)?(i[yt]=Math.ceil(i[yt]),i[yt]+=2):(i[yt]=Math.ceil(i[yt]),i[yt]++),this.isNativeC40(p)?i[Vn]+=2/3:this.isExtendedASCII(p)?i[Vn]+=8/3:i[Vn]+=4/3,this.isNativeText(p)?i[lr]+=2/3:this.isExtendedASCII(p)?i[lr]+=8/3:i[lr]+=4/3,this.isNativeX12(p)?i[pn]+=2/3:this.isExtendedASCII(p)?i[pn]+=13/3:i[pn]+=10/3,this.isNativeEDIFACT(p)?i[In]+=3/4:this.isExtendedASCII(p)?i[In]+=17/4:i[In]+=13/4,this.isSpecialB256(p)?i[Yn]+=4:i[Yn]++,a>=4){if(yn.fill(s,0),yn.fill(u,0),this.findMinimums(i,u,Ye.MAX_VALUE,s),u[yt]<this.min(u[Yn],u[Vn],u[lr],u[pn],u[In]))return yt;if(u[Yn]<u[yt]||u[Yn]+1<this.min(u[Vn],u[lr],u[pn],u[In]))return Yn;if(u[In]+1<this.min(u[Yn],u[Vn],u[lr],u[pn],u[yt]))return In;if(u[lr]+1<this.min(u[Yn],u[Vn],u[In],u[pn],u[yt]))return lr;if(u[pn]+1<this.min(u[Yn],u[Vn],u[In],u[lr],u[yt]))return pn;if(u[Vn]+1<this.min(u[yt],u[Yn],u[In],u[lr])){if(u[Vn]<u[pn])return Vn;if(u[Vn]===u[pn]){for(var m=t+a+1;m<e.length;){var y=e.charCodeAt(m);if(this.isX12TermSep(y))return pn;if(!this.isNativeX12(y))break;m++}return Vn}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,yn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Ye.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),Og=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sA=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return Kr.encode(e,this.charset)!=null}catch{return!1}},n}(),ZB=function(){function n(e,t,r){var i,a,s,u,c,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(L){return new sA(IB.forName(L))}),this.encoders=[];var p=[];p.push(new sA(RB.ISO_8859_1));for(var m=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var x=!1;try{for(var E=(i=void 0,Og(p)),T=E.next();!T.done;T=E.next()){var S=T.value,I=e.charAt(y),R=I.charCodeAt(0);if(R===r||S.canEncode(I)){x=!0;break}}}catch(L){i={error:L}}finally{try{T&&!T.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}if(!x)try{for(var D=(s=void 0,Og(this.ENCODERS)),F=D.next();!F.done;F=D.next()){var S=F.value;if(S.canEncode(e.charAt(y))){p.push(S),x=!0;break}}}catch(L){s={error:L}}finally{try{F&&!F.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}x||(m=!0)}if(p.length===1&&!m)this.encoders=[p[0]];else{this.encoders=[];var j=0;try{for(var X=Og(p),P=X.next();!P.done;P=X.next()){var S=P.value;this.encoders[j++]=S}}catch(L){c={error:L}}finally{try{P&&!P.done&&(h=X.return)&&h.call(X)}finally{if(c)throw c.error}}}var N=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){N=y;break}}this.priorityEncoderIndex=N}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Kr.encode(rt.getCharAt(e),this.encoders[t].name)},n}(),JB=3,eV=function(){function n(e,t,r){this.fnc1=r;var i=new ZB(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new Ge,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var u=e.charAt(i).charCodeAt(0),c=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(u===s||t.canEncode(u,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),h=c+1);for(var p=c;p<h;p++)(u===s||t.canEncode(u,p))&&this.addEdge(r,i+1,new lA(u,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new lA[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var u=0;u<t.length();u++)a[s][u]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][u],r);for(var u=0;u<t.length();u++)a[s-1][u]=null}for(var c=-1,h=Ye.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var p=a[i][u];p.cachedTotalSize<h&&(h=p.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var m=[],y=a[i][c];y!=null;){if(y.isFNC1())m.unshift(1e3);else for(var x=t.encode(y.c,y.encoderIndex),s=x.length-1;s>=0;s--)m.unshift(x[s]&255);var E=y.previous===null?0:y.previous.encoderIndex;E!==y.encoderIndex&&m.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var T=[],s=0;s<T.length;s++)T[s]=m[s];return T},n}(),lA=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(s+=JB),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),tV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var uA;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(uA||(uA={}));(function(n){tV(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r,i)||this;return u.shape=a,u.macroId=s,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(eV);var nV=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),cA=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),rV=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),iV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xv=function(n){iV(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Ye.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(rV),aV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oV=function(n){aV(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Xv);function sV(n,e,t){return new oV(n,e,t)}function Dc(n,e,t){return new Xv(n,e,t)}var lV=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Io=0,o0=1,Yr=2,wC=3,Li=4,uV=new Xv(null,0,0),Dg=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],cV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function fV(n){var e,t;try{for(var r=cV(n),i=r.next();!i.done;i=r.next()){var a=i.value;yn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[Io][Li]=0,n[o0][Li]=0,n[o0][Io]=28,n[wC][Li]=0,n[Yr][Li]=0,n[Yr][Io]=15,n}var AC=fV(yn.createInt32Array(6,6)),hV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dV=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Dg[this.mode][e];i=Dc(i,a&65535,a>>16),r+=a>>16}var s=e===Yr?4:5;return i=Dc(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===Yr?4:5;return r=Dc(r,AC[this.mode][e],i),r=Dc(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Li||this.mode===Yr){var a=Dg[r][Io];t=Dc(t,a&65535,a>>16),i+=a>>16,r=Io}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new n(t,r,this.binaryShiftByteCount+1,i+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=sV(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Dg[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new Nn;try{for(var u=hV(i),c=u.next();!c.done;c=u.next()){var h=c.value;h.appendTo(s,e)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return rt.format("%s bits=%d bytes=%d",lV[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(uV,Io,0,0),n}();function pV(n){var e=rt.getCharCode(" "),t=rt.getCharCode("."),r=rt.getCharCode(",");n[Io][e]=1;for(var i=rt.getCharCode("Z"),a=rt.getCharCode("A"),s=a;s<=i;s++)n[Io][s]=s-a+2;n[o0][e]=1;for(var u=rt.getCharCode("z"),c=rt.getCharCode("a"),s=c;s<=u;s++)n[o0][s]=s-c+2;n[Yr][e]=1;for(var h=rt.getCharCode("9"),p=rt.getCharCode("0"),s=p;s<=h;s++)n[Yr][s]=s-p+2;n[Yr][r]=12,n[Yr][t]=13;for(var m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<m.length;y++)n[wC][rt.getCharCode(m[y])]=y;for(var x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<x.length;y++)rt.getCharCode(x[y])>0&&(n[Li][rt.getCharCode(x[y])]=y);return n}var Pg=pV(yn.createInt32Array(5,256)),gd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gV=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=rt.getCharCode(" "),t=rt.getCharCode(`
`),r=cA.singletonList(dV.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case rt.getCharCode("\r"):a=s===t?2:0;break;case rt.getCharCode("."):a=s===e?3:0;break;case rt.getCharCode(","):a=s===e?4:0;break;case rt.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var u=cA.min(r,function(c,h){return c.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=gd(e),u=s.next();!u.done;u=s.next()){var c=u.value;this.updateStateForChar(c,t,a)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Pg[e.getMode()][i]>0,s=null,u=0;u<=Li;u++){var c=Pg[u][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||u===e.getMode()||u===Yr){var h=s.latchAndAppend(u,c);r.push(h)}if(!a&&AC[e.getMode()][u]>=0){var p=s.shiftAndAppend(u,c);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||Pg[e.getMode()][i]===0){var m=e.addBinaryShiftChar(t);r.push(m)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var u=gd(e),c=u.next();!c.done;c=u.next()){var h=c.value;this.updateStateForPair(h,t,r,s)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Li,r)),e.getMode()!==Li&&i.push(a.shiftAndAppend(Li,r)),r===3||r===4){var s=a.latchAndAppend(Yr,16-r).latchAndAppend(Yr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var u=gd(e),c=u.next();!c.done;c=u.next()){var h=c.value,p=!0,m=function(S){if(S.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(S)&&(s=s.filter(function(I){return I!==S}))};try{for(var y=(i=void 0,gd(s)),x=y.next();!x.done;x=y.next()){var E=x.value,T=m(E);if(T==="break")break}}catch(S){i={error:S}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(h)}}catch(S){t={error:S}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n}(),mV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new gV(e).encode(),a=Ye.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,u,c,h,p,m;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,c=Math.abs(r),c>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Ie(rt.format("Illegal value %s for layers",r));h=n.totalBitsInLayer(c,u),p=n.WORD_SIZE[c];var y=h-h%p;if(m=n.stuffBits(i,p),m.getSize()+a>y)throw new Ie("Data to large for user specified layer");if(u&&m.getSize()>p*64)throw new Ie("Data to large for user specified layer")}else{p=0,m=null;for(var x=0;;x++){if(x>n.MAX_NB_BITS)throw new Ie("Data too large for an Aztec code");if(u=x<=3,c=u?x+1:x,h=n.totalBitsInLayer(c,u),!(s>h)){(m==null||p!==n.WORD_SIZE[c])&&(p=n.WORD_SIZE[c],m=n.stuffBits(i,p));var y=h-h%p;if(!(u&&m.getSize()>p*64)&&m.getSize()+a<=y)break}}}var E=n.generateCheckWords(m,h,p),T=m.getSize()/p,S=n.generateModeMessage(u,c,T),I=(u?11:14)+c*4,R=new Int32Array(I),D;if(u){D=I;for(var x=0;x<R.length;x++)R[x]=x}else{D=I+1+2*Ye.truncDivision(Ye.truncDivision(I,2)-1,15);for(var F=Ye.truncDivision(I,2),j=Ye.truncDivision(D,2),x=0;x<F;x++){var X=x+Ye.truncDivision(x,15);R[F-x-1]=j-X-1,R[F+x]=j+X+1}}for(var P=new ji(D),x=0,N=0;x<c;x++){for(var L=(c-x)*4+(u?9:12),V=0;V<L;V++)for(var G=V*2,k=0;k<2;k++)E.get(N+G+k)&&P.set(R[x*2+k],R[x*2+V]),E.get(N+L*2+G+k)&&P.set(R[x*2+V],R[I-1-x*2-k]),E.get(N+L*4+G+k)&&P.set(R[I-1-x*2-k],R[I-1-x*2-V]),E.get(N+L*6+G+k)&&P.set(R[I-1-x*2-V],R[x*2+k]);N+=L*8}if(n.drawModeMessage(P,u,D,S),u)n.drawBullsEye(P,Ye.truncDivision(D,2),5);else{n.drawBullsEye(P,Ye.truncDivision(D,2),7);for(var x=0,V=0;x<Ye.truncDivision(I,2)-1;x+=15,V+=16)for(var k=Ye.truncDivision(D,2)&1;k<D;k+=2)P.set(Ye.truncDivision(D,2)-V,k),P.set(Ye.truncDivision(D,2)+V,k),P.set(k,Ye.truncDivision(D,2)-V),P.set(k,Ye.truncDivision(D,2)+V)}var U=new nV;return U.setCompact(u),U.setSize(D),U.setLayers(c),U.setCodeWords(T),U.setMatrix(P),U},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Nn;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Ye.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var u=a-3+s;i.get(s)&&e.set(u,a-5),i.get(s+7)&&e.set(a+5,u),i.get(20-s)&&e.set(u,a+5),i.get(27-s)&&e.set(a-5,u)}else for(var s=0;s<10;s++){var u=a-5+s+Ye.truncDivision(s,5);i.get(s)&&e.set(u,a-7),i.get(s+10)&&e.set(a+7,u),i.get(29-s)&&e.set(u,a+7),i.get(39-s)&&e.set(a-7,u)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,u=new xC(n.getGF(r)),c=Ye.truncDivision(t,r),h=n.bitsToWords(e,r,c);u.encode(h,c-s);var p=t%r,m=new Nn;m.appendBits(0,p);try{for(var y=mV(Array.from(h)),x=y.next();!x.done;x=y.next()){var E=x.value;m.appendBits(E,r)}}catch(T){i={error:T}}finally{try{x&&!x.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return m},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var u=0,c=0;c<t;c++)u|=e.get(a*t+c)?1<<t-c-1:0;i[a]=u}return i},n.getGF=function(e){switch(e){case 4:return vr.AZTEC_PARAM;case 6:return vr.AZTEC_DATA_6;case 8:return vr.AZTEC_DATA_8;case 10:return vr.AZTEC_DATA_10;case 12:return vr.AZTEC_DATA_12;default:throw new Ie("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Nn,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var u=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(u|=1<<t-1-c);(u&a)===a?(r.appendBits(u&a,t),s--):(u&a)===0?(r.appendBits(u|1,t),s--):r.appendBits(u,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var vV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yV=function(n){vV(e,n);function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return e.makeBufferFromCanvasImageData=function(t){var r;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var a=new Uint8ClampedArray(r*i),s=0,u=0,c=t.length;s<c;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var m=t[s],y=t[s+1],x=t[s+2];h=306*m+601*y+117*x+512>>10}a[u]=h}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Ie("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new U0(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);r.width=u,r.height=c;var h=r.getContext("2d");if(!h)throw new Error("Could not create a Canvas Context element.");return h.translate(u/2,c/2),h.rotate(i),h.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Df);function TC(){return typeof navigator<"u"}function _V(){return TC()&&!!navigator.mediaDevices}function xV(){return!!(_V()&&navigator.mediaDevices.enumerateDevices)}var Bl=function(){return Bl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bl.apply(this,arguments)},Bt=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(m){s(m)}}function c(p){try{h(r.throw(p))}catch(m){s(m)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},Vt=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Mg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EV={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},gu=function(){function n(e,t,r){t===void 0&&(t=new Map),r===void 0&&(r={}),this.reader=e,this.hints=t,this.options=Bl(Bl({},EV),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(It.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return Bt(this,void 0,void 0,function(){return Vt(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var a=Mg(i),s=a.next();!s.done;s=a.next()){var u=s.value;if(n.mediaStreamIsTorchCompatibleTrack(u))return!0}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Kt("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Kt("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.createBinaryBitmapFromCanvas=function(e){var t=new yV(e),r=new lC(t);return new sC(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new Kt("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,a=r.height;return t.style.width=i+"px",t.style.height=a+"px",t.width=i,t.height=a,t},n.tryPlayVideo=function(e){return Bt(this,void 0,void 0,function(){var t;return Vt(this,function(r){switch(r.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return Bt(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,m,y;return Vt(this,function(x){switch(x.label){case 0:if(!TC())throw new Error("Can't enumerate devices, navigator is not present.");if(!xV())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=x.sent(),t=[];try{for(r=Mg(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device ".concat(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){m={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(m)throw m.error}}return[2,t]}})})},n.findDeviceById=function(e){return Bt(this,void 0,void 0,function(){var t;return Vt(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){n.streamTracker.length!==0&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return Bt(this,void 0,void 0,function(){var r;return Vt(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(a,s){var u=setTimeout(function(){n.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",c))},t),c=function(){n.tryPlayVideo(e).then(function(h){clearTimeout(u),e.removeEventListener("canplay",c),a(h)})};e.addEventListener("canplay",c)})]}})})},n.attachStreamToVideo=function(e,t,r){return r===void 0&&(r=5e3),Bt(this,void 0,void 0,function(){var i;return Vt(this,function(a){switch(a.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return a.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var i=1e4,a=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",s),r())},i),s=function(){clearTimeout(a),e.removeEventListener("load",s),t()};e.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new Kt("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return Bt(this,void 0,void 0,function(){var t;return Vt(this,function(r){switch(r.label){case 0:if(!e)throw new Kt("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return Bt(this,void 0,void 0,function(){var t;return Vt(this,function(r){switch(r.label){case 0:if(!e)throw new Kt("An URL must be provided.");t=n.prepareImageElement(),t.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Bt(this,void 0,void 0,function(){var i,a;return Vt(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),n.disposeMediaStream(i),a;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return Bt(this,void 0,void 0,function(){var i,a,s,u,c,h,p,m,y,x=this;return Vt(this,function(E){switch(E.label){case 0:return n.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,n.attachStreamToVideo(e,t,i)];case 1:return a=E.sent(),s=function(){n.disposeMediaStream(e),n.cleanVideoSource(a)},u=this.scan(a,r,s),c=e.getVideoTracks(),h=Bl(Bl({},u),{stop:function(){u.stop()},streamVideoConstraintsApply:function(T,S){return Bt(this,void 0,void 0,function(){var I,R,D,F,j,X,P;return Vt(this,function(N){switch(N.label){case 0:I=S?c.filter(S):c,N.label=1;case 1:N.trys.push([1,6,7,8]),R=Mg(I),D=R.next(),N.label=2;case 2:return D.done?[3,5]:(F=D.value,[4,F.applyConstraints(T)]);case 3:N.sent(),N.label=4;case 4:return D=R.next(),[3,2];case 5:return[3,8];case 6:return j=N.sent(),X={error:j},[3,8];case 7:try{D&&!D.done&&(P=R.return)&&P.call(R)}finally{if(X)throw X.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(T){return c.find(T).getConstraints()},streamVideoSettingsGet:function(T){return c.find(T).getSettings()},streamVideoCapabilitiesGet:function(T){return c.find(T).getCapabilities()}}),p=n.mediaStreamIsTorchCompatible(e),p&&(m=c==null?void 0:c.find(function(T){return n.mediaStreamIsTorchCompatibleTrack(T)}),y=function(T){return Bt(x,void 0,void 0,function(){return Vt(this,function(S){switch(S.label){case 0:return[4,n.mediaStreamSetTorch(m,T)];case 1:return S.sent(),[2]}})})},h.switchTorch=y,h.stop=function(){return Bt(x,void 0,void 0,function(){return Vt(this,function(T){switch(T.label){case 0:return u.stop(),[4,y(!1)];case 1:return T.sent(),[2]}})})}),[2,h]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Bt(this,void 0,void 0,function(){var i,a;return Vt(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return Bt(this,void 0,void 0,function(){var r,i;return Vt(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Kt("A video element must be provided.");return r=n.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,i)];case 1:return a.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return Bt(this,void 0,void 0,function(){var r,i,a,s;return Vt(this,function(u){switch(u.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Kt("An URL must be provided.");return r=n.prepareVideoElement(),r.src=e,i=function(){n.cleanVideoSource(r)},a=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,a)];case 1:return u.sent(),s=this.scan(r,t,i),[2,s]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Bt(this,void 0,void 0,function(){var r;return Vt(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Bt(this,void 0,void 0,function(){var r,i,a;return Vt(this,function(s){switch(s.label){case 0:return r=!!t,[4,n.attachStreamToVideo(e,t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=s.sent(),[2,a];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Bt(this,void 0,void 0,function(){var r,i;return Vt(this,function(a){switch(a.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return Bt(this,void 0,void 0,function(){var t,r;return Vt(this,function(i){switch(i.label){case 0:if(!e)throw new Kt("A video element must be provided.");return t=n.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(t,r)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return Bt(this,void 0,void 0,function(){var t,r;return Vt(this,function(i){switch(i.label){case 0:if(!e)throw new Kt("An URL must be provided.");t=n.prepareVideoElement(),t.src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var a=this;return t===void 0&&(t=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(s,u){a.scan(e,function(c,h,p){if(c){s(c),p.stop();return}if(h){if(h instanceof ie&&t||h instanceof on&&r||h instanceof ge&&i)return;p.stop(),u(h)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var a=n.createCaptureCanvas(e),s;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var u=function(){s=void 0,a=void 0},c=!1,h,p=function(){c=!0,clearTimeout(h),u(),r&&r()},m={stop:p},y=function(){if(!c)try{n.drawImageOnCanvas(s,e);var x=i.decodeFromCanvas(a);t(x,void 0,m),h=setTimeout(y,i.options.delayBetweenScanSuccess)}catch(I){t(void 0,I,m);var E=I instanceof on,T=I instanceof ge,S=I instanceof ie;if(E||T||S){h=setTimeout(y,i.options.delayBetweenScanAttempts);return}u(),r&&r(I)}};return y(),m},n.prototype._decodeOnLoadImage=function(e){return Bt(this,void 0,void 0,function(){var t;return Vt(this,function(r){switch(r.label){case 0:return t=n.isImageLoaded(e),t?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return Bt(this,void 0,void 0,function(){var t;return Vt(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n}(),wV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){wV(e,n);function e(t,r){return n.call(this,new t0,t,r)||this}return e})(gu);var AV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){AV(e,n);function e(t,r){return n.call(this,new Ll(t),t,r)||this}return e})(gu);var TV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){TV(e,n);function e(t,r){return n.call(this,new r0,t,r)||this}return e})(gu);var bV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){bV(e,n);function e(t,r){var i=this,a=new _C;return a.setHints(t),i=n.call(this,a,t,r)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(It.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(gu);var SV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){SV(e,n);function e(t,r){return n.call(this,new a0,t,r)||this}return e})(gu);var CV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),IV=function(n){CV(e,n);function e(t,r){return n.call(this,new i0,t,r)||this}return e}(gu);function RV(){const{user:n,addLeague:e}=Gn(),t=Dr(),{code:r}=L4(),[i,a]=H.useState(r||""),[s,u]=H.useState(!1),[c,h]=H.useState(""),[p,m]=H.useState(!1),[y,x]=H.useState(""),[E,T]=H.useState(!1),[S,I]=H.useState(""),R=H.useRef(null),D=H.useRef(null);H.useEffect(()=>{const X=new URLSearchParams(window.location.search).get("code");X?a(X.toUpperCase()):r&&a(r)},[r]),H.useEffect(()=>(E&&R.current&&(I(""),D.current=new IV,D.current.decodeFromVideoDevice(void 0,R.current,(j,X)=>{if(j){let P="";try{const N=new URL(j.getText());P=N.searchParams.get("code")||N.pathname.split("/").pop()}catch{console.log("[JoinLeague] QR scan - treating raw text as join code:",j.getText()),P=j.getText()}T(!1),D.current.reset(),t(`/join?code=${encodeURIComponent(P)}`)}else X&&I("Camera error: "+((X==null?void 0:X.message)||X))})),()=>{D.current&&D.current.reset()}),[E,t]);const F=async j=>{j.preventDefault(),u(!0),h(""),m(!1);try{const{data:X}=await sn.post(`/leagues/join/${i}`,{user_id:n==null?void 0:n.uid,email:n==null?void 0:n.email});x(X.league_name),m(!0),e&&e({id:i,name:X.league_name,role:"coach"})}catch(X){h(X.message||"Error joining league")}finally{u(!1)}};return A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-cmf-light relative",children:[A.jsxs("button",{className:"fixed bottom-6 right-6 z-50 bg-cmf-primary text-white rounded-full shadow-lg p-4 flex items-center gap-2 text-lg font-bold hover:bg-cmf-secondary transition",onClick:()=>T(!0),"aria-label":"Scan QR to Join",style:{boxShadow:"0 4px 16px rgba(0,0,0,0.15)"},children:[A.jsx("span",{role:"img","aria-label":"scan",children:""})," Scan QR to Join"]}),E&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg flex flex-col items-center max-w-xs w-full",children:[A.jsx("h2",{className:"text-lg font-bold mb-2",children:"Scan League QR Code"}),A.jsx("div",{className:"w-full h-64 mb-2 flex items-center justify-center",children:A.jsx("video",{ref:R,className:"w-full h-full rounded",style:{objectFit:"cover"}})}),S&&A.jsx("div",{className:"text-red-500 text-sm mb-2",children:S}),A.jsx("button",{className:"bg-cmf-primary text-white px-4 py-2 rounded font-semibold mt-2",onClick:()=>T(!1),children:"Cancel"})]})}),A.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md text-center",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Join a League"}),A.jsx("div",{className:"mb-2 text-cmf-secondary",children:"Enter the code provided by your organizer to join their league."}),A.jsx("div",{className:"mb-4 text-xs text-cmf-secondary",children:"Need help? Ask your organizer for a code or QR invite."}),p?A.jsxs("div",{children:[A.jsx("div",{className:"mb-4 text-green-600 font-semibold",children:"Successfully joined league!"}),A.jsxs("div",{className:"mb-2",children:["Welcome to ",A.jsx("span",{className:"font-bold",children:y})]}),A.jsx("button",{className:"bg-cmf-primary text-white px-4 py-2 rounded font-semibold mt-4",onClick:()=>t("/dashboard"),children:"Go to Dashboard"})]}):A.jsxs("form",{onSubmit:F,className:"space-y-4",children:[A.jsx("input",{type:"text",className:"border rounded px-3 py-2 w-full text-center font-mono text-lg tracking-widest",placeholder:"Enter Join Code",value:i,onChange:j=>a(j.target.value.toUpperCase()),required:!0,autoFocus:!0}),A.jsx("button",{type:"submit",className:"bg-cmf-primary text-white px-4 py-2 rounded w-full font-semibold",disabled:s,children:s?"Joining...":"Join League"}),c&&A.jsx("div",{className:"text-red-500 text-sm mt-2",children:c})]})]})]})}function NV(){return A.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-center",children:[A.jsx("h1",{className:"text-3xl sm:text-5xl font-bold text-white mb-4 drop-shadow-lg",children:"Coach. Manage. Never miss a moment."}),A.jsx("p",{className:"text-lg sm:text-2xl text-cyan-100 mb-8 max-w-xl",children:"Your all-in-one platform for team management, communication, and never missing a play."}),A.jsx("button",{className:"bg-cyan-700 hover:bg-cyan-800 text-white text-xl font-semibold px-10 py-4 rounded-lg shadow-lg mb-8 transition-colors duration-150",onClick:()=>window.location.assign("/signup"),children:"Get Started"})]})}function OV(){const n=A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 text-white/80 text-base",children:[A.jsxs(Fn,{to:"/login",className:"hover:underline",children:["Already have an account? ",A.jsx("span",{className:"font-semibold text-white",children:"Sign in"})]}),A.jsx("span",{className:"hidden sm:inline",children:""}),A.jsxs(Fn,{to:"/claim",className:"hover:underline",children:["Need to claim an account? ",A.jsx("span",{className:"font-semibold text-white",children:"Claim"})]})]});return A.jsx(Of,{footerLinks:n,showOverlay:!1,children:A.jsx(NV,{})})}function DV(){const{user:n,setUser:e}=Gn(),[t,r]=H.useState(""),[i,a]=H.useState(!1),[s,u]=H.useState(!1),[c,h]=H.useState(!1),p=Dr(),[m,y]=H.useState(!1),x=Rf();H.useEffect(()=>{const T=async()=>{$t.currentUser&&(await $t.currentUser.reload(),y($t.currentUser.emailVerified),$t.currentUser.emailVerified&&(await $t.currentUser.getIdToken(!0),e($t.currentUser),p("/dashboard")))};T();const S=setInterval(T,1e4);return()=>clearInterval(S)},[p,e]),H.useEffect(()=>{if(!$t.currentUser){const T=setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),p("/welcome",{replace:!0})},2500);return()=>clearTimeout(T)}},[p]);const E=async()=>{u(!0);try{$t.currentUser&&(await $t.currentUser.reload(),y($t.currentUser.emailVerified),$t.currentUser.emailVerified?(await $t.currentUser.getIdToken(!0),e($t.currentUser),p("/dashboard")):r("Still not verified. Please check your email."))}catch{r("Error checking verification status.")}finally{u(!1)}};return A.jsx(Of,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:A.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center relative",children:[A.jsxs("div",{className:"w-full flex flex-row justify-between items-center pt-2 pb-2 px-2 mb-2",children:[A.jsx("button",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none",type:"button","aria-label":"Back to welcome",onClick:()=>p("/welcome"),children:A.jsx(Uv,{size:20})}),A.jsx("button",{className:"text-xs text-cyan-700 hover:underline font-semibold",onClick:()=>p("/help"),children:"Need Help?"})]}),A.jsx("img",{src:"/favicon/ChatGPT Image May 21, 2025, 05_33_34 PM.png",alt:"Woo-Combine Logo",className:"w-20 h-20 mx-auto mb-4 mt-8",style:{objectFit:"contain"}}),A.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Verify Your Email"}),A.jsx("p",{className:"text-gray-700 text-center mb-2",children:"We've sent a verification link to your email address:"}),A.jsx("div",{className:"text-lg font-bold text-cyan-700 text-center mb-2 break-all",children:(n==null?void 0:n.email)||"your email"}),A.jsxs("p",{className:"text-gray-700 text-center mb-6",children:["Please check your inbox and confirm your email to continue.",A.jsx("br",{}),A.jsx("span",{className:"text-cyan-700 font-semibold",children:"Didn't receive the email? Check your spam folder or promotions tab."})]}),m?A.jsx("a",{href:"/dashboard",className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold px-6 py-3 rounded-full shadow transition mb-5 block text-center",style:{maxWidth:320},children:"Go to App"}):A.jsx("button",{className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold px-6 py-3 rounded-full shadow transition mb-5 block text-center",style:{maxWidth:320},onClick:E,disabled:s,children:s?"Checking...":"Check Again"}),!m&&A.jsx("div",{className:"text-red-600 text-sm mt-1 text-center w-full",children:"We haven't detected your email verification yet. Please check your inbox and try again."}),A.jsx("a",{href:"/help",className:"w-full text-sm text-gray-500 underline hover:text-cyan-700 text-center block mb-6",style:{maxWidth:320},children:"Contact Support"}),t&&A.jsx("div",{className:"text-red-600 text-sm mt-1 text-center w-full",children:t}),!$t.currentUser&&A.jsx("div",{className:"text-red-600 text-sm mt-1 text-center w-full",children:"User session expired. Please log in again."}),!$t.currentUser&&A.jsx("button",{className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold px-6 py-3 rounded-full shadow transition mb-2 block text-center mt-2",style:{maxWidth:320},onClick:()=>{localStorage.clear(),sessionStorage.clear(),p("/welcome",{replace:!0})},children:"Return to Welcome"}),$t.currentUser&&A.jsx("button",{className:"w-full bg-gray-200 text-cyan-700 font-bold px-6 py-3 rounded-full shadow transition mb-2 block text-center mt-2",style:{maxWidth:320},onClick:async()=>{await x(),p("/welcome")},children:"Log Out"})]})})}function PV(){const{user:n,selectedLeagueId:e,setSelectedLeagueId:t}=Gn(),r=Rf(),[i,a]=H.useState([]),[s,u]=H.useState(!0),[c,h]=H.useState(null),p=Dr();H.useEffect(()=>{if(!n){console.error("[SelectLeague] No user found in context."),h("No user found. Please log in again.");return}console.log("[SelectLeague] Fetching leagues for user:",n.uid),(async()=>{var x,E,T,S,I;try{const R=await sn.get("/leagues/me");a(R.data.leagues||[]),!R.data.leagues||R.data.leagues.length===0?h("No leagues linked to this account. Try creating a new one."):h(null)}catch(R){console.log("[SelectLeague] API response:",(x=R.response)==null?void 0:x.status,(T=(E=R.response)==null?void 0:E.data)==null?void 0:T.detail),((S=R.response)==null?void 0:S.status)===404?(console.log("[SelectLeague] User has no leagues yet (normal for new users)"),a([]),h("No leagues linked to this account. Try creating a new one.")):(console.error("[SelectLeague] Fetch error:",R.message,R.stack,(I=R.response)==null?void 0:I.data),a([]),h("Could not fetch leagues. Please try again later."))}finally{u(!1)}})()},[n]);const m=x=>{localStorage.setItem("selectedLeagueId",x.id),t(x.id),p("/dashboard")},y=async()=>{try{await r(),p("/welcome")}catch(x){console.error("[SelectLeague] Logout error:",x)}};return A.jsx(Of,{backgroundColor:"bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700",contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:A.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700 relative",children:[A.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl mx-4 flex flex-col",children:[A.jsxs("div",{className:"text-center py-6 px-6 border-b border-gray-200",children:[A.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Select Your League"}),A.jsx("p",{className:"text-gray-600 text-sm",children:"Choose which league you'd like to access, or join a new one."})]}),A.jsxs("div",{className:"p-6 flex-1",children:[s?A.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading leagues..."}):c?A.jsx("div",{className:"text-center py-8",children:A.jsx("div",{className:"text-red-600 mb-4",children:c})}):i.length===0?A.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leagues found. Create or join one below."}):A.jsx("div",{className:"space-y-3",children:i.map(x=>A.jsxs("button",{onClick:()=>m(x),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition",children:[A.jsx("div",{className:"font-semibold text-gray-900",children:x.name}),A.jsxs("div",{className:"text-sm text-gray-500 capitalize",children:["Role: ",x.role]})]},x.id))}),A.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:[A.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Logged in as: ",(n==null?void 0:n.email)||"Unknown"]}),A.jsx("button",{onClick:y,className:"text-sm text-red-600 hover:text-red-800 underline",children:"Log out and switch accounts"})]})]})]}),A.jsx("div",{className:"fixed left-0 right-0 bottom-0 flex flex-col gap-3 items-center bg-white py-4 z-10 border-t border-gray-200",children:A.jsx("button",{className:"w-11/12 max-w-lg border-2 border-blue-600 text-blue-700 font-bold text-lg py-3 rounded-full shadow",onClick:()=>p("/join"),children:"Join a Team"})})]})})}const MV=[{key:"organizer",label:" League Operator",desc:"Full access to admin tools and player management."},{key:"coach",label:" Coach",desc:"View and customize, but cannot manage all players."},{key:"viewer",label:" Viewer / Guest",desc:"Read-only access to league data."}];function LV(){console.log("[SelectRole] component rendered");const{user:n}=Gn(),[e,t]=H.useState(null),[r,i]=H.useState(""),[a,s]=H.useState(!1),[u,c]=H.useState(!1),[h,p]=H.useState(!0),m=Dr(),y=Rf(),x=gm();if(Sm.useEffect(()=>{(async()=>{var D;try{const F=Pl();await((D=F.currentUser)==null?void 0:D.reload());const j=F.currentUser;if(!j)return;j.emailVerified||c(!0)}catch(F){console.error("Error in SelectRole user check:",F),i("Failed to check user state.")}finally{p(!1)}})()},[n]),!n||h)return A.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});const E=async()=>{var F;console.log("[SelectRole] handleContinue called"),i("");const R=Pl();await((F=R.currentUser)==null?void 0:F.reload());const D=R.currentUser;if(!D){i("No user found. Please log in again.");return}if(!D.emailVerified){c(!0),i("Please verify your email to continue.");return}if(!e){i("Please select a role.");return}s(!0);try{console.log("[SelectRole] Attempting to write user doc:",{uid:D.uid,email:D.email,role:e}),await k9(pm(x,"users",D.uid),{id:D.uid,email:D.email,role:e,created_at:U9()},{merge:!0}),console.log("[SelectRole] Successfully wrote user doc for UID:",D.uid),await D.getIdToken(!0),window.location.replace("/dashboard")}catch(j){i(j.message||"Failed to save role."),console.error(" Firestore write failed in SelectRole for UID:",D==null?void 0:D.uid,j)}finally{s(!1)}},T=async()=>{i("");try{await Pl().currentUser.sendEmailVerification(),i("Verification email sent. Please check your inbox.")}catch(R){i(R.message||"Failed to send verification email."),console.error(" Failed to send verification email:",R)}},S=async()=>{var F;i("");const R=Pl();await((F=R.currentUser)==null?void 0:F.reload());const D=R.currentUser;D&&D.emailVerified?(c(!1),i("")):i("Still not verified. Please check your email and try again.")},I=async()=>{try{await y(),m("/welcome")}catch(R){console.error("[SelectRole] Logout error:",R),i("Logout failed. Please try again.")}};return A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-cmf-light",children:A.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full flex flex-col items-center",children:[A.jsx("h2",{className:"text-2xl font-extrabold text-cmf-primary mb-4",children:"Welcome! What's your role?"}),A.jsx("div",{className:"w-full flex flex-col gap-4 mb-6",children:MV.map(R=>A.jsxs("button",{className:`w-full border-2 rounded-xl p-4 text-left flex flex-col transition font-semibold ${e===R.key?"border-cmf-primary bg-cmf-primary/10":"border-gray-200 bg-white"}`,onClick:()=>t(R.key),disabled:a,children:[A.jsx("span",{className:"text-xl mb-1",children:R.label}),A.jsx("span",{className:"text-gray-600 text-sm",children:R.desc})]},R.key))}),r&&A.jsx("div",{className:"text-red-500 mb-2 text-sm",children:r}),u&&A.jsxs("div",{className:"mb-4 text-center",children:[A.jsx("div",{className:"text-yellow-600 font-bold mb-2",children:"Please verify your email to continue."}),A.jsx("button",{className:"bg-cmf-primary text-white px-4 py-2 rounded mr-2",onClick:T,disabled:a,children:"Resend Email"}),A.jsx("button",{className:"bg-cmf-secondary text-white px-4 py-2 rounded",onClick:S,disabled:a,children:"Check Again"})]}),A.jsx("button",{className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold py-3 rounded-xl shadow mt-2 disabled:opacity-50",onClick:E,disabled:a,children:a?"Saving...":"Continue"}),A.jsx("button",{className:"w-full bg-cmf-secondary text-white font-bold py-3 rounded-xl shadow mt-2 disabled:opacity-50",onClick:I,disabled:a,children:a?"Logging out...":"Logout"})]})})}function kV(){const n=Dr(),{selectedEvent:e}=Nf();return Sm.useEffect(()=>{e&&e.id&&n("/admin#player-upload-section")},[e,n]),A.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-cmf-light",children:A.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md text-center",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Select or Create an Event"}),A.jsx("p",{className:"mb-6 text-cmf-secondary",children:"Before importing players, you'll need to select or create an event for your league."}),A.jsx(Ql,{onEventSelected:()=>n("/admin#player-upload-section")})]})})}function BV(){return A.jsx(xI,{children:A.jsx(F9,{children:A.jsx(j9,{children:A.jsx("div",{className:"min-h-screen bg-gray-50",children:A.jsxs(K4,{children:[A.jsx(sr,{path:"/",element:A.jsx(kg,{to:"/welcome",replace:!0})}),A.jsx(sr,{path:"/welcome",element:A.jsx(OV,{})}),A.jsx(sr,{path:"/dashboard",element:A.jsx(gs,{children:A.jsxs(A.Fragment,{children:[A.jsx(Rc,{}),A.jsx("div",{className:"container mx-auto px-4 py-8",children:A.jsx(EM,{})})]})})}),A.jsx(sr,{path:"/players",element:A.jsx(gs,{children:A.jsxs(A.Fragment,{children:[A.jsx(Rc,{}),A.jsx("div",{className:"container mx-auto px-4 py-8",children:A.jsx(TM,{})})]})})}),A.jsx(sr,{path:"/admin",element:A.jsx(gs,{children:A.jsxs(A.Fragment,{children:[A.jsx(Rc,{}),A.jsx("div",{className:"container mx-auto px-4 py-8",children:A.jsx(IM,{})})]})})}),A.jsx(sr,{path:"/login",element:A.jsx(NM,{})}),A.jsx(sr,{path:"/signup",element:A.jsx(LM,{})}),A.jsx(sr,{path:"/claim",element:A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:A.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Account Claim"}),A.jsx("p",{className:"text-gray-600 mb-4",children:"Account claiming feature coming soon."}),A.jsx(Fn,{to:"/welcome",className:"text-cyan-700 hover:underline",children:" Back to Welcome"})]})})}),A.jsx(sr,{path:"/create-league",element:A.jsxs(gs,{children:[A.jsx(Rc,{}),A.jsx("div",{className:"container mx-auto px-4 py-8",children:A.jsx(xM,{})})]})}),A.jsx(sr,{path:"/join",element:A.jsxs(gs,{children:[A.jsx(Rc,{}),A.jsx("div",{className:"container mx-auto px-4 py-8",children:A.jsx(RV,{})})]})}),A.jsx(sr,{path:"/verify-email",element:A.jsx(DV,{})}),A.jsx(sr,{path:"/select-league",element:A.jsx(gs,{children:A.jsx(PV,{})})}),A.jsx(sr,{path:"/select-role",element:A.jsx(LV,{})}),A.jsx(sr,{path:"/onboarding/event",element:A.jsx(gs,{children:A.jsx(kV,{})})})]})})})})})}i4.createRoot(document.getElementById("root")).render(A.jsx(H.StrictMode,{children:A.jsx(BV,{})}));
