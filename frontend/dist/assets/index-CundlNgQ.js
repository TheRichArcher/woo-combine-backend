(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function hb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qp={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function s4(){if(o_)return Sc;o_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Sc.Fragment=e,Sc.jsx=t,Sc.jsxs=t,Sc}var s_;function l4(){return s_||(s_=1,qp.exports=s4()),qp.exports}var v=l4(),Xp={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function u4(){if(l_)return Xe;l_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function S(q,fe,xe){this.props=q,this.context=fe,this.refs=A,this.updater=xe||_}S.prototype.isReactComponent={},S.prototype.setState=function(q,fe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,fe,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=S.prototype;function N(q,fe,xe){this.props=q,this.context=fe,this.refs=A,this.updater=xe||_}var D=N.prototype=new C;D.constructor=N,E(D,S.prototype),D.isPureReactComponent=!0;var B=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function M(q,fe,xe,he,Ae,ue){return xe=ue.ref,{$$typeof:n,type:q,key:fe,ref:xe!==void 0?xe:null,props:ue}}function R(q,fe){return M(q.type,fe,void 0,void 0,void 0,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function L(q){var fe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(xe){return fe[xe]})}var z=/\/+/g;function H(q,fe){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):fe.toString(36)}function V(){}function ke(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(V,V):(q.status="pending",q.then(function(fe){q.status==="pending"&&(q.status="fulfilled",q.value=fe)},function(fe){q.status==="pending"&&(q.status="rejected",q.reason=fe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function Le(q,fe,xe,he,Ae){var ue=typeof q;(ue==="undefined"||ue==="boolean")&&(q=null);var ge=!1;if(q===null)ge=!0;else switch(ue){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(q.$$typeof){case n:case e:ge=!0;break;case p:return ge=q._init,Le(ge(q._payload),fe,xe,he,Ae)}}if(ge)return Ae=Ae(q),ge=he===""?"."+H(q,0):he,B(Ae)?(xe="",ge!=null&&(xe=ge.replace(z,"$&/")+"/"),Le(Ae,fe,xe,"",function(ze){return ze})):Ae!=null&&(P(Ae)&&(Ae=R(Ae,xe+(Ae.key==null||q&&q.key===Ae.key?"":(""+Ae.key).replace(z,"$&/")+"/")+ge)),fe.push(Ae)),1;ge=0;var Ie=he===""?".":he+":";if(B(q))for(var _e=0;_e<q.length;_e++)he=q[_e],ue=Ie+H(he,_e),ge+=Le(he,fe,xe,ue,Ae);else if(_e=y(q),typeof _e=="function")for(q=_e.call(q),_e=0;!(he=q.next()).done;)he=he.value,ue=Ie+H(he,_e++),ge+=Le(he,fe,xe,ue,Ae);else if(ue==="object"){if(typeof q.then=="function")return Le(ke(q),fe,xe,he,Ae);throw fe=String(q),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return ge}function te(q,fe,xe){if(q==null)return q;var he=[],Ae=0;return Le(q,he,"","",function(ue){return fe.call(xe,ue,Ae++)}),he}function ne(q){if(q._status===-1){var fe=q._result;fe=fe(),fe.then(function(xe){(q._status===0||q._status===-1)&&(q._status=1,q._result=xe)},function(xe){(q._status===0||q._status===-1)&&(q._status=2,q._result=xe)}),q._status===-1&&(q._status=0,q._result=fe)}if(q._status===1)return q._result.default;throw q._result}var pe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function Se(){}return Xe.Children={map:te,forEach:function(q,fe,xe){te(q,function(){fe.apply(this,arguments)},xe)},count:function(q){var fe=0;return te(q,function(){fe++}),fe},toArray:function(q){return te(q,function(fe){return fe})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Xe.Component=S,Xe.Fragment=t,Xe.Profiler=i,Xe.PureComponent=N,Xe.StrictMode=r,Xe.Suspense=c,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return F.H.useMemoCache(q)}},Xe.cache=function(q){return function(){return q.apply(null,arguments)}},Xe.cloneElement=function(q,fe,xe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var he=E({},q.props),Ae=q.key,ue=void 0;if(fe!=null)for(ge in fe.ref!==void 0&&(ue=void 0),fe.key!==void 0&&(Ae=""+fe.key),fe)!W.call(fe,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&fe.ref===void 0||(he[ge]=fe[ge]);var ge=arguments.length-2;if(ge===1)he.children=xe;else if(1<ge){for(var Ie=Array(ge),_e=0;_e<ge;_e++)Ie[_e]=arguments[_e+2];he.children=Ie}return M(q.type,Ae,void 0,void 0,ue,he)},Xe.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},Xe.createElement=function(q,fe,xe){var he,Ae={},ue=null;if(fe!=null)for(he in fe.key!==void 0&&(ue=""+fe.key),fe)W.call(fe,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ae[he]=fe[he]);var ge=arguments.length-2;if(ge===1)Ae.children=xe;else if(1<ge){for(var Ie=Array(ge),_e=0;_e<ge;_e++)Ie[_e]=arguments[_e+2];Ae.children=Ie}if(q&&q.defaultProps)for(he in ge=q.defaultProps,ge)Ae[he]===void 0&&(Ae[he]=ge[he]);return M(q,ue,void 0,void 0,null,Ae)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(q){return{$$typeof:u,render:q}},Xe.isValidElement=P,Xe.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:ne}},Xe.memo=function(q,fe){return{$$typeof:h,type:q,compare:fe===void 0?null:fe}},Xe.startTransition=function(q){var fe=F.T,xe={};F.T=xe;try{var he=q(),Ae=F.S;Ae!==null&&Ae(xe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Se,pe)}catch(ue){pe(ue)}finally{F.T=fe}},Xe.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Xe.use=function(q){return F.H.use(q)},Xe.useActionState=function(q,fe,xe){return F.H.useActionState(q,fe,xe)},Xe.useCallback=function(q,fe){return F.H.useCallback(q,fe)},Xe.useContext=function(q){return F.H.useContext(q)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(q,fe){return F.H.useDeferredValue(q,fe)},Xe.useEffect=function(q,fe,xe){var he=F.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(q,fe)},Xe.useId=function(){return F.H.useId()},Xe.useImperativeHandle=function(q,fe,xe){return F.H.useImperativeHandle(q,fe,xe)},Xe.useInsertionEffect=function(q,fe){return F.H.useInsertionEffect(q,fe)},Xe.useLayoutEffect=function(q,fe){return F.H.useLayoutEffect(q,fe)},Xe.useMemo=function(q,fe){return F.H.useMemo(q,fe)},Xe.useOptimistic=function(q,fe){return F.H.useOptimistic(q,fe)},Xe.useReducer=function(q,fe,xe){return F.H.useReducer(q,fe,xe)},Xe.useRef=function(q){return F.H.useRef(q)},Xe.useState=function(q){return F.H.useState(q)},Xe.useSyncExternalStore=function(q,fe,xe){return F.H.useSyncExternalStore(q,fe,xe)},Xe.useTransition=function(){return F.H.useTransition()},Xe.version="19.1.0",Xe}var u_;function vf(){return u_||(u_=1,Xp.exports=u4()),Xp.exports}var U=vf();const Ng=hb(U);var Wp={exports:{}},Tc={},$p={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function c4(){return c_||(c_=1,function(n){function e(te,ne){var pe=te.length;te.push(ne);e:for(;0<pe;){var Se=pe-1>>>1,q=te[Se];if(0<i(q,ne))te[Se]=ne,te[pe]=q,pe=Se;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ne=te[0],pe=te.pop();if(pe!==ne){te[0]=pe;e:for(var Se=0,q=te.length,fe=q>>>1;Se<fe;){var xe=2*(Se+1)-1,he=te[xe],Ae=xe+1,ue=te[Ae];if(0>i(he,pe))Ae<q&&0>i(ue,he)?(te[Se]=ue,te[Ae]=pe,Se=Ae):(te[Se]=he,te[xe]=pe,Se=xe);else if(Ae<q&&0>i(ue,pe))te[Se]=ue,te[Ae]=pe,Se=Ae;else break e}}return ne}function i(te,ne){var pe=te.sortIndex-ne.sortIndex;return pe!==0?pe:te.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],h=[],p=1,m=null,y=3,_=!1,E=!1,A=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function B(te){for(var ne=t(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=te)r(h),ne.sortIndex=ne.expirationTime,e(c,ne);else break;ne=t(h)}}function F(te){if(A=!1,B(te),!E)if(t(c)!==null)E=!0,W||(W=!0,H());else{var ne=t(h);ne!==null&&Le(F,ne.startTime-te)}}var W=!1,M=-1,R=5,P=-1;function L(){return S?!0:!(n.unstable_now()-P<R)}function z(){if(S=!1,W){var te=n.unstable_now();P=te;var ne=!0;try{e:{E=!1,A&&(A=!1,N(M),M=-1),_=!0;var pe=y;try{t:{for(B(te),m=t(c);m!==null&&!(m.expirationTime>te&&L());){var Se=m.callback;if(typeof Se=="function"){m.callback=null,y=m.priorityLevel;var q=Se(m.expirationTime<=te);if(te=n.unstable_now(),typeof q=="function"){m.callback=q,B(te),ne=!0;break t}m===t(c)&&r(c),B(te)}else r(c);m=t(c)}if(m!==null)ne=!0;else{var fe=t(h);fe!==null&&Le(F,fe.startTime-te),ne=!1}}break e}finally{m=null,y=pe,_=!1}ne=void 0}}finally{ne?H():W=!1}}}var H;if(typeof D=="function")H=function(){D(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ke=V.port2;V.port1.onmessage=z,H=function(){ke.postMessage(null)}}else H=function(){C(z,0)};function Le(te,ne){M=C(function(){te(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var pe=y;y=ne;try{return te()}finally{y=pe}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(te,ne){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var pe=y;y=te;try{return ne()}finally{y=pe}},n.unstable_scheduleCallback=function(te,ne,pe){var Se=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Se+pe:Se):pe=Se,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=pe+q,te={id:p++,callback:ne,priorityLevel:te,startTime:pe,expirationTime:q,sortIndex:-1},pe>Se?(te.sortIndex=pe,e(h,te),t(c)===null&&te===t(h)&&(A?(N(M),M=-1):A=!0,Le(F,pe-Se))):(te.sortIndex=q,e(c,te),E||_||(E=!0,W||(W=!0,H()))),te},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(te){var ne=y;return function(){var pe=y;y=ne;try{return te.apply(this,arguments)}finally{y=pe}}}}(Yp)),Yp}var f_;function f4(){return f_||(f_=1,$p.exports=c4()),$p.exports}var Kp={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function h4(){if(h_)return tr;h_=1;var n=vf();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},tr.flushSync=function(c){var h=s.T,p=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=h,r.p=p,r.d.f()}},tr.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},tr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},tr.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:_}):p==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},tr.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},tr.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},tr.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},tr.requestFormReset=function(c){r.d.r(c)},tr.unstable_batchedUpdates=function(c,h){return c(h)},tr.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},tr.useFormStatus=function(){return s.H.useHostTransitionStatus()},tr.version="19.1.0",tr}var d_;function d4(){if(d_)return Kp.exports;d_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=h4(),Kp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function p4(){if(p_)return Tc;p_=1;var n=f4(),e=vf(),t=d4();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var x=f.return;if(x===null)break;var w=x.alternate;if(w===null){if(d=x.return,d!==null){f=d;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===f)return u(x),o;if(w===d)return u(x),l;w=w.sibling}throw Error(r(188))}if(f.return!==d.return)f=x,d=w;else{for(var I=!1,O=x.child;O;){if(O===f){I=!0,f=x,d=w;break}if(O===d){I=!0,d=x,f=w;break}O=O.sibling}if(!I){for(O=w.child;O;){if(O===f){I=!0,f=w,d=x;break}if(O===d){I=!0,d=w,f=x;break}O=O.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var V=Symbol.for("react.client.reference");function ke(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===V?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case D:return(o.displayName||"Context")+".Provider";case N:return(o._context.displayName||"Context")+".Consumer";case B:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return l=o.displayName||null,l!==null?l:ke(o.type)||"Memo";case R:l=o._payload,o=o._init;try{return ke(o(l))}catch{}}return null}var Le=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Se=[],q=-1;function fe(o){return{current:o}}function xe(o){0>q||(o.current=Se[q],Se[q]=null,q--)}function he(o,l){q++,Se[q]=o.current,o.current=l}var Ae=fe(null),ue=fe(null),ge=fe(null),Ie=fe(null);function _e(o,l){switch(he(ge,l),he(ue,o),he(Ae,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?M2(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=M2(l),o=k2(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}xe(Ae),he(Ae,o)}function ze(){xe(Ae),xe(ue),xe(ge)}function Ve(o){o.memoizedState!==null&&he(Ie,o);var l=Ae.current,f=k2(l,o.type);l!==f&&(he(ue,o),he(Ae,f))}function ct(o){ue.current===o&&(xe(Ae),xe(ue)),Ie.current===o&&(xe(Ie),_c._currentValue=pe)}var tn=Object.prototype.hasOwnProperty,ur=n.unstable_scheduleCallback,wi=n.unstable_cancelCallback,Bo=n.unstable_shouldYield,Rr=n.unstable_requestPaint,yr=n.unstable_now,yu=n.unstable_getCurrentPriorityLevel,Vo=n.unstable_ImmediatePriority,Fa=n.unstable_UserBlockingPriority,xr=n.unstable_NormalPriority,Vs=n.unstable_LowPriority,Te=n.unstable_IdlePriority,qe=n.log,Yt=n.unstable_setDisableYieldValue,rt=null,nt=null;function Bt(o){if(typeof qe=="function"&&Yt(o),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(rt,o)}catch{}}var Rn=Math.clz32?Math.clz32:ii,Uo=Math.log,xu=Math.LN2;function ii(o){return o>>>=0,o===0?32:31-(Uo(o)/xu|0)|0}var Qi=256,Fo=4194304;function ai(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Us(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var x=0,w=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var O=d&134217727;return O!==0?(d=O&~w,d!==0?x=ai(d):(I&=O,I!==0?x=ai(I):f||(f=O&~o,f!==0&&(x=ai(f))))):(O=d&~w,O!==0?x=ai(O):I!==0?x=ai(I):f||(f=d&~o,f!==0&&(x=ai(f)))),x===0?0:l!==0&&l!==x&&(l&w)===0&&(w=x&-x,f=l&-l,w>=f||w===32&&(f&4194048)!==0)?l:x}function Ho(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function _u(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var o=Qi;return Qi<<=1,(Qi&4194048)===0&&(Qi=256),o}function Eu(){var o=Fo;return Fo<<=1,(Fo&62914560)===0&&(Fo=4194304),o}function Zi(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Ji(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function bu(o,l,f,d,x,w){var I=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var O=o.entanglements,G=o.expirationTimes,Q=o.hiddenUpdates;for(f=I&~f;0<f;){var oe=31-Rn(f),le=1<<oe;O[oe]=0,G[oe]=-1;var J=Q[oe];if(J!==null)for(Q[oe]=null,oe=0;oe<J.length;oe++){var ee=J[oe];ee!==null&&(ee.lane&=-536870913)}f&=~le}d!==0&&Ei(o,d,0),w!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=w&~(I&~l))}function Ei(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-Rn(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function Au(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-Rn(f),x=1<<d;x&l|o[d]&l&&(o[d]|=l),f&=~x}}function Ha(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Fs(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function za(){var o=ne.p;return o!==0?o:(o=window.event,o===void 0?32:e_(o.type))}function Lf(o,l){var f=ne.p;try{return ne.p=o,l()}finally{ne.p=f}}var Vt=Math.random().toString(36).slice(2),gn="__reactFiber$"+Vt,un="__reactProps$"+Vt,Vr="__reactContainer$"+Vt,Su="__reactEvents$"+Vt,$0="__reactListeners$"+Vt,Ga="__reactHandles$"+Vt,jf="__reactResources$"+Vt,zo="__reactMarker$"+Vt;function qa(o){delete o[gn],delete o[un],delete o[Su],delete o[$0],delete o[Ga]}function ea(o){var l=o[gn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Vr]||f[gn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=V2(o);o!==null;){if(f=o[gn])return f;o=V2(o)}return l}o=f,f=o.parentNode}return null}function bi(o){if(o=o[gn]||o[Vr]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function Ai(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function cr(o){var l=o[jf];return l||(l=o[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function nn(o){o[zo]=!0}var Tu=new Set,Hs={};function oi(o,l){ta(o,l),ta(o+"Capture",l)}function ta(o,l){for(Hs[o]=l,o=0;o<l.length;o++)Tu.add(l[o])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vf={},Go={};function Uf(o){return tn.call(Go,o)?!0:tn.call(Vf,o)?!1:Bf.test(o)?Go[o]=!0:(Vf[o]=!0,!1)}function Xa(o,l,f){if(Uf(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function Si(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Hn(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var qo,Ff;function na(o){if(qo===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);qo=l&&l[1]||"",Ff=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qo+o+Ff}var zs=!1;function Gs(o,l){if(!o||zs)return"";zs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var J=ee}Reflect.construct(o,[],le)}else{try{le.call()}catch(ee){J=ee}o.call(le.prototype)}}else{try{throw Error()}catch(ee){J=ee}(le=o())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),I=w[0],O=w[1];if(I&&O){var G=I.split(`
`),Q=O.split(`
`);for(x=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;x<Q.length&&!Q[x].includes("DetermineComponentFrameRoot");)x++;if(d===G.length||x===Q.length)for(d=G.length-1,x=Q.length-1;1<=d&&0<=x&&G[d]!==Q[x];)x--;for(;1<=d&&0<=x;d--,x--)if(G[d]!==Q[x]){if(d!==1||x!==1)do if(d--,x--,0>x||G[d]!==Q[x]){var oe=`
`+G[d].replace(" at new "," at ");return o.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",o.displayName)),oe}while(1<=d&&0<=x);break}}}finally{zs=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?na(f):""}function Cu(o){switch(o.tag){case 26:case 27:case 5:return na(o.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Gs(o.type,!1);case 11:return Gs(o.type.render,!1);case 1:return Gs(o.type,!0);case 31:return na("Activity");default:return""}}function qs(o){try{var l="";do l+=Cu(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function fr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Iu(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Y0(o){var l=Iu(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,w=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(I){d=""+I,w.call(this,I)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Xs(o){o._valueTracker||(o._valueTracker=Y0(o))}function Nu(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Iu(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function Xo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var K0=/[\n"\\]/g;function cn(o){return o.replace(K0,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Or(o,l,f,d,x,w,I,O){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),l!=null?I==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+fr(l)):o.value!==""+fr(l)&&(o.value=""+fr(l)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),l!=null?Wa(o,I,fr(l)):f!=null?Wa(o,I,fr(f)):d!=null&&o.removeAttribute("value"),x==null&&w!=null&&(o.defaultChecked=!!w),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.name=""+fr(O):o.removeAttribute("name")}function Wo(o,l,f,d,x,w,I,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;f=f!=null?""+fr(f):"",l=l!=null?""+fr(l):f,O||l===o.value||(o.value=l),o.defaultValue=l}d=d??x,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=O?o.checked:!!d,o.defaultChecked=!!d,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I)}function Wa(o,l,f){l==="number"&&Xo(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function ra(o,l,f,d){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&d&&(o[f].defaultSelected=!0)}else{for(f=""+fr(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,d&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function St(o,l,f){if(l!=null&&(l=""+fr(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+fr(f):""}function $o(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(Le(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=fr(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function Ur(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hf(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||Yo.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Ru(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var x in l)d=l[x],l.hasOwnProperty(x)&&f[x]!==d&&Hf(o,x,d)}else for(var w in l)l.hasOwnProperty(w)&&Hf(o,w,l[w])}function Ou(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Z0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(o){return Z0.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ia=null;function Fr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var aa=null,oa=null;function Du(o){var l=bi(o);if(l&&(o=l.stateNode)){var f=o[un]||null;e:switch(o=l.stateNode,l.type){case"input":if(Or(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+cn(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var x=d[un]||null;if(!x)throw Error(r(90));Or(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Nu(d)}break e;case"textarea":St(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ra(o,!!f.multiple,l,!1)}}}var Ti=!1;function zf(o,l,f){if(Ti)return o(l,f);Ti=!0;try{var d=o(l);return d}finally{if(Ti=!1,(aa!==null||oa!==null)&&(Lh(),aa&&(l=aa,o=oa,oa=aa=null,Du(l),o)))for(l=0;l<o.length;l++)Du(o[l])}}function Ko(o,l){var f=o.stateNode;if(f===null)return null;var d=f[un]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(si)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Hr=!1}var Ci=null,$a=null,sa=null;function Pu(){if(sa)return sa;var o,l=$a,f=l.length,d,x="value"in Ci?Ci.value:Ci.textContent,w=x.length;for(o=0;o<f&&l[o]===x[o];o++);var I=f-o;for(d=1;d<=I&&l[f-d]===x[w-d];d++);return sa=x.slice(o,1<d?1-d:void 0)}function Ii(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ni(){return!0}function Mu(){return!1}function On(o){function l(f,d,x,w,I){this._reactName=f,this._targetInst=x,this.type=d,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var O in o)o.hasOwnProperty(O)&&(f=o[O],this[O]=f?f(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ni:Mu,this.isPropagationStopped=Mu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),l}var vt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=On(vt),Zo=p({},vt,{view:0,detail:0}),Gf=On(Zo),Ys,Ks,Ri,Jo=p({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ri&&(Ri&&o.type==="mousemove"?(Ys=o.screenX-Ri.screenX,Ks=o.screenY-Ri.screenY):Ks=Ys=0,Ri=o),Ys)},movementY:function(o){return"movementY"in o?o.movementY:Ks}}),zr=On(Jo),qf=p({},Jo,{dataTransfer:0}),J0=On(qf),es=p({},Zo,{relatedTarget:0}),Qs=On(es),ku=p({},vt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=On(ku),Xf=p({},vt,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Js=On(Xf),e1=p({},vt,{data:0}),Lu=On(e1),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=$f[o])?!!l[o]:!1}function ns(){return ju}var Yf=p({},Zo,{key:function(o){if(o.key){var l=ts[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ii(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Wf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(o){return o.type==="keypress"?Ii(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ii(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),el=On(Yf),Kf=p({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=On(Kf),la=p({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Qf=On(la),Zf=p({},vt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=On(Zf),eh=p({},Jo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),tl=On(eh),hr=p({},vt,{newState:0,oldState:0}),th=On(hr),nh=[9,13,27,32],Oi=si&&"CompositionEvent"in window,g=null;si&&"documentMode"in document&&(g=document.documentMode);var b=si&&"TextEvent"in window&&!g,T=si&&(!Oi||g&&8<g&&11>=g),k=" ",Y=!1;function re(o,l){switch(o){case"keyup":return nh.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ve(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var it=!1;function vn(o,l){switch(o){case"compositionend":return ve(l);case"keypress":return l.which!==32?null:(Y=!0,k);case"textInput":return o=l.data,o===k&&Y?null:o;default:return null}}function at(o,l){if(it)return o==="compositionend"||!Oi&&re(o,l)?(o=Pu(),sa=$a=Ci=null,it=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return T&&l.locale!=="ko"?null:l.data;default:return null}}var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Dn[o.type]:l==="textarea"}function ua(o,l,f,d){aa?oa?oa.push(d):oa=[d]:aa=d,l=Hh(l,"onChange"),0<l.length&&(f=new $s("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var zn=null,Di=null;function Vu(o){N2(o,0)}function rh(o){var l=Ai(o);if(Nu(l))return o}function Kv(o,l){if(o==="change")return l}var Qv=!1;if(si){var t1;if(si){var n1="oninput"in document;if(!n1){var Zv=document.createElement("div");Zv.setAttribute("oninput","return;"),n1=typeof Zv.oninput=="function"}t1=n1}else t1=!1;Qv=t1&&(!document.documentMode||9<document.documentMode)}function Jv(){zn&&(zn.detachEvent("onpropertychange",ey),Di=zn=null)}function ey(o){if(o.propertyName==="value"&&rh(Di)){var l=[];ua(l,Di,o,Fr(o)),zf(Vu,l)}}function jC(o,l,f){o==="focusin"?(Jv(),zn=l,Di=f,zn.attachEvent("onpropertychange",ey)):o==="focusout"&&Jv()}function BC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return rh(Di)}function VC(o,l){if(o==="click")return rh(l)}function UC(o,l){if(o==="input"||o==="change")return rh(l)}function FC(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Dr=typeof Object.is=="function"?Object.is:FC;function Uu(o,l){if(Dr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var x=f[d];if(!tn.call(l,x)||!Dr(o[x],l[x]))return!1}return!0}function ty(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ny(o,l){var f=ty(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ty(f)}}function ry(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ry(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function iy(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Xo(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Xo(o.document)}return l}function r1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var HC=si&&"documentMode"in document&&11>=document.documentMode,nl=null,i1=null,Fu=null,a1=!1;function ay(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;a1||nl==null||nl!==Xo(d)||(d=nl,"selectionStart"in d&&r1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Fu&&Uu(Fu,d)||(Fu=d,d=Hh(i1,"onSelect"),0<d.length&&(l=new $s("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=nl)))}function rs(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var rl={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},o1={},oy={};si&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function is(o){if(o1[o])return o1[o];if(!rl[o])return o;var l=rl[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in oy)return o1[o]=l[f];return o}var sy=is("animationend"),ly=is("animationiteration"),uy=is("animationstart"),zC=is("transitionrun"),GC=is("transitionstart"),qC=is("transitioncancel"),cy=is("transitionend"),fy=new Map,s1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");s1.push("scrollEnd");function li(o,l){fy.set(o,l),oi(l,[o])}var hy=new WeakMap;function Gr(o,l){if(typeof o=="object"&&o!==null){var f=hy.get(o);return f!==void 0?f:(l={value:o,source:l,stack:qs(l)},hy.set(o,l),l)}return{value:o,source:l,stack:qs(l)}}var qr=[],il=0,l1=0;function ih(){for(var o=il,l=l1=il=0;l<o;){var f=qr[l];qr[l++]=null;var d=qr[l];qr[l++]=null;var x=qr[l];qr[l++]=null;var w=qr[l];if(qr[l++]=null,d!==null&&x!==null){var I=d.pending;I===null?x.next=x:(x.next=I.next,I.next=x),d.pending=x}w!==0&&dy(f,x,w)}}function ah(o,l,f,d){qr[il++]=o,qr[il++]=l,qr[il++]=f,qr[il++]=d,l1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function u1(o,l,f,d){return ah(o,l,f,d),oh(o)}function al(o,l){return ah(o,null,null,l),oh(o)}function dy(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var x=!1,w=o.return;w!==null;)w.childLanes|=f,d=w.alternate,d!==null&&(d.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(x=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,x&&l!==null&&(x=31-Rn(f),o=w.hiddenUpdates,d=o[x],d===null?o[x]=[l]:d.push(l),l.lane=f|536870912),w):null}function oh(o){if(50<hc)throw hc=0,mp=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var ol={};function XC(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(o,l,f,d){return new XC(o,l,f,d)}function c1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ca(o,l){var f=o.alternate;return f===null?(f=Pr(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function py(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function sh(o,l,f,d,x,w){var I=0;if(d=o,typeof o=="function")c1(o)&&(I=1);else if(typeof o=="string")I=$3(o,f,Ae.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=Pr(31,f,l,x),o.elementType=P,o.lanes=w,o;case E:return as(f.children,x,w,l);case A:I=8,x|=24;break;case S:return o=Pr(12,f,l,x|2),o.elementType=S,o.lanes=w,o;case F:return o=Pr(13,f,l,x),o.elementType=F,o.lanes=w,o;case W:return o=Pr(19,f,l,x),o.elementType=W,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:case D:I=10;break e;case N:I=9;break e;case B:I=11;break e;case M:I=14;break e;case R:I=16,d=null;break e}I=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=Pr(I,f,l,x),l.elementType=o,l.type=d,l.lanes=w,l}function as(o,l,f,d){return o=Pr(7,o,d,l),o.lanes=f,o}function f1(o,l,f){return o=Pr(6,o,null,l),o.lanes=f,o}function h1(o,l,f){return l=Pr(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var sl=[],ll=0,lh=null,uh=0,Xr=[],Wr=0,os=null,fa=1,ha="";function ss(o,l){sl[ll++]=uh,sl[ll++]=lh,lh=o,uh=l}function my(o,l,f){Xr[Wr++]=fa,Xr[Wr++]=ha,Xr[Wr++]=os,os=o;var d=fa;o=ha;var x=32-Rn(d)-1;d&=~(1<<x),f+=1;var w=32-Rn(l)+x;if(30<w){var I=x-x%5;w=(d&(1<<I)-1).toString(32),d>>=I,x-=I,fa=1<<32-Rn(l)+x|f<<x|d,ha=w+o}else fa=1<<w|f<<x|d,ha=o}function d1(o){o.return!==null&&(ss(o,1),my(o,1,0))}function p1(o){for(;o===lh;)lh=sl[--ll],sl[ll]=null,uh=sl[--ll],sl[ll]=null;for(;o===os;)os=Xr[--Wr],Xr[Wr]=null,ha=Xr[--Wr],Xr[Wr]=null,fa=Xr[--Wr],Xr[Wr]=null}var dr=null,Kt=null,pt=!1,ls=null,Pi=!1,m1=Error(r(519));function us(o){var l=Error(r(418,""));throw Gu(Gr(l,o)),m1}function gy(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[gn]=o,l[un]=d,f){case"dialog":Je("cancel",l),Je("close",l);break;case"iframe":case"object":case"embed":Je("load",l);break;case"video":case"audio":for(f=0;f<pc.length;f++)Je(pc[f],l);break;case"source":Je("error",l);break;case"img":case"image":case"link":Je("error",l),Je("load",l);break;case"details":Je("toggle",l);break;case"input":Je("invalid",l),Wo(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Xs(l);break;case"select":Je("invalid",l);break;case"textarea":Je("invalid",l),$o(l,d.value,d.defaultValue,d.children),Xs(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||P2(l.textContent,f)?(d.popover!=null&&(Je("beforetoggle",l),Je("toggle",l)),d.onScroll!=null&&Je("scroll",l),d.onScrollEnd!=null&&Je("scrollend",l),d.onClick!=null&&(l.onclick=zh),l=!0):l=!1,l||us(o)}function vy(o){for(dr=o.return;dr;)switch(dr.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:dr=dr.return}}function Hu(o){if(o!==dr)return!1;if(!pt)return vy(o),pt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Op(o.type,o.memoizedProps)),f=!f),f&&Kt&&us(o),vy(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){Kt=ci(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}Kt=null}}else l===27?(l=Kt,co(o.type)?(o=kp,kp=null,Kt=o):Kt=l):Kt=dr?ci(o.stateNode.nextSibling):null;return!0}function zu(){Kt=dr=null,pt=!1}function yy(){var o=ls;return o!==null&&(Er===null?Er=o:Er.push.apply(Er,o),ls=null),o}function Gu(o){ls===null?ls=[o]:ls.push(o)}var g1=fe(null),cs=null,da=null;function Ya(o,l,f){he(g1,l._currentValue),l._currentValue=f}function pa(o){o._currentValue=g1.current,xe(g1)}function v1(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function y1(o,l,f,d){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var w=x.dependencies;if(w!==null){var I=x.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=x;for(var G=0;G<l.length;G++)if(O.context===l[G]){w.lanes|=f,O=w.alternate,O!==null&&(O.lanes|=f),v1(w.return,f,o),d||(I=null);break e}w=O.next}}else if(x.tag===18){if(I=x.return,I===null)throw Error(r(341));I.lanes|=f,w=I.alternate,w!==null&&(w.lanes|=f),v1(I,f,o),I=null}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===o){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}}function qu(o,l,f,d){o=null;for(var x=l,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var I=x.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var O=x.type;Dr(x.pendingProps.value,I.value)||(o!==null?o.push(O):o=[O])}}else if(x===Ie.current){if(I=x.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(_c):o=[_c])}x=x.return}o!==null&&y1(l,o,f,d),l.flags|=262144}function ch(o){for(o=o.firstContext;o!==null;){if(!Dr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function fs(o){cs=o,da=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function er(o){return xy(cs,o)}function fh(o,l){return cs===null&&fs(o),xy(o,l)}function xy(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},da===null){if(o===null)throw Error(r(308));da=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else da=da.next=l;return f}var WC=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},$C=n.unstable_scheduleCallback,YC=n.unstable_NormalPriority,xn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function x1(){return{controller:new WC,data:new Map,refCount:0}}function Xu(o){o.refCount--,o.refCount===0&&$C(YC,function(){o.controller.abort()})}var Wu=null,_1=0,ul=0,cl=null;function KC(o,l){if(Wu===null){var f=Wu=[];_1=0,ul=Ep(),cl={status:"pending",value:void 0,then:function(d){f.push(d)}}}return _1++,l.then(_y,_y),l}function _y(){if(--_1===0&&Wu!==null){cl!==null&&(cl.status="fulfilled");var o=Wu;Wu=null,ul=0,cl=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function QC(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(x){f.push(x)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var x=0;x<f.length;x++)(0,f[x])(l)},function(x){for(d.status="rejected",d.reason=x,x=0;x<f.length;x++)(0,f[x])(void 0)}),d}var wy=te.S;te.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&KC(o,l),wy!==null&&wy(o,l)};var hs=fe(null);function w1(){var o=hs.current;return o!==null?o:Ot.pooledCache}function hh(o,l){l===null?he(hs,hs.current):he(hs,l.pool)}function Ey(){var o=w1();return o===null?null:{parent:xn._currentValue,pool:o}}var $u=Error(r(460)),by=Error(r(474)),dh=Error(r(542)),E1={then:function(){}};function Ay(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ph(){}function Sy(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(ph,ph),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Cy(o),o;default:if(typeof l.status=="string")l.then(ph,ph);else{if(o=Ot,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=d}},function(d){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Cy(o),o}throw Yu=l,$u}}var Yu=null;function Ty(){if(Yu===null)throw Error(r(459));var o=Yu;return Yu=null,o}function Cy(o){if(o===$u||o===dh)throw Error(r(483))}var Ka=!1;function b1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Qa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Za(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(wt&2)!==0){var x=d.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),d.pending=l,l=oh(o),dy(o,null,f),l}return ah(o,d,l,f),oh(o)}function Ku(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Au(o,f)}}function S1(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var x=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?x=w=I:w=w.next=I,f=f.next}while(f!==null);w===null?x=w=l:w=w.next=l}else x=w=l;f={baseState:d.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var T1=!1;function Qu(){if(T1){var o=cl;if(o!==null)throw o}}function Zu(o,l,f,d){T1=!1;var x=o.updateQueue;Ka=!1;var w=x.firstBaseUpdate,I=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var G=O,Q=G.next;G.next=null,I===null?w=Q:I.next=Q,I=G;var oe=o.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==I&&(O===null?oe.firstBaseUpdate=Q:O.next=Q,oe.lastBaseUpdate=G))}if(w!==null){var le=x.baseState;I=0,oe=Q=G=null,O=w;do{var J=O.lane&-536870913,ee=J!==O.lane;if(ee?(ot&J)===J:(d&J)===J){J!==0&&J===ul&&(T1=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var je=o,Oe=O;J=l;var It=f;switch(Oe.tag){case 1:if(je=Oe.payload,typeof je=="function"){le=je.call(It,le,J);break e}le=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Oe.payload,J=typeof je=="function"?je.call(It,le,J):je,J==null)break e;le=p({},le,J);break e;case 2:Ka=!0}}J=O.callback,J!==null&&(o.flags|=64,ee&&(o.flags|=8192),ee=x.callbacks,ee===null?x.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Q=oe=ee,G=le):oe=oe.next=ee,I|=J;if(O=O.next,O===null){if(O=x.shared.pending,O===null)break;ee=O,O=ee.next,ee.next=null,x.lastBaseUpdate=ee,x.shared.pending=null}}while(!0);oe===null&&(G=le),x.baseState=G,x.firstBaseUpdate=Q,x.lastBaseUpdate=oe,w===null&&(x.shared.lanes=0),oo|=I,o.lanes=I,o.memoizedState=le}}function Iy(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function Ny(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)Iy(f[o],l)}var fl=fe(null),mh=fe(0);function Ry(o,l){o=wa,he(mh,o),he(fl,l),wa=o|l.baseLanes}function C1(){he(mh,wa),he(fl,fl.current)}function I1(){wa=mh.current,xe(fl),xe(mh)}var Ja=0,We=null,Tt=null,fn=null,gh=!1,hl=!1,ds=!1,vh=0,Ju=0,dl=null,ZC=0;function rn(){throw Error(r(321))}function N1(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Dr(o[f],l[f]))return!1;return!0}function R1(o,l,f,d,x,w){return Ja=w,We=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,te.H=o===null||o.memoizedState===null?dx:px,ds=!1,w=f(d,x),ds=!1,hl&&(w=Dy(l,f,d,x)),Oy(o),w}function Oy(o){te.H=bh;var l=Tt!==null&&Tt.next!==null;if(Ja=0,fn=Tt=We=null,gh=!1,Ju=0,dl=null,l)throw Error(r(300));o===null||Pn||(o=o.dependencies,o!==null&&ch(o)&&(Pn=!0))}function Dy(o,l,f,d){We=o;var x=0;do{if(hl&&(dl=null),Ju=0,hl=!1,25<=x)throw Error(r(301));if(x+=1,fn=Tt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}te.H=a3,w=l(f,d)}while(hl);return w}function JC(){var o=te.H,l=o.useState()[0];return l=typeof l.then=="function"?ec(l):l,o=o.useState()[0],(Tt!==null?Tt.memoizedState:null)!==o&&(We.flags|=1024),l}function O1(){var o=vh!==0;return vh=0,o}function D1(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function P1(o){if(gh){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}gh=!1}Ja=0,fn=Tt=We=null,hl=!1,Ju=vh=0,dl=null}function _r(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?We.memoizedState=fn=o:fn=fn.next=o,fn}function hn(){if(Tt===null){var o=We.alternate;o=o!==null?o.memoizedState:null}else o=Tt.next;var l=fn===null?We.memoizedState:fn.next;if(l!==null)fn=l,Tt=o;else{if(o===null)throw We.alternate===null?Error(r(467)):Error(r(310));Tt=o,o={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},fn===null?We.memoizedState=fn=o:fn=fn.next=o}return fn}function M1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(o){var l=Ju;return Ju+=1,dl===null&&(dl=[]),o=Sy(dl,o,l),l=We,(fn===null?l.memoizedState:fn.next)===null&&(l=l.alternate,te.H=l===null||l.memoizedState===null?dx:px),o}function yh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ec(o);if(o.$$typeof===D)return er(o)}throw Error(r(438,String(o)))}function k1(o){var l=null,f=We.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=We.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=M1(),We.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=L;return l.index++,f}function ma(o,l){return typeof l=="function"?l(o):l}function xh(o){var l=hn();return L1(l,Tt,o)}function L1(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var x=o.baseQueue,w=d.pending;if(w!==null){if(x!==null){var I=x.next;x.next=w.next,w.next=I}l.baseQueue=x=w,d.pending=null}if(w=o.baseState,x===null)o.memoizedState=w;else{l=x.next;var O=I=null,G=null,Q=l,oe=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(ot&le)===le:(Ja&le)===le){var J=Q.revertLane;if(J===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===ul&&(oe=!0);else if((Ja&J)===J){Q=Q.next,J===ul&&(oe=!0);continue}else le={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},G===null?(O=G=le,I=w):G=G.next=le,We.lanes|=J,oo|=J;le=Q.action,ds&&f(w,le),w=Q.hasEagerState?Q.eagerState:f(w,le)}else J={lane:le,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},G===null?(O=G=J,I=w):G=G.next=J,We.lanes|=le,oo|=le;Q=Q.next}while(Q!==null&&Q!==l);if(G===null?I=w:G.next=O,!Dr(w,o.memoizedState)&&(Pn=!0,oe&&(f=cl,f!==null)))throw f;o.memoizedState=w,o.baseState=I,o.baseQueue=G,d.lastRenderedState=w}return x===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function j1(o){var l=hn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,x=f.pending,w=l.memoizedState;if(x!==null){f.pending=null;var I=x=x.next;do w=o(w,I.action),I=I.next;while(I!==x);Dr(w,l.memoizedState)||(Pn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),f.lastRenderedState=w}return[w,d]}function Py(o,l,f){var d=We,x=hn(),w=pt;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=l();var I=!Dr((Tt||x).memoizedState,f);I&&(x.memoizedState=f,Pn=!0),x=x.queue;var O=Ly.bind(null,d,x,o);if(tc(2048,8,O,[o]),x.getSnapshot!==l||I||fn!==null&&fn.memoizedState.tag&1){if(d.flags|=2048,pl(9,_h(),ky.bind(null,d,x,f,l),null),Ot===null)throw Error(r(349));w||(Ja&124)!==0||My(d,l,f)}return f}function My(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=We.updateQueue,l===null?(l=M1(),We.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function ky(o,l,f,d){l.value=f,l.getSnapshot=d,jy(l)&&By(o)}function Ly(o,l,f){return f(function(){jy(l)&&By(o)})}function jy(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Dr(o,f)}catch{return!0}}function By(o){var l=al(o,2);l!==null&&Br(l,o,2)}function B1(o){var l=_r();if(typeof o=="function"){var f=o;if(o=f(),ds){Bt(!0);try{f()}finally{Bt(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:o},l}function Vy(o,l,f,d){return o.baseState=f,L1(o,Tt,typeof d=="function"?d:ma)}function e3(o,l,f,d,x){if(Eh(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};te.T!==null?f(!0):w.isTransition=!1,d(w),f=l.pending,f===null?(w.next=l.pending=w,Uy(l,w)):(w.next=f.next,l.pending=f.next=w)}}function Uy(o,l){var f=l.action,d=l.payload,x=o.state;if(l.isTransition){var w=te.T,I={};te.T=I;try{var O=f(x,d),G=te.S;G!==null&&G(I,O),Fy(o,l,O)}catch(Q){V1(o,l,Q)}finally{te.T=w}}else try{w=f(x,d),Fy(o,l,w)}catch(Q){V1(o,l,Q)}}function Fy(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){Hy(o,l,d)},function(d){return V1(o,l,d)}):Hy(o,l,f)}function Hy(o,l,f){l.status="fulfilled",l.value=f,zy(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,Uy(o,f)))}function V1(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,zy(l),l=l.next;while(l!==d)}o.action=null}function zy(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Gy(o,l){return l}function qy(o,l){if(pt){var f=Ot.formState;if(f!==null){e:{var d=We;if(pt){if(Kt){t:{for(var x=Kt,w=Pi;x.nodeType!==8;){if(!w){x=null;break t}if(x=ci(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){Kt=ci(x.nextSibling),d=x.data==="F!";break e}}us(d)}d=!1}d&&(l=f[0])}}return f=_r(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:l},f.queue=d,f=cx.bind(null,We,d),d.dispatch=f,d=B1(!1),w=G1.bind(null,We,!1,d.queue),d=_r(),x={state:l,dispatch:null,action:o,pending:null},d.queue=x,f=e3.bind(null,We,x,w,f),x.dispatch=f,d.memoizedState=o,[l,f,!1]}function Xy(o){var l=hn();return Wy(l,Tt,o)}function Wy(o,l,f){if(l=L1(o,l,Gy)[0],o=xh(ma)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=ec(l)}catch(I){throw I===$u?dh:I}else d=l;l=hn();var x=l.queue,w=x.dispatch;return f!==l.memoizedState&&(We.flags|=2048,pl(9,_h(),t3.bind(null,x,f),null)),[d,w,o]}function t3(o,l){o.action=l}function $y(o){var l=hn(),f=Tt;if(f!==null)return Wy(l,f,o);hn(),l=l.memoizedState,f=hn();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function pl(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=We.updateQueue,l===null&&(l=M1(),We.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function _h(){return{destroy:void 0,resource:void 0}}function Yy(){return hn().memoizedState}function wh(o,l,f,d){var x=_r();d=d===void 0?null:d,We.flags|=o,x.memoizedState=pl(1|l,_h(),f,d)}function tc(o,l,f,d){var x=hn();d=d===void 0?null:d;var w=x.memoizedState.inst;Tt!==null&&d!==null&&N1(d,Tt.memoizedState.deps)?x.memoizedState=pl(l,w,f,d):(We.flags|=o,x.memoizedState=pl(1|l,w,f,d))}function Ky(o,l){wh(8390656,8,o,l)}function Qy(o,l){tc(2048,8,o,l)}function Zy(o,l){return tc(4,2,o,l)}function Jy(o,l){return tc(4,4,o,l)}function ex(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function tx(o,l,f){f=f!=null?f.concat([o]):null,tc(4,4,ex.bind(null,l,o),f)}function U1(){}function nx(o,l){var f=hn();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&N1(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function rx(o,l){var f=hn();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&N1(l,d[1]))return d[0];if(d=o(),ds){Bt(!0);try{o()}finally{Bt(!1)}}return f.memoizedState=[d,l],d}function F1(o,l,f){return f===void 0||(Ja&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=o2(),We.lanes|=o,oo|=o,f)}function ix(o,l,f,d){return Dr(f,l)?f:fl.current!==null?(o=F1(o,f,d),Dr(o,l)||(Pn=!0),o):(Ja&42)===0?(Pn=!0,o.memoizedState=f):(o=o2(),We.lanes|=o,oo|=o,l)}function ax(o,l,f,d,x){var w=ne.p;ne.p=w!==0&&8>w?w:8;var I=te.T,O={};te.T=O,G1(o,!1,l,f);try{var G=x(),Q=te.S;if(Q!==null&&Q(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=QC(G,d);nc(o,l,oe,jr(o))}else nc(o,l,d,jr(o))}catch(le){nc(o,l,{then:function(){},status:"rejected",reason:le},jr())}finally{ne.p=w,te.T=I}}function n3(){}function H1(o,l,f,d){if(o.tag!==5)throw Error(r(476));var x=ox(o).queue;ax(o,x,l,pe,f===null?n3:function(){return sx(o),f(d)})}function ox(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:pe},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function sx(o){var l=ox(o).next.queue;nc(o,l,{},jr())}function z1(){return er(_c)}function lx(){return hn().memoizedState}function ux(){return hn().memoizedState}function r3(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=jr();o=Qa(f);var d=Za(l,o,f);d!==null&&(Br(d,l,f),Ku(d,l,f)),l={cache:x1()},o.payload=l;return}l=l.return}}function i3(o,l,f){var d=jr();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Eh(o)?fx(l,f):(f=u1(o,l,f,d),f!==null&&(Br(f,o,d),hx(f,l,d)))}function cx(o,l,f){var d=jr();nc(o,l,f,d)}function nc(o,l,f,d){var x={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Eh(o))fx(l,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var I=l.lastRenderedState,O=w(I,f);if(x.hasEagerState=!0,x.eagerState=O,Dr(O,I))return ah(o,l,x,0),Ot===null&&ih(),!1}catch{}finally{}if(f=u1(o,l,x,d),f!==null)return Br(f,o,d),hx(f,l,d),!0}return!1}function G1(o,l,f,d){if(d={lane:2,revertLane:Ep(),action:d,hasEagerState:!1,eagerState:null,next:null},Eh(o)){if(l)throw Error(r(479))}else l=u1(o,f,d,2),l!==null&&Br(l,o,2)}function Eh(o){var l=o.alternate;return o===We||l!==null&&l===We}function fx(o,l){hl=gh=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function hx(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,Au(o,f)}}var bh={readContext:er,use:yh,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},dx={readContext:er,use:yh,useCallback:function(o,l){return _r().memoizedState=[o,l===void 0?null:l],o},useContext:er,useEffect:Ky,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,wh(4194308,4,ex.bind(null,l,o),f)},useLayoutEffect:function(o,l){return wh(4194308,4,o,l)},useInsertionEffect:function(o,l){wh(4,2,o,l)},useMemo:function(o,l){var f=_r();l=l===void 0?null:l;var d=o();if(ds){Bt(!0);try{o()}finally{Bt(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=_r();if(f!==void 0){var x=f(l);if(ds){Bt(!0);try{f(l)}finally{Bt(!1)}}}else x=l;return d.memoizedState=d.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},d.queue=o,o=o.dispatch=i3.bind(null,We,o),[d.memoizedState,o]},useRef:function(o){var l=_r();return o={current:o},l.memoizedState=o},useState:function(o){o=B1(o);var l=o.queue,f=cx.bind(null,We,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:U1,useDeferredValue:function(o,l){var f=_r();return F1(f,o,l)},useTransition:function(){var o=B1(!1);return o=ax.bind(null,We,o.queue,!0,!1),_r().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=We,x=_r();if(pt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Ot===null)throw Error(r(349));(ot&124)!==0||My(d,l,f)}x.memoizedState=f;var w={value:f,getSnapshot:l};return x.queue=w,Ky(Ly.bind(null,d,w,o),[o]),d.flags|=2048,pl(9,_h(),ky.bind(null,d,w,f,l),null),f},useId:function(){var o=_r(),l=Ot.identifierPrefix;if(pt){var f=ha,d=fa;f=(d&~(1<<32-Rn(d)-1)).toString(32)+f,l=""+l+"R"+f,f=vh++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=ZC++,l=""+l+"r"+f.toString(32)+"";return o.memoizedState=l},useHostTransitionStatus:z1,useFormState:qy,useActionState:qy,useOptimistic:function(o){var l=_r();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=G1.bind(null,We,!0,f),f.dispatch=l,[o,l]},useMemoCache:k1,useCacheRefresh:function(){return _r().memoizedState=r3.bind(null,We)}},px={readContext:er,use:yh,useCallback:nx,useContext:er,useEffect:Qy,useImperativeHandle:tx,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:rx,useReducer:xh,useRef:Yy,useState:function(){return xh(ma)},useDebugValue:U1,useDeferredValue:function(o,l){var f=hn();return ix(f,Tt.memoizedState,o,l)},useTransition:function(){var o=xh(ma)[0],l=hn().memoizedState;return[typeof o=="boolean"?o:ec(o),l]},useSyncExternalStore:Py,useId:lx,useHostTransitionStatus:z1,useFormState:Xy,useActionState:Xy,useOptimistic:function(o,l){var f=hn();return Vy(f,Tt,o,l)},useMemoCache:k1,useCacheRefresh:ux},a3={readContext:er,use:yh,useCallback:nx,useContext:er,useEffect:Qy,useImperativeHandle:tx,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:rx,useReducer:j1,useRef:Yy,useState:function(){return j1(ma)},useDebugValue:U1,useDeferredValue:function(o,l){var f=hn();return Tt===null?F1(f,o,l):ix(f,Tt.memoizedState,o,l)},useTransition:function(){var o=j1(ma)[0],l=hn().memoizedState;return[typeof o=="boolean"?o:ec(o),l]},useSyncExternalStore:Py,useId:lx,useHostTransitionStatus:z1,useFormState:$y,useActionState:$y,useOptimistic:function(o,l){var f=hn();return Tt!==null?Vy(f,Tt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:k1,useCacheRefresh:ux},ml=null,rc=0;function Ah(o){var l=rc;return rc+=1,ml===null&&(ml=[]),Sy(ml,o,l)}function ic(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function Sh(o,l){throw l.$$typeof===m?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function mx(o){var l=o._init;return l(o._payload)}function gx(o){function l($,X){if(o){var K=$.deletions;K===null?($.deletions=[X],$.flags|=16):K.push(X)}}function f($,X){if(!o)return null;for(;X!==null;)l($,X),X=X.sibling;return null}function d($){for(var X=new Map;$!==null;)$.key!==null?X.set($.key,$):X.set($.index,$),$=$.sibling;return X}function x($,X){return $=ca($,X),$.index=0,$.sibling=null,$}function w($,X,K){return $.index=K,o?(K=$.alternate,K!==null?(K=K.index,K<X?($.flags|=67108866,X):K):($.flags|=67108866,X)):($.flags|=1048576,X)}function I($){return o&&$.alternate===null&&($.flags|=67108866),$}function O($,X,K,se){return X===null||X.tag!==6?(X=f1(K,$.mode,se),X.return=$,X):(X=x(X,K),X.return=$,X)}function G($,X,K,se){var Ee=K.type;return Ee===E?oe($,X,K.props.children,se,K.key):X!==null&&(X.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&mx(Ee)===X.type)?(X=x(X,K.props),ic(X,K),X.return=$,X):(X=sh(K.type,K.key,K.props,null,$.mode,se),ic(X,K),X.return=$,X)}function Q($,X,K,se){return X===null||X.tag!==4||X.stateNode.containerInfo!==K.containerInfo||X.stateNode.implementation!==K.implementation?(X=h1(K,$.mode,se),X.return=$,X):(X=x(X,K.children||[]),X.return=$,X)}function oe($,X,K,se,Ee){return X===null||X.tag!==7?(X=as(K,$.mode,se,Ee),X.return=$,X):(X=x(X,K),X.return=$,X)}function le($,X,K){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=f1(""+X,$.mode,K),X.return=$,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return K=sh(X.type,X.key,X.props,null,$.mode,K),ic(K,X),K.return=$,K;case _:return X=h1(X,$.mode,K),X.return=$,X;case R:var se=X._init;return X=se(X._payload),le($,X,K)}if(Le(X)||H(X))return X=as(X,$.mode,K,null),X.return=$,X;if(typeof X.then=="function")return le($,Ah(X),K);if(X.$$typeof===D)return le($,fh($,X),K);Sh($,X)}return null}function J($,X,K,se){var Ee=X!==null?X.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ee!==null?null:O($,X,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return K.key===Ee?G($,X,K,se):null;case _:return K.key===Ee?Q($,X,K,se):null;case R:return Ee=K._init,K=Ee(K._payload),J($,X,K,se)}if(Le(K)||H(K))return Ee!==null?null:oe($,X,K,se,null);if(typeof K.then=="function")return J($,X,Ah(K),se);if(K.$$typeof===D)return J($,X,fh($,K),se);Sh($,K)}return null}function ee($,X,K,se,Ee){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(K)||null,O(X,$,""+se,Ee);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return $=$.get(se.key===null?K:se.key)||null,G(X,$,se,Ee);case _:return $=$.get(se.key===null?K:se.key)||null,Q(X,$,se,Ee);case R:var Ke=se._init;return se=Ke(se._payload),ee($,X,K,se,Ee)}if(Le(se)||H(se))return $=$.get(K)||null,oe(X,$,se,Ee,null);if(typeof se.then=="function")return ee($,X,K,Ah(se),Ee);if(se.$$typeof===D)return ee($,X,K,fh(X,se),Ee);Sh(X,se)}return null}function je($,X,K,se){for(var Ee=null,Ke=null,Ce=X,Me=X=0,kn=null;Ce!==null&&Me<K.length;Me++){Ce.index>Me?(kn=Ce,Ce=null):kn=Ce.sibling;var ft=J($,Ce,K[Me],se);if(ft===null){Ce===null&&(Ce=kn);break}o&&Ce&&ft.alternate===null&&l($,Ce),X=w(ft,X,Me),Ke===null?Ee=ft:Ke.sibling=ft,Ke=ft,Ce=kn}if(Me===K.length)return f($,Ce),pt&&ss($,Me),Ee;if(Ce===null){for(;Me<K.length;Me++)Ce=le($,K[Me],se),Ce!==null&&(X=w(Ce,X,Me),Ke===null?Ee=Ce:Ke.sibling=Ce,Ke=Ce);return pt&&ss($,Me),Ee}for(Ce=d(Ce);Me<K.length;Me++)kn=ee(Ce,$,Me,K[Me],se),kn!==null&&(o&&kn.alternate!==null&&Ce.delete(kn.key===null?Me:kn.key),X=w(kn,X,Me),Ke===null?Ee=kn:Ke.sibling=kn,Ke=kn);return o&&Ce.forEach(function(go){return l($,go)}),pt&&ss($,Me),Ee}function Oe($,X,K,se){if(K==null)throw Error(r(151));for(var Ee=null,Ke=null,Ce=X,Me=X=0,kn=null,ft=K.next();Ce!==null&&!ft.done;Me++,ft=K.next()){Ce.index>Me?(kn=Ce,Ce=null):kn=Ce.sibling;var go=J($,Ce,ft.value,se);if(go===null){Ce===null&&(Ce=kn);break}o&&Ce&&go.alternate===null&&l($,Ce),X=w(go,X,Me),Ke===null?Ee=go:Ke.sibling=go,Ke=go,Ce=kn}if(ft.done)return f($,Ce),pt&&ss($,Me),Ee;if(Ce===null){for(;!ft.done;Me++,ft=K.next())ft=le($,ft.value,se),ft!==null&&(X=w(ft,X,Me),Ke===null?Ee=ft:Ke.sibling=ft,Ke=ft);return pt&&ss($,Me),Ee}for(Ce=d(Ce);!ft.done;Me++,ft=K.next())ft=ee(Ce,$,Me,ft.value,se),ft!==null&&(o&&ft.alternate!==null&&Ce.delete(ft.key===null?Me:ft.key),X=w(ft,X,Me),Ke===null?Ee=ft:Ke.sibling=ft,Ke=ft);return o&&Ce.forEach(function(o4){return l($,o4)}),pt&&ss($,Me),Ee}function It($,X,K,se){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case y:e:{for(var Ee=K.key;X!==null;){if(X.key===Ee){if(Ee=K.type,Ee===E){if(X.tag===7){f($,X.sibling),se=x(X,K.props.children),se.return=$,$=se;break e}}else if(X.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&mx(Ee)===X.type){f($,X.sibling),se=x(X,K.props),ic(se,K),se.return=$,$=se;break e}f($,X);break}else l($,X);X=X.sibling}K.type===E?(se=as(K.props.children,$.mode,se,K.key),se.return=$,$=se):(se=sh(K.type,K.key,K.props,null,$.mode,se),ic(se,K),se.return=$,$=se)}return I($);case _:e:{for(Ee=K.key;X!==null;){if(X.key===Ee)if(X.tag===4&&X.stateNode.containerInfo===K.containerInfo&&X.stateNode.implementation===K.implementation){f($,X.sibling),se=x(X,K.children||[]),se.return=$,$=se;break e}else{f($,X);break}else l($,X);X=X.sibling}se=h1(K,$.mode,se),se.return=$,$=se}return I($);case R:return Ee=K._init,K=Ee(K._payload),It($,X,K,se)}if(Le(K))return je($,X,K,se);if(H(K)){if(Ee=H(K),typeof Ee!="function")throw Error(r(150));return K=Ee.call(K),Oe($,X,K,se)}if(typeof K.then=="function")return It($,X,Ah(K),se);if(K.$$typeof===D)return It($,X,fh($,K),se);Sh($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,X!==null&&X.tag===6?(f($,X.sibling),se=x(X,K),se.return=$,$=se):(f($,X),se=f1(K,$.mode,se),se.return=$,$=se),I($)):f($,X)}return function($,X,K,se){try{rc=0;var Ee=It($,X,K,se);return ml=null,Ee}catch(Ce){if(Ce===$u||Ce===dh)throw Ce;var Ke=Pr(29,Ce,null,$.mode);return Ke.lanes=se,Ke.return=$,Ke}finally{}}}var gl=gx(!0),vx=gx(!1),$r=fe(null),Mi=null;function eo(o){var l=o.alternate;he(_n,_n.current&1),he($r,o),Mi===null&&(l===null||fl.current!==null||l.memoizedState!==null)&&(Mi=o)}function yx(o){if(o.tag===22){if(he(_n,_n.current),he($r,o),Mi===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Mi=o)}}else to()}function to(){he(_n,_n.current),he($r,$r.current)}function ga(o){xe($r),Mi===o&&(Mi=null),xe(_n)}var _n=fe(0);function Th(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Mp(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function q1(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var X1={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=jr(),x=Qa(d);x.payload=l,f!=null&&(x.callback=f),l=Za(o,x,d),l!==null&&(Br(l,o,d),Ku(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=jr(),x=Qa(d);x.tag=1,x.payload=l,f!=null&&(x.callback=f),l=Za(o,x,d),l!==null&&(Br(l,o,d),Ku(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=jr(),d=Qa(f);d.tag=2,l!=null&&(d.callback=l),l=Za(o,d,f),l!==null&&(Br(l,o,f),Ku(l,o,f))}};function xx(o,l,f,d,x,w,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,w,I):l.prototype&&l.prototype.isPureReactComponent?!Uu(f,d)||!Uu(x,w):!0}function _x(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&X1.enqueueReplaceState(l,l.state,null)}function ps(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var x in o)f[x]===void 0&&(f[x]=o[x])}return f}var Ch=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function wx(o){Ch(o)}function Ex(o){console.error(o)}function bx(o){Ch(o)}function Ih(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function Ax(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function W1(o,l,f){return f=Qa(f),f.tag=3,f.payload={element:null},f.callback=function(){Ih(o,l)},f}function Sx(o){return o=Qa(o),o.tag=3,o}function Tx(o,l,f,d){var x=f.type.getDerivedStateFromError;if(typeof x=="function"){var w=d.value;o.payload=function(){return x(w)},o.callback=function(){Ax(l,f,d)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){Ax(l,f,d),typeof x!="function"&&(so===null?so=new Set([this]):so.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function o3(o,l,f,d,x){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&qu(l,f,x,!0),f=$r.current,f!==null){switch(f.tag){case 13:return Mi===null?vp():f.alternate===null&&Qt===0&&(Qt=3),f.flags&=-257,f.flags|=65536,f.lanes=x,d===E1?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),xp(o,d,x)),!1;case 22:return f.flags|=65536,d===E1?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),xp(o,d,x)),!1}throw Error(r(435,f.tag))}return xp(o,d,x),vp(),!1}if(pt)return l=$r.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,d!==m1&&(o=Error(r(422),{cause:d}),Gu(Gr(o,f)))):(d!==m1&&(l=Error(r(423),{cause:d}),Gu(Gr(l,f))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,d=Gr(d,f),x=W1(o.stateNode,d,x),S1(o,x),Qt!==4&&(Qt=2)),!1;var w=Error(r(520),{cause:d});if(w=Gr(w,f),fc===null?fc=[w]:fc.push(w),Qt!==4&&(Qt=2),l===null)return!0;d=Gr(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=x&-x,f.lanes|=o,o=W1(f.stateNode,d,o),S1(f,o),!1;case 1:if(l=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(so===null||!so.has(w))))return f.flags|=65536,x&=-x,f.lanes|=x,x=Sx(x),Tx(x,o,f,d),S1(f,x),!1}f=f.return}while(f!==null);return!1}var Cx=Error(r(461)),Pn=!1;function Gn(o,l,f,d){l.child=o===null?vx(l,null,f,d):gl(l,o.child,f,d)}function Ix(o,l,f,d,x){f=f.render;var w=l.ref;if("ref"in d){var I={};for(var O in d)O!=="ref"&&(I[O]=d[O])}else I=d;return fs(l),d=R1(o,l,f,I,w,x),O=O1(),o!==null&&!Pn?(D1(o,l,x),va(o,l,x)):(pt&&O&&d1(l),l.flags|=1,Gn(o,l,d,x),l.child)}function Nx(o,l,f,d,x){if(o===null){var w=f.type;return typeof w=="function"&&!c1(w)&&w.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=w,Rx(o,l,w,d,x)):(o=sh(f.type,null,d,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!tp(o,x)){var I=w.memoizedProps;if(f=f.compare,f=f!==null?f:Uu,f(I,d)&&o.ref===l.ref)return va(o,l,x)}return l.flags|=1,o=ca(w,d),o.ref=l.ref,o.return=l,l.child=o}function Rx(o,l,f,d,x){if(o!==null){var w=o.memoizedProps;if(Uu(w,d)&&o.ref===l.ref)if(Pn=!1,l.pendingProps=d=w,tp(o,x))(o.flags&131072)!==0&&(Pn=!0);else return l.lanes=o.lanes,va(o,l,x)}return $1(o,l,f,d,x)}function Ox(o,l,f){var d=l.pendingProps,x=d.children,w=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=w!==null?w.baseLanes|f:f,o!==null){for(x=l.child=o.child,w=0;x!==null;)w=w|x.lanes|x.childLanes,x=x.sibling;l.childLanes=w&~d}else l.childLanes=0,l.child=null;return Dx(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&hh(l,w!==null?w.cachePool:null),w!==null?Ry(l,w):C1(),yx(l);else return l.lanes=l.childLanes=536870912,Dx(o,l,w!==null?w.baseLanes|f:f,f)}else w!==null?(hh(l,w.cachePool),Ry(l,w),to(),l.memoizedState=null):(o!==null&&hh(l,null),C1(),to());return Gn(o,l,x,f),l.child}function Dx(o,l,f,d){var x=w1();return x=x===null?null:{parent:xn._currentValue,pool:x},l.memoizedState={baseLanes:f,cachePool:x},o!==null&&hh(l,null),C1(),yx(l),o!==null&&qu(o,l,d,!0),null}function Nh(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function $1(o,l,f,d,x){return fs(l),f=R1(o,l,f,d,void 0,x),d=O1(),o!==null&&!Pn?(D1(o,l,x),va(o,l,x)):(pt&&d&&d1(l),l.flags|=1,Gn(o,l,f,x),l.child)}function Px(o,l,f,d,x,w){return fs(l),l.updateQueue=null,f=Dy(l,d,f,x),Oy(o),d=O1(),o!==null&&!Pn?(D1(o,l,w),va(o,l,w)):(pt&&d&&d1(l),l.flags|=1,Gn(o,l,f,w),l.child)}function Mx(o,l,f,d,x){if(fs(l),l.stateNode===null){var w=ol,I=f.contextType;typeof I=="object"&&I!==null&&(w=er(I)),w=new f(d,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=X1,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=d,w.state=l.memoizedState,w.refs={},b1(l),I=f.contextType,w.context=typeof I=="object"&&I!==null?er(I):ol,w.state=l.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(q1(l,f,I,d),w.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&X1.enqueueReplaceState(w,w.state,null),Zu(l,d,w,x),Qu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){w=l.stateNode;var O=l.memoizedProps,G=ps(f,O);w.props=G;var Q=w.context,oe=f.contextType;I=ol,typeof oe=="object"&&oe!==null&&(I=er(oe));var le=f.getDerivedStateFromProps;oe=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||Q!==I)&&_x(l,w,d,I),Ka=!1;var J=l.memoizedState;w.state=J,Zu(l,d,w,x),Qu(),Q=l.memoizedState,O||J!==Q||Ka?(typeof le=="function"&&(q1(l,f,le,d),Q=l.memoizedState),(G=Ka||xx(l,f,G,d,J,Q,I))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Q),w.props=d,w.state=Q,w.context=I,d=G):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{w=l.stateNode,A1(o,l),I=l.memoizedProps,oe=ps(f,I),w.props=oe,le=l.pendingProps,J=w.context,Q=f.contextType,G=ol,typeof Q=="object"&&Q!==null&&(G=er(Q)),O=f.getDerivedStateFromProps,(Q=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==le||J!==G)&&_x(l,w,d,G),Ka=!1,J=l.memoizedState,w.state=J,Zu(l,d,w,x),Qu();var ee=l.memoizedState;I!==le||J!==ee||Ka||o!==null&&o.dependencies!==null&&ch(o.dependencies)?(typeof O=="function"&&(q1(l,f,O,d),ee=l.memoizedState),(oe=Ka||xx(l,f,oe,d,J,ee,G)||o!==null&&o.dependencies!==null&&ch(o.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ee,G),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ee,G)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=ee),w.props=d,w.state=ee,w.context=G,d=oe):(typeof w.componentDidUpdate!="function"||I===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),d=!1)}return w=d,Nh(o,l),d=(l.flags&128)!==0,w||d?(w=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&d?(l.child=gl(l,o.child,null,x),l.child=gl(l,null,f,x)):Gn(o,l,f,x),l.memoizedState=w.state,o=l.child):o=va(o,l,x),o}function kx(o,l,f,d){return zu(),l.flags|=256,Gn(o,l,f,d),l.child}var Y1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function K1(o){return{baseLanes:o,cachePool:Ey()}}function Q1(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Yr),o}function Lx(o,l,f){var d=l.pendingProps,x=!1,w=(l.flags&128)!==0,I;if((I=w)||(I=o!==null&&o.memoizedState===null?!1:(_n.current&2)!==0),I&&(x=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,o===null){if(pt){if(x?eo(l):to(),pt){var O=Kt,G;if(G=O){e:{for(G=O,O=Pi;G.nodeType!==8;){if(!O){O=null;break e}if(G=ci(G.nextSibling),G===null){O=null;break e}}O=G}O!==null?(l.memoizedState={dehydrated:O,treeContext:os!==null?{id:fa,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},G=Pr(18,null,null,0),G.stateNode=O,G.return=l,l.child=G,dr=l,Kt=null,G=!0):G=!1}G||us(l)}if(O=l.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Mp(O)?l.lanes=32:l.lanes=536870912,null;ga(l)}return O=d.children,d=d.fallback,x?(to(),x=l.mode,O=Rh({mode:"hidden",children:O},x),d=as(d,x,f,null),O.return=l,d.return=l,O.sibling=d,l.child=O,x=l.child,x.memoizedState=K1(f),x.childLanes=Q1(o,I,f),l.memoizedState=Y1,d):(eo(l),Z1(l,O))}if(G=o.memoizedState,G!==null&&(O=G.dehydrated,O!==null)){if(w)l.flags&256?(eo(l),l.flags&=-257,l=J1(o,l,f)):l.memoizedState!==null?(to(),l.child=o.child,l.flags|=128,l=null):(to(),x=d.fallback,O=l.mode,d=Rh({mode:"visible",children:d.children},O),x=as(x,O,f,null),x.flags|=2,d.return=l,x.return=l,d.sibling=x,l.child=d,gl(l,o.child,null,f),d=l.child,d.memoizedState=K1(f),d.childLanes=Q1(o,I,f),l.memoizedState=Y1,l=x);else if(eo(l),Mp(O)){if(I=O.nextSibling&&O.nextSibling.dataset,I)var Q=I.dgst;I=Q,d=Error(r(419)),d.stack="",d.digest=I,Gu({value:d,source:null,stack:null}),l=J1(o,l,f)}else if(Pn||qu(o,l,f,!1),I=(f&o.childLanes)!==0,Pn||I){if(I=Ot,I!==null&&(d=f&-f,d=(d&42)!==0?1:Ha(d),d=(d&(I.suspendedLanes|f))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,al(o,d),Br(I,o,d),Cx;O.data==="$?"||vp(),l=J1(o,l,f)}else O.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=G.treeContext,Kt=ci(O.nextSibling),dr=l,pt=!0,ls=null,Pi=!1,o!==null&&(Xr[Wr++]=fa,Xr[Wr++]=ha,Xr[Wr++]=os,fa=o.id,ha=o.overflow,os=l),l=Z1(l,d.children),l.flags|=4096);return l}return x?(to(),x=d.fallback,O=l.mode,G=o.child,Q=G.sibling,d=ca(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,Q!==null?x=ca(Q,x):(x=as(x,O,f,null),x.flags|=2),x.return=l,d.return=l,d.sibling=x,l.child=d,d=x,x=l.child,O=o.child.memoizedState,O===null?O=K1(f):(G=O.cachePool,G!==null?(Q=xn._currentValue,G=G.parent!==Q?{parent:Q,pool:Q}:G):G=Ey(),O={baseLanes:O.baseLanes|f,cachePool:G}),x.memoizedState=O,x.childLanes=Q1(o,I,f),l.memoizedState=Y1,d):(eo(l),f=o.child,o=f.sibling,f=ca(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(I=l.deletions,I===null?(l.deletions=[o],l.flags|=16):I.push(o)),l.child=f,l.memoizedState=null,f)}function Z1(o,l){return l=Rh({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Rh(o,l){return o=Pr(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function J1(o,l,f){return gl(l,o.child,null,f),o=Z1(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function jx(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),v1(o.return,l,f)}function ep(o,l,f,d,x){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:x}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=f,w.tailMode=x)}function Bx(o,l,f){var d=l.pendingProps,x=d.revealOrder,w=d.tail;if(Gn(o,l,d.children,f),d=_n.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&jx(o,f,l);else if(o.tag===19)jx(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(he(_n,d),x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&Th(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),ep(l,!1,x,f,w);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&Th(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}ep(l,!0,f,null,w);break;case"together":ep(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function va(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),oo|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(qu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=ca(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=ca(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function tp(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&ch(o)))}function s3(o,l,f){switch(l.tag){case 3:_e(l,l.stateNode.containerInfo),Ya(l,xn,o.memoizedState.cache),zu();break;case 27:case 5:Ve(l);break;case 4:_e(l,l.stateNode.containerInfo);break;case 10:Ya(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(eo(l),l.flags|=128,null):(f&l.child.childLanes)!==0?Lx(o,l,f):(eo(l),o=va(o,l,f),o!==null?o.sibling:null);eo(l);break;case 19:var x=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||(qu(o,l,f,!1),d=(f&l.childLanes)!==0),x){if(d)return Bx(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),he(_n,_n.current),d)break;return null;case 22:case 23:return l.lanes=0,Ox(o,l,f);case 24:Ya(l,xn,o.memoizedState.cache)}return va(o,l,f)}function Vx(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Pn=!0;else{if(!tp(o,f)&&(l.flags&128)===0)return Pn=!1,s3(o,l,f);Pn=(o.flags&131072)!==0}else Pn=!1,pt&&(l.flags&1048576)!==0&&my(l,uh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,x=d._init;if(d=x(d._payload),l.type=d,typeof d=="function")c1(d)?(o=ps(d,o),l.tag=1,l=Mx(null,l,d,o,f)):(l.tag=0,l=$1(null,l,d,o,f));else{if(d!=null){if(x=d.$$typeof,x===B){l.tag=11,l=Ix(null,l,d,o,f);break e}else if(x===M){l.tag=14,l=Nx(null,l,d,o,f);break e}}throw l=ke(d)||d,Error(r(306,l,""))}}return l;case 0:return $1(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,x=ps(d,l.pendingProps),Mx(o,l,d,x,f);case 3:e:{if(_e(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var w=l.memoizedState;x=w.element,A1(o,l),Zu(l,d,null,f);var I=l.memoizedState;if(d=I.cache,Ya(l,xn,d),d!==w.cache&&y1(l,[xn],f,!0),Qu(),d=I.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=kx(o,l,d,f);break e}else if(d!==x){x=Gr(Error(r(424)),l),Gu(x),l=kx(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Kt=ci(o.firstChild),dr=l,pt=!0,ls=null,Pi=!0,f=vx(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(zu(),d===x){l=va(o,l,f);break e}Gn(o,l,d,f)}l=l.child}return l;case 26:return Nh(o,l),o===null?(f=z2(l.type,null,l.pendingProps,null))?l.memoizedState=f:pt||(f=l.type,o=l.pendingProps,d=Gh(ge.current).createElement(f),d[gn]=l,d[un]=o,Xn(d,f,o),nn(d),l.stateNode=d):l.memoizedState=z2(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Ve(l),o===null&&pt&&(d=l.stateNode=U2(l.type,l.pendingProps,ge.current),dr=l,Pi=!0,x=Kt,co(l.type)?(kp=x,Kt=ci(d.firstChild)):Kt=x),Gn(o,l,l.pendingProps.children,f),Nh(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&pt&&((x=d=Kt)&&(d=k3(d,l.type,l.pendingProps,Pi),d!==null?(l.stateNode=d,dr=l,Kt=ci(d.firstChild),Pi=!1,x=!0):x=!1),x||us(l)),Ve(l),x=l.type,w=l.pendingProps,I=o!==null?o.memoizedProps:null,d=w.children,Op(x,w)?d=null:I!==null&&Op(x,I)&&(l.flags|=32),l.memoizedState!==null&&(x=R1(o,l,JC,null,null,f),_c._currentValue=x),Nh(o,l),Gn(o,l,d,f),l.child;case 6:return o===null&&pt&&((o=f=Kt)&&(f=L3(f,l.pendingProps,Pi),f!==null?(l.stateNode=f,dr=l,Kt=null,o=!0):o=!1),o||us(l)),null;case 13:return Lx(o,l,f);case 4:return _e(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=gl(l,null,d,f):Gn(o,l,d,f),l.child;case 11:return Ix(o,l,l.type,l.pendingProps,f);case 7:return Gn(o,l,l.pendingProps,f),l.child;case 8:return Gn(o,l,l.pendingProps.children,f),l.child;case 12:return Gn(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,Ya(l,l.type,d.value),Gn(o,l,d.children,f),l.child;case 9:return x=l.type._context,d=l.pendingProps.children,fs(l),x=er(x),d=d(x),l.flags|=1,Gn(o,l,d,f),l.child;case 14:return Nx(o,l,l.type,l.pendingProps,f);case 15:return Rx(o,l,l.type,l.pendingProps,f);case 19:return Bx(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=Rh(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=ca(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return Ox(o,l,f);case 24:return fs(l),d=er(xn),o===null?(x=w1(),x===null&&(x=Ot,w=x1(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=f),x=w),l.memoizedState={parent:d,cache:x},b1(l),Ya(l,xn,x)):((o.lanes&f)!==0&&(A1(o,l),Zu(l,null,null,f),Qu()),x=o.memoizedState,w=l.memoizedState,x.parent!==d?(x={parent:d,cache:d},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),Ya(l,xn,d)):(d=w.cache,Ya(l,xn,d),d!==x.cache&&y1(l,[xn],f,!0))),Gn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ya(o){o.flags|=4}function Ux(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$2(l)){if(l=$r.current,l!==null&&((ot&4194048)===ot?Mi!==null:(ot&62914560)!==ot&&(ot&536870912)===0||l!==Mi))throw Yu=E1,by;o.flags|=8192}}function Oh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Eu():536870912,o.lanes|=l,_l|=l)}function ac(o,l){if(!pt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function zt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,d|=x.subtreeFlags&65011712,d|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,d|=x.subtreeFlags,d|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function l3(o,l,f){var d=l.pendingProps;switch(p1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(l),null;case 1:return zt(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),pa(xn),ze(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Hu(l)?ya(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,yy())),zt(l),null;case 26:return f=l.memoizedState,o===null?(ya(l),f!==null?(zt(l),Ux(l,f)):(zt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(ya(l),zt(l),Ux(l,f)):(zt(l),l.flags&=-16777217):(o.memoizedProps!==d&&ya(l),zt(l),l.flags&=-16777217),null;case 27:ct(l),f=ge.current;var x=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ya(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return zt(l),null}o=Ae.current,Hu(l)?gy(l):(o=U2(x,d,f),l.stateNode=o,ya(l))}return zt(l),null;case 5:if(ct(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ya(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return zt(l),null}if(o=Ae.current,Hu(l))gy(l);else{switch(x=Gh(ge.current),o){case 1:o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=x.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?x.createElement("select",{is:d.is}):x.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?x.createElement(f,{is:d.is}):x.createElement(f)}}o[gn]=l,o[un]=d;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)o.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=o;e:switch(Xn(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ya(l)}}return zt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&ya(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=ge.current,Hu(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,x=dr,x!==null)switch(x.tag){case 27:case 5:d=x.memoizedProps}o[gn]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||P2(o.nodeValue,f)),o||us(l)}else o=Gh(o).createTextNode(d),o[gn]=l,l.stateNode=o}return zt(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=Hu(l),d!==null&&d.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[gn]=l}else zu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zt(l),x=!1}else x=yy(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(ga(l),l):(ga(l),null)}if(ga(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,x=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(x=d.alternate.memoizedState.cachePool.pool);var w=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==x&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Oh(l,l.updateQueue),zt(l),null;case 4:return ze(),o===null&&Tp(l.stateNode.containerInfo),zt(l),null;case 10:return pa(l.type),zt(l),null;case 19:if(xe(_n),x=l.memoizedState,x===null)return zt(l),null;if(d=(l.flags&128)!==0,w=x.rendering,w===null)if(d)ac(x,!1);else{if(Qt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=Th(o),w!==null){for(l.flags|=128,ac(x,!1),o=w.updateQueue,l.updateQueue=o,Oh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)py(f,o),f=f.sibling;return he(_n,_n.current&1|2),l.child}o=o.sibling}x.tail!==null&&yr()>Mh&&(l.flags|=128,d=!0,ac(x,!1),l.lanes=4194304)}else{if(!d)if(o=Th(w),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,Oh(l,o),ac(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!pt)return zt(l),null}else 2*yr()-x.renderingStartTime>Mh&&f!==536870912&&(l.flags|=128,d=!0,ac(x,!1),l.lanes=4194304);x.isBackwards?(w.sibling=l.child,l.child=w):(o=x.last,o!==null?o.sibling=w:l.child=w,x.last=w)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=yr(),l.sibling=null,o=_n.current,he(_n,d?o&1|2:o&1),l):(zt(l),null);case 22:case 23:return ga(l),I1(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(zt(l),l.subtreeFlags&6&&(l.flags|=8192)):zt(l),f=l.updateQueue,f!==null&&Oh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&xe(hs),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),pa(xn),zt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function u3(o,l){switch(p1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return pa(xn),ze(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return ct(l),null;case 13:if(ga(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));zu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return xe(_n),null;case 4:return ze(),null;case 10:return pa(l.type),null;case 22:case 23:return ga(l),I1(),o!==null&&xe(hs),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return pa(xn),null;case 25:return null;default:return null}}function Fx(o,l){switch(p1(l),l.tag){case 3:pa(xn),ze();break;case 26:case 27:case 5:ct(l);break;case 4:ze();break;case 13:ga(l);break;case 19:xe(_n);break;case 10:pa(l.type);break;case 22:case 23:ga(l),I1(),o!==null&&xe(hs);break;case 24:pa(xn)}}function oc(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var x=d.next;f=x;do{if((f.tag&o)===o){d=void 0;var w=f.create,I=f.inst;d=w(),I.destroy=d}f=f.next}while(f!==x)}}catch(O){Rt(l,l.return,O)}}function no(o,l,f){try{var d=l.updateQueue,x=d!==null?d.lastEffect:null;if(x!==null){var w=x.next;d=w;do{if((d.tag&o)===o){var I=d.inst,O=I.destroy;if(O!==void 0){I.destroy=void 0,x=l;var G=f,Q=O;try{Q()}catch(oe){Rt(x,G,oe)}}}d=d.next}while(d!==w)}}catch(oe){Rt(l,l.return,oe)}}function Hx(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{Ny(l,f)}catch(d){Rt(o,o.return,d)}}}function zx(o,l,f){f.props=ps(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){Rt(o,l,d)}}function sc(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(x){Rt(o,l,x)}}function ki(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(x){Rt(o,l,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(x){Rt(o,l,x)}else f.current=null}function Gx(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(x){Rt(o,o.return,x)}}function np(o,l,f){try{var d=o.stateNode;R3(d,o.type,f,l),d[un]=l}catch(x){Rt(o,o.return,x)}}function qx(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&co(o.type)||o.tag===4}function rp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||qx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&co(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ip(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=zh));else if(d!==4&&(d===27&&co(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(ip(o,l,f),o=o.sibling;o!==null;)ip(o,l,f),o=o.sibling}function Dh(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&co(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Dh(o,l,f),o=o.sibling;o!==null;)Dh(o,l,f),o=o.sibling}function Xx(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);Xn(l,d,f),l[gn]=o,l[un]=f}catch(w){Rt(o,o.return,w)}}var xa=!1,an=!1,ap=!1,Wx=typeof WeakSet=="function"?WeakSet:Set,Mn=null;function c3(o,l){if(o=o.containerInfo,Np=Kh,o=iy(o),r1(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var x=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var I=0,O=-1,G=-1,Q=0,oe=0,le=o,J=null;t:for(;;){for(var ee;le!==f||x!==0&&le.nodeType!==3||(O=I+x),le!==w||d!==0&&le.nodeType!==3||(G=I+d),le.nodeType===3&&(I+=le.nodeValue.length),(ee=le.firstChild)!==null;)J=le,le=ee;for(;;){if(le===o)break t;if(J===f&&++Q===x&&(O=I),J===w&&++oe===d&&(G=I),(ee=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=ee}f=O===-1||G===-1?null:{start:O,end:G}}else f=null}f=f||{start:0,end:0}}else f=null;for(Rp={focusedElem:o,selectionRange:f},Kh=!1,Mn=l;Mn!==null;)if(l=Mn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,Mn=o;else for(;Mn!==null;){switch(l=Mn,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=l,x=w.memoizedProps,w=w.memoizedState,d=f.stateNode;try{var je=ps(f.type,x,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(je,w),d.__reactInternalSnapshotBeforeUpdate=o}catch(Oe){Rt(f,f.return,Oe)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Pp(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Pp(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,Mn=o;break}Mn=l.return}}function $x(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:ro(o,f),d&4&&oc(5,f);break;case 1:if(ro(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(I){Rt(f,f.return,I)}else{var x=ps(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(x,l,o.__reactInternalSnapshotBeforeUpdate)}catch(I){Rt(f,f.return,I)}}d&64&&Hx(f),d&512&&sc(f,f.return);break;case 3:if(ro(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{Ny(o,l)}catch(I){Rt(f,f.return,I)}}break;case 27:l===null&&d&4&&Xx(f);case 26:case 5:ro(o,f),l===null&&d&4&&Gx(f),d&512&&sc(f,f.return);break;case 12:ro(o,f);break;case 13:ro(o,f),d&4&&Qx(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=x3.bind(null,f),j3(o,f))));break;case 22:if(d=f.memoizedState!==null||xa,!d){l=l!==null&&l.memoizedState!==null||an,x=xa;var w=an;xa=d,(an=l)&&!w?io(o,f,(f.subtreeFlags&8772)!==0):ro(o,f),xa=x,an=w}break;case 30:break;default:ro(o,f)}}function Yx(o){var l=o.alternate;l!==null&&(o.alternate=null,Yx(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&qa(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ut=null,wr=!1;function _a(o,l,f){for(f=f.child;f!==null;)Kx(o,l,f),f=f.sibling}function Kx(o,l,f){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(rt,f)}catch{}switch(f.tag){case 26:an||ki(f,l),_a(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:an||ki(f,l);var d=Ut,x=wr;co(f.type)&&(Ut=f.stateNode,wr=!1),_a(o,l,f),gc(f.stateNode),Ut=d,wr=x;break;case 5:an||ki(f,l);case 6:if(d=Ut,x=wr,Ut=null,_a(o,l,f),Ut=d,wr=x,Ut!==null)if(wr)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(f.stateNode)}catch(w){Rt(f,l,w)}else try{Ut.removeChild(f.stateNode)}catch(w){Rt(f,l,w)}break;case 18:Ut!==null&&(wr?(o=Ut,B2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),Ac(o)):B2(Ut,f.stateNode));break;case 4:d=Ut,x=wr,Ut=f.stateNode.containerInfo,wr=!0,_a(o,l,f),Ut=d,wr=x;break;case 0:case 11:case 14:case 15:an||no(2,f,l),an||no(4,f,l),_a(o,l,f);break;case 1:an||(ki(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&zx(f,l,d)),_a(o,l,f);break;case 21:_a(o,l,f);break;case 22:an=(d=an)||f.memoizedState!==null,_a(o,l,f),an=d;break;default:_a(o,l,f)}}function Qx(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Ac(o)}catch(f){Rt(l,l.return,f)}}function f3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new Wx),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new Wx),l;default:throw Error(r(435,o.tag))}}function op(o,l){var f=f3(o);l.forEach(function(d){var x=_3.bind(null,o,d);f.has(d)||(f.add(d),d.then(x,x))})}function Mr(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var x=f[d],w=o,I=l,O=I;e:for(;O!==null;){switch(O.tag){case 27:if(co(O.type)){Ut=O.stateNode,wr=!1;break e}break;case 5:Ut=O.stateNode,wr=!1;break e;case 3:case 4:Ut=O.stateNode.containerInfo,wr=!0;break e}O=O.return}if(Ut===null)throw Error(r(160));Kx(w,I,x),Ut=null,wr=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Zx(l,o),l=l.sibling}var ui=null;function Zx(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Mr(l,o),kr(o),d&4&&(no(3,o,o.return),oc(3,o),no(5,o,o.return));break;case 1:Mr(l,o),kr(o),d&512&&(an||f===null||ki(f,f.return)),d&64&&xa&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var x=ui;if(Mr(l,o),kr(o),d&512&&(an||f===null||ki(f,f.return)),d&4){var w=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,x=x.ownerDocument||x;t:switch(d){case"title":w=x.getElementsByTagName("title")[0],(!w||w[zo]||w[gn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(d),x.head.insertBefore(w,x.querySelector("head > title"))),Xn(w,d,f),w[gn]=o,nn(w),d=w;break e;case"link":var I=X2("link","href",x).get(d+(f.href||""));if(I){for(var O=0;O<I.length;O++)if(w=I[O],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(O,1);break t}}w=x.createElement(d),Xn(w,d,f),x.head.appendChild(w);break;case"meta":if(I=X2("meta","content",x).get(d+(f.content||""))){for(O=0;O<I.length;O++)if(w=I[O],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(O,1);break t}}w=x.createElement(d),Xn(w,d,f),x.head.appendChild(w);break;default:throw Error(r(468,d))}w[gn]=o,nn(w),d=w}o.stateNode=d}else W2(x,o.type,o.stateNode);else o.stateNode=q2(x,d,o.memoizedProps);else w!==d?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,d===null?W2(x,o.type,o.stateNode):q2(x,d,o.memoizedProps)):d===null&&o.stateNode!==null&&np(o,o.memoizedProps,f.memoizedProps)}break;case 27:Mr(l,o),kr(o),d&512&&(an||f===null||ki(f,f.return)),f!==null&&d&4&&np(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Mr(l,o),kr(o),d&512&&(an||f===null||ki(f,f.return)),o.flags&32){x=o.stateNode;try{Ur(x,"")}catch(ee){Rt(o,o.return,ee)}}d&4&&o.stateNode!=null&&(x=o.memoizedProps,np(o,x,f!==null?f.memoizedProps:x)),d&1024&&(ap=!0);break;case 6:if(Mr(l,o),kr(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(ee){Rt(o,o.return,ee)}}break;case 3:if(Wh=null,x=ui,ui=qh(l.containerInfo),Mr(l,o),ui=x,kr(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{Ac(l.containerInfo)}catch(ee){Rt(o,o.return,ee)}ap&&(ap=!1,Jx(o));break;case 4:d=ui,ui=qh(o.stateNode.containerInfo),Mr(l,o),kr(o),ui=d;break;case 12:Mr(l,o),kr(o);break;case 13:Mr(l,o),kr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(hp=yr()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,op(o,d)));break;case 22:x=o.memoizedState!==null;var G=f!==null&&f.memoizedState!==null,Q=xa,oe=an;if(xa=Q||x,an=oe||G,Mr(l,o),an=oe,xa=Q,kr(o),d&8192)e:for(l=o.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(f===null||G||xa||an||ms(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){G=f=l;try{if(w=G.stateNode,x)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{O=G.stateNode;var le=G.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;O.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Rt(G,G.return,ee)}}}else if(l.tag===6){if(f===null){G=l;try{G.stateNode.nodeValue=x?"":G.memoizedProps}catch(ee){Rt(G,G.return,ee)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,op(o,f))));break;case 19:Mr(l,o),kr(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,op(o,d)));break;case 30:break;case 21:break;default:Mr(l,o),kr(o)}}function kr(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(qx(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var x=f.stateNode,w=rp(o);Dh(o,w,x);break;case 5:var I=f.stateNode;f.flags&32&&(Ur(I,""),f.flags&=-33);var O=rp(o);Dh(o,O,I);break;case 3:case 4:var G=f.stateNode.containerInfo,Q=rp(o);ip(o,Q,G);break;default:throw Error(r(161))}}catch(oe){Rt(o,o.return,oe)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Jx(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Jx(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ro(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$x(o,l.alternate,l),l=l.sibling}function ms(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:no(4,l,l.return),ms(l);break;case 1:ki(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&zx(l,l.return,f),ms(l);break;case 27:gc(l.stateNode);case 26:case 5:ki(l,l.return),ms(l);break;case 22:l.memoizedState===null&&ms(l);break;case 30:ms(l);break;default:ms(l)}o=o.sibling}}function io(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,x=o,w=l,I=w.flags;switch(w.tag){case 0:case 11:case 15:io(x,w,f),oc(4,w);break;case 1:if(io(x,w,f),d=w,x=d.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Q){Rt(d,d.return,Q)}if(d=w,x=d.updateQueue,x!==null){var O=d.stateNode;try{var G=x.shared.hiddenCallbacks;if(G!==null)for(x.shared.hiddenCallbacks=null,x=0;x<G.length;x++)Iy(G[x],O)}catch(Q){Rt(d,d.return,Q)}}f&&I&64&&Hx(w),sc(w,w.return);break;case 27:Xx(w);case 26:case 5:io(x,w,f),f&&d===null&&I&4&&Gx(w),sc(w,w.return);break;case 12:io(x,w,f);break;case 13:io(x,w,f),f&&I&4&&Qx(x,w);break;case 22:w.memoizedState===null&&io(x,w,f),sc(w,w.return);break;case 30:break;default:io(x,w,f)}l=l.sibling}}function sp(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Xu(f))}function lp(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Xu(o))}function Li(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)e2(o,l,f,d),l=l.sibling}function e2(o,l,f,d){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Li(o,l,f,d),x&2048&&oc(9,l);break;case 1:Li(o,l,f,d);break;case 3:Li(o,l,f,d),x&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Xu(o)));break;case 12:if(x&2048){Li(o,l,f,d),o=l.stateNode;try{var w=l.memoizedProps,I=w.id,O=w.onPostCommit;typeof O=="function"&&O(I,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(G){Rt(l,l.return,G)}}else Li(o,l,f,d);break;case 13:Li(o,l,f,d);break;case 23:break;case 22:w=l.stateNode,I=l.alternate,l.memoizedState!==null?w._visibility&2?Li(o,l,f,d):lc(o,l):w._visibility&2?Li(o,l,f,d):(w._visibility|=2,vl(o,l,f,d,(l.subtreeFlags&10256)!==0)),x&2048&&sp(I,l);break;case 24:Li(o,l,f,d),x&2048&&lp(l.alternate,l);break;default:Li(o,l,f,d)}}function vl(o,l,f,d,x){for(x=x&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,I=l,O=f,G=d,Q=I.flags;switch(I.tag){case 0:case 11:case 15:vl(w,I,O,G,x),oc(8,I);break;case 23:break;case 22:var oe=I.stateNode;I.memoizedState!==null?oe._visibility&2?vl(w,I,O,G,x):lc(w,I):(oe._visibility|=2,vl(w,I,O,G,x)),x&&Q&2048&&sp(I.alternate,I);break;case 24:vl(w,I,O,G,x),x&&Q&2048&&lp(I.alternate,I);break;default:vl(w,I,O,G,x)}l=l.sibling}}function lc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,x=d.flags;switch(d.tag){case 22:lc(f,d),x&2048&&sp(d.alternate,d);break;case 24:lc(f,d),x&2048&&lp(d.alternate,d);break;default:lc(f,d)}l=l.sibling}}var uc=8192;function yl(o){if(o.subtreeFlags&uc)for(o=o.child;o!==null;)t2(o),o=o.sibling}function t2(o){switch(o.tag){case 26:yl(o),o.flags&uc&&o.memoizedState!==null&&K3(ui,o.memoizedState,o.memoizedProps);break;case 5:yl(o);break;case 3:case 4:var l=ui;ui=qh(o.stateNode.containerInfo),yl(o),ui=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=uc,uc=16777216,yl(o),uc=l):yl(o));break;default:yl(o)}}function n2(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function cc(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];Mn=d,i2(d,o)}n2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)r2(o),o=o.sibling}function r2(o){switch(o.tag){case 0:case 11:case 15:cc(o),o.flags&2048&&no(9,o,o.return);break;case 3:cc(o);break;case 12:cc(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Ph(o)):cc(o);break;default:cc(o)}}function Ph(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];Mn=d,i2(d,o)}n2(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:no(8,l,l.return),Ph(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Ph(l));break;default:Ph(l)}o=o.sibling}}function i2(o,l){for(;Mn!==null;){var f=Mn;switch(f.tag){case 0:case 11:case 15:no(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Xu(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,Mn=d;else e:for(f=o;Mn!==null;){d=Mn;var x=d.sibling,w=d.return;if(Yx(d),d===f){Mn=null;break e}if(x!==null){x.return=w,Mn=x;break e}Mn=w}}}var h3={getCacheForType:function(o){var l=er(xn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},d3=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ot=null,Ze=null,ot=0,Et=0,Lr=null,ao=!1,xl=!1,up=!1,wa=0,Qt=0,oo=0,gs=0,cp=0,Yr=0,_l=0,fc=null,Er=null,fp=!1,hp=0,Mh=1/0,kh=null,so=null,qn=0,lo=null,wl=null,El=0,dp=0,pp=null,a2=null,hc=0,mp=null;function jr(){if((wt&2)!==0&&ot!==0)return ot&-ot;if(te.T!==null){var o=ul;return o!==0?o:Ep()}return za()}function o2(){Yr===0&&(Yr=(ot&536870912)===0||pt?wu():536870912);var o=$r.current;return o!==null&&(o.flags|=32),Yr}function Br(o,l,f){(o===Ot&&(Et===2||Et===9)||o.cancelPendingCommit!==null)&&(bl(o,0),uo(o,ot,Yr,!1)),Ji(o,f),((wt&2)===0||o!==Ot)&&(o===Ot&&((wt&2)===0&&(gs|=f),Qt===4&&uo(o,ot,Yr,!1)),ji(o))}function s2(o,l,f){if((wt&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Ho(o,l),x=d?g3(o,l):yp(o,l,!0),w=d;do{if(x===0){xl&&!d&&uo(o,l,0,!1);break}else{if(f=o.current.alternate,w&&!p3(f)){x=yp(o,l,!1),w=!1;continue}if(x===2){if(w=l,o.errorRecoveryDisabledLanes&w)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var O=o;x=fc;var G=O.current.memoizedState.isDehydrated;if(G&&(bl(O,I).flags|=256),I=yp(O,I,!1),I!==2){if(up&&!G){O.errorRecoveryDisabledLanes|=w,gs|=w,x=4;break e}w=Er,Er=x,w!==null&&(Er===null?Er=w:Er.push.apply(Er,w))}x=I}if(w=!1,x!==2)continue}}if(x===1){bl(o,0),uo(o,l,0,!0);break}e:{switch(d=o,w=x,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:uo(d,l,Yr,!ao);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=hp+300-yr(),10<x)){if(uo(d,l,Yr,!ao),Us(d,0,!0)!==0)break e;d.timeoutHandle=L2(l2.bind(null,d,f,Er,kh,fp,l,Yr,gs,_l,ao,w,2,-0,0),x);break e}l2(d,f,Er,kh,fp,l,Yr,gs,_l,ao,w,0,-0,0)}}break}while(!0);ji(o)}function l2(o,l,f,d,x,w,I,O,G,Q,oe,le,J,ee){if(o.timeoutHandle=-1,le=l.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(xc={stylesheets:null,count:0,unsuspend:Y3},t2(l),le=Q3(),le!==null)){o.cancelPendingCommit=le(m2.bind(null,o,l,w,f,d,x,I,O,G,oe,1,J,ee)),uo(o,w,I,!Q);return}m2(o,l,w,f,d,x,I,O,G)}function p3(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var x=f[d],w=x.getSnapshot;x=x.value;try{if(!Dr(w(),x))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function uo(o,l,f,d){l&=~cp,l&=~gs,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var x=l;0<x;){var w=31-Rn(x),I=1<<w;d[w]=-1,x&=~I}f!==0&&Ei(o,f,l)}function Lh(){return(wt&6)===0?(dc(0),!1):!0}function gp(){if(Ze!==null){if(Et===0)var o=Ze.return;else o=Ze,da=cs=null,P1(o),ml=null,rc=0,o=Ze;for(;o!==null;)Fx(o.alternate,o),o=o.return;Ze=null}}function bl(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,D3(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),gp(),Ot=o,Ze=f=ca(o.current,null),ot=l,Et=0,Lr=null,ao=!1,xl=Ho(o,l),up=!1,_l=Yr=cp=gs=oo=Qt=0,Er=fc=null,fp=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var x=31-Rn(d),w=1<<x;l|=o[x],d&=~w}return wa=l,ih(),f}function u2(o,l){We=null,te.H=bh,l===$u||l===dh?(l=Ty(),Et=3):l===by?(l=Ty(),Et=4):Et=l===Cx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Lr=l,Ze===null&&(Qt=1,Ih(o,Gr(l,o.current)))}function c2(){var o=te.H;return te.H=bh,o===null?bh:o}function f2(){var o=te.A;return te.A=h3,o}function vp(){Qt=4,ao||(ot&4194048)!==ot&&$r.current!==null||(xl=!0),(oo&134217727)===0&&(gs&134217727)===0||Ot===null||uo(Ot,ot,Yr,!1)}function yp(o,l,f){var d=wt;wt|=2;var x=c2(),w=f2();(Ot!==o||ot!==l)&&(kh=null,bl(o,l)),l=!1;var I=Qt;e:do try{if(Et!==0&&Ze!==null){var O=Ze,G=Lr;switch(Et){case 8:gp(),I=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(l=!0);var Q=Et;if(Et=0,Lr=null,Al(o,O,G,Q),f&&xl){I=0;break e}break;default:Q=Et,Et=0,Lr=null,Al(o,O,G,Q)}}m3(),I=Qt;break}catch(oe){u2(o,oe)}while(!0);return l&&o.shellSuspendCounter++,da=cs=null,wt=d,te.H=x,te.A=w,Ze===null&&(Ot=null,ot=0,ih()),I}function m3(){for(;Ze!==null;)h2(Ze)}function g3(o,l){var f=wt;wt|=2;var d=c2(),x=f2();Ot!==o||ot!==l?(kh=null,Mh=yr()+500,bl(o,l)):xl=Ho(o,l);e:do try{if(Et!==0&&Ze!==null){l=Ze;var w=Lr;t:switch(Et){case 1:Et=0,Lr=null,Al(o,l,w,1);break;case 2:case 9:if(Ay(w)){Et=0,Lr=null,d2(l);break}l=function(){Et!==2&&Et!==9||Ot!==o||(Et=7),ji(o)},w.then(l,l);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Ay(w)?(Et=0,Lr=null,d2(l)):(Et=0,Lr=null,Al(o,l,w,7));break;case 5:var I=null;switch(Ze.tag){case 26:I=Ze.memoizedState;case 5:case 27:var O=Ze;if(!I||$2(I)){Et=0,Lr=null;var G=O.sibling;if(G!==null)Ze=G;else{var Q=O.return;Q!==null?(Ze=Q,jh(Q)):Ze=null}break t}}Et=0,Lr=null,Al(o,l,w,5);break;case 6:Et=0,Lr=null,Al(o,l,w,6);break;case 8:gp(),Qt=6;break e;default:throw Error(r(462))}}v3();break}catch(oe){u2(o,oe)}while(!0);return da=cs=null,te.H=d,te.A=x,wt=f,Ze!==null?0:(Ot=null,ot=0,ih(),Qt)}function v3(){for(;Ze!==null&&!Bo();)h2(Ze)}function h2(o){var l=Vx(o.alternate,o,wa);o.memoizedProps=o.pendingProps,l===null?jh(o):Ze=l}function d2(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=Px(f,l,l.pendingProps,l.type,void 0,ot);break;case 11:l=Px(f,l,l.pendingProps,l.type.render,l.ref,ot);break;case 5:P1(l);default:Fx(f,l),l=Ze=py(l,wa),l=Vx(f,l,wa)}o.memoizedProps=o.pendingProps,l===null?jh(o):Ze=l}function Al(o,l,f,d){da=cs=null,P1(l),ml=null,rc=0;var x=l.return;try{if(o3(o,x,l,f,ot)){Qt=1,Ih(o,Gr(f,o.current)),Ze=null;return}}catch(w){if(x!==null)throw Ze=x,w;Qt=1,Ih(o,Gr(f,o.current)),Ze=null;return}l.flags&32768?(pt||d===1?o=!0:xl||(ot&536870912)!==0?o=!1:(ao=o=!0,(d===2||d===9||d===3||d===6)&&(d=$r.current,d!==null&&d.tag===13&&(d.flags|=16384))),p2(l,o)):jh(l)}function jh(o){var l=o;do{if((l.flags&32768)!==0){p2(l,ao);return}o=l.return;var f=l3(l.alternate,l,wa);if(f!==null){Ze=f;return}if(l=l.sibling,l!==null){Ze=l;return}Ze=l=o}while(l!==null);Qt===0&&(Qt=5)}function p2(o,l){do{var f=u3(o.alternate,o);if(f!==null){f.flags&=32767,Ze=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){Ze=o;return}Ze=o=f}while(o!==null);Qt=6,Ze=null}function m2(o,l,f,d,x,w,I,O,G){o.cancelPendingCommit=null;do Bh();while(qn!==0);if((wt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=l1,bu(o,f,w,I,O,G),o===Ot&&(Ze=Ot=null,ot=0),wl=l,lo=o,El=f,dp=w,pp=x,a2=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,w3(xr,function(){return _2(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=te.T,te.T=null,x=ne.p,ne.p=2,I=wt,wt|=4;try{c3(o,l,f)}finally{wt=I,ne.p=x,te.T=d}}qn=1,g2(),v2(),y2()}}function g2(){if(qn===1){qn=0;var o=lo,l=wl,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=te.T,te.T=null;var d=ne.p;ne.p=2;var x=wt;wt|=4;try{Zx(l,o);var w=Rp,I=iy(o.containerInfo),O=w.focusedElem,G=w.selectionRange;if(I!==O&&O&&O.ownerDocument&&ry(O.ownerDocument.documentElement,O)){if(G!==null&&r1(O)){var Q=G.start,oe=G.end;if(oe===void 0&&(oe=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(oe,O.value.length);else{var le=O.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var ee=J.getSelection(),je=O.textContent.length,Oe=Math.min(G.start,je),It=G.end===void 0?Oe:Math.min(G.end,je);!ee.extend&&Oe>It&&(I=It,It=Oe,Oe=I);var $=ny(O,Oe),X=ny(O,It);if($&&X&&(ee.rangeCount!==1||ee.anchorNode!==$.node||ee.anchorOffset!==$.offset||ee.focusNode!==X.node||ee.focusOffset!==X.offset)){var K=le.createRange();K.setStart($.node,$.offset),ee.removeAllRanges(),Oe>It?(ee.addRange(K),ee.extend(X.node,X.offset)):(K.setEnd(X.node,X.offset),ee.addRange(K))}}}}for(le=[],ee=O;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<le.length;O++){var se=le[O];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Kh=!!Np,Rp=Np=null}finally{wt=x,ne.p=d,te.T=f}}o.current=l,qn=2}}function v2(){if(qn===2){qn=0;var o=lo,l=wl,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=te.T,te.T=null;var d=ne.p;ne.p=2;var x=wt;wt|=4;try{$x(o,l.alternate,l)}finally{wt=x,ne.p=d,te.T=f}}qn=3}}function y2(){if(qn===4||qn===3){qn=0,Rr();var o=lo,l=wl,f=El,d=a2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?qn=5:(qn=0,wl=lo=null,x2(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(so=null),Fs(f),l=l.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(rt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=te.T,x=ne.p,ne.p=2,te.T=null;try{for(var w=o.onRecoverableError,I=0;I<d.length;I++){var O=d[I];w(O.value,{componentStack:O.stack})}}finally{te.T=l,ne.p=x}}(El&3)!==0&&Bh(),ji(o),x=o.pendingLanes,(f&4194090)!==0&&(x&42)!==0?o===mp?hc++:(hc=0,mp=o):hc=0,dc(0)}}function x2(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Xu(l)))}function Bh(o){return g2(),v2(),y2(),_2()}function _2(){if(qn!==5)return!1;var o=lo,l=dp;dp=0;var f=Fs(El),d=te.T,x=ne.p;try{ne.p=32>f?32:f,te.T=null,f=pp,pp=null;var w=lo,I=El;if(qn=0,wl=lo=null,El=0,(wt&6)!==0)throw Error(r(331));var O=wt;if(wt|=4,r2(w.current),e2(w,w.current,I,f),wt=O,dc(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(rt,w)}catch{}return!0}finally{ne.p=x,te.T=d,x2(o,l)}}function w2(o,l,f){l=Gr(f,l),l=W1(o.stateNode,l,2),o=Za(o,l,2),o!==null&&(Ji(o,2),ji(o))}function Rt(o,l,f){if(o.tag===3)w2(o,o,f);else for(;l!==null;){if(l.tag===3){w2(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(so===null||!so.has(d))){o=Gr(f,o),f=Sx(2),d=Za(l,f,2),d!==null&&(Tx(f,d,l,o),Ji(d,2),ji(d));break}}l=l.return}}function xp(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new d3;var x=new Set;d.set(l,x)}else x=d.get(l),x===void 0&&(x=new Set,d.set(l,x));x.has(f)||(up=!0,x.add(f),o=y3.bind(null,o,l,f),l.then(o,o))}function y3(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ot===o&&(ot&f)===f&&(Qt===4||Qt===3&&(ot&62914560)===ot&&300>yr()-hp?(wt&2)===0&&bl(o,0):cp|=f,_l===ot&&(_l=0)),ji(o)}function E2(o,l){l===0&&(l=Eu()),o=al(o,l),o!==null&&(Ji(o,l),ji(o))}function x3(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),E2(o,f)}function _3(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),E2(o,f)}function w3(o,l){return ur(o,l)}var Vh=null,Sl=null,_p=!1,Uh=!1,wp=!1,vs=0;function ji(o){o!==Sl&&o.next===null&&(Sl===null?Vh=Sl=o:Sl=Sl.next=o),Uh=!0,_p||(_p=!0,b3())}function dc(o,l){if(!wp&&Uh){wp=!0;do for(var f=!1,d=Vh;d!==null;){if(o!==0){var x=d.pendingLanes;if(x===0)var w=0;else{var I=d.suspendedLanes,O=d.pingedLanes;w=(1<<31-Rn(42|o)+1)-1,w&=x&~(I&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,T2(d,w))}else w=ot,w=Us(d,d===Ot?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Ho(d,w)||(f=!0,T2(d,w));d=d.next}while(f);wp=!1}}function E3(){b2()}function b2(){Uh=_p=!1;var o=0;vs!==0&&(O3()&&(o=vs),vs=0);for(var l=yr(),f=null,d=Vh;d!==null;){var x=d.next,w=A2(d,l);w===0?(d.next=null,f===null?Vh=x:f.next=x,x===null&&(Sl=f)):(f=d,(o!==0||(w&3)!==0)&&(Uh=!0)),d=x}dc(o)}function A2(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var I=31-Rn(w),O=1<<I,G=x[I];G===-1?((O&f)===0||(O&d)!==0)&&(x[I]=_u(O,l)):G<=l&&(o.expiredLanes|=O),w&=~O}if(l=Ot,f=ot,f=Us(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(Et===2||Et===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&wi(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ho(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&wi(d),Fs(f)){case 2:case 8:f=Fa;break;case 32:f=xr;break;case 268435456:f=Te;break;default:f=xr}return d=S2.bind(null,o),f=ur(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&wi(d),o.callbackPriority=2,o.callbackNode=null,2}function S2(o,l){if(qn!==0&&qn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Bh()&&o.callbackNode!==f)return null;var d=ot;return d=Us(o,o===Ot?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(s2(o,d,l),A2(o,yr()),o.callbackNode!=null&&o.callbackNode===f?S2.bind(null,o):null)}function T2(o,l){if(Bh())return null;s2(o,l,!0)}function b3(){P3(function(){(wt&6)!==0?ur(Vo,E3):b2()})}function Ep(){return vs===0&&(vs=wu()),vs}function C2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ws(""+o)}function I2(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function A3(o,l,f,d,x){if(l==="submit"&&f&&f.stateNode===x){var w=C2((x[un]||null).action),I=d.submitter;I&&(l=(l=I[un]||null)?C2(l.formAction):I.getAttribute("formAction"),l!==null&&(w=l,I=null));var O=new $s("action","action",null,d,x);o.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(vs!==0){var G=I?I2(x,I):new FormData(x);H1(f,{pending:!0,data:G,method:x.method,action:w},null,G)}}else typeof w=="function"&&(O.preventDefault(),G=I?I2(x,I):new FormData(x),H1(f,{pending:!0,data:G,method:x.method,action:w},w,G))},currentTarget:x}]})}}for(var bp=0;bp<s1.length;bp++){var Ap=s1[bp],S3=Ap.toLowerCase(),T3=Ap[0].toUpperCase()+Ap.slice(1);li(S3,"on"+T3)}li(sy,"onAnimationEnd"),li(ly,"onAnimationIteration"),li(uy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(zC,"onTransitionRun"),li(GC,"onTransitionStart"),li(qC,"onTransitionCancel"),li(cy,"onTransitionEnd"),ta("onMouseEnter",["mouseout","mouseover"]),ta("onMouseLeave",["mouseout","mouseover"]),ta("onPointerEnter",["pointerout","pointerover"]),ta("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function N2(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],x=d.event;d=d.listeners;e:{var w=void 0;if(l)for(var I=d.length-1;0<=I;I--){var O=d[I],G=O.instance,Q=O.currentTarget;if(O=O.listener,G!==w&&x.isPropagationStopped())break e;w=O,x.currentTarget=Q;try{w(x)}catch(oe){Ch(oe)}x.currentTarget=null,w=G}else for(I=0;I<d.length;I++){if(O=d[I],G=O.instance,Q=O.currentTarget,O=O.listener,G!==w&&x.isPropagationStopped())break e;w=O,x.currentTarget=Q;try{w(x)}catch(oe){Ch(oe)}x.currentTarget=null,w=G}}}}function Je(o,l){var f=l[Su];f===void 0&&(f=l[Su]=new Set);var d=o+"__bubble";f.has(d)||(R2(l,o,2,!1),f.add(d))}function Sp(o,l,f){var d=0;l&&(d|=4),R2(f,o,d,l)}var Fh="_reactListening"+Math.random().toString(36).slice(2);function Tp(o){if(!o[Fh]){o[Fh]=!0,Tu.forEach(function(f){f!=="selectionchange"&&(C3.has(f)||Sp(f,!1,o),Sp(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Fh]||(l[Fh]=!0,Sp("selectionchange",!1,l))}}function R2(o,l,f,d){switch(e_(l)){case 2:var x=e4;break;case 8:x=t4;break;default:x=Up}f=x.bind(null,l,f,o),x=void 0,!Hr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),d?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function Cp(o,l,f,d,x){var w=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var O=d.stateNode.containerInfo;if(O===x)break;if(I===4)for(I=d.return;I!==null;){var G=I.tag;if((G===3||G===4)&&I.stateNode.containerInfo===x)return;I=I.return}for(;O!==null;){if(I=ea(O),I===null)return;if(G=I.tag,G===5||G===6||G===26||G===27){d=w=I;continue e}O=O.parentNode}}d=d.return}zf(function(){var Q=w,oe=Fr(f),le=[];e:{var J=fy.get(o);if(J!==void 0){var ee=$s,je=o;switch(o){case"keypress":if(Ii(f)===0)break e;case"keydown":case"keyup":ee=el;break;case"focusin":je="focus",ee=Qs;break;case"focusout":je="blur",ee=Qs;break;case"beforeblur":case"afterblur":ee=Qs;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Qf;break;case sy:case ly:case uy:ee=Zs;break;case cy:ee=Jf;break;case"scroll":case"scrollend":ee=Gf;break;case"wheel":ee=tl;break;case"copy":case"cut":case"paste":ee=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Bu;break;case"toggle":case"beforetoggle":ee=th}var Oe=(l&4)!==0,It=!Oe&&(o==="scroll"||o==="scrollend"),$=Oe?J!==null?J+"Capture":null:J;Oe=[];for(var X=Q,K;X!==null;){var se=X;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||$===null||(se=Ko(X,$),se!=null&&Oe.push(mc(X,se,K))),It)break;X=X.return}0<Oe.length&&(J=new ee(J,je,null,f,oe),le.push({event:J,listeners:Oe}))}}if((l&7)===0){e:{if(J=o==="mouseover"||o==="pointerover",ee=o==="mouseout"||o==="pointerout",J&&f!==ia&&(je=f.relatedTarget||f.fromElement)&&(ea(je)||je[Vr]))break e;if((ee||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(je=f.relatedTarget||f.toElement,ee=Q,je=je?ea(je):null,je!==null&&(It=a(je),Oe=je.tag,je!==It||Oe!==5&&Oe!==27&&Oe!==6)&&(je=null)):(ee=null,je=Q),ee!==je)){if(Oe=zr,se="onMouseLeave",$="onMouseEnter",X="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=Bu,se="onPointerLeave",$="onPointerEnter",X="pointer"),It=ee==null?J:Ai(ee),K=je==null?J:Ai(je),J=new Oe(se,X+"leave",ee,f,oe),J.target=It,J.relatedTarget=K,se=null,ea(oe)===Q&&(Oe=new Oe($,X+"enter",je,f,oe),Oe.target=K,Oe.relatedTarget=It,se=Oe),It=se,ee&&je)t:{for(Oe=ee,$=je,X=0,K=Oe;K;K=Tl(K))X++;for(K=0,se=$;se;se=Tl(se))K++;for(;0<X-K;)Oe=Tl(Oe),X--;for(;0<K-X;)$=Tl($),K--;for(;X--;){if(Oe===$||$!==null&&Oe===$.alternate)break t;Oe=Tl(Oe),$=Tl($)}Oe=null}else Oe=null;ee!==null&&O2(le,J,ee,Oe,!1),je!==null&&It!==null&&O2(le,It,je,Oe,!0)}}e:{if(J=Q?Ai(Q):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Ee=Kv;else if(yn(J))if(Qv)Ee=UC;else{Ee=BC;var Ke=jC}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Ou(Q.elementType)&&(Ee=Kv):Ee=VC;if(Ee&&(Ee=Ee(o,Q))){ua(le,Ee,f,oe);break e}Ke&&Ke(o,J,Q),o==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&Wa(J,"number",J.value)}switch(Ke=Q?Ai(Q):window,o){case"focusin":(yn(Ke)||Ke.contentEditable==="true")&&(nl=Ke,i1=Q,Fu=null);break;case"focusout":Fu=i1=nl=null;break;case"mousedown":a1=!0;break;case"contextmenu":case"mouseup":case"dragend":a1=!1,ay(le,f,oe);break;case"selectionchange":if(HC)break;case"keydown":case"keyup":ay(le,f,oe)}var Ce;if(Oi)e:{switch(o){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else it?re(o,f)&&(Me="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Me="onCompositionStart");Me&&(T&&f.locale!=="ko"&&(it||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&it&&(Ce=Pu()):(Ci=oe,$a="value"in Ci?Ci.value:Ci.textContent,it=!0)),Ke=Hh(Q,Me),0<Ke.length&&(Me=new Lu(Me,o,null,f,oe),le.push({event:Me,listeners:Ke}),Ce?Me.data=Ce:(Ce=ve(f),Ce!==null&&(Me.data=Ce)))),(Ce=b?vn(o,f):at(o,f))&&(Me=Hh(Q,"onBeforeInput"),0<Me.length&&(Ke=new Lu("onBeforeInput","beforeinput",null,f,oe),le.push({event:Ke,listeners:Me}),Ke.data=Ce)),A3(le,o,Q,f,oe)}N2(le,l)})}function mc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Hh(o,l){for(var f=l+"Capture",d=[];o!==null;){var x=o,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Ko(o,f),x!=null&&d.unshift(mc(o,x,w)),x=Ko(o,l),x!=null&&d.push(mc(o,x,w))),o.tag===3)return d;o=o.return}return[]}function Tl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function O2(o,l,f,d,x){for(var w=l._reactName,I=[];f!==null&&f!==d;){var O=f,G=O.alternate,Q=O.stateNode;if(O=O.tag,G!==null&&G===d)break;O!==5&&O!==26&&O!==27||Q===null||(G=Q,x?(Q=Ko(f,w),Q!=null&&I.unshift(mc(f,Q,G))):x||(Q=Ko(f,w),Q!=null&&I.push(mc(f,Q,G)))),f=f.return}I.length!==0&&o.push({event:l,listeners:I})}var I3=/\r\n?/g,N3=/\u0000|\uFFFD/g;function D2(o){return(typeof o=="string"?o:""+o).replace(I3,`
`).replace(N3,"")}function P2(o,l){return l=D2(l),D2(o)===l}function zh(){}function Ct(o,l,f,d,x,w){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Ur(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Ur(o,""+d);break;case"className":Si(o,"class",d);break;case"tabIndex":Si(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(o,f,d);break;case"style":Ru(o,d,w);break;case"data":if(l!=="object"){Si(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Ws(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(l!=="input"&&Ct(o,l,"name",x.name,x,null),Ct(o,l,"formEncType",x.formEncType,x,null),Ct(o,l,"formMethod",x.formMethod,x,null),Ct(o,l,"formTarget",x.formTarget,x,null)):(Ct(o,l,"encType",x.encType,x,null),Ct(o,l,"method",x.method,x,null),Ct(o,l,"target",x.target,x,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Ws(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=zh);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=Ws(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":Je("beforetoggle",o),Je("toggle",o),Xa(o,"popover",d);break;case"xlinkActuate":Hn(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Hn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Hn(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Hn(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Hn(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Hn(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Hn(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Hn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Hn(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Xa(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Q0.get(f)||f,Xa(o,f,d))}}function Ip(o,l,f,d,x,w){switch(f){case"style":Ru(o,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?Ur(o,d):(typeof d=="number"||typeof d=="bigint")&&Ur(o,""+d);break;case"onScroll":d!=null&&Je("scroll",o);break;case"onScrollEnd":d!=null&&Je("scrollend",o);break;case"onClick":d!=null&&(o.onclick=zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(x=f.endsWith("Capture"),l=f.slice(2,x?f.length-7:void 0),w=o[un]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(l,w,x),typeof d=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,x);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):Xa(o,f,d)}}}function Xn(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",o),Je("load",o);var d=!1,x=!1,w;for(w in f)if(f.hasOwnProperty(w)){var I=f[w];if(I!=null)switch(w){case"src":d=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ct(o,l,w,I,f,null)}}x&&Ct(o,l,"srcSet",f.srcSet,f,null),d&&Ct(o,l,"src",f.src,f,null);return;case"input":Je("invalid",o);var O=w=I=x=null,G=null,Q=null;for(d in f)if(f.hasOwnProperty(d)){var oe=f[d];if(oe!=null)switch(d){case"name":x=oe;break;case"type":I=oe;break;case"checked":G=oe;break;case"defaultChecked":Q=oe;break;case"value":w=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:Ct(o,l,d,oe,f,null)}}Wo(o,w,O,G,Q,I,x,!1),Xs(o);return;case"select":Je("invalid",o),d=I=w=null;for(x in f)if(f.hasOwnProperty(x)&&(O=f[x],O!=null))switch(x){case"value":w=O;break;case"defaultValue":I=O;break;case"multiple":d=O;default:Ct(o,l,x,O,f,null)}l=w,f=I,o.multiple=!!d,l!=null?ra(o,!!d,l,!1):f!=null&&ra(o,!!d,f,!0);return;case"textarea":Je("invalid",o),w=x=d=null;for(I in f)if(f.hasOwnProperty(I)&&(O=f[I],O!=null))switch(I){case"value":d=O;break;case"defaultValue":x=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Ct(o,l,I,O,f,null)}$o(o,d,x,w),Xs(o);return;case"option":for(G in f)if(f.hasOwnProperty(G)&&(d=f[G],d!=null))switch(G){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ct(o,l,G,d,f,null)}return;case"dialog":Je("beforetoggle",o),Je("toggle",o),Je("cancel",o),Je("close",o);break;case"iframe":case"object":Je("load",o);break;case"video":case"audio":for(d=0;d<pc.length;d++)Je(pc[d],o);break;case"image":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"embed":case"source":case"link":Je("error",o),Je("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(d=f[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Ct(o,l,Q,d,f,null)}return;default:if(Ou(l)){for(oe in f)f.hasOwnProperty(oe)&&(d=f[oe],d!==void 0&&Ip(o,l,oe,d,f,void 0));return}}for(O in f)f.hasOwnProperty(O)&&(d=f[O],d!=null&&Ct(o,l,O,d,f,null))}function R3(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,I=null,O=null,G=null,Q=null,oe=null;for(ee in f){var le=f[ee];if(f.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":G=le;default:d.hasOwnProperty(ee)||Ct(o,l,ee,null,d,le)}}for(var J in d){var ee=d[J];if(le=f[J],d.hasOwnProperty(J)&&(ee!=null||le!=null))switch(J){case"type":w=ee;break;case"name":x=ee;break;case"checked":Q=ee;break;case"defaultChecked":oe=ee;break;case"value":I=ee;break;case"defaultValue":O=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:ee!==le&&Ct(o,l,J,ee,d,le)}}Or(o,I,O,G,Q,oe,w,x);return;case"select":ee=I=O=J=null;for(w in f)if(G=f[w],f.hasOwnProperty(w)&&G!=null)switch(w){case"value":break;case"multiple":ee=G;default:d.hasOwnProperty(w)||Ct(o,l,w,null,d,G)}for(x in d)if(w=d[x],G=f[x],d.hasOwnProperty(x)&&(w!=null||G!=null))switch(x){case"value":J=w;break;case"defaultValue":O=w;break;case"multiple":I=w;default:w!==G&&Ct(o,l,x,w,d,G)}l=O,f=I,d=ee,J!=null?ra(o,!!f,J,!1):!!d!=!!f&&(l!=null?ra(o,!!f,l,!0):ra(o,!!f,f?[]:"",!1));return;case"textarea":ee=J=null;for(O in f)if(x=f[O],f.hasOwnProperty(O)&&x!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Ct(o,l,O,null,d,x)}for(I in d)if(x=d[I],w=f[I],d.hasOwnProperty(I)&&(x!=null||w!=null))switch(I){case"value":J=x;break;case"defaultValue":ee=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==w&&Ct(o,l,I,x,d,w)}St(o,J,ee);return;case"option":for(var je in f)if(J=f[je],f.hasOwnProperty(je)&&J!=null&&!d.hasOwnProperty(je))switch(je){case"selected":o.selected=!1;break;default:Ct(o,l,je,null,d,J)}for(G in d)if(J=d[G],ee=f[G],d.hasOwnProperty(G)&&J!==ee&&(J!=null||ee!=null))switch(G){case"selected":o.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ct(o,l,G,J,d,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in f)J=f[Oe],f.hasOwnProperty(Oe)&&J!=null&&!d.hasOwnProperty(Oe)&&Ct(o,l,Oe,null,d,J);for(Q in d)if(J=d[Q],ee=f[Q],d.hasOwnProperty(Q)&&J!==ee&&(J!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,l));break;default:Ct(o,l,Q,J,d,ee)}return;default:if(Ou(l)){for(var It in f)J=f[It],f.hasOwnProperty(It)&&J!==void 0&&!d.hasOwnProperty(It)&&Ip(o,l,It,void 0,d,J);for(oe in d)J=d[oe],ee=f[oe],!d.hasOwnProperty(oe)||J===ee||J===void 0&&ee===void 0||Ip(o,l,oe,J,d,ee);return}}for(var $ in f)J=f[$],f.hasOwnProperty($)&&J!=null&&!d.hasOwnProperty($)&&Ct(o,l,$,null,d,J);for(le in d)J=d[le],ee=f[le],!d.hasOwnProperty(le)||J===ee||J==null&&ee==null||Ct(o,l,le,J,d,ee)}var Np=null,Rp=null;function Gh(o){return o.nodeType===9?o:o.ownerDocument}function M2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k2(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Op(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Dp=null;function O3(){var o=window.event;return o&&o.type==="popstate"?o===Dp?!1:(Dp=o,!0):(Dp=null,!1)}var L2=typeof setTimeout=="function"?setTimeout:void 0,D3=typeof clearTimeout=="function"?clearTimeout:void 0,j2=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof j2<"u"?function(o){return j2.resolve(null).then(o).catch(M3)}:L2;function M3(o){setTimeout(function(){throw o})}function co(o){return o==="head"}function B2(o,l){var f=l,d=0,x=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<d&&8>d){f=d;var I=o.ownerDocument;if(f&1&&gc(I.documentElement),f&2&&gc(I.body),f&4)for(f=I.head,gc(f),I=f.firstChild;I;){var O=I.nextSibling,G=I.nodeName;I[zo]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=O}}if(x===0){o.removeChild(w),Ac(l);return}x--}else f==="$"||f==="$?"||f==="$!"?x++:d=f.charCodeAt(0)-48;else d=0;f=w}while(f);Ac(l)}function Pp(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Pp(f),qa(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function k3(o,l,f,d){for(;o.nodeType===1;){var x=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[zo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=ci(o.nextSibling),o===null)break}return null}function L3(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ci(o.nextSibling),o===null))return null;return o}function Mp(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function j3(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function ci(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var kp=null;function V2(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function U2(o,l,f){switch(l=Gh(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function gc(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);qa(o)}var Kr=new Map,F2=new Set;function qh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ea=ne.d;ne.d={f:B3,r:V3,D:U3,C:F3,L:H3,m:z3,X:q3,S:G3,M:X3};function B3(){var o=Ea.f(),l=Lh();return o||l}function V3(o){var l=bi(o);l!==null&&l.tag===5&&l.type==="form"?sx(l):Ea.r(o)}var Cl=typeof document>"u"?null:document;function H2(o,l,f){var d=Cl;if(d&&typeof l=="string"&&l){var x=cn(l);x='link[rel="'+o+'"][href="'+x+'"]',typeof f=="string"&&(x+='[crossorigin="'+f+'"]'),F2.has(x)||(F2.add(x),o={rel:o,crossOrigin:f,href:l},d.querySelector(x)===null&&(l=d.createElement("link"),Xn(l,"link",o),nn(l),d.head.appendChild(l)))}}function U3(o){Ea.D(o),H2("dns-prefetch",o,null)}function F3(o,l){Ea.C(o,l),H2("preconnect",o,l)}function H3(o,l,f){Ea.L(o,l,f);var d=Cl;if(d&&o&&l){var x='link[rel="preload"][as="'+cn(l)+'"]';l==="image"&&f&&f.imageSrcSet?(x+='[imagesrcset="'+cn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(x+='[imagesizes="'+cn(f.imageSizes)+'"]')):x+='[href="'+cn(o)+'"]';var w=x;switch(l){case"style":w=Il(o);break;case"script":w=Nl(o)}Kr.has(w)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Kr.set(w,o),d.querySelector(x)!==null||l==="style"&&d.querySelector(vc(w))||l==="script"&&d.querySelector(yc(w))||(l=d.createElement("link"),Xn(l,"link",o),nn(l),d.head.appendChild(l)))}}function z3(o,l){Ea.m(o,l);var f=Cl;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+cn(d)+'"][href="'+cn(o)+'"]',w=x;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Nl(o)}if(!Kr.has(w)&&(o=p({rel:"modulepreload",href:o},l),Kr.set(w,o),f.querySelector(x)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(yc(w)))return}d=f.createElement("link"),Xn(d,"link",o),nn(d),f.head.appendChild(d)}}}function G3(o,l,f){Ea.S(o,l,f);var d=Cl;if(d&&o){var x=cr(d).hoistableStyles,w=Il(o);l=l||"default";var I=x.get(w);if(!I){var O={loading:0,preload:null};if(I=d.querySelector(vc(w)))O.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Kr.get(w))&&Lp(o,f);var G=I=d.createElement("link");nn(G),Xn(G,"link",o),G._p=new Promise(function(Q,oe){G.onload=Q,G.onerror=oe}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Xh(I,l,d)}I={type:"stylesheet",instance:I,count:1,state:O},x.set(w,I)}}}function q3(o,l){Ea.X(o,l);var f=Cl;if(f&&o){var d=cr(f).hoistableScripts,x=Nl(o),w=d.get(x);w||(w=f.querySelector(yc(x)),w||(o=p({src:o,async:!0},l),(l=Kr.get(x))&&jp(o,l),w=f.createElement("script"),nn(w),Xn(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(x,w))}}function X3(o,l){Ea.M(o,l);var f=Cl;if(f&&o){var d=cr(f).hoistableScripts,x=Nl(o),w=d.get(x);w||(w=f.querySelector(yc(x)),w||(o=p({src:o,async:!0,type:"module"},l),(l=Kr.get(x))&&jp(o,l),w=f.createElement("script"),nn(w),Xn(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(x,w))}}function z2(o,l,f,d){var x=(x=ge.current)?qh(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Il(f.href),f=cr(x).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Il(f.href);var w=cr(x).hoistableStyles,I=w.get(o);if(I||(x=x.ownerDocument||x,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,I),(w=x.querySelector(vc(o)))&&!w._p&&(I.instance=w,I.state.loading=5),Kr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Kr.set(o,f),w||W3(x,o,f,I.state))),l&&d===null)throw Error(r(528,""));return I}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Nl(f),f=cr(x).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Il(o){return'href="'+cn(o)+'"'}function vc(o){return'link[rel="stylesheet"]['+o+"]"}function G2(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function W3(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Xn(l,"link",f),nn(l),o.head.appendChild(l))}function Nl(o){return'[src="'+cn(o)+'"]'}function yc(o){return"script[async]"+o}function q2(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+cn(f.href)+'"]');if(d)return l.instance=d,nn(d),d;var x=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),nn(d),Xn(d,"style",x),Xh(d,f.precedence,o),l.instance=d;case"stylesheet":x=Il(f.href);var w=o.querySelector(vc(x));if(w)return l.state.loading|=4,l.instance=w,nn(w),w;d=G2(f),(x=Kr.get(x))&&Lp(d,x),w=(o.ownerDocument||o).createElement("link"),nn(w);var I=w;return I._p=new Promise(function(O,G){I.onload=O,I.onerror=G}),Xn(w,"link",d),l.state.loading|=4,Xh(w,f.precedence,o),l.instance=w;case"script":return w=Nl(f.src),(x=o.querySelector(yc(w)))?(l.instance=x,nn(x),x):(d=f,(x=Kr.get(w))&&(d=p({},f),jp(d,x)),o=o.ownerDocument||o,x=o.createElement("script"),nn(x),Xn(x,"link",d),o.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Xh(d,f.precedence,o));return l.instance}function Xh(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=d.length?d[d.length-1]:null,w=x,I=0;I<d.length;I++){var O=d[I];if(O.dataset.precedence===l)w=O;else if(w!==x)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Lp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function jp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Wh=null;function X2(o,l,f){if(Wh===null){var d=new Map,x=Wh=new Map;x.set(f,d)}else x=Wh,d=x.get(f),d||(d=new Map,x.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),x=0;x<f.length;x++){var w=f[x];if(!(w[zo]||w[gn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(l)||"";I=o+I;var O=d.get(I);O?O.push(w):d.set(I,[w])}}return d}function W2(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function $3(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function $2(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var xc=null;function Y3(){}function K3(o,l,f){if(xc===null)throw Error(r(475));var d=xc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var x=Il(f.href),w=o.querySelector(vc(x));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=$h.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=w,nn(w);return}w=o.ownerDocument||o,f=G2(f),(x=Kr.get(x))&&Lp(f,x),w=w.createElement("link"),nn(w);var I=w;I._p=new Promise(function(O,G){I.onload=O,I.onerror=G}),Xn(w,"link",f),l.instance=w}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=$h.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function Q3(){if(xc===null)throw Error(r(475));var o=xc;return o.stylesheets&&o.count===0&&Bp(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&Bp(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function $h(){if(this.count--,this.count===0){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Yh=null;function Bp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Yh=new Map,l.forEach(Z3,o),Yh=null,$h.call(o))}function Z3(o,l){if(!(l.state.loading&4)){var f=Yh.get(o);if(f)var d=f.get(null);else{f=new Map,Yh.set(o,f);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var I=x[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),d=I)}d&&f.set(null,d)}x=l.instance,I=x.getAttribute("data-precedence"),w=f.get(I)||d,w===d&&f.set(null,x),f.set(I,x),this.count++,d=$h.bind(this),x.addEventListener("load",d),x.addEventListener("error",d),w?w.parentNode.insertBefore(x,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),l.state.loading|=4}}var _c={$$typeof:D,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function J3(o,l,f,d,x,w,I,O){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=d,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Y2(o,l,f,d,x,w,I,O,G,Q,oe,le){return o=new J3(o,l,f,I,O,G,Q,le),l=1,w===!0&&(l|=24),w=Pr(3,null,null,l),o.current=w,w.stateNode=o,l=x1(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:d,isDehydrated:f,cache:l},b1(w),o}function K2(o){return o?(o=ol,o):ol}function Q2(o,l,f,d,x,w){x=K2(x),d.context===null?d.context=x:d.pendingContext=x,d=Qa(l),d.payload={element:f},w=w===void 0?null:w,w!==null&&(d.callback=w),f=Za(o,d,l),f!==null&&(Br(f,o,l),Ku(f,o,l))}function Z2(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Vp(o,l){Z2(o,l),(o=o.alternate)&&Z2(o,l)}function J2(o){if(o.tag===13){var l=al(o,67108864);l!==null&&Br(l,o,67108864),Vp(o,67108864)}}var Kh=!0;function e4(o,l,f,d){var x=te.T;te.T=null;var w=ne.p;try{ne.p=2,Up(o,l,f,d)}finally{ne.p=w,te.T=x}}function t4(o,l,f,d){var x=te.T;te.T=null;var w=ne.p;try{ne.p=8,Up(o,l,f,d)}finally{ne.p=w,te.T=x}}function Up(o,l,f,d){if(Kh){var x=Fp(d);if(x===null)Cp(o,l,d,Qh,f),t_(o,d);else if(r4(x,o,l,f,d))d.stopPropagation();else if(t_(o,d),l&4&&-1<n4.indexOf(o)){for(;x!==null;){var w=bi(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=ai(w.pendingLanes);if(I!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;I;){var G=1<<31-Rn(I);O.entanglements[1]|=G,I&=~G}ji(w),(wt&6)===0&&(Mh=yr()+500,dc(0))}}break;case 13:O=al(w,2),O!==null&&Br(O,w,2),Lh(),Vp(w,2)}if(w=Fp(d),w===null&&Cp(o,l,d,Qh,f),w===x)break;x=w}x!==null&&d.stopPropagation()}else Cp(o,l,d,null,f)}}function Fp(o){return o=Fr(o),Hp(o)}var Qh=null;function Hp(o){if(Qh=null,o=ea(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Qh=o,null}function e_(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yu()){case Vo:return 2;case Fa:return 8;case xr:case Vs:return 32;case Te:return 268435456;default:return 32}default:return 32}}var zp=!1,fo=null,ho=null,po=null,wc=new Map,Ec=new Map,mo=[],n4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function t_(o,l){switch(o){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":wc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(l.pointerId)}}function bc(o,l,f,d,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:w,targetContainers:[x]},l!==null&&(l=bi(l),l!==null&&J2(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function r4(o,l,f,d,x){switch(l){case"focusin":return fo=bc(fo,o,l,f,d,x),!0;case"dragenter":return ho=bc(ho,o,l,f,d,x),!0;case"mouseover":return po=bc(po,o,l,f,d,x),!0;case"pointerover":var w=x.pointerId;return wc.set(w,bc(wc.get(w)||null,o,l,f,d,x)),!0;case"gotpointercapture":return w=x.pointerId,Ec.set(w,bc(Ec.get(w)||null,o,l,f,d,x)),!0}return!1}function n_(o){var l=ea(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,Lf(o.priority,function(){if(f.tag===13){var d=jr();d=Ha(d);var x=al(f,d);x!==null&&Br(x,f,d),Vp(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zh(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Fp(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);ia=d,f.target.dispatchEvent(d),ia=null}else return l=bi(f),l!==null&&J2(l),o.blockedOn=f,!1;l.shift()}return!0}function r_(o,l,f){Zh(o)&&f.delete(l)}function i4(){zp=!1,fo!==null&&Zh(fo)&&(fo=null),ho!==null&&Zh(ho)&&(ho=null),po!==null&&Zh(po)&&(po=null),wc.forEach(r_),Ec.forEach(r_)}function Jh(o,l){o.blockedOn===l&&(o.blockedOn=null,zp||(zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,i4)))}var ed=null;function i_(o){ed!==o&&(ed=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ed===o&&(ed=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],x=o[l+2];if(typeof d!="function"){if(Hp(d||f)===null)continue;break}var w=bi(f);w!==null&&(o.splice(l,3),l-=3,H1(w,{pending:!0,data:x,method:f.method,action:d},d,x))}}))}function Ac(o){function l(G){return Jh(G,o)}fo!==null&&Jh(fo,o),ho!==null&&Jh(ho,o),po!==null&&Jh(po,o),wc.forEach(l),Ec.forEach(l);for(var f=0;f<mo.length;f++){var d=mo[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<mo.length&&(f=mo[0],f.blockedOn===null);)n_(f),f.blockedOn===null&&mo.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var x=f[d],w=f[d+1],I=x[un]||null;if(typeof w=="function")I||i_(f);else if(I){var O=null;if(w&&w.hasAttribute("formAction")){if(x=w,I=w[un]||null)O=I.formAction;else if(Hp(x)!==null)continue}else O=I.action;typeof O=="function"?f[d+1]=O:(f.splice(d,3),d-=3),i_(f)}}}function Gp(o){this._internalRoot=o}td.prototype.render=Gp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=jr();Q2(f,d,o,l,null,null)},td.prototype.unmount=Gp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Q2(o.current,2,null,o,null,null),Lh(),l[Vr]=null}};function td(o){this._internalRoot=o}td.prototype.unstable_scheduleHydration=function(o){if(o){var l=za();o={blockedOn:null,target:o,priority:l};for(var f=0;f<mo.length&&l!==0&&l<mo[f].priority;f++);mo.splice(f,0,o),f===0&&n_(o)}};var a_=e.version;if(a_!=="19.1.0")throw Error(r(527,a_,"19.1.0"));ne.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var a4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{rt=nd.inject(a4),nt=nd}catch{}}return Tc.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",x=wx,w=Ex,I=bx,O=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks)),l=Y2(o,1,!1,null,null,f,d,x,w,I,O,null),o[Vr]=l.current,Tp(o),new Gp(l)},Tc.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,x="",w=wx,I=Ex,O=bx,G=null,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(O=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(G=f.unstable_transitionCallbacks),f.formState!==void 0&&(Q=f.formState)),l=Y2(o,1,!0,l,f??null,d,x,w,I,O,G,Q),l.context=K2(null),f=l.current,d=jr(),d=Ha(d),x=Qa(d),x.callback=null,Za(f,x,d),f=d,l.current.lanes=f,Ji(l,f),ji(l),o[Vr]=l.current,Tp(o),new td(l)},Tc.version="19.1.0",Tc}var m_;function m4(){if(m_)return Wp.exports;m_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wp.exports=p4(),Wp.exports}var g4=m4(),Cc={},g_;function v4(){if(g_)return Cc;g_=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.parse=s,Cc.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function s(y,_){const E=new a,A=y.length;if(A<2)return E;const S=(_==null?void 0:_.decode)||p;let C=0;do{const N=y.indexOf("=",C);if(N===-1)break;const D=y.indexOf(";",C),B=D===-1?A:D;if(N>B){C=y.lastIndexOf(";",N-1)+1;continue}const F=u(y,C,N),W=c(y,N,F),M=y.slice(F,W);if(E[M]===void 0){let R=u(y,N+1,B),P=c(y,B,R);const L=S(y.slice(R,P));E[M]=L}C=B+1}while(C<A);return E}function u(y,_,E){do{const A=y.charCodeAt(_);if(A!==32&&A!==9)return _}while(++_<E);return E}function c(y,_,E){for(;_>E;){const A=y.charCodeAt(--_);if(A!==32&&A!==9)return _+1}return E}function h(y,_,E){const A=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const S=A(_);if(!e.test(S))throw new TypeError(`argument val is invalid: ${_}`);let C=y+"="+S;if(!E)return C;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);C+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);C+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);C+="; Path="+E.path}if(E.expires){if(!m(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);C+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(C+="; HttpOnly"),E.secure&&(C+="; Secure"),E.partitioned&&(C+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return C}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return i.call(y)==="[object Date]"}return Cc}v4();var v_="popstate";function y4(n={}){function e(r,i){let{pathname:a,search:s,hash:u}=r.location;return Fm("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Zc(i)}return _4(e,t,null,n)}function Ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x4(){return Math.random().toString(36).substring(2,10)}function y_(n,e){return{usr:n.state,key:n.key,idx:e}}function Fm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:t,key:e&&e.key||r||x4()}}function Zc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _4(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,h=p();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function p(){return(s.state||{idx:null}).idx}function m(){u="POP";let S=p(),C=S==null?null:S-h;h=S,c&&c({action:u,location:A.location,delta:C})}function y(S,C){u="PUSH";let N=Fm(A.location,S,C);h=p()+1;let D=y_(N,h),B=A.createHref(N);try{s.pushState(D,"",B)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(B)}a&&c&&c({action:u,location:A.location,delta:1})}function _(S,C){u="REPLACE";let N=Fm(A.location,S,C);h=p();let D=y_(N,h),B=A.createHref(N);s.replaceState(D,"",B),a&&c&&c({action:u,location:A.location,delta:0})}function E(S){return w4(S)}let A={get action(){return u},get location(){return n(i,s)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(v_,m),c=S,()=>{i.removeEventListener(v_,m),c=null}},createHref(S){return e(i,S)},createURL:E,encodeLocation(S){let C=E(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:_,go(S){return s.go(S)}};return A}function w4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Zc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function db(n,e,t="/"){return E4(n,e,t,!1)}function E4(n,e,t,r){let i=typeof e=="string"?tu(e):e,a=Da(i.pathname||"/",t);if(a==null)return null;let s=pb(n);b4(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let h=M4(a);u=D4(s[c],h,r)}return u}function pb(n,e=[],t=[],r=""){let i=(a,s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=Na([r,c.relativePath]),p=t.concat(c);a.children&&a.children.length>0&&(Ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),pb(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:R4(h,a.index),routesMeta:p})};return n.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let c of mb(a.path))i(a,s,c)}),e}function mb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=mb(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function b4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:O4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var A4=/^:[\w-]+$/,S4=3,T4=2,C4=1,I4=10,N4=-2,x_=n=>n==="*";function R4(n,e){let t=n.split("/"),r=t.length;return t.some(x_)&&(r+=N4),e&&(r+=T4),t.filter(i=>!x_(i)).reduce((i,a)=>i+(A4.test(a)?S4:a===""?C4:I4),r)}function O4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function D4(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",m=jd({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),y=c.route;if(!m&&h&&t&&!r[r.length-1].route.index&&(m=jd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Na([a,m.pathname]),pathnameBase:B4(Na([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Na([a,m.pathnameBase]))}return s}function jd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=P4(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},y)=>{if(p==="*"){let E=u[y]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[y];return m&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:n}}function P4(n,e=!1,t=!0){vi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function M4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Da(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function k4(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?tu(n):n;return{pathname:t?t.startsWith("/")?t:L4(t,e):e,search:V4(r),hash:U4(i)}}function L4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Qp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Rg(n){let e=j4(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Og(n,e,t,r=!1){let i;typeof n=="string"?i=tu(n):(i={...n},Ht(!i.pathname||!i.pathname.includes("?"),Qp("?","pathname","search",i)),Ht(!i.pathname||!i.pathname.includes("#"),Qp("#","pathname","hash",i)),Ht(!i.search||!i.search.includes("#"),Qp("#","search","hash",i)));let a=n===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=t;else{let m=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}u=m>=0?e[m]:"/"}let c=k4(i,u),h=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var Na=n=>n.join("/").replace(/\/\/+/g,"/"),B4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),V4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function F4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gb=["POST","PUT","PATCH","DELETE"];new Set(gb);var H4=["GET",...gb];new Set(H4);var nu=U.createContext(null);nu.displayName="DataRouter";var f0=U.createContext(null);f0.displayName="DataRouterState";var vb=U.createContext({isTransitioning:!1});vb.displayName="ViewTransition";var z4=U.createContext(new Map);z4.displayName="Fetchers";var G4=U.createContext(null);G4.displayName="Await";var yi=U.createContext(null);yi.displayName="Navigation";var yf=U.createContext(null);yf.displayName="Location";var xi=U.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var Dg=U.createContext(null);Dg.displayName="RouteError";function q4(n,{relative:e}={}){Ht(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=U.useContext(yi),{hash:i,pathname:a,search:s}=xf(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Na([t,a])),r.createHref({pathname:u,search:s,hash:i})}function ru(){return U.useContext(yf)!=null}function Yi(){return Ht(ru(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(yf).location}var yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xb(n){U.useContext(yi).static||U.useLayoutEffect(n)}function Jn(){let{isDataRoute:n}=U.useContext(xi);return n?aI():X4()}function X4(){Ht(ru(),"useNavigate() may be used only in the context of a <Router> component.");let n=U.useContext(nu),{basename:e,navigator:t}=U.useContext(yi),{matches:r}=U.useContext(xi),{pathname:i}=Yi(),a=JSON.stringify(Rg(r)),s=U.useRef(!1);return xb(()=>{s.current=!0}),U.useCallback((c,h={})=>{if(vi(s.current,yb),!s.current)return;if(typeof c=="number"){t.go(c);return}let p=Og(c,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Na([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,a,i,n])}U.createContext(null);function W4(){let{matches:n}=U.useContext(xi),e=n[n.length-1];return e?e.params:{}}function xf(n,{relative:e}={}){let{matches:t}=U.useContext(xi),{pathname:r}=Yi(),i=JSON.stringify(Rg(t));return U.useMemo(()=>Og(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function $4(n,e){return _b(n,e)}function _b(n,e,t,r){var C;Ht(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(yi),{matches:a}=U.useContext(xi),s=a[a.length-1],u=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",p=s&&s.route;{let N=p&&p.path||"";wb(c,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=Yi(),y;if(e){let N=typeof e=="string"?tu(e):e;Ht(h==="/"||((C=N.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),y=N}else y=m;let _=y.pathname||"/",E=_;if(h!=="/"){let N=h.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=db(n,{pathname:E});vi(p||A!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),vi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=J4(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Na([h,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Na([h,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,t,r);return e&&S?U.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function Y4(){let n=iI(),e=F4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:a},"ErrorBoundary")," or"," ",U.createElement("code",{style:a},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:i},t):null,s)}var K4=U.createElement(Y4,null),Q4=class extends U.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?U.createElement(xi.Provider,{value:this.props.routeContext},U.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z4({routeContext:n,match:e,children:t}){let r=U.useContext(nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(xi.Provider,{value:n},t)}function J4(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let c=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Ht(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let m,y=!1,_=null,E=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||K4,s&&(u<0&&p===0?(wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):u===p&&(y=!0,E=h.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,p+1)),S=()=>{let C;return m?C=_:y?C=E:h.route.Component?C=U.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=c,U.createElement(Z4,{match:h,routeContext:{outlet:c,matches:A,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?U.createElement(Q4,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function Pg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eI(n){let e=U.useContext(nu);return Ht(e,Pg(n)),e}function tI(n){let e=U.useContext(f0);return Ht(e,Pg(n)),e}function nI(n){let e=U.useContext(xi);return Ht(e,Pg(n)),e}function Mg(n){let e=nI(n),t=e.matches[e.matches.length-1];return Ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rI(){return Mg("useRouteId")}function iI(){var r;let n=U.useContext(Dg),e=tI("useRouteError"),t=Mg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function aI(){let{router:n}=eI("useNavigate"),e=Mg("useNavigate"),t=U.useRef(!1);return xb(()=>{t.current=!0}),U.useCallback(async(i,a={})=>{vi(t.current,yb),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var __={};function wb(n,e,t){!e&&!__[n]&&(__[n]=!0,vi(!1,t))}U.memo(oI);function oI({routes:n,future:e,state:t}){return _b(n,void 0,t,e)}function xd({to:n,replace:e,state:t,relative:r}){Ht(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=U.useContext(yi);vi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=U.useContext(xi),{pathname:s}=Yi(),u=Jn(),c=Og(n,Rg(a),s,r==="path"),h=JSON.stringify(c);return U.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function Ln(n){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Ht(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof t=="string"&&(t=tu(t));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:y="default"}=t,_=U.useMemo(()=>{let E=Da(c,s);return E==null?null:{location:{pathname:E,search:h,hash:p,state:m,key:y},navigationType:r}},[s,c,h,p,m,y,r]);return vi(_!=null,`<Router basename="${s}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:U.createElement(yi.Provider,{value:u},U.createElement(yf.Provider,{children:e,value:_}))}function lI({children:n,location:e}){return $4(Hm(n),e)}function Hm(n,e=[]){let t=[];return U.Children.forEach(n,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){t.push.apply(t,Hm(r.props.children,a));return}Ht(r.type===Ln,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Hm(r.props.children,a)),t.push(s)}),t}var _d="get",wd="application/x-www-form-urlencoded";function h0(n){return n!=null&&typeof n.tagName=="string"}function uI(n){return h0(n)&&n.tagName.toLowerCase()==="button"}function cI(n){return h0(n)&&n.tagName.toLowerCase()==="form"}function fI(n){return h0(n)&&n.tagName.toLowerCase()==="input"}function hI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dI(n,e){return n.button===0&&(!e||e==="_self")&&!hI(n)}var rd=null;function pI(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var mI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zp(n){return n!=null&&!mI.has(n)?(vi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wd}"`),null):n}function gI(n,e){let t,r,i,a,s;if(cI(n)){let u=n.getAttribute("action");r=u?Da(u,e):null,t=n.getAttribute("method")||_d,i=Zp(n.getAttribute("enctype"))||wd,a=new FormData(n)}else if(uI(n)||fI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?Da(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||_d,i=Zp(n.getAttribute("formenctype"))||Zp(u.getAttribute("enctype"))||wd,a=new FormData(u,n),!pI()){let{name:h,type:p,value:m}=n;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,m)}}else{if(h0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_d,r=null,i=wd,s=n}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:s}}function kg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function vI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xI(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await vI(a,t);return s.links?s.links():[]}return[]}));return bI(r.flat(1).filter(yI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function w_(n,e,t,r,i,a){let s=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var p;return t[h].pathname!==c.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,h)=>s(c,h)||u(c,h)):a==="data"?e.filter((c,h)=>{var m;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function _I(n,e,{includeHydrateFallback:t}={}){return wI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function wI(n){return[...new Set(n)]}function EI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(EI(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AI=new Set([100,101,204,205]);function SI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Da(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Eb(){let n=U.useContext(nu);return kg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TI(){let n=U.useContext(f0);return kg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Lg=U.createContext(void 0);Lg.displayName="FrameworkContext";function bb(){let n=U.useContext(Lg);return kg(n,"You must render this element inside a <HydratedRouter> element"),n}function CI(n,e){let t=U.useContext(Lg),[r,i]=U.useState(!1),[a,s]=U.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=e,y=U.useRef(null);U.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let A=C=>{C.forEach(N=>{s(N.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[n]),U.useEffect(()=>{if(r){let A=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(A)}}},[r]);let _=()=>{i(!0)},E=()=>{i(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:Ic(u,_),onBlur:Ic(c,E),onMouseEnter:Ic(h,_),onMouseLeave:Ic(p,E),onTouchStart:Ic(m,_)}]:[!1,y,{}]}function Ic(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function II({page:n,...e}){let{router:t}=Eb(),r=U.useMemo(()=>db(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?U.createElement(RI,{page:n,matches:r,...e}):null}function NI(n){let{manifest:e,routeModules:t}=bb(),[r,i]=U.useState([]);return U.useEffect(()=>{let a=!1;return xI(n,e,t).then(s=>{a||i(s)}),()=>{a=!0}},[n,e,t]),r}function RI({page:n,matches:e,...t}){let r=Yi(),{manifest:i,routeModules:a}=bb(),{basename:s}=Eb(),{loaderData:u,matches:c}=TI(),h=U.useMemo(()=>w_(n,e,c,i,r,"data"),[n,e,c,i,r]),p=U.useMemo(()=>w_(n,e,c,i,r,"assets"),[n,e,c,i,r]),m=U.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(C=>{var D;let N=i.routes[C.route.id];!N||!N.hasLoader||(!h.some(B=>B.route.id===C.route.id)&&C.route.id in u&&((D=a[C.route.id])!=null&&D.shouldRevalidate)||N.hasClientLoader?A=!0:E.add(C.route.id))}),E.size===0)return[];let S=SI(n,s);return A&&E.size>0&&S.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[s,u,r,i,h,e,n,a]),y=U.useMemo(()=>_I(p,i),[p,i]),_=NI(p);return U.createElement(U.Fragment,null,m.map(E=>U.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>U.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:A})=>U.createElement("link",{key:E,...A})))}function OI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ab&&(window.__reactRouterVersion="7.6.1")}catch{}function DI({basename:n,children:e,window:t}){let r=U.useRef();r.current==null&&(r.current=y4({window:t,v5Compat:!0}));let i=r.current,[a,s]=U.useState({action:i.action,location:i.location}),u=U.useCallback(c=>{U.startTransition(()=>s(c))},[s]);return U.useLayoutEffect(()=>i.listen(u),[i,u]),U.createElement(sI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var Sb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=U.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:h,preventScrollReset:p,viewTransition:m,...y},_){let{basename:E}=U.useContext(yi),A=typeof h=="string"&&Sb.test(h),S,C=!1;if(typeof h=="string"&&A&&(S=h,Ab))try{let P=new URL(window.location.href),L=h.startsWith("//")?new URL(P.protocol+h):new URL(h),z=Da(L.pathname,E);L.origin===P.origin&&z!=null?h=z+L.search+L.hash:C=!0}catch{vi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=q4(h,{relative:i}),[D,B,F]=CI(r,y),W=LI(h,{replace:s,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:m});function M(P){e&&e(P),P.defaultPrevented||W(P)}let R=U.createElement("a",{...y,...F,href:S||N,onClick:C||a?e:M,ref:OI(_,B),target:c,"data-discover":!A&&t==="render"?"true":void 0});return D&&!A?U.createElement(U.Fragment,null,R,U.createElement(II,{page:N})):R});dt.displayName="Link";var PI=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...h},p){let m=xf(s,{relative:h.relative}),y=Yi(),_=U.useContext(f0),{navigator:E,basename:A}=U.useContext(yi),S=_!=null&&FI(m)&&u===!0,C=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,N=y.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(N=N.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&A&&(D=Da(D,A)||D);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let F=N===C||!i&&N.startsWith(C)&&N.charAt(B)==="/",W=D!=null&&(D===C||!i&&D.startsWith(C)&&D.charAt(C.length)==="/"),M={isActive:F,isPending:W,isTransitioning:S},R=F?e:void 0,P;typeof r=="function"?P=r(M):P=[r,F?"active":null,W?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(M):a;return U.createElement(dt,{...h,"aria-current":R,className:P,ref:p,style:L,to:s,viewTransition:u},typeof c=="function"?c(M):c)});PI.displayName="NavLink";var MI=U.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:s=_d,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:m,...y},_)=>{let E=VI(),A=UI(u,{relative:h}),S=s.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&Sb.test(u),N=D=>{if(c&&c(D),D.defaultPrevented)return;D.preventDefault();let B=D.nativeEvent.submitter,F=(B==null?void 0:B.getAttribute("formmethod"))||s;E(B||D.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:m})};return U.createElement("form",{ref:_,method:S,action:A,onSubmit:r?c:N,...y,"data-discover":!C&&n==="render"?"true":void 0})});MI.displayName="Form";function kI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(n){let e=U.useContext(nu);return Ht(e,kI(n)),e}function LI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let u=Jn(),c=Yi(),h=xf(n,{relative:a});return U.useCallback(p=>{if(dI(p,e)){p.preventDefault();let m=t!==void 0?t:Zc(c)===Zc(h);u(n,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,u,h,t,r,e,n,i,a,s])}var jI=0,BI=()=>`__${String(++jI)}__`;function VI(){let{router:n}=Tb("useSubmit"),{basename:e}=U.useContext(yi),t=rI();return U.useCallback(async(r,i={})=>{let{action:a,method:s,encType:u,formData:c,body:h}=gI(r,e);if(i.navigate===!1){let p=i.fetcherKey||BI();await n.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function UI(n,{relative:e}={}){let{basename:t}=U.useContext(yi),r=U.useContext(xi);Ht(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...xf(n||".",{relative:e})},s=Yi();if(n==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Na([t,a.pathname])),Zc(a)}function FI(n,e={}){let t=U.useContext(vb);Ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tb("useViewTransitionState"),i=xf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Da(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=Da(t.nextLocation.pathname,r)||t.nextLocation.pathname;return jd(i.pathname,s)!=null||jd(i.pathname,a)!=null}[...AI];const HI=()=>{};var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],u=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},Ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,u=s?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,_=h&63;c||(_=64,s||(y=64)),r.push(t[p],t[m],t[y],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Cb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const m=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||m==null)throw new GI;const y=a<<2|u>>4;if(r.push(y),h!==64){const _=u<<4&240|h>>2;if(r.push(_),m!==64){const E=h<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(n){const e=Cb(n);return Ib.encodeByteArray(e,!0)},Bd=function(n){return qI(n).replace(/\./g,"")},Nb=function(n){try{return Ib.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>XI().__FIREBASE_DEFAULTS__,$I=()=>{if(typeof process>"u"||typeof E_>"u")return;const n=E_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Nb(n[1]);return e&&JSON.parse(e)},d0=()=>{try{return HI()||WI()||$I()||YI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rb=n=>{var e,t;return(t=(e=d0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KI=n=>{const e=Rb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ob=()=>{var n;return(n=d0())===null||n===void 0?void 0:n.config},Db=n=>{var e;return(e=d0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return n.endsWith(".cloudworkstations.dev")}async function Pb(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bd(JSON.stringify(t)),Bd(JSON.stringify(s)),""].join(".")}const zc={};function JI(){const n={prod:[],emulator:[]};for(const e of Object.keys(zc))zc[e]?n.emulator.push(e):n.prod.push(e);return n}function eN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let b_=!1;function Mb(n,e){if(typeof window>"u"||typeof document>"u"||!_f(window.location.host)||zc[n]===e||zc[n]||b_)return;zc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=JI().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{b_=!0,s()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=eN(r),_=t("text"),E=document.getElementById(_)||document.createElement("span"),A=t("learnmore"),S=document.getElementById(A)||document.createElement("a"),C=t("preprendIcon"),N=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;u(D),p(S,A);const B=h();c(N,C),D.append(N,E,S,B),document.body.appendChild(D)}a?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function nN(){var n;const e=(n=d0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oN(){const n=sr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class Ba extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?fN(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Ba(i,u,r)}}function fN(n,e){return n.replace(hN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hN=/\{\$([^}]+)}/g;function dN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ns(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(A_(a)&&A_(s)){if(!Ns(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function A_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function pN(n,e){const t=new mN(n,e);return t.subscribe.bind(t)}class mN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jp),i.error===void 0&&(i.error=Jp),i.complete===void 0&&(i.complete=Jp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n){return n&&n._delegate?n._delegate:n}class Rs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xN(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yN(n){return n===_s?void 0:n}function xN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const wN={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},EN=et.INFO,bN={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},AN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=bN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jg{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=AN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const SN=(n,e)=>e.some(t=>n instanceof t);let S_,T_;function TN(){return S_||(S_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CN(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,zm=new WeakMap,Lb=new WeakMap,em=new WeakMap,Bg=new WeakMap;function IN(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(Eo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&kb.set(t,n)}).catch(()=>{}),Bg.set(e,n),e}function NN(n){if(zm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});zm.set(n,e)}let Gm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Lb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RN(n){Gm=n(Gm)}function ON(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(tm(this),e,...t);return Lb.set(r,e.sort?e.sort():[e]),Eo(r)}:CN().includes(n)?function(...e){return n.apply(tm(this),e),Eo(kb.get(this))}:function(...e){return Eo(n.apply(tm(this),e))}}function DN(n){return typeof n=="function"?ON(n):(n instanceof IDBTransaction&&NN(n),SN(n,TN())?new Proxy(n,Gm):n)}function Eo(n){if(n instanceof IDBRequest)return IN(n);if(em.has(n))return em.get(n);const e=DN(n);return e!==n&&(em.set(n,e),Bg.set(e,n)),e}const tm=n=>Bg.get(n);function PN(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),u=Eo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Eo(s.result),c.oldVersion,c.newVersion,Eo(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const MN=["get","getKey","getAll","getAllKeys","count"],kN=["put","add","delete","clear"],nm=new Map;function C_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=kN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MN.includes(t)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return nm.set(e,a),a}RN(n=>({...n,get:(e,t,r)=>C_(e,t)||n.get(e,t,r),has:(e,t)=>!!C_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function jN(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",I_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new jg("@firebase/app"),BN="@firebase/app-compat",VN="@firebase/analytics-compat",UN="@firebase/analytics",FN="@firebase/app-check-compat",HN="@firebase/app-check",zN="@firebase/auth",GN="@firebase/auth-compat",qN="@firebase/database",XN="@firebase/data-connect",WN="@firebase/database-compat",$N="@firebase/functions",YN="@firebase/functions-compat",KN="@firebase/installations",QN="@firebase/installations-compat",ZN="@firebase/messaging",JN="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",nR="@firebase/remote-config",rR="@firebase/remote-config-compat",iR="@firebase/storage",aR="@firebase/storage-compat",oR="@firebase/firestore",sR="@firebase/ai",lR="@firebase/firestore-compat",uR="firebase",cR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",fR={[qm]:"fire-core",[BN]:"fire-core-compat",[UN]:"fire-analytics",[VN]:"fire-analytics-compat",[HN]:"fire-app-check",[FN]:"fire-app-check-compat",[zN]:"fire-auth",[GN]:"fire-auth-compat",[qN]:"fire-rtdb",[XN]:"fire-data-connect",[WN]:"fire-rtdb-compat",[$N]:"fire-fn",[YN]:"fire-fn-compat",[KN]:"fire-iid",[QN]:"fire-iid-compat",[ZN]:"fire-fcm",[JN]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[nR]:"fire-rc",[rR]:"fire-rc-compat",[iR]:"fire-gcs",[aR]:"fire-gcs-compat",[oR]:"fire-fst",[lR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,hR=new Map,Wm=new Map;function N_(n,e){try{n.container.addComponent(e)}catch(t){Pa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ql(n){const e=n.name;if(Wm.has(e))return Pa.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,n);for(const t of Vd.values())N_(t,n);for(const t of hR.values())N_(t,n);return!0}function Vg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Wt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new wf("app","Firebase",dR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=cR;function jb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw bo.create("bad-app-name",{appName:String(i)});if(t||(t=Ob()),!t)throw bo.create("no-options");const a=Vd.get(i);if(a){if(Ns(t,a.options)&&Ns(r,a.config))return a;throw bo.create("duplicate-app",{appName:i})}const s=new _N(i);for(const c of Wm.values())s.addComponent(c);const u=new pR(t,r,s);return Vd.set(i,u),u}function Bb(n=Xm){const e=Vd.get(n);if(!e&&n===Xm&&Ob())return jb();if(!e)throw bo.create("no-app",{appName:n});return e}function Ao(n,e,t){var r;let i=(r=fR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pa.warn(u.join(" "));return}ql(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,Jc="firebase-heartbeat-store";let rm=null;function Vb(){return rm||(rm=PN(mR,gR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw bo.create("idb-open",{originalErrorMessage:n.message})})),rm}async function vR(n){try{const t=(await Vb()).transaction(Jc),r=await t.objectStore(Jc).get(Ub(n));return await t.done,r}catch(e){if(e instanceof Ba)Pa.warn(e.message);else{const t=bo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pa.warn(t.message)}}}async function R_(n,e){try{const r=(await Vb()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,Ub(n)),await r.done}catch(t){if(t instanceof Ba)Pa.warn(t.message);else{const r=bo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pa.warn(r.message)}}}function Ub(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,xR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ER(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>xR){const s=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Pa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=O_(),{heartbeatsToSend:r,unsentEntries:i}=wR(this._heartbeatsCache.heartbeats),a=Bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Pa.warn(t),""}}}function O_(){return new Date().toISOString().substring(0,10)}function wR(n,e=yR){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),D_(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),D_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return R_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return R_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function D_(n){return Bd(JSON.stringify({version:2,heartbeats:n})).length}function bR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){ql(new Rs("platform-logger",e=>new LN(e),"PRIVATE")),ql(new Rs("heartbeat",e=>new _R(e),"PRIVATE")),Ao(qm,I_,n),Ao(qm,I_,"esm2017"),Ao("fire-js","")}AR("");var SR="firebase",TR="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(SR,TR,"app");function Ug(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={PHONE:"phone",TOTP:"totp"},IR={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},NR={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},RR={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},OR={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PR=DR,Hb=Fb,zb=new wf("auth","Firebase",Fb()),MR={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new jg("@firebase/auth");function kR(n,...e){Ud.logLevel<=et.WARN&&Ud.warn(`Auth (${au}): ${n}`,...e)}function Ed(n,...e){Ud.logLevel<=et.ERROR&&Ud.error(`Auth (${au}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,...e){throw Hg(n,...e)}function vr(n,...e){return Hg(n,...e)}function Fg(n,e,t){const r=Object.assign(Object.assign({},Hb()),{[e]:t});return new wf("auth","Firebase",r).create(e,{appName:n.name})}function Fn(n){return Fg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ou(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ir(n,"argument-error"),Fg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zb.create(n,...e)}function me(n,e,...t){if(!n)throw Hg(e,...t)}function Fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ed(e),new Error(e)}function Ma(n,e){n||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zg(){return P_()==="http:"||P_()==="https:"}function P_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zg()||iN()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ma(t>e,"Short delay should be less than long delay!"),this.isMobile=tN()||aN()}get(){return LR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e){Ma(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new Ef(3e4,6e4);function Lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function jt(n,e,t,r,i={}){return qb(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=iu(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},a);return rN()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&_f(n.emulatorConfig.host)&&(h.credentials="include"),Gb.fetch()(await Xb(n,n.config.apiHost,t,u),h)})}async function qb(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},BR),e);try{const i=new HR(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Lc(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Lc(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Lc(n,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Fg(n,p,h);Ir(n,p)}}catch(i){if(i instanceof Ba)throw i;Ir(n,"network-request-failed",{message:String(i)})}}async function Va(n,e,t,r,i={}){const a=await jt(n,e,t,r,i);return"mfaPendingCredential"in a&&Ir(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Xb(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?Gg(n.config,i):`${n.config.apiScheme}://${i}`;return VR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function FR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),UR.get())})}}function Lc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=vr(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n){return n!==void 0&&n.getResponse!==void 0}function k_(n){return n!==void 0&&n.enterprise!==void 0}class Wb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return FR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n){return(await jt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function $b(n,e){return jt(n,"GET","/v2/recaptchaConfig",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(n,e){return jt(n,"POST","/v1/accounts:delete",e)}async function qR(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function Fd(n,e){return jt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e=!1){return Fe(n).getIdToken(e)}async function Yb(n,e=!1){const t=Fe(n),r=await t.getIdToken(e),i=p0(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Gc(im(i.auth_time)),issuedAtTime:Gc(im(i.iat)),expirationTime:Gc(im(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function im(n){return Number(n)*1e3}function p0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nb(t);return i?JSON.parse(i):(Ed("Failed to decode base64 JWT payload"),null)}catch(i){return Ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L_(n){const e=p0(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ba&&WR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function WR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gc(this.lastLoginAt),this.creationTime=Gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await ka(n,Fd(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Qb(a.providerUserInfo):[],u=YR(n.providerData,s),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new $m(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function Kb(n){const e=Fe(n);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YR(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Qb(n){return n.map(e=>{var{providerId:t}=e,r=Ug(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,e){const t=await qb(n,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await Xb(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Gb.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QR(n,e){return jt(n,"POST","/v2/accounts:revokeToken",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=L_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await KR(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Ul;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(me(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Ug(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $m(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await ka(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Yb(this,e)}reload(){return Kb(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wt(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await ka(this,GR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,s,u,c,h,p;const m=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,A=(u=t.tenantId)!==null&&u!==void 0?u:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,C=(h=t.createdAt)!==null&&h!==void 0?h:void 0,N=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:D,emailVerified:B,isAnonymous:F,providerData:W,stsTokenManager:M}=t;me(D&&M,e,"internal-error");const R=Ul.fromJSON(this.name,M);me(typeof D=="string",e,"internal-error"),vo(m,e.name),vo(y,e.name),me(typeof B=="boolean",e,"internal-error"),me(typeof F=="boolean",e,"internal-error"),vo(_,e.name),vo(E,e.name),vo(A,e.name),vo(S,e.name),vo(C,e.name),vo(N,e.name);const P=new mi({uid:D,auth:e,email:y,emailVerified:B,displayName:m,isAnonymous:F,photoURL:E,phoneNumber:_,tenantId:A,stsTokenManager:R,createdAt:C,lastLoginAt:N});return W&&Array.isArray(W)&&(P.providerData=W.map(L=>Object.assign({},L))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ul;i.updateFromServerResponse(t);const a=new mi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Qb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ul;u.updateFromIdToken(r);const c=new mi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $m(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_=new Map;function Ca(n){Ma(n instanceof Function,"Expected a class definition");let e=j_.get(n);return e?(Ma(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,j_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Zb.type="NONE";const Ym=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(n,e,t){return`firebase:${n}:${e}:${t}`}class Fl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=bd(this.userKey,i.apiKey,a),this.fullPersistenceKey=bd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fd(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fl(Ca(Ym),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Ca(Ym);const s=bd(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(s);if(p){let m;if(typeof p=="string"){const y=await Fd(e,{idToken:p}).catch(()=>{});if(!y)break;m=await mi._fromGetAccountInfoResponse(e,y,p)}else m=mi._fromJSON(e,p);h!==a&&(u=m),a=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Fl(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new Fl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(aA(e))return"Webos";if(eA(e))return"Safari";if((e.includes("chrome/")||tA(e))&&!e.includes("edge/"))return"Chrome";if(rA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jb(n=sr()){return/firefox\//i.test(n)}function eA(n=sr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tA(n=sr()){return/crios\//i.test(n)}function nA(n=sr()){return/iemobile/i.test(n)}function rA(n=sr()){return/android/i.test(n)}function iA(n=sr()){return/blackberry/i.test(n)}function aA(n=sr()){return/webos/i.test(n)}function qg(n=sr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZR(n=sr()){var e;return qg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JR(){return oN()&&document.documentMode===10}function oA(n=sr()){return qg(n)||rA(n)||aA(n)||iA(n)||/windows phone/i.test(n)||nA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(n,e=[]){let t;switch(n){case"Browser":t=B_(sr());break;case"Worker":t=`${B_(sr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(n,e={}){return jt(n,"GET","/v2/passwordPolicy",Lt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=6;class r6{constructor(e){var t,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:n6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V_(this),this.idTokenSubscription=new V_(this),this.beforeStateQueue=new e6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ca(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fd(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Wt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wt(this.app))return Promise.reject(Fn(this));const t=e?Fe(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wt(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wt(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t6(this),t=new r6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ca(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Ca(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Wt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Jt(n){return Fe(n)}class V_{constructor(e){this.auth=e,this.observer=null,this.addObserver=pN(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a6(n){bf=n}function Xg(n){return bf.loadJS(n)}function o6(){return bf.recaptchaV2Script}function s6(){return bf.recaptchaEnterpriseScript}function l6(){return bf.gapiScript}function lA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=500,c6=6e4,id=1e12;class f6{constructor(e){this.auth=e,this.counter=id,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new p6(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||id;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||id;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||id;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class h6{constructor(){this.enterprise=new d6}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class d6{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class p6{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=m6(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},c6)},u6))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function m6(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const g6="recaptcha-enterprise",qc="NO_RECAPTCHA";class uA{constructor(e){this.type=g6,this.auth=Jt(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{$b(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Wb(c);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,s(h.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;k_(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(h=>{s(h)}).catch(()=>{s(qc)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h6().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!t&&k_(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=s6();c.length!==0&&(c+=u),Xg(c).then(()=>{i(u,a,s)}).catch(h=>{s(h)})}}).catch(u=>{s(u)})})}}async function Nc(n,e,t,r=!1,i=!1){const a=new uA(n);let s;if(i)s=qc;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function So(n,e,t,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Nc(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Nc(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const u=await Nc(n,e,t);return r(n,u).catch(async c=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const p=await Nc(n,e,t,!1,!0);return r(n,p)}return Promise.reject(c)})}else{const u=await Nc(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function cA(n){const e=Jt(n),t=await $b(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Wb(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new uA(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(n,e){const t=Vg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Ns(a,e??{}))return i;Ir(i,"already-initialized")}return t.initialize({options:e})}function v6(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ca);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hA(n,e,t){const r=Jt(n);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),a=dA(e),{host:s,port:u}=y6(e),c=u===null?"":`:${u}`,h={url:`${a}//${s}${c}/`},p=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Ns(h,r.config.emulator)&&Ns(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,_f(s)?(Pb(`${a}//${s}${c}`),Mb("Auth",!0)):i||x6()}function dA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function y6(n){const e=dA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:U_(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:U_(s)}}}function U_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function x6(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,t){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e){return jt(n,"POST","/v1/accounts:resetPassword",Lt(n,e))}async function _6(n,e){return jt(n,"POST","/v1/accounts:update",e)}async function w6(n,e){return jt(n,"POST","/v1/accounts:signUp",e)}async function E6(n,e){return jt(n,"POST","/v1/accounts:update",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(n,e){return Va(n,"POST","/v1/accounts:signInWithPassword",Lt(n,e))}async function m0(n,e){return jt(n,"POST","/v1/accounts:sendOobCode",Lt(n,e))}async function A6(n,e){return m0(n,e)}async function S6(n,e){return m0(n,e)}async function T6(n,e){return m0(n,e)}async function C6(n,e){return m0(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(n,e){return Va(n,"POST","/v1/accounts:signInWithEmailLink",Lt(n,e))}async function N6(n,e){return Va(n,"POST","/v1/accounts:signInWithEmailLink",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends su{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Xl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return So(e,t,"signInWithPassword",b6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return I6(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return So(e,r,"signUpPassword",w6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return N6(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n,e){return Va(n,"POST","/v1/accounts:signInWithIdp",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="http://localhost";class qi extends su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Ug(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new qi(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){const e={requestUri:R6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=iu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F_(n,e){return jt(n,"POST","/v1/accounts:sendVerificationCode",Lt(n,e))}async function O6(n,e){return Va(n,"POST","/v1/accounts:signInWithPhoneNumber",Lt(n,e))}async function D6(n,e){const t=await Va(n,"POST","/v1/accounts:signInWithPhoneNumber",Lt(n,e));if(t.temporaryProof)throw Lc(n,"account-exists-with-different-credential",t);return t}const P6={USER_NOT_FOUND:"user-not-found"};async function M6(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Va(n,"POST","/v1/accounts:signInWithPhoneNumber",Lt(n,t),P6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends su{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new To({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new To({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return O6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return D6(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return M6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!t&&!i&&!a?null:new To({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L6(n){const e=Mc(kc(n)).link,t=e?Mc(kc(e)).deep_link_id:null,r=Mc(kc(n)).deep_link_id;return(r?Mc(kc(r)).link:null)||r||t||e||n}class lu{constructor(e){var t,r,i,a,s,u;const c=Mc(kc(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=k6((i=c.mode)!==null&&i!==void 0?i:null);me(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=L6(e);try{return new lu(t)}catch{return null}}}function j6(n){return lu.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,t){return Xl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=lu.parseLink(t);return me(r,"argument-error"),Xl._fromEmailAndCode(e,r.code,r.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Ua{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xc extends uu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),qi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Xc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Xc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:u}=e;if(!r&&!i&&!t&&!a||!u)return null;try{return new Xc(u)._credential({idToken:t,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends uu{constructor(){super("facebook.com")}static credential(e){return qi._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qi._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Aa.credential(t,r)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends uu{constructor(){super("github.com")}static credential(e){return qi._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.GITHUB_SIGN_IN_METHOD="github.com";Sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="http://localhost";class nf extends su{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return!r||!i||!a||r!==i?null:new nf(r,a)}static _create(e,t){return new nf(e,t)}buildRequest(){return{requestUri:B6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="saml.";class Hd extends Ua{constructor(e){me(e.startsWith(V6),"argument-error"),super(e)}static credentialFromResult(e){return Hd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Hd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=nf.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return nf._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends uu{constructor(){super("twitter.com")}static credential(e,t){return qi._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ta.credential(t,r)}catch{return null}}}Ta.TWITTER_SIGN_IN_METHOD="twitter.com";Ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n,e){return Va(n,"POST","/v1/accounts:signUp",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await mi._fromIdTokenResponse(e,r,i),s=H_(r);return new ni({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=H_(r);return new ni({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function H_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(n){var e;if(Wt(n.app))return Promise.reject(Fn(n));const t=Jt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ni({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await mA(t,{returnSecureToken:!0}),i=await ni._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Ba{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new zd(e,t,r,i)}}function gA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(n,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(n,e){const t=Fe(n);await g0(!0,t,e);const{providerUserInfo:r}=await qR(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=vA(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Wg(n,e,t=!1){const r=await ka(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ni._forOperation(n,"link",r)}async function g0(n,e,t){await tf(e);const r=vA(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(n,e,t=!1){const{auth:r}=n;if(Wt(r.app))return Promise.reject(Fn(r));const i="reauthenticate";try{const a=await ka(n,gA(r,i,e,n),t);me(a.idToken,r,"internal-error");const s=p0(a.idToken);me(s,r,"internal-error");const{sub:u}=s;return me(n.uid===u,r,"user-mismatch"),ni._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(n,e,t=!1){if(Wt(n.app))return Promise.reject(Fn(n));const r="signIn",i=await gA(n,r,e),a=await ni._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function v0(n,e){return xA(Jt(n),e)}async function _A(n,e){const t=Fe(n);return await g0(!1,t,e.providerId),Wg(t,e)}async function wA(n,e){return yA(Fe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(n,e){return Va(n,"POST","/v1/accounts:signInWithCustomToken",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(n,e){if(Wt(n.app))return Promise.reject(Fn(n));const t=Jt(n),r=await H6(t,{token:e,returnSecureToken:!0}),i=await ni._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?$g._fromServerResponse(e,t):"totpInfo"in t?Yg._fromServerResponse(e,t):Ir(e,"internal-error")}}class $g extends Af{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new $g(t)}}class Yg extends Af{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Yg(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(n){const e=Jt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function G6(n,e,t){const r=Jt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&y0(r,i,t),await So(r,i,"getOobCode",S6,"EMAIL_PASSWORD_PROVIDER")}async function q6(n,e,t){await pA(Fe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kg(n),r})}async function X6(n,e){await E6(Fe(n),{oobCode:e})}async function EA(n,e){const t=Fe(n),r=await pA(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=Af._fromServerResponse(Jt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function W6(n,e){const{data:t}=await EA(Fe(n),e);return t.email}async function bA(n,e,t){if(Wt(n.app))return Promise.reject(Fn(n));const r=Jt(n),s=await So(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mA,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Kg(n),c}),u=await ni._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function AA(n,e,t){return Wt(n.app)?Promise.reject(Fn(n)):v0(Fe(n),jo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kg(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(n,e,t){const r=Jt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,u){me(u.handleCodeInApp,r,"argument-error"),u&&y0(r,s,u)}a(i,t),await So(r,i,"getOobCode",T6,"EMAIL_PASSWORD_PROVIDER")}function Y6(n,e){const t=lu.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function K6(n,e,t){if(Wt(n.app))return Promise.reject(Fn(n));const r=Fe(n),i=jo.credentialWithLink(e,t||ef());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),v0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(n,e){return jt(n,"POST","/v1/accounts:createAuthUri",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(n,e){const t=zg()?ef():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await Q6(Fe(n),r);return i||[]}async function SA(n,e){const t=Fe(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&y0(t.auth,i,e);const{email:a}=await A6(t.auth,i);a!==n.email&&await n.reload()}async function J6(n,e,t){const r=Fe(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&y0(r.auth,a,t);const{email:s}=await C6(r.auth,a);s!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(n,e){return jt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Fe(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=await ka(r,e8(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function n8(n,e){const t=Fe(n);return Wt(t.auth.app)?Promise.reject(Fn(t.auth)):TA(t,e,null)}function r8(n,e){return TA(Fe(n),null,e)}async function TA(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const s=await ka(n,_6(r,a));await n._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const s=(t=(e=p0(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(s){const u=s!=="anonymous"&&s!=="custom"?s:null;return new Hl(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new a8(a,i);case"github.com":return new o8(a,i);case"google.com":return new s8(a,i);case"twitter.com":return new l8(a,i,n.screenName||null);case"custom":case"anonymous":return new Hl(a,null);default:return new Hl(a,r,i)}}class Hl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class CA extends Hl{constructor(e,t,r,i){super(e,t,r),this.username=i}}class a8 extends Hl{constructor(e,t){super(e,"facebook.com",t)}}class o8 extends CA{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class s8 extends Hl{constructor(e,t){super(e,"google.com",t)}}class l8 extends CA{constructor(e,t,r){super(e,"twitter.com",t,r)}}function u8(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:i8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(n,e){return Fe(n).setPersistence(e)}function f8(n){return cA(n)}async function h8(n,e){return Jt(n).validatePassword(e)}function IA(n,e,t,r){return Fe(n).onIdTokenChanged(e,t,r)}function NA(n,e,t){return Fe(n).beforeAuthStateChanged(e,t)}function RA(n,e,t,r){return Fe(n).onAuthStateChanged(e,t,r)}function d8(n){Fe(n).useDeviceLanguage()}function p8(n,e){return Fe(n).updateCurrentUser(e)}function OA(n){return Fe(n).signOut()}function m8(n,e){return Jt(n).revokeAccessToken(e)}async function g8(n){return Fe(n).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Es("enroll",e,t)}static _fromMfaPendingCredential(e){return new Es("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Es._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Es._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Jt(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(u=>Af._fromServerResponse(r,u));me(i.mfaPendingCredential,r,"internal-error");const s=Es._fromMfaPendingCredential(i.mfaPendingCredential);return new Qg(s,a,async u=>{const c=await u._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const p=await ni._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return me(t.user,r,"internal-error"),ni._forOperation(t.user,t.operationType,h);default:Ir(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function v8(n,e){var t;const r=Fe(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Qg._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",Lt(n,e))}function y8(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(n,e))}function x8(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:start",Lt(n,e))}function _8(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(n,e))}function w8(n,e){return jt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(n,e))}class Zg{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Af._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Zg(e)}async getSession(){return Es._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),a=await ka(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await ka(this.user,w8(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const am=new WeakMap;function E8(n){const e=Fe(n);return am.has(e)||am.set(e,Zg._fromUser(e)),am.get(e)}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1e3,A8=10;class PA extends DA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);JR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A8):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PA.type="LOCAL";const MA=PA;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=1e3;function om(n){var e,t;const r=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return(t=(e=document.cookie.match(i))===null||e===void 0?void 0:e[1])!==null&&t!==void 0?t:null}function sm(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class kA{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:(e=navigator.cookieEnabled)!==null&&e!==void 0?e:!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=sm(e);if(window.cookieStore){const r=await window.cookieStore.get(t);return r==null?void 0:r.value}return om(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=sm(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=sm(e);if(window.cookieStore){const u=h=>{const p=h.changed.find(y=>y.name===r);p&&t(p.value),h.deleted.find(y=>y.name===r)&&t(null)},c=()=>window.cookieStore.removeEventListener("change",u);return this.listenerUnsubscribes.set(t,c),window.cookieStore.addEventListener("change",u)}let i=om(r);const a=setInterval(()=>{const u=om(r);u!==i&&(t(u),i=u)},S8),s=()=>clearInterval(a);this.listenerUnsubscribes.set(t,s)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}kA.type="COOKIE";const T8=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends DA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LA.type="SESSION";const Jg=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new x0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async h=>h(t.origin,a)),c=await C8(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}x0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const h=_0("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return window}function N8(n){pn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}async function R8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function D8(){return ev()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebaseLocalStorageDb",P8=1,qd="firebaseLocalStorage",BA="fbase_key";class Sf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function w0(n,e){return n.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function M8(){const n=indexedDB.deleteDatabase(jA);return new Sf(n).toPromise()}function Km(){const n=indexedDB.open(jA,P8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qd,{keyPath:BA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qd)?e(r):(r.close(),await M8(),e(await Km()))})})}async function G_(n,e,t){const r=w0(n,!0).put({[BA]:e,value:t});return new Sf(r).toPromise()}async function k8(n,e){const t=w0(n,!1).get(e),r=await new Sf(t).toPromise();return r===void 0?null:r.value}function q_(n,e){const t=w0(n,!0).delete(e);return new Sf(t).toPromise()}const L8=800,j8=3;class VA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>j8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ev()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=x0._getInstance(D8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await R8(),!this.activeServiceWorker)return;this.sender=new I8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await G_(e,Gd,"1"),await q_(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>G_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>k8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=w0(i,!1).getAll();return new Sf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VA.type="LOCAL";const UA=VA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:start",Lt(n,e))}function B8(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",Lt(n,e))}function V8(n,e){return jt(n,"POST","/v2/accounts/mfaSignIn:finalize",Lt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=lA("rcb"),U8=new Ef(3e4,6e4);class F8{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=pn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(H8(t),e,"argument-error"),this.shouldResolveImmediately(t)&&M_(pn().grecaptcha)?Promise.resolve(pn().grecaptcha):new Promise((r,i)=>{const a=pn().setTimeout(()=>{i(vr(e,"network-request-failed"))},U8.get());pn()[lm]=()=>{pn().clearTimeout(a),delete pn()[lm];const u=pn().grecaptcha;if(!u||!M_(u)){i(vr(e,"internal-error"));return}const c=u.render;u.render=(h,p)=>{const m=c(h,p);return this.counter++,m},this.hostLanguage=t,r(u)};const s=`${o6()}?${iu({onload:lm,render:"explicit",hl:t})}`;Xg(s).catch(()=>{clearTimeout(a),i(vr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=pn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function H8(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class z8{async load(e){return new f6(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="recaptcha",G8={theme:"light",type:"image"};class q8{constructor(e,t,r=Object.assign({},G8)){this.parameters=r,this.type=Wc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new z8:new F8,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=pn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(zg()&&!ev(),this.auth,"internal-error"),await X8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await zR(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function X8(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=To._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function W8(n,e,t){if(Wt(n.app))return Promise.reject(Fn(n));const r=Jt(n),i=await E0(r,e,Fe(t));return new tv(i,a=>v0(r,a))}async function $8(n,e,t){const r=Fe(n);await g0(!1,r,"phone");const i=await E0(r.auth,e,Fe(t));return new tv(i,a=>_A(r,a))}async function Y8(n,e,t){const r=Fe(n);if(Wt(r.auth.app))return Promise.reject(Fn(r.auth));const i=await E0(r.auth,e,Fe(t));return new tv(i,a=>wA(r,a))}async function E0(n,e,t){var r;if(!n._getRecaptchaConfig())try{await cA(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){me(a.type==="enroll",n,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await So(n,s,"mfaSmsEnrollment",async(p,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===qc){me((t==null?void 0:t.type)===Wc,p,"argument-error");const y=await um(p,m,t);return z_(p,y)}return z_(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{me(a.type==="signin",n,"internal-error");const s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(s,n,"missing-multi-factor-info");const u={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await So(n,u,"mfaSmsSignIn",async(m,y)=>{if(y.phoneSignInInfo.captchaResponse===qc){me((t==null?void 0:t.type)===Wc,m,"argument-error");const _=await um(m,y,t);return X_(m,_)}return X_(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await So(n,a,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===qc){me((t==null?void 0:t.type)===Wc,h,"argument-error");const m=await um(h,p,t);return F_(h,m)}return F_(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function K8(n,e){const t=Fe(n);if(Wt(t.auth.app))return Promise.reject(Fn(t.auth));await Wg(t,e)}async function um(n,e,t){me(t.type===Wc,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.providerId=Ts.PROVIDER_ID,this.auth=Jt(e)}verifyPhoneNumber(e,t){return E0(this.auth,e,Fe(t))}static credential(e,t){return To._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ts.credentialFromTaggedObject(t)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?To._fromTokenResponse(t,r):null}}Ts.PROVIDER_ID="phone";Ts.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,e){return e?Ca(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv extends su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Q8(n){return xA(n.auth,new nv(n),n.bypassAuthState)}function Z8(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),yA(t,new nv(n),n.bypassAuthState)}async function J8(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Wg(t,new nv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q8;case"linkViaPopup":case"linkViaRedirect":return J8;case"reauthViaPopup":case"reauthViaRedirect":return Z8;default:Ir(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new Ef(2e3,1e4);async function tO(n,e,t){if(Wt(n.app))return Promise.reject(vr(n,"operation-not-supported-in-this-environment"));const r=Jt(n);ou(n,e,Ua);const i=Ms(r,t);return new Ia(r,"signInViaPopup",e,i).executeNotNull()}async function nO(n,e,t){const r=Fe(n);if(Wt(r.auth.app))return Promise.reject(vr(r.auth,"operation-not-supported-in-this-environment"));ou(r.auth,e,Ua);const i=Ms(r.auth,t);return new Ia(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function rO(n,e,t){const r=Fe(n);ou(r.auth,e,Ua);const i=Ms(r.auth,t);return new Ia(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Ia extends FA{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ma(this.filter.length===1,"Popup operations only handle one event");const e=_0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="pendingRedirect",Ad=new Map;class aO extends FA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ad.get(this.auth._key());if(!e){try{const r=await oO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ad.set(this.auth._key(),e)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oO(n,e){const t=zA(e),r=HA(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function rv(n,e){return HA(n)._set(zA(e),"true")}function sO(n,e){Ad.set(n._key(),e)}function HA(n){return Ca(n._redirectPersistence)}function zA(n){return bd(iO,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(n,e,t){return uO(n,e,t)}async function uO(n,e,t){if(Wt(n.app))return Promise.reject(Fn(n));const r=Jt(n);ou(n,e,Ua),await r._initializationPromise;const i=Ms(r,t);return await rv(i,r),i._openRedirect(r,e,"signInViaRedirect")}function cO(n,e,t){return fO(n,e,t)}async function fO(n,e,t){const r=Fe(n);if(ou(r.auth,e,Ua),Wt(r.auth.app))return Promise.reject(Fn(r.auth));await r.auth._initializationPromise;const i=Ms(r.auth,t);await rv(i,r.auth);const a=await qA(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function hO(n,e,t){return dO(n,e,t)}async function dO(n,e,t){const r=Fe(n);ou(r.auth,e,Ua),await r.auth._initializationPromise;const i=Ms(r.auth,t);await g0(!1,r,e.providerId),await rv(i,r.auth);const a=await qA(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function pO(n,e){return await Jt(n)._initializationPromise,GA(n,e,!1)}async function GA(n,e,t=!1){if(Wt(n.app))return Promise.reject(Fn(n));const r=Jt(n),i=Ms(r,e),s=await new aO(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function qA(n){const e=_0(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=10*60*1e3;class gO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(vr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(W_(e))}saveEventToCache(e){this.cachedEventUids.add(W_(e)),this.lastProcessedEventTime=Date.now()}}function W_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,e={}){return jt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_O=/^https?/;async function wO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await yO(n);for(const t of e)try{if(EO(t))return}catch{}Ir(n,"unauthorized-domain")}function EO(n){const e=ef(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!_O.test(t))return!1;if(xO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Ef(3e4,6e4);function $_(){const n=pn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AO(n){return new Promise((e,t)=>{var r,i,a;function s(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),t(vr(n,"network-request-failed"))},timeout:bO.get()})}if(!((i=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=pn().gapi)===null||a===void 0)&&a.load)s();else{const u=lA("iframefcb");return pn()[u]=()=>{gapi.load?s():t(vr(n,"network-request-failed"))},Xg(`${l6()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function SO(n){return Sd=Sd||AO(n),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Ef(5e3,15e3),CO="__/auth/iframe",IO="emulator/auth/iframe",NO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OO(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gg(e,IO):`https://${n.config.authDomain}/${CO}`,r={apiKey:e.apiKey,appName:n.name,v:au},i=RO.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${iu(r).slice(1)}`}async function DO(n){const e=await SO(n),t=pn().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:OO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=vr(n,"network-request-failed"),u=pn().setTimeout(()=>{a(s)},TO.get());function c(){pn().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MO=500,kO=600,LO="_blank",jO="http://localhost";class Y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BO(n,e,t,r=MO,i=kO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},PO),{width:r.toString(),height:i.toString(),top:a,left:s}),h=sr().toLowerCase();t&&(u=tA(h)?LO:t),Jb(h)&&(e=e||jO,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(ZR(h)&&u!=="_self")return VO(e||"",u),new Y_(null);const m=window.open(e||"",u,p);me(m,n,"popup-blocked");try{m.focus()}catch{}return new Y_(m)}function VO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="__/auth/handler",FO="emulator/auth/handler",HO=encodeURIComponent("fac");async function K_(n,e,t,r,i,a){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:au,eventId:i};if(e instanceof Ua){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",dN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))s[p]=m}if(e instanceof uu){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${HO}=${encodeURIComponent(c)}`:"";return`${zO(n)}?${iu(u).slice(1)}${h}`}function zO({config:n}){return n.emulator?Gg(n,FO):`https://${n.authDomain}/${UO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class GO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jg,this._completeRedirectFn=GA,this._overrideRedirectResult=sO}async _openPopup(e,t,r,i){var a;Ma((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await K_(e,t,r,ef(),i);return BO(e,s,_0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await K_(e,t,r,ef(),i);return N8(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ma(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await DO(e),r=new gO(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cm,{type:cm},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[cm];s!==void 0&&t(!!s),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oA()||eA()||qg()}}const WA=GO;class $A{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Fi("unexpected MultiFactorSessionType")}}}class iv extends $A{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new iv(e)}_finalizeEnroll(e,t,r){return y8(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return B8(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class YA{constructor(){}static assertion(e){return iv._fromCredential(e)}}YA.FACTOR_ID="phone";class KA{static assertionForEnrollment(e,t){return rf._fromSecret(e,t)}static assertionForSignIn(e,t){return rf._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;me(typeof((t=r.user)===null||t===void 0?void 0:t.auth)<"u","internal-error");const i=await x8(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return b0._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}KA.FACTOR_ID="totp";class rf extends $A{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new rf(t,void 0,e)}static _fromEnrollmentId(e,t){return new rf(t,e)}async _finalizeEnroll(e,t,r){return me(typeof this.secret<"u",e,"argument-error"),_8(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){me(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return V8(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class b0{constructor(e,t,r,i,a,s,u){this.sessionInfo=s,this.auth=u,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new b0(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(ad(e)||ad(t))&&(i=!0),i&&(ad(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),ad(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function ad(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var Q_="@firebase/auth",Z_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WO(n){ql(new Rs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sA(n)},h=new i6(r,i,a,c);return v6(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ql(new Rs("auth-internal",e=>{const t=Jt(e.getProvider("auth").getImmediate());return(r=>new qO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(Q_,Z_,XO(n)),Ao(Q_,Z_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=5*60,YO=Db("authIdTokenMaxAge")||$O;let J_=null;const KO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YO)return;const i=t==null?void 0:t.token;J_!==i&&(J_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QA(n=Bb()){const e=Vg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fA(n,{popupRedirectResolver:WA,persistence:[UA,MA,Jg]}),r=Db("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=KO(a.toString());NA(t,s,()=>s(t.currentUser)),IA(t,u=>s(u))}}const i=Rb("auth");return i&&hA(t,`http://${i}`),t}function QO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}a6({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=vr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",QO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WO("Browser");const ZO=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:OR,ActionCodeURL:lu,AuthCredential:su,AuthErrorCodes:MR,EmailAuthCredential:Xl,EmailAuthProvider:jo,FacebookAuthProvider:ba,FactorId:CR,GithubAuthProvider:Sa,GoogleAuthProvider:Aa,OAuthCredential:qi,OAuthProvider:Xc,OperationType:RR,PhoneAuthCredential:To,PhoneAuthProvider:Ts,PhoneMultiFactorGenerator:YA,ProviderId:IR,RecaptchaVerifier:q8,SAMLAuthProvider:Hd,SignInMethod:NR,TotpMultiFactorGenerator:KA,TotpSecret:b0,TwitterAuthProvider:Ta,applyActionCode:X6,beforeAuthStateChanged:NA,browserCookiePersistence:T8,browserLocalPersistence:MA,browserPopupRedirectResolver:WA,browserSessionPersistence:Jg,checkActionCode:EA,confirmPasswordReset:q6,connectAuthEmulator:hA,createUserWithEmailAndPassword:bA,debugErrorMap:PR,deleteUser:g8,fetchSignInMethodsForEmail:Z6,getAdditionalUserInfo:u8,getAuth:QA,getIdToken:XR,getIdTokenResult:Yb,getMultiFactorResolver:v8,getRedirectResult:pO,inMemoryPersistence:Ym,indexedDBLocalPersistence:UA,initializeAuth:fA,initializeRecaptchaConfig:f8,isSignInWithEmailLink:Y6,linkWithCredential:_A,linkWithPhoneNumber:$8,linkWithPopup:rO,linkWithRedirect:hO,multiFactor:E8,onAuthStateChanged:RA,onIdTokenChanged:IA,parseActionCodeURL:j6,prodErrorMap:Hb,reauthenticateWithCredential:wA,reauthenticateWithPhoneNumber:Y8,reauthenticateWithPopup:nO,reauthenticateWithRedirect:cO,reload:Kb,revokeAccessToken:m8,sendEmailVerification:SA,sendPasswordResetEmail:G6,sendSignInLinkToEmail:$6,setPersistence:c8,signInAnonymously:U6,signInWithCredential:v0,signInWithCustomToken:z6,signInWithEmailAndPassword:AA,signInWithEmailLink:K6,signInWithPhoneNumber:W8,signInWithPopup:tO,signInWithRedirect:lO,signOut:OA,unlink:F6,updateCurrentUser:p8,updateEmail:n8,updatePassword:r8,updatePhoneNumber:K8,updateProfile:t8,useDeviceLanguage:d8,validatePassword:h8,verifyBeforeUpdateEmail:J6,verifyPasswordResetCode:W6},Symbol.toStringTag,{value:"Module"})),JO={apiKey:"AIzaSyDT9F4cCRxuO--Fi6nmHCiPqLFra9aj-AU",authDomain:"woo-combine.firebaseapp.com",projectId:"woo-combine",storageBucket:"woo-combine.appspot.com",messagingSenderId:"94939411053",appId:"1:94939411053:web:9441e73b88c1985e5c8564"},e5=jb(JO),Xt=QA(e5);function ZA(n,e){return function(){return n.apply(e,arguments)}}const{toString:t5}=Object.prototype,{getPrototypeOf:av}=Object,{iterator:A0,toStringTag:JA}=Symbol,S0=(n=>e=>{const t=t5.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),_i=n=>(n=n.toLowerCase(),e=>S0(e)===n),T0=n=>e=>typeof e===n,{isArray:cu}=Array,af=T0("undefined");function n5(n){return n!==null&&!af(n)&&n.constructor!==null&&!af(n.constructor)&&Tr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const eS=_i("ArrayBuffer");function r5(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&eS(n.buffer),e}const i5=T0("string"),Tr=T0("function"),tS=T0("number"),C0=n=>n!==null&&typeof n=="object",a5=n=>n===!0||n===!1,Td=n=>{if(S0(n)!=="object")return!1;const e=av(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JA in n)&&!(A0 in n)},o5=_i("Date"),s5=_i("File"),l5=_i("Blob"),u5=_i("FileList"),c5=n=>C0(n)&&Tr(n.pipe),f5=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Tr(n.append)&&((e=S0(n))==="formdata"||e==="object"&&Tr(n.toString)&&n.toString()==="[object FormData]"))},h5=_i("URLSearchParams"),[d5,p5,m5,g5]=["ReadableStream","Request","Response","Headers"].map(_i),v5=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),cu(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),s=a.length;let u;for(r=0;r<s;r++)u=a[r],e.call(null,n[u],u,n)}}function nS(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rS=n=>!af(n)&&n!==bs;function Qm(){const{caseless:n}=rS(this)&&this||{},e={},t=(r,i)=>{const a=n&&nS(e,i)||i;Td(e[a])&&Td(r)?e[a]=Qm(e[a],r):Td(r)?e[a]=Qm({},r):cu(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Tf(arguments[r],t);return e}const y5=(n,e,t,{allOwnKeys:r}={})=>(Tf(e,(i,a)=>{t&&Tr(i)?n[a]=ZA(i,t):n[a]=i},{allOwnKeys:r}),n),x5=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_5=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},w5=(n,e,t,r)=>{let i,a,s;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)s=i[a],(!r||r(s,n,e))&&!u[s]&&(e[s]=n[s],u[s]=!0);n=t!==!1&&av(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},E5=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},b5=n=>{if(!n)return null;if(cu(n))return n;let e=n.length;if(!tS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},A5=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&av(Uint8Array)),S5=(n,e)=>{const r=(n&&n[A0]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},T5=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},C5=_i("HTMLFormElement"),I5=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),ew=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),N5=_i("RegExp"),iS=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Tf(t,(i,a)=>{let s;(s=e(i,a,n))!==!1&&(r[a]=s||i)}),Object.defineProperties(n,r)},R5=n=>{iS(n,(e,t)=>{if(Tr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Tr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},O5=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return cu(n)?r(n):r(String(n).split(e)),t},D5=()=>{},P5=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function M5(n){return!!(n&&Tr(n.append)&&n[JA]==="FormData"&&n[A0])}const k5=n=>{const e=new Array(10),t=(r,i)=>{if(C0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=cu(r)?[]:{};return Tf(r,(s,u)=>{const c=t(s,i+1);!af(c)&&(a[u]=c)}),e[i]=void 0,a}}return r};return t(n,0)},L5=_i("AsyncFunction"),j5=n=>n&&(C0(n)||Tr(n))&&Tr(n.then)&&Tr(n.catch),aS=((n,e)=>n?setImmediate:e?((t,r)=>(bs.addEventListener("message",({source:i,data:a})=>{i===bs&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),bs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Tr(bs.postMessage)),B5=typeof queueMicrotask<"u"?queueMicrotask.bind(bs):typeof process<"u"&&process.nextTick||aS,V5=n=>n!=null&&Tr(n[A0]),ie={isArray:cu,isArrayBuffer:eS,isBuffer:n5,isFormData:f5,isArrayBufferView:r5,isString:i5,isNumber:tS,isBoolean:a5,isObject:C0,isPlainObject:Td,isReadableStream:d5,isRequest:p5,isResponse:m5,isHeaders:g5,isUndefined:af,isDate:o5,isFile:s5,isBlob:l5,isRegExp:N5,isFunction:Tr,isStream:c5,isURLSearchParams:h5,isTypedArray:A5,isFileList:u5,forEach:Tf,merge:Qm,extend:y5,trim:v5,stripBOM:x5,inherits:_5,toFlatObject:w5,kindOf:S0,kindOfTest:_i,endsWith:E5,toArray:b5,forEachEntry:S5,matchAll:T5,isHTMLForm:C5,hasOwnProperty:ew,hasOwnProp:ew,reduceDescriptors:iS,freezeMethods:R5,toObjectSet:O5,toCamelCase:I5,noop:D5,toFiniteNumber:P5,findKey:nS,global:bs,isContextDefined:rS,isSpecCompliantForm:M5,toJSONObject:k5,isAsyncFn:L5,isThenable:j5,setImmediate:aS,asap:B5,isIterable:V5};function Ge(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const oS=Ge.prototype,sS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sS[n]={value:n}});Object.defineProperties(Ge,sS);Object.defineProperty(oS,"isAxiosError",{value:!0});Ge.from=(n,e,t,r,i,a)=>{const s=Object.create(oS);return ie.toFlatObject(n,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Ge.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,a&&Object.assign(s,a),s};const U5=null;function Zm(n){return ie.isPlainObject(n)||ie.isArray(n)}function lS(n){return ie.endsWith(n,"[]")?n.slice(0,-2):n}function tw(n,e,t){return n?n.concat(e).map(function(i,a){return i=lS(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function F5(n){return ie.isArray(n)&&!n.some(Zm)}const H5=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function I0(n,e,t){if(!ie.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,S){return!ie.isUndefined(S[A])});const r=t.metaTokens,i=t.visitor||p,a=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function h(E){if(E===null)return"";if(ie.isDate(E))return E.toISOString();if(!c&&ie.isBlob(E))throw new Ge("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(E)||ie.isTypedArray(E)?c&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,A,S){let C=E;if(E&&!S&&typeof E=="object"){if(ie.endsWith(A,"{}"))A=r?A:A.slice(0,-2),E=JSON.stringify(E);else if(ie.isArray(E)&&F5(E)||(ie.isFileList(E)||ie.endsWith(A,"[]"))&&(C=ie.toArray(E)))return A=lS(A),C.forEach(function(D,B){!(ie.isUndefined(D)||D===null)&&e.append(s===!0?tw([A],B,a):s===null?A:A+"[]",h(D))}),!1}return Zm(E)?!0:(e.append(tw(S,A,a),h(E)),!1)}const m=[],y=Object.assign(H5,{defaultVisitor:p,convertValue:h,isVisitable:Zm});function _(E,A){if(!ie.isUndefined(E)){if(m.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));m.push(E),ie.forEach(E,function(C,N){(!(ie.isUndefined(C)||C===null)&&i.call(e,C,ie.isString(N)?N.trim():N,A,y))===!0&&_(C,A?A.concat(N):[N])}),m.pop()}}if(!ie.isObject(n))throw new TypeError("data must be an object");return _(n),e}function nw(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ov(n,e){this._pairs=[],n&&I0(n,this,e)}const uS=ov.prototype;uS.append=function(e,t){this._pairs.push([e,t])};uS.toString=function(e){const t=e?function(r){return e.call(this,r,nw)}:nw;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function z5(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cS(n,e,t){if(!e)return n;const r=t&&t.encode||z5;ie.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=ie.isURLSearchParams(e)?e.toString():new ov(e,t).toString(r),a){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class rw{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},G5=typeof URLSearchParams<"u"?URLSearchParams:ov,q5=typeof FormData<"u"?FormData:null,X5=typeof Blob<"u"?Blob:null,W5={isBrowser:!0,classes:{URLSearchParams:G5,FormData:q5,Blob:X5},protocols:["http","https","file","blob","url","data"]},sv=typeof window<"u"&&typeof document<"u",Jm=typeof navigator=="object"&&navigator||void 0,$5=sv&&(!Jm||["ReactNative","NativeScript","NS"].indexOf(Jm.product)<0),Y5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",K5=sv&&window.location.href||"http://localhost",Q5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sv,hasStandardBrowserEnv:$5,hasStandardBrowserWebWorkerEnv:Y5,navigator:Jm,origin:K5},Symbol.toStringTag,{value:"Module"})),or={...Q5,...W5};function Z5(n,e){return I0(n,new or.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return or.isNode&&ie.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function J5(n){return ie.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function eD(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function hS(n){function e(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),c=a>=t.length;return s=!s&&ie.isArray(i)?i.length:s,c?(ie.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!u):((!i[s]||!ie.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],a)&&ie.isArray(i[s])&&(i[s]=eD(i[s])),!u)}if(ie.isFormData(n)&&ie.isFunction(n.entries)){const t={};return ie.forEachEntry(n,(r,i)=>{e(J5(r),i,t,0)}),t}return null}function tD(n,e,t){if(ie.isString(n))try{return(e||JSON.parse)(n),ie.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Cf={transitional:fS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=ie.isObject(e);if(a&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return i?JSON.stringify(hS(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Z5(e,this.formSerializer).toString();if((u=ie.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return I0(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),tD(e)):e}],transformResponse:[function(e){const t=this.transitional||Cf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(s)throw u.name==="SyntaxError"?Ge.from(u,Ge.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],n=>{Cf.headers[n]={}});const nD=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rD=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&nD[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},iw=Symbol("internals");function Rc(n){return n&&String(n).trim().toLowerCase()}function Cd(n){return n===!1||n==null?n:ie.isArray(n)?n.map(Cd):String(n)}function iD(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const aD=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function fm(n,e,t,r,i){if(ie.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ie.isString(e)){if(ie.isString(r))return e.indexOf(r)!==-1;if(ie.isRegExp(r))return r.test(e)}}function oD(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function sD(n,e){const t=ie.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let Cr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(u,c,h){const p=Rc(c);if(!p)throw new Error("header name must be a non-empty string");const m=ie.findKey(i,p);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||c]=Cd(u))}const s=(u,c)=>ie.forEach(u,(h,p)=>a(h,p,c));if(ie.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ie.isString(e)&&(e=e.trim())&&!aD(e))s(rD(e),t);else if(ie.isObject(e)&&ie.isIterable(e)){let u={},c,h;for(const p of e){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(c=u[h])?ie.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}s(u,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Rc(e),e){const r=ie.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return iD(i);if(ie.isFunction(t))return t.call(this,i,r);if(ie.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Rc(e),e){const r=ie.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||fm(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(s){if(s=Rc(s),s){const u=ie.findKey(r,s);u&&(!t||fm(r,r[u],u,t))&&(delete r[u],i=!0)}}return ie.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||fm(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return ie.forEach(this,(i,a)=>{const s=ie.findKey(r,a);if(s){t[s]=Cd(i),delete t[a];return}const u=e?oD(a):String(a).trim();u!==a&&delete t[a],t[u]=Cd(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ie.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ie.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[iw]=this[iw]={accessors:{}}).accessors,i=this.prototype;function a(s){const u=Rc(s);r[u]||(sD(i,s),r[u]=!0)}return ie.isArray(e)?e.forEach(a):a(e),this}};Cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Cr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ie.freezeMethods(Cr);function hm(n,e){const t=this||Cf,r=e||t,i=Cr.from(r.headers);let a=r.data;return ie.forEach(n,function(u){a=u.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function dS(n){return!!(n&&n.__CANCEL__)}function fu(n,e,t){Ge.call(this,n??"canceled",Ge.ERR_CANCELED,e,t),this.name="CanceledError"}ie.inherits(fu,Ge,{__CANCEL__:!0});function pS(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ge("Request failed with status code "+t.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function lD(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function uD(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),p=r[a];s||(s=h),t[i]=c,r[i]=h;let m=a,y=0;for(;m!==i;)y+=t[m++],m=m%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),h-s<e)return;const _=p&&h-p;return _?Math.round(y*1e3/_):void 0}}function cD(n,e){let t=0,r=1e3/e,i,a;const s=(h,p=Date.now())=>{t=p,i=null,a&&(clearTimeout(a),a=null),n.apply(null,h)};return[(...h)=>{const p=Date.now(),m=p-t;m>=r?s(h,p):(i=h,a||(a=setTimeout(()=>{a=null,s(i)},r-m)))},()=>i&&s(i)]}const Xd=(n,e,t=3)=>{let r=0;const i=uD(50,250);return cD(a=>{const s=a.loaded,u=a.lengthComputable?a.total:void 0,c=s-r,h=i(c),p=s<=u;r=s;const m={loaded:s,total:u,progress:u?s/u:void 0,bytes:c,rate:h||void 0,estimated:h&&u&&p?(u-s)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(m)},t)},aw=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},ow=n=>(...e)=>ie.asap(()=>n(...e)),fD=or.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,or.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(or.origin),or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent)):()=>!0,hD=or.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const s=[n+"="+encodeURIComponent(e)];ie.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ie.isString(r)&&s.push("path="+r),ie.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dD(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function pD(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function mS(n,e,t){let r=!dD(e);return n&&(r||t==!1)?pD(n,e):e}const sw=n=>n instanceof Cr?{...n}:n;function Os(n,e){e=e||{};const t={};function r(h,p,m,y){return ie.isPlainObject(h)&&ie.isPlainObject(p)?ie.merge.call({caseless:y},h,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function i(h,p,m,y){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h,m,y)}else return r(h,p,m,y)}function a(h,p){if(!ie.isUndefined(p))return r(void 0,p)}function s(h,p){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,m){if(m in e)return r(h,p);if(m in n)return r(void 0,h)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(h,p,m)=>i(sw(h),sw(p),m,!0)};return ie.forEach(Object.keys(Object.assign({},n,e)),function(p){const m=c[p]||i,y=m(n[p],e[p],p);ie.isUndefined(y)&&m!==u||(t[p]=y)}),t}const gS=n=>{const e=Os({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:u}=e;e.headers=s=Cr.from(s),e.url=cS(mS(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(ie.isFormData(t)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[h,...p]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...p].join("; "))}}if(or.hasStandardBrowserEnv&&(r&&ie.isFunction(r)&&(r=r(e)),r||r!==!1&&fD(e.url))){const h=i&&a&&hD.read(a);h&&s.set(i,h)}return e},mD=typeof XMLHttpRequest<"u",gD=mD&&function(n){return new Promise(function(t,r){const i=gS(n);let a=i.data;const s=Cr.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:h}=i,p,m,y,_,E;function A(){_&&_(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function C(){if(!S)return;const D=Cr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),F={data:!u||u==="text"||u==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:D,config:n,request:S};pS(function(M){t(M),A()},function(M){r(M),A()},F),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(r(new Ge("Request aborted",Ge.ECONNABORTED,n,S)),S=null)},S.onerror=function(){r(new Ge("Network Error",Ge.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||fS;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new Ge(B,F.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,n,S)),S=null},a===void 0&&s.setContentType(null),"setRequestHeader"in S&&ie.forEach(s.toJSON(),function(B,F){S.setRequestHeader(F,B)}),ie.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),u&&u!=="json"&&(S.responseType=i.responseType),h&&([y,E]=Xd(h,!0),S.addEventListener("progress",y)),c&&S.upload&&([m,_]=Xd(c),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(p=D=>{S&&(r(!D||D.type?new fu(null,n,S):D),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const N=lD(i.url);if(N&&or.protocols.indexOf(N)===-1){r(new Ge("Unsupported protocol "+N+":",Ge.ERR_BAD_REQUEST,n));return}S.send(a||null)})},vD=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(h){if(!i){i=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof Ge?p:new fu(p instanceof Error?p.message:p))}};let s=e&&setTimeout(()=>{s=null,a(new Ge(`timeout ${e} of ms exceeded`,Ge.ETIMEDOUT))},e);const u=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>ie.asap(u),c}},yD=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},xD=async function*(n,e){for await(const t of _D(n))yield*yD(t,e)},_D=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},lw=(n,e,t,r)=>{const i=xD(n,e);let a=0,s,u=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await i.next();if(h){u(),c.close();return}let m=p.byteLength;if(t){let y=a+=m;t(y)}c.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},N0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vS=N0&&typeof ReadableStream=="function",wD=N0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),yS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},ED=vS&&yS(()=>{let n=!1;const e=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),uw=64*1024,eg=vS&&yS(()=>ie.isReadableStream(new Response("").body)),Wd={stream:eg&&(n=>n.body)};N0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wd[e]&&(Wd[e]=ie.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ge(`Response type '${e}' is not supported`,Ge.ERR_NOT_SUPPORT,r)})})})(new Response);const bD=async n=>{if(n==null)return 0;if(ie.isBlob(n))return n.size;if(ie.isSpecCompliantForm(n))return(await new Request(or.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(n)||ie.isArrayBuffer(n))return n.byteLength;if(ie.isURLSearchParams(n)&&(n=n+""),ie.isString(n))return(await wD(n)).byteLength},AD=async(n,e)=>{const t=ie.toFiniteNumber(n.getContentLength());return t??bD(e)},SD=N0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:u,onUploadProgress:c,responseType:h,headers:p,withCredentials:m="same-origin",fetchOptions:y}=gS(n);h=h?(h+"").toLowerCase():"text";let _=vD([i,a&&a.toAbortSignal()],s),E;const A=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let S;try{if(c&&ED&&t!=="get"&&t!=="head"&&(S=await AD(p,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(ie.isFormData(r)&&(W=F.headers.get("content-type"))&&p.setContentType(W),F.body){const[M,R]=aw(S,Xd(ow(c)));r=lw(F.body,uw,M,R)}}ie.isString(m)||(m=m?"include":"omit");const C="credentials"in Request.prototype;E=new Request(e,{...y,signal:_,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:C?m:void 0});let N=await fetch(E);const D=eg&&(h==="stream"||h==="response");if(eg&&(u||D&&A)){const F={};["status","statusText","headers"].forEach(P=>{F[P]=N[P]});const W=ie.toFiniteNumber(N.headers.get("content-length")),[M,R]=u&&aw(W,Xd(ow(u),!0))||[];N=new Response(lw(N.body,uw,M,()=>{R&&R(),A&&A()}),F)}h=h||"text";let B=await Wd[ie.findKey(Wd,h)||"text"](N,n);return!D&&A&&A(),await new Promise((F,W)=>{pS(F,W,{data:B,headers:Cr.from(N.headers),status:N.status,statusText:N.statusText,config:n,request:E})})}catch(C){throw A&&A(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Ge("Network Error",Ge.ERR_NETWORK,n,E),{cause:C.cause||C}):Ge.from(C,C&&C.code,n,E)}}),tg={http:U5,xhr:gD,fetch:SD};ie.forEach(tg,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const cw=n=>`- ${n}`,TD=n=>ie.isFunction(n)||n===null||n===!1,xS={getAdapter:n=>{n=ie.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let s;if(r=t,!TD(t)&&(r=tg[(s=String(t)).toLowerCase()],r===void 0))throw new Ge(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(cw).join(`
`):" "+cw(a[0]):"as no adapter specified";throw new Ge("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:tg};function dm(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fu(null,n)}function fw(n){return dm(n),n.headers=Cr.from(n.headers),n.data=hm.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),xS.getAdapter(n.adapter||Cf.adapter)(n).then(function(r){return dm(n),r.data=hm.call(n,n.transformResponse,r),r.headers=Cr.from(r.headers),r},function(r){return dS(r)||(dm(n),r&&r.response&&(r.response.data=hm.call(n,n.transformResponse,r.response),r.response.headers=Cr.from(r.response.headers))),Promise.reject(r)})}const _S="1.9.0",R0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{R0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const hw={};R0.transitional=function(e,t,r){function i(a,s){return"[Axios v"+_S+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,u)=>{if(e===!1)throw new Ge(i(s," has been removed"+(t?" in "+t:"")),Ge.ERR_DEPRECATED);return t&&!hw[s]&&(hw[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,s,u):!0}};R0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function CD(n,e,t){if(typeof n!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const u=n[a],c=u===void 0||s(u,a,n);if(c!==!0)throw new Ge("option "+a+" must be "+c,Ge.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ge("Unknown option "+a,Ge.ERR_BAD_OPTION)}}const Id={assertOptions:CD,validators:R0},Bi=Id.validators;let Cs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new rw,response:new rw}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Os(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Id.assertOptions(r,{silentJSONParsing:Bi.transitional(Bi.boolean),forcedJSONParsing:Bi.transitional(Bi.boolean),clarifyTimeoutError:Bi.transitional(Bi.boolean)},!1),i!=null&&(ie.isFunction(i)?t.paramsSerializer={serialize:i}:Id.assertOptions(i,{encode:Bi.function,serialize:Bi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Id.assertOptions(t,{baseUrl:Bi.spelling("baseURL"),withXsrfToken:Bi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ie.merge(a.common,a[t.method]);a&&ie.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),t.headers=Cr.concat(s,a);const u=[];let c=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(c=c&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});const h=[];this.interceptors.response.forEach(function(A){h.push(A.fulfilled,A.rejected)});let p,m=0,y;if(!c){const E=[fw.bind(this),void 0];for(E.unshift.apply(E,u),E.push.apply(E,h),y=E.length,p=Promise.resolve(t);m<y;)p=p.then(E[m++],E[m++]);return p}y=u.length;let _=t;for(m=0;m<y;){const E=u[m++],A=u[m++];try{_=E(_)}catch(S){A.call(this,S);break}}try{p=fw.call(this,_)}catch(E){return Promise.reject(E)}for(m=0,y=h.length;m<y;)p=p.then(h[m++],h[m++]);return p}getUri(e){e=Os(this.defaults,e);const t=mS(e.baseURL,e.url,e.allowAbsoluteUrls);return cS(t,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){Cs.prototype[e]=function(t,r){return this.request(Os(r||{},{method:e,url:t,data:(r||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function t(r){return function(a,s,u){return this.request(Os(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Cs.prototype[e]=t(),Cs.prototype[e+"Form"]=t(!0)});let ID=class wS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(u=>{r.subscribe(u),a=u}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,u){r.reason||(r.reason=new fu(a,s,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new wS(function(i){e=i}),cancel:e}}};function ND(n){return function(t){return n.apply(null,t)}}function RD(n){return ie.isObject(n)&&n.isAxiosError===!0}const ng={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ng).forEach(([n,e])=>{ng[e]=n});function ES(n){const e=new Cs(n),t=ZA(Cs.prototype.request,e);return ie.extend(t,Cs.prototype,e,{allOwnKeys:!0}),ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ES(Os(n,i))},t}const ln=ES(Cf);ln.Axios=Cs;ln.CanceledError=fu;ln.CancelToken=ID;ln.isCancel=dS;ln.VERSION=_S;ln.toFormData=I0;ln.AxiosError=Ge;ln.Cancel=ln.CanceledError;ln.all=function(e){return Promise.all(e)};ln.spread=ND;ln.isAxiosError=RD;ln.mergeConfig=Os;ln.AxiosHeaders=Cr;ln.formToJSON=n=>hS(ie.isHTMLForm(n)?new FormData(n):n);ln.getAdapter=xS.getAdapter;ln.HttpStatusCode=ng;ln.default=ln;const{Axios:DV,AxiosError:PV,CanceledError:MV,isCancel:kV,CancelToken:LV,VERSION:jV,all:BV,Cancel:VV,isAxiosError:UV,spread:FV,toFormData:HV,AxiosHeaders:zV,HttpStatusCode:GV,formToJSON:qV,getAdapter:XV,mergeConfig:WV}=ln,Ft=ln.create({baseURL:"https://woo-combine-backend.onrender.com/api",withCredentials:!1,timeout:25e3});Ft.interceptors.response.use(n=>n,async n=>{const e=n.config;if(!e||!e.retry||(e.retryCount=e.retryCount||0,e.retryCount>=e.retry))return Promise.reject(n);e.retryCount+=1;const t=Math.pow(2,e.retryCount)*1e3;return await new Promise(r=>setTimeout(r,t)),Ft(e)});Ft.interceptors.request.use(async n=>{const e=Xt.currentUser;if(e){const t=await e.getIdToken();n.headers=n.headers||{},n.headers.Authorization=`Bearer ${t}`}return n},n=>Promise.reject(n));Ft.interceptors.response.use(n=>n,n=>(n.response&&n.response.data&&n.response.data.detail?console.error("API Error:",n.response.data.detail):console.error("API Error:",n.message),Promise.reject(n)));var dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Co,bS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function P(){}P.prototype=R.prototype,M.D=R.prototype,M.prototype=new P,M.prototype.constructor=M,M.C=function(L,z,H){for(var V=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)V[ke-2]=arguments[ke];return R.prototype[z].apply(L,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,P){P||(P=0);var L=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)L[z]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(z=0;16>z;++z)L[z]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=M.g[0],P=M.g[1],z=M.g[2];var H=M.g[3],V=R+(H^P&(z^H))+L[0]+3614090360&4294967295;R=P+(V<<7&4294967295|V>>>25),V=H+(z^R&(P^z))+L[1]+3905402710&4294967295,H=R+(V<<12&4294967295|V>>>20),V=z+(P^H&(R^P))+L[2]+606105819&4294967295,z=H+(V<<17&4294967295|V>>>15),V=P+(R^z&(H^R))+L[3]+3250441966&4294967295,P=z+(V<<22&4294967295|V>>>10),V=R+(H^P&(z^H))+L[4]+4118548399&4294967295,R=P+(V<<7&4294967295|V>>>25),V=H+(z^R&(P^z))+L[5]+1200080426&4294967295,H=R+(V<<12&4294967295|V>>>20),V=z+(P^H&(R^P))+L[6]+2821735955&4294967295,z=H+(V<<17&4294967295|V>>>15),V=P+(R^z&(H^R))+L[7]+4249261313&4294967295,P=z+(V<<22&4294967295|V>>>10),V=R+(H^P&(z^H))+L[8]+1770035416&4294967295,R=P+(V<<7&4294967295|V>>>25),V=H+(z^R&(P^z))+L[9]+2336552879&4294967295,H=R+(V<<12&4294967295|V>>>20),V=z+(P^H&(R^P))+L[10]+4294925233&4294967295,z=H+(V<<17&4294967295|V>>>15),V=P+(R^z&(H^R))+L[11]+2304563134&4294967295,P=z+(V<<22&4294967295|V>>>10),V=R+(H^P&(z^H))+L[12]+1804603682&4294967295,R=P+(V<<7&4294967295|V>>>25),V=H+(z^R&(P^z))+L[13]+4254626195&4294967295,H=R+(V<<12&4294967295|V>>>20),V=z+(P^H&(R^P))+L[14]+2792965006&4294967295,z=H+(V<<17&4294967295|V>>>15),V=P+(R^z&(H^R))+L[15]+1236535329&4294967295,P=z+(V<<22&4294967295|V>>>10),V=R+(z^H&(P^z))+L[1]+4129170786&4294967295,R=P+(V<<5&4294967295|V>>>27),V=H+(P^z&(R^P))+L[6]+3225465664&4294967295,H=R+(V<<9&4294967295|V>>>23),V=z+(R^P&(H^R))+L[11]+643717713&4294967295,z=H+(V<<14&4294967295|V>>>18),V=P+(H^R&(z^H))+L[0]+3921069994&4294967295,P=z+(V<<20&4294967295|V>>>12),V=R+(z^H&(P^z))+L[5]+3593408605&4294967295,R=P+(V<<5&4294967295|V>>>27),V=H+(P^z&(R^P))+L[10]+38016083&4294967295,H=R+(V<<9&4294967295|V>>>23),V=z+(R^P&(H^R))+L[15]+3634488961&4294967295,z=H+(V<<14&4294967295|V>>>18),V=P+(H^R&(z^H))+L[4]+3889429448&4294967295,P=z+(V<<20&4294967295|V>>>12),V=R+(z^H&(P^z))+L[9]+568446438&4294967295,R=P+(V<<5&4294967295|V>>>27),V=H+(P^z&(R^P))+L[14]+3275163606&4294967295,H=R+(V<<9&4294967295|V>>>23),V=z+(R^P&(H^R))+L[3]+4107603335&4294967295,z=H+(V<<14&4294967295|V>>>18),V=P+(H^R&(z^H))+L[8]+1163531501&4294967295,P=z+(V<<20&4294967295|V>>>12),V=R+(z^H&(P^z))+L[13]+2850285829&4294967295,R=P+(V<<5&4294967295|V>>>27),V=H+(P^z&(R^P))+L[2]+4243563512&4294967295,H=R+(V<<9&4294967295|V>>>23),V=z+(R^P&(H^R))+L[7]+1735328473&4294967295,z=H+(V<<14&4294967295|V>>>18),V=P+(H^R&(z^H))+L[12]+2368359562&4294967295,P=z+(V<<20&4294967295|V>>>12),V=R+(P^z^H)+L[5]+4294588738&4294967295,R=P+(V<<4&4294967295|V>>>28),V=H+(R^P^z)+L[8]+2272392833&4294967295,H=R+(V<<11&4294967295|V>>>21),V=z+(H^R^P)+L[11]+1839030562&4294967295,z=H+(V<<16&4294967295|V>>>16),V=P+(z^H^R)+L[14]+4259657740&4294967295,P=z+(V<<23&4294967295|V>>>9),V=R+(P^z^H)+L[1]+2763975236&4294967295,R=P+(V<<4&4294967295|V>>>28),V=H+(R^P^z)+L[4]+1272893353&4294967295,H=R+(V<<11&4294967295|V>>>21),V=z+(H^R^P)+L[7]+4139469664&4294967295,z=H+(V<<16&4294967295|V>>>16),V=P+(z^H^R)+L[10]+3200236656&4294967295,P=z+(V<<23&4294967295|V>>>9),V=R+(P^z^H)+L[13]+681279174&4294967295,R=P+(V<<4&4294967295|V>>>28),V=H+(R^P^z)+L[0]+3936430074&4294967295,H=R+(V<<11&4294967295|V>>>21),V=z+(H^R^P)+L[3]+3572445317&4294967295,z=H+(V<<16&4294967295|V>>>16),V=P+(z^H^R)+L[6]+76029189&4294967295,P=z+(V<<23&4294967295|V>>>9),V=R+(P^z^H)+L[9]+3654602809&4294967295,R=P+(V<<4&4294967295|V>>>28),V=H+(R^P^z)+L[12]+3873151461&4294967295,H=R+(V<<11&4294967295|V>>>21),V=z+(H^R^P)+L[15]+530742520&4294967295,z=H+(V<<16&4294967295|V>>>16),V=P+(z^H^R)+L[2]+3299628645&4294967295,P=z+(V<<23&4294967295|V>>>9),V=R+(z^(P|~H))+L[0]+4096336452&4294967295,R=P+(V<<6&4294967295|V>>>26),V=H+(P^(R|~z))+L[7]+1126891415&4294967295,H=R+(V<<10&4294967295|V>>>22),V=z+(R^(H|~P))+L[14]+2878612391&4294967295,z=H+(V<<15&4294967295|V>>>17),V=P+(H^(z|~R))+L[5]+4237533241&4294967295,P=z+(V<<21&4294967295|V>>>11),V=R+(z^(P|~H))+L[12]+1700485571&4294967295,R=P+(V<<6&4294967295|V>>>26),V=H+(P^(R|~z))+L[3]+2399980690&4294967295,H=R+(V<<10&4294967295|V>>>22),V=z+(R^(H|~P))+L[10]+4293915773&4294967295,z=H+(V<<15&4294967295|V>>>17),V=P+(H^(z|~R))+L[1]+2240044497&4294967295,P=z+(V<<21&4294967295|V>>>11),V=R+(z^(P|~H))+L[8]+1873313359&4294967295,R=P+(V<<6&4294967295|V>>>26),V=H+(P^(R|~z))+L[15]+4264355552&4294967295,H=R+(V<<10&4294967295|V>>>22),V=z+(R^(H|~P))+L[6]+2734768916&4294967295,z=H+(V<<15&4294967295|V>>>17),V=P+(H^(z|~R))+L[13]+1309151649&4294967295,P=z+(V<<21&4294967295|V>>>11),V=R+(z^(P|~H))+L[4]+4149444226&4294967295,R=P+(V<<6&4294967295|V>>>26),V=H+(P^(R|~z))+L[11]+3174756917&4294967295,H=R+(V<<10&4294967295|V>>>22),V=z+(R^(H|~P))+L[2]+718787259&4294967295,z=H+(V<<15&4294967295|V>>>17),V=P+(H^(z|~R))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+H&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var P=R-this.blockSize,L=this.B,z=this.h,H=0;H<R;){if(z==0)for(;H<=P;)i(this,M,H),H+=this.blockSize;if(typeof M=="string"){for(;H<R;)if(L[z++]=M.charCodeAt(H++),z==this.blockSize){i(this,L),z=0;break}}else for(;H<R;)if(L[z++]=M[H++],z==this.blockSize){i(this,L),z=0;break}}this.h=z,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var P=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=P&255,P/=256;for(this.u(M),M=Array(16),R=P=0;4>R;++R)for(var L=0;32>L;L+=8)M[P++]=this.g[R]>>>L&255;return M};function a(M,R){var P=u;return Object.prototype.hasOwnProperty.call(P,M)?P[M]:P[M]=R(M)}function s(M,R){this.h=R;for(var P=[],L=!0,z=M.length-1;0<=z;z--){var H=M[z]|0;L&&H==R||(P[z]=H,L=!1)}this.g=P}var u={};function c(M){return-128<=M&&128>M?a(M,function(R){return new s([R|0],0>R?-1:0)}):new s([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return m;if(0>M)return S(h(-M));for(var R=[],P=1,L=0;M>=P;L++)R[L]=M/P|0,P*=4294967296;return new s(R,0)}function p(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return S(p(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=h(Math.pow(R,8)),L=m,z=0;z<M.length;z+=8){var H=Math.min(8,M.length-z),V=parseInt(M.substring(z,z+H),R);8>H?(H=h(Math.pow(R,H)),L=L.j(H).add(h(V))):(L=L.j(P),L=L.add(h(V)))}return L}var m=c(0),y=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(A(this))return-S(this).m();for(var M=0,R=1,P=0;P<this.g.length;P++){var L=this.i(P);M+=(0<=L?L:4294967296+L)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(E(this))return"0";if(A(this))return"-"+S(this).toString(M);for(var R=h(Math.pow(M,6)),P=this,L="";;){var z=B(P,R).g;P=C(P,z.j(R));var H=((0<P.g.length?P.g[0]:P.h)>>>0).toString(M);if(P=z,E(P))return H+L;for(;6>H.length;)H="0"+H;L=H+L}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function E(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=C(this,M),A(M)?-1:E(M)?0:1};function S(M){for(var R=M.g.length,P=[],L=0;L<R;L++)P[L]=~M.g[L];return new s(P,~M.h).add(y)}n.abs=function(){return A(this)?S(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],L=0,z=0;z<=R;z++){var H=L+(this.i(z)&65535)+(M.i(z)&65535),V=(H>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);L=V>>>16,H&=65535,V&=65535,P[z]=V<<16|H}return new s(P,P[P.length-1]&-2147483648?-1:0)};function C(M,R){return M.add(S(R))}n.j=function(M){if(E(this)||E(M))return m;if(A(this))return A(M)?S(this).j(S(M)):S(S(this).j(M));if(A(M))return S(this.j(S(M)));if(0>this.l(_)&&0>M.l(_))return h(this.m()*M.m());for(var R=this.g.length+M.g.length,P=[],L=0;L<2*R;L++)P[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<M.g.length;z++){var H=this.i(L)>>>16,V=this.i(L)&65535,ke=M.i(z)>>>16,Le=M.i(z)&65535;P[2*L+2*z]+=V*Le,N(P,2*L+2*z),P[2*L+2*z+1]+=H*Le,N(P,2*L+2*z+1),P[2*L+2*z+1]+=V*ke,N(P,2*L+2*z+1),P[2*L+2*z+2]+=H*ke,N(P,2*L+2*z+2)}for(L=0;L<R;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=R;L<2*R;L++)P[L]=0;return new s(P,0)};function N(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function D(M,R){this.g=M,this.h=R}function B(M,R){if(E(R))throw Error("division by zero");if(E(M))return new D(m,m);if(A(M))return R=B(S(M),R),new D(S(R.g),S(R.h));if(A(R))return R=B(M,S(R)),new D(S(R.g),R.h);if(30<M.g.length){if(A(M)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var P=y,L=R;0>=L.l(M);)P=F(P),L=F(L);var z=W(P,1),H=W(L,1);for(L=W(L,2),P=W(P,2);!E(L);){var V=H.add(L);0>=V.l(M)&&(z=z.add(P),H=V),L=W(L,1),P=W(P,1)}return R=C(M,z.j(R)),new D(z,R)}for(z=m;0<=M.l(R);){for(P=Math.max(1,Math.floor(M.m()/R.m())),L=Math.ceil(Math.log(P)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),H=h(P),V=H.j(R);A(V)||0<V.l(M);)P-=L,H=h(P),V=H.j(R);E(H)&&(H=y),z=z.add(H),M=C(M,V)}return new D(z,M)}n.A=function(M){return B(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)&M.i(L);return new s(P,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)|M.i(L);return new s(P,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),P=[],L=0;L<R;L++)P[L]=this.i(L)^M.i(L);return new s(P,this.h^M.h)};function F(M){for(var R=M.g.length+1,P=[],L=0;L<R;L++)P[L]=M.i(L)<<1|M.i(L-1)>>>31;return new s(P,M.h)}function W(M,R){var P=R>>5;R%=32;for(var L=M.g.length-P,z=[],H=0;H<L;H++)z[H]=0<R?M.i(H+P)>>>R|M.i(H+P+1)<<32-R:M.i(H+P);return new s(z,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,Co=s}).apply(typeof dw<"u"?dw:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AS,jc,SS,Nd,rg,TS,CS,IS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,b,T){return g==Array.prototype||g==Object.prototype||(g[b]=T.value),g};function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var b=0;b<g.length;++b){var T=g[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function i(g,b){if(b)e:{var T=r;g=g.split(".");for(var k=0;k<g.length-1;k++){var Y=g[k];if(!(Y in T))break e;T=T[Y]}g=g[g.length-1],k=T[g],b=b(k),b!=k&&b!=null&&e(T,g,{configurable:!0,writable:!0,value:b})}}function a(g,b){g instanceof String&&(g+="");var T=0,k=!1,Y={next:function(){if(!k&&T<g.length){var re=T++;return{value:b(re,g[re]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(g){return g||function(){return a(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(g){var b=typeof g;return b=b!="object"?b:g?Array.isArray(g)?"array":b:"null",b=="array"||b=="object"&&typeof g.length=="number"}function h(g){var b=typeof g;return b=="object"&&g!=null||b=="function"}function p(g,b,T){return g.call.apply(g.bind,arguments)}function m(g,b,T){if(!g)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),g.apply(b,Y)}}return function(){return g.apply(b,arguments)}}function y(g,b,T){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function _(g,b){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function E(g,b){function T(){}T.prototype=b.prototype,g.aa=b.prototype,g.prototype=new T,g.prototype.constructor=g,g.Qb=function(k,Y,re){for(var ve=Array(arguments.length-2),it=2;it<arguments.length;it++)ve[it-2]=arguments[it];return b.prototype[Y].apply(k,ve)}}function A(g){const b=g.length;if(0<b){const T=Array(b);for(let k=0;k<b;k++)T[k]=g[k];return T}return[]}function S(g,b){for(let T=1;T<arguments.length;T++){const k=arguments[T];if(c(k)){const Y=g.length||0,re=k.length||0;g.length=Y+re;for(let ve=0;ve<re;ve++)g[Y+ve]=k[ve]}else g.push(k)}}class C{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(g){return/^[\s\xa0]*$/.test(g)}function D(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function B(g){return B[" "](g),g}B[" "]=function(){};var F=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function W(g,b,T){for(const k in g)b.call(T,g[k],k,g)}function M(g,b){for(const T in g)b.call(void 0,g[T],T,g)}function R(g){const b={};for(const T in g)b[T]=g[T];return b}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(g,b){let T,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(T in k)g[T]=k[T];for(let re=0;re<P.length;re++)T=P[re],Object.prototype.hasOwnProperty.call(k,T)&&(g[T]=k[T])}}function z(g){var b=1;g=g.split(":");const T=[];for(;0<b&&g.length;)T.push(g.shift()),b--;return g.length&&T.push(g.join(":")),T}function H(g){u.setTimeout(()=>{throw g},0)}function V(){var g=Se;let b=null;return g.g&&(b=g.g,g.g=g.g.next,g.g||(g.h=null),b.next=null),b}class ke{constructor(){this.h=this.g=null}add(b,T){const k=Le.get();k.set(b,T),this.h?this.h.next=k:this.g=k,this.h=k}}var Le=new C(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,pe=!1,Se=new ke,q=()=>{const g=u.Promise.resolve(void 0);ne=()=>{g.then(fe)}};var fe=()=>{for(var g;g=V();){try{g.h.call(g.g)}catch(T){H(T)}var b=Le;b.j(g),100>b.h&&(b.h++,g.next=b.g,b.g=g)}pe=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(g,b){this.type=g,this.g=this.target=b,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,b=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};u.addEventListener("test",T,b),u.removeEventListener("test",T,b)}catch{}return g}();function ue(g,b){if(he.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var T=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=b,b=g.relatedTarget){if(F){e:{try{B(b.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(b=null)}}else T=="mouseover"?b=g.fromElement:T=="mouseout"&&(b=g.toElement);this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ge[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ue.aa.h.call(this)}}E(ue,he);var ge={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),_e=0;function ze(g,b,T,k,Y){this.listener=g,this.proxy=null,this.src=b,this.type=T,this.capture=!!k,this.ha=Y,this.key=++_e,this.da=this.fa=!1}function Ve(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ct(g){this.src=g,this.g={},this.h=0}ct.prototype.add=function(g,b,T,k,Y){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var ve=ur(g,b,k,Y);return-1<ve?(b=g[ve],T||(b.fa=!1)):(b=new ze(b,this.src,re,!!k,Y),b.fa=T,g.push(b)),b};function tn(g,b){var T=b.type;if(T in g.g){var k=g.g[T],Y=Array.prototype.indexOf.call(k,b,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(k,Y,1),re&&(Ve(b),g.g[T].length==0&&(delete g.g[T],g.h--))}}function ur(g,b,T,k){for(var Y=0;Y<g.length;++Y){var re=g[Y];if(!re.da&&re.listener==b&&re.capture==!!T&&re.ha==k)return Y}return-1}var wi="closure_lm_"+(1e6*Math.random()|0),Bo={};function Rr(g,b,T,k,Y){if(Array.isArray(b)){for(var re=0;re<b.length;re++)Rr(g,b[re],T,k,Y);return null}return T=Yt(T),g&&g[Ie]?g.K(b,T,h(k)?!!k.capture:!1,Y):yr(g,b,T,!1,k,Y)}function yr(g,b,T,k,Y,re){if(!b)throw Error("Invalid event type");var ve=h(Y)?!!Y.capture:!!Y,it=Te(g);if(it||(g[wi]=it=new ct(g)),T=it.add(b,T,k,ve,re),T.proxy)return T;if(k=yu(),T.proxy=k,k.src=g,k.listener=T,g.addEventListener)Ae||(Y=ve),Y===void 0&&(Y=!1),g.addEventListener(b.toString(),k,Y);else if(g.attachEvent)g.attachEvent(xr(b.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function yu(){function g(T){return b.call(g.src,g.listener,T)}const b=Vs;return g}function Vo(g,b,T,k,Y){if(Array.isArray(b))for(var re=0;re<b.length;re++)Vo(g,b[re],T,k,Y);else k=h(k)?!!k.capture:!!k,T=Yt(T),g&&g[Ie]?(g=g.i,b=String(b).toString(),b in g.g&&(re=g.g[b],T=ur(re,T,k,Y),-1<T&&(Ve(re[T]),Array.prototype.splice.call(re,T,1),re.length==0&&(delete g.g[b],g.h--)))):g&&(g=Te(g))&&(b=g.g[b.toString()],g=-1,b&&(g=ur(b,T,k,Y)),(T=-1<g?b[g]:null)&&Fa(T))}function Fa(g){if(typeof g!="number"&&g&&!g.da){var b=g.src;if(b&&b[Ie])tn(b.i,g);else{var T=g.type,k=g.proxy;b.removeEventListener?b.removeEventListener(T,k,g.capture):b.detachEvent?b.detachEvent(xr(T),k):b.addListener&&b.removeListener&&b.removeListener(k),(T=Te(b))?(tn(T,g),T.h==0&&(T.src=null,b[wi]=null)):Ve(g)}}}function xr(g){return g in Bo?Bo[g]:Bo[g]="on"+g}function Vs(g,b){if(g.da)g=!0;else{b=new ue(b,this);var T=g.listener,k=g.ha||g.src;g.fa&&Fa(g),g=T.call(k,b)}return g}function Te(g){return g=g[wi],g instanceof ct?g:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yt(g){return typeof g=="function"?g:(g[qe]||(g[qe]=function(b){return g.handleEvent(b)}),g[qe])}function rt(){xe.call(this),this.i=new ct(this),this.M=this,this.F=null}E(rt,xe),rt.prototype[Ie]=!0,rt.prototype.removeEventListener=function(g,b,T,k){Vo(this,g,b,T,k)};function nt(g,b){var T,k=g.F;if(k)for(T=[];k;k=k.F)T.push(k);if(g=g.M,k=b.type||b,typeof b=="string")b=new he(b,g);else if(b instanceof he)b.target=b.target||g;else{var Y=b;b=new he(k,g),L(b,Y)}if(Y=!0,T)for(var re=T.length-1;0<=re;re--){var ve=b.g=T[re];Y=Bt(ve,k,!0,b)&&Y}if(ve=b.g=g,Y=Bt(ve,k,!0,b)&&Y,Y=Bt(ve,k,!1,b)&&Y,T)for(re=0;re<T.length;re++)ve=b.g=T[re],Y=Bt(ve,k,!1,b)&&Y}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var g=this.i,b;for(b in g.g){for(var T=g.g[b],k=0;k<T.length;k++)Ve(T[k]);delete g.g[b],g.h--}}this.F=null},rt.prototype.K=function(g,b,T,k){return this.i.add(String(g),b,!1,T,k)},rt.prototype.L=function(g,b,T,k){return this.i.add(String(g),b,!0,T,k)};function Bt(g,b,T,k){if(b=g.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,re=0;re<b.length;++re){var ve=b[re];if(ve&&!ve.da&&ve.capture==T){var it=ve.listener,vn=ve.ha||ve.src;ve.fa&&tn(g.i,ve),Y=it.call(vn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Rn(g,b,T){if(typeof g=="function")T&&(g=y(g,T));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(g,b||0)}function Uo(g){g.g=Rn(()=>{g.g=null,g.i&&(g.i=!1,Uo(g))},g.l);const b=g.h;g.h=null,g.m.apply(null,b)}class xu extends xe{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(g){xe.call(this),this.h=g,this.g={}}E(ii,xe);var Qi=[];function Fo(g){W(g.g,function(b,T){this.g.hasOwnProperty(T)&&Fa(b)},g),g.g={}}ii.prototype.N=function(){ii.aa.N.call(this),Fo(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=u.JSON.stringify,Us=u.JSON.parse,Ho=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function _u(){}_u.prototype.h=null;function wu(g){return g.h||(g.h=g.i())}function Eu(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ji(){he.call(this,"d")}E(Ji,he);function bu(){he.call(this,"c")}E(bu,he);var Ei={},Au=null;function Ha(){return Au=Au||new rt}Ei.La="serverreachability";function Fs(g){he.call(this,Ei.La,g)}E(Fs,he);function za(g){const b=Ha();nt(b,new Fs(b))}Ei.STAT_EVENT="statevent";function Lf(g,b){he.call(this,Ei.STAT_EVENT,g),this.stat=b}E(Lf,he);function Vt(g){const b=Ha();nt(b,new Lf(b,g))}Ei.Ma="timingevent";function gn(g,b){he.call(this,Ei.Ma,g),this.size=b}E(gn,he);function un(g,b){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},b)}function Vr(){this.g=!0}Vr.prototype.xa=function(){this.g=!1};function Su(g,b,T,k,Y,re){g.info(function(){if(g.g)if(re)for(var ve="",it=re.split("&"),vn=0;vn<it.length;vn++){var at=it[vn].split("=");if(1<at.length){var Dn=at[0];at=at[1];var yn=Dn.split("_");ve=2<=yn.length&&yn[1]=="type"?ve+(Dn+"="+at+"&"):ve+(Dn+"=redacted&")}}else ve=null;else ve=re;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+b+`
`+T+`
`+ve})}function $0(g,b,T,k,Y,re,ve){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+b+`
`+T+`
`+re+" "+ve})}function Ga(g,b,T,k){g.info(function(){return"XMLHTTP TEXT ("+b+"): "+zo(g,T)+(k?" "+k:"")})}function jf(g,b){g.info(function(){return"TIMEOUT: "+b})}Vr.prototype.info=function(){};function zo(g,b){if(!g.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(g=0;g<T.length;g++)if(Array.isArray(T[g])){var k=T[g];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ve=1;ve<Y.length;ve++)Y[ve]=""}}}}return ai(T)}catch{return b}}var qa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ea={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Ai(){}E(Ai,_u),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},bi=new Ai;function cr(g,b,T,k){this.j=g,this.i=b,this.l=T,this.R=k||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nn}function nn(){this.i=null,this.g="",this.h=!1}var Tu={},Hs={};function oi(g,b,T){g.L=1,g.v=$o(Or(b)),g.m=T,g.P=!0,ta(g,null)}function ta(g,b){g.F=Date.now(),Go(g),g.A=Or(g.v);var T=g.A,k=g.R;Array.isArray(k)||(k=[String(k)]),Du(T.i,"t",k),g.C=0,T=g.j.J,g.h=new nn,g.g=Jf(g.j,T?b:null,!g.m),0<g.O&&(g.M=new xu(y(g.Y,g,g.g),g.O)),b=g.U,T=g.g,k=g.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Qi[0]=Y.toString()),Y=Qi);for(var re=0;re<Y.length;re++){var ve=Rr(T,Y[re],k||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=g.H?R(g.H):{},g.m?(g.u||(g.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,b)):(g.u="GET",g.g.ea(g.A,g.u,null,b)),za(),Su(g.i,g.u,g.A,g.l,g.R,g.m)}cr.prototype.ca=function(g){g=g.target;const b=this.M;b&&zr(g)==3?b.j():this.Y(g)},cr.prototype.Y=function(g){try{if(g==this.g)e:{const yn=zr(this.g);var b=this.g.Ba();const ua=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||qf(this.g)))){this.J||yn!=4||b==7||(b==8||0>=ua?za(3):za(2)),Xa(this);var T=this.g.Z();this.X=T;t:if(Bf(this)){var k=qf(this.g);g="";var Y=k.length,re=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Si(this);var ve="";break t}this.h.i=new u.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,g+=this.h.i.decode(k[b],{stream:!(re&&b==Y-1)});k.length=0,this.h.g+=g,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=T==200,$0(this.i,this.u,this.A,this.l,this.R,yn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var it,vn=this.g;if((it=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(it)){var at=it;break t}}at=null}if(T=at)Ga(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qo(this,T);else{this.o=!1,this.s=3,Vt(12),Hn(this),Si(this);break e}}if(this.P){T=!0;let zn;for(;!this.J&&this.C<ve.length;)if(zn=Vf(this,ve),zn==Hs){yn==4&&(this.s=4,Vt(14),T=!1),Ga(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==Tu){this.s=4,Vt(15),Ga(this.i,this.l,ve,"[Invalid Chunk]"),T=!1;break}else Ga(this.i,this.l,zn,null),qo(this,zn);if(Bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||ve.length!=0||this.h.h||(this.s=1,Vt(16),T=!1),this.o=this.o&&T,!T)Ga(this.i,this.l,ve,"[Invalid Chunked Response]"),Hn(this),Si(this);else if(0<ve.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),ns(Dn),Dn.M=!0,Vt(11))}}else Ga(this.i,this.l,ve,null),qo(this,ve);yn==4&&Hn(this),this.o&&!this.J&&(yn==4?Kf(this.j,this):(this.o=!1,Go(this)))}else J0(this.g),T==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Hn(this),Si(this)}}}catch{}finally{}};function Bf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Vf(g,b){var T=g.C,k=b.indexOf(`
`,T);return k==-1?Hs:(T=Number(b.substring(T,k)),isNaN(T)?Tu:(k+=1,k+T>b.length?Hs:(b=b.slice(k,k+T),g.C=k+T,b)))}cr.prototype.cancel=function(){this.J=!0,Hn(this)};function Go(g){g.S=Date.now()+g.I,Uf(g,g.I)}function Uf(g,b){if(g.B!=null)throw Error("WatchDog timer not null");g.B=un(y(g.ba,g),b)}function Xa(g){g.B&&(u.clearTimeout(g.B),g.B=null)}cr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(jf(this.i,this.A),this.L!=2&&(za(),Vt(17)),Hn(this),this.s=2,Si(this)):Uf(this,this.S-g)};function Si(g){g.j.G==0||g.J||Kf(g.j,g)}function Hn(g){Xa(g);var b=g.M;b&&typeof b.ma=="function"&&b.ma(),g.M=null,Fo(g.U),g.g&&(b=g.g,g.g=null,b.abort(),b.ma())}function qo(g,b){try{var T=g.j;if(T.G!=0&&(T.g==g||Cu(T.h,g))){if(!g.K&&Cu(T.h,g)&&T.G==3){try{var k=T.Da.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<g.F)el(T),Zs(T);else break e;ju(T),Vt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=un(y(T.Za,T),6e3));if(1>=Gs(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else la(T,11)}else if((g.K||T.g==g)&&el(T),!N(b))for(Y=T.Da.g.parse(b),b=0;b<Y.length;b++){let at=Y[b];if(T.T=at[0],at=at[1],T.G==2)if(at[0]=="c"){T.K=at[1],T.ia=at[2];const Dn=at[3];Dn!=null&&(T.la=Dn,T.j.info("VER="+T.la));const yn=at[4];yn!=null&&(T.Aa=yn,T.j.info("SVER="+T.Aa));const ua=at[5];ua!=null&&typeof ua=="number"&&0<ua&&(k=1.5*ua,T.L=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const zn=g.g;if(zn){const Di=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var re=k.h;re.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(qs(re,re.h),re.h=null))}if(k.D){const Vu=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(k.ya=Vu,St(k.I,k.D,Vu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-g.F,T.j.info("Handshake RTT: "+T.R+"ms")),k=T;var ve=g;if(k.qa=Zf(k,k.J?k.ia:null,k.W),ve.K){fr(k.h,ve);var it=ve,vn=k.L;vn&&(it.I=vn),it.B&&(Xa(it),Go(it)),k.g=ve}else $f(k);0<T.i.length&&Js(T)}else at[0]!="stop"&&at[0]!="close"||la(T,7);else T.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?la(T,7):ku(T):at[0]!="noop"&&T.l&&T.l.ta(at),T.v=0)}}za(4)}catch{}}var Ff=class{constructor(g,b){this.g=g,this.map=b}};function na(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Gs(g){return g.h?1:g.g?g.g.size:0}function Cu(g,b){return g.h?g.h==b:g.g?g.g.has(b):!1}function qs(g,b){g.g?g.g.add(b):g.h=b}function fr(g,b){g.h&&g.h==b?g.h=null:g.g&&g.g.has(b)&&g.g.delete(b)}na.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Iu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let b=g.i;for(const T of g.g.values())b=b.concat(T.D);return b}return A(g.i)}function Y0(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var b=[],T=g.length,k=0;k<T;k++)b.push(g[k]);return b}b=[],T=0;for(k in g)b[T++]=g[k];return b}function Xs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var b=[];g=g.length;for(var T=0;T<g;T++)b.push(T);return b}b=[],T=0;for(const k in g)b[T++]=k;return b}}}function Nu(g,b){if(g.forEach&&typeof g.forEach=="function")g.forEach(b,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,b,void 0);else for(var T=Xs(g),k=Y0(g),Y=k.length,re=0;re<Y;re++)b.call(void 0,k[re],T&&T[re],g)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function K0(g,b){if(g){g=g.split("&");for(var T=0;T<g.length;T++){var k=g[T].indexOf("="),Y=null;if(0<=k){var re=g[T].substring(0,k);Y=g[T].substring(k+1)}else re=g[T];b(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function cn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof cn){this.h=g.h,Wo(this,g.j),this.o=g.o,this.g=g.g,Wa(this,g.s),this.l=g.l;var b=g.i,T=new ia;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),ra(this,T),this.m=g.m}else g&&(b=String(g).match(Xo))?(this.h=!1,Wo(this,b[1]||"",!0),this.o=Ur(b[2]||""),this.g=Ur(b[3]||"",!0),Wa(this,b[4]),this.l=Ur(b[5]||"",!0),ra(this,b[6]||"",!0),this.m=Ur(b[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}cn.prototype.toString=function(){var g=[],b=this.j;b&&g.push(Yo(b,Ru,!0),":");var T=this.g;return(T||b=="file")&&(g.push("//"),(b=this.o)&&g.push(Yo(b,Ru,!0),"@"),g.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&g.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Yo(T,T.charAt(0)=="/"?Q0:Ou,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Yo(T,Ws)),g.join("")};function Or(g){return new cn(g)}function Wo(g,b,T){g.j=T?Ur(b,!0):b,g.j&&(g.j=g.j.replace(/:$/,""))}function Wa(g,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);g.s=b}else g.s=null}function ra(g,b,T){b instanceof ia?(g.i=b,zf(g.i,g.h)):(T||(b=Yo(b,Z0)),g.i=new ia(b,g.h))}function St(g,b,T){g.i.set(b,T)}function $o(g){return St(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Ur(g,b){return g?b?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Yo(g,b,T){return typeof g=="string"?(g=encodeURI(g).replace(b,Hf),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Hf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ru=/[#\/\?@]/g,Ou=/[#\?:]/g,Q0=/[#\?]/g,Z0=/[#\?@]/g,Ws=/#/g;function ia(g,b){this.h=this.g=null,this.i=g||null,this.j=!!b}function Fr(g){g.g||(g.g=new Map,g.h=0,g.i&&K0(g.i,function(b,T){g.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=ia.prototype,n.add=function(g,b){Fr(this),this.i=null,g=Ti(this,g);var T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(b),this.h+=1,this};function aa(g,b){Fr(g),b=Ti(g,b),g.g.has(b)&&(g.i=null,g.h-=g.g.get(b).length,g.g.delete(b))}function oa(g,b){return Fr(g),b=Ti(g,b),g.g.has(b)}n.forEach=function(g,b){Fr(this),this.g.forEach(function(T,k){T.forEach(function(Y){g.call(b,Y,k,this)},this)},this)},n.na=function(){Fr(this);const g=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let k=0;k<b.length;k++){const Y=g[k];for(let re=0;re<Y.length;re++)T.push(b[k])}return T},n.V=function(g){Fr(this);let b=[];if(typeof g=="string")oa(this,g)&&(b=b.concat(this.g.get(Ti(this,g))));else{g=Array.from(this.g.values());for(let T=0;T<g.length;T++)b=b.concat(g[T])}return b},n.set=function(g,b){return Fr(this),this.i=null,g=Ti(this,g),oa(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[b]),this.h+=1,this},n.get=function(g,b){return g?(g=this.V(g),0<g.length?String(g[0]):b):b};function Du(g,b,T){aa(g,b),0<T.length&&(g.i=null,g.g.set(Ti(g,b),A(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var k=b[T];const re=encodeURIComponent(String(k)),ve=this.V(k);for(k=0;k<ve.length;k++){var Y=re;ve[k]!==""&&(Y+="="+encodeURIComponent(String(ve[k]))),g.push(Y)}}return this.i=g.join("&")};function Ti(g,b){return b=String(b),g.j&&(b=b.toLowerCase()),b}function zf(g,b){b&&!g.j&&(Fr(g),g.i=null,g.g.forEach(function(T,k){var Y=k.toLowerCase();k!=Y&&(aa(this,k),Du(this,Y,T))},g)),g.j=b}function Ko(g,b){const T=new Vr;if(u.Image){const k=new Image;k.onload=_(Hr,T,"TestLoadImage: loaded",!0,b,k),k.onerror=_(Hr,T,"TestLoadImage: error",!1,b,k),k.onabort=_(Hr,T,"TestLoadImage: abort",!1,b,k),k.ontimeout=_(Hr,T,"TestLoadImage: timeout",!1,b,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else b(!1)}function si(g,b){const T=new Vr,k=new AbortController,Y=setTimeout(()=>{k.abort(),Hr(T,"TestPingServer: timeout",!1,b)},1e4);fetch(g,{signal:k.signal}).then(re=>{clearTimeout(Y),re.ok?Hr(T,"TestPingServer: ok",!0,b):Hr(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Hr(T,"TestPingServer: error",!1,b)})}function Hr(g,b,T,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(T)}catch{}}function Qo(){this.g=new Ho}function Ci(g,b,T){const k=T||"";try{Nu(g,function(Y,re){let ve=Y;h(Y)&&(ve=ai(Y)),b.push(k+re+"="+encodeURIComponent(ve))})}catch(Y){throw b.push(k+"type="+encodeURIComponent("_badmap")),Y}}function $a(g){this.l=g.Ub||null,this.j=g.eb||!1}E($a,_u),$a.prototype.g=function(){return new sa(this.l,this.j)},$a.prototype.i=function(g){return function(){return g}}({});function sa(g,b){rt.call(this),this.D=g,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(sa,rt),n=sa.prototype,n.open=function(g,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=b,this.readyState=1,Ni(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(b.body=g),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var b=g.value?g.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!g.done}))&&(this.response=this.responseText+=b)}g.done?Ii(this):Ni(this),this.readyState==3&&Pu(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ii(this))},n.Qa=function(g){this.g&&(this.response=g,Ii(this))},n.ga=function(){this.g&&Ii(this)};function Ii(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ni(g)}n.setRequestHeader=function(g,b){this.u.append(g,b)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=b.next();return g.join(`\r
`)};function Ni(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Mu(g){let b="";return W(g,function(T,k){b+=k,b+=":",b+=T,b+=`\r
`}),b}function On(g,b,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=Mu(T),typeof g=="string"?T!=null&&encodeURIComponent(String(T)):St(g,b,T))}function vt(g){rt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(vt,rt);var $s=/^https?$/i,Zo=["POST","PUT"];n=vt.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,b,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);b=b?b.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?wu(this.o):wu(bi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(b,String(g),!0),this.B=!1}catch(re){Gf(this,re);return}if(g=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)T.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const re of k.keys())T.set(re,k.get(re));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(re=>re.toLowerCase()=="content-type"),Y=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Zo,b,void 0))||k||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ve]of T)this.g.setRequestHeader(re,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jo(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){Gf(this,re)}};function Gf(g,b){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=b,g.m=5,Ys(g),Ri(g)}function Ys(g){g.A||(g.A=!0,nt(g,"complete"),nt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,nt(this,"complete"),nt(this,"abort"),Ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ks(this):this.bb())},n.bb=function(){Ks(this)};function Ks(g){if(g.h&&typeof s<"u"&&(!g.v[1]||zr(g)!=4||g.Z()!=2)){if(g.u&&zr(g)==4)Rn(g.Ea,0,g);else if(nt(g,"readystatechange"),zr(g)==4){g.h=!1;try{const ve=g.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var k;if(k=ve===0){var Y=String(g.D).match(Xo)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),k=!$s.test(Y?Y.toLowerCase():"")}T=k}if(T)nt(g,"complete"),nt(g,"success");else{g.m=6;try{var re=2<zr(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",Ys(g)}}finally{Ri(g)}}}}function Ri(g,b){if(g.g){Jo(g);const T=g.g,k=g.v[0]?()=>{}:null;g.g=null,g.v=null,b||nt(g,"ready");try{T.onreadystatechange=k}catch{}}}function Jo(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function zr(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var b=this.g.responseText;return g&&b.indexOf(g)==0&&(b=b.substring(g.length)),Us(b)}};function qf(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function J0(g){const b={};g=(g.g&&2<=zr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(N(g[k]))continue;var T=z(g[k]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const re=b[Y]||[];b[Y]=re,re.push(T)}M(b,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(g,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||b}function Qs(g){this.Aa=0,this.i=[],this.j=new Vr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,g),this.cb=es("retryDelaySeedMs",1e4,g),this.Wa=es("forwardChannelMaxRetries",2,g),this.wa=es("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new na(g&&g.concurrentRequestLimit),this.Da=new Qo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qs.prototype,n.la=8,n.G=1,n.connect=function(g,b,T,k){Vt(0),this.W=g,this.H=b||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.I=Zf(this,null,this.W),Js(this)};function ku(g){if(Xf(g),g.G==3){var b=g.U++,T=Or(g.I);if(St(T,"SID",g.K),St(T,"RID",b),St(T,"TYPE","terminate"),ts(g,T),b=new cr(g,g.j,b),b.L=2,b.v=$o(Or(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=b.v,T=!0),T||(b.g=Jf(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Go(b)}Qf(g)}function Zs(g){g.g&&(ns(g),g.g.cancel(),g.g=null)}function Xf(g){Zs(g),g.u&&(u.clearTimeout(g.u),g.u=null),el(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Js(g){if(!zs(g.h)&&!g.s){g.s=!0;var b=g.Ga;ne||q(),pe||(ne(),pe=!0),Se.add(b,g),g.B=0}}function e1(g,b){return Gs(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=b.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=un(y(g.Ga,g,b),Bu(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Y=new cr(this,this.j,g);let re=this.o;if(this.S&&(re?(re=R(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Wf(this,Y,b),T=Or(this.I),St(T,"RID",g),St(T,"CVER",22),this.D&&St(T,"X-HTTP-Session-Id",this.D),ts(this,T),re&&(this.O?b="headers="+encodeURIComponent(String(Mu(re)))+"&"+b:this.m&&On(T,this.m,re)),qs(this.h,Y),this.Ua&&St(T,"TYPE","init"),this.P?(St(T,"$req",b),St(T,"SID","null"),Y.T=!0,oi(Y,T,null)):oi(Y,T,b),this.G=2}}else this.G==3&&(g?Lu(this,g):this.i.length==0||zs(this.h)||Lu(this))};function Lu(g,b){var T;b?T=b.l:T=g.U++;const k=Or(g.I);St(k,"SID",g.K),St(k,"RID",T),St(k,"AID",g.T),ts(g,k),g.m&&g.o&&On(k,g.m,g.o),T=new cr(g,g.j,T,g.B+1),g.m===null&&(T.H=g.o),b&&(g.i=b.D.concat(g.i)),b=Wf(g,T,1e3),T.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),qs(g.h,T),oi(T,k,b)}function ts(g,b){g.H&&W(g.H,function(T,k){St(b,k,T)}),g.l&&Nu({},function(T,k){St(b,k,T)})}function Wf(g,b,T){T=Math.min(g.i.length,T);var k=g.l?y(g.l.Na,g.l,g):null;e:{var Y=g.i;let re=-1;for(;;){const ve=["count="+T];re==-1?0<T?(re=Y[0].g,ve.push("ofs="+re)):re=0:ve.push("ofs="+re);let it=!0;for(let vn=0;vn<T;vn++){let at=Y[vn].g;const Dn=Y[vn].map;if(at-=re,0>at)re=Math.max(0,Y[vn].g-100),it=!1;else try{Ci(Dn,ve,"req"+at+"_")}catch{k&&k(Dn)}}if(it){k=ve.join("&");break e}}}return g=g.i.splice(0,T),b.D=g,k}function $f(g){if(!g.g&&!g.u){g.Y=1;var b=g.Fa;ne||q(),pe||(ne(),pe=!0),Se.add(b,g),g.v=0}}function ju(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=un(y(g.Fa,g),Bu(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Yf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=un(y(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Zs(this),Yf(this))};function ns(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Yf(g){g.g=new cr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var b=Or(g.qa);St(b,"RID","rpc"),St(b,"SID",g.K),St(b,"AID",g.T),St(b,"CI",g.F?"0":"1"),!g.F&&g.ja&&St(b,"TO",g.ja),St(b,"TYPE","xmlhttp"),ts(g,b),g.m&&g.o&&On(b,g.m,g.o),g.L&&(g.g.I=g.L);var T=g.g;g=g.ia,T.L=1,T.v=$o(Or(b)),T.m=null,T.P=!0,ta(T,g)}n.Za=function(){this.C!=null&&(this.C=null,Zs(this),ju(this),Vt(19))};function el(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Kf(g,b){var T=null;if(g.g==b){el(g),ns(g),g.g=null;var k=2}else if(Cu(g.h,b))T=b.D,fr(g.h,b),k=1;else return;if(g.G!=0){if(b.o)if(k==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var Y=g.B;k=Ha(),nt(k,new gn(k,T)),Js(g)}else $f(g);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(k==1&&e1(g,b)||k==2&&ju(g)))switch(T&&0<T.length&&(b=g.h,b.i=b.i.concat(T)),Y){case 1:la(g,5);break;case 4:la(g,10);break;case 3:la(g,6);break;default:la(g,2)}}}function Bu(g,b){let T=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(T*=2),T*b}function la(g,b){if(g.j.info("Error code "+b),b==2){var T=y(g.fb,g),k=g.Xa;const Y=!k;k=new cn(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Wo(k,"https"),$o(k),Y?Ko(k.toString(),T):si(k.toString(),T)}else Vt(2);g.G=0,g.l&&g.l.sa(b),Qf(g),Xf(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Qf(g){if(g.G=0,g.ka=[],g.l){const b=Iu(g.h);(b.length!=0||g.i.length!=0)&&(S(g.ka,b),S(g.ka,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.ra()}}function Zf(g,b,T){var k=T instanceof cn?Or(T):new cn(T);if(k.g!="")b&&(k.g=b+"."+k.g),Wa(k,k.s);else{var Y=u.location;k=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new cn(null);k&&Wo(re,k),b&&(re.g=b),Y&&Wa(re,Y),T&&(re.l=T),k=re}return T=g.D,b=g.ya,T&&b&&St(k,T,b),St(k,"VER",g.la),ts(g,k),k}function Jf(g,b,T){if(b&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=g.Ca&&!g.pa?new vt(new $a({eb:T})):new vt(g.pa),b.Ha(g.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}n=eh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function tl(){}tl.prototype.g=function(g,b){return new hr(g,b)};function hr(g,b){rt.call(this),this.g=new Qs(b),this.l=g,this.h=b&&b.messageUrlParams||null,g=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(g?g["X-WebChannel-Content-Type"]=b.messageContentType:g={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(g?g["X-WebChannel-Client-Profile"]=b.va:g={"X-WebChannel-Client-Profile":b.va}),this.g.S=g,(g=b&&b.Sb)&&!N(g)&&(this.g.m=g),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.D=b,g=this.h,g!==null&&b in g&&(g=this.h,b in g&&delete g[b])),this.j=new Oi(this)}E(hr,rt),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){ku(this.g)},hr.prototype.o=function(g){var b=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.u&&(T={},T.__data__=ai(g),g=T);b.i.push(new Ff(b.Ya++,g)),b.G==3&&Js(b)},hr.prototype.N=function(){this.g.l=null,delete this.j,ku(this.g),delete this.g,hr.aa.N.call(this)};function th(g){Ji.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var b=g.__sm__;if(b){e:{for(const T in b){g=T;break e}g=void 0}(this.i=g)&&(g=this.i,b=b!==null&&g in b?b[g]:void 0),this.data=b}else this.data=g}E(th,Ji);function nh(){bu.call(this),this.status=1}E(nh,bu);function Oi(g){this.g=g}E(Oi,eh),Oi.prototype.ua=function(){nt(this.g,"a")},Oi.prototype.ta=function(g){nt(this.g,new th(g))},Oi.prototype.sa=function(g){nt(this.g,new nh)},Oi.prototype.ra=function(){nt(this.g,"b")},tl.prototype.createWebChannel=tl.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,IS=function(){return new tl},CS=function(){return Ha()},TS=Ei,rg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qa.NO_ERROR=0,qa.TIMEOUT=8,qa.HTTP_ERROR=6,Nd=qa,ea.COMPLETE="complete",SS=ea,Eu.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",rt.prototype.listen=rt.prototype.K,jc=Eu,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,AS=vt}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const pw="@firebase/firestore",mw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new jg("@firebase/firestore");function Dl(){return Ds.logLevel}function we(n,...e){if(Ds.logLevel<=et.DEBUG){const t=e.map(lv);Ds.debug(`Firestore (${hu}): ${n}`,...t)}}function La(n,...e){if(Ds.logLevel<=et.ERROR){const t=e.map(lv);Ds.error(`Firestore (${hu}): ${n}`,...t)}}function Wl(n,...e){if(Ds.logLevel<=et.WARN){const t=e.map(lv);Ds.warn(`Firestore (${hu}): ${n}`,...t)}}function lv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NS(n,r,t)}function NS(n,e,t){let r=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw La(r),new Error(r)}function xt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||NS(e,i,r)}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Ba{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ir.UNAUTHENTICATED))}shutdown(){}}class DD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PD{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Io,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Io)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new RS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new ir(e)}}class MD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new MD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Ye(n,e){return n<e?-1:n>e?1:0}function ig(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Ye(r,i);{const a=OS(),s=BD(a.encode(vw(n,t)),a.encode(vw(e,t)));return s!==0?s:Ye(r,i)}}t+=r>65535?2:1}return Ye(n.length,e.length)}function vw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function BD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ye(n[t],e[t]);return Ye(n.length,e.length)}function $l(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=-62135596800,xw=1e6;class In{static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xw);return new In(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yw)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xw}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new In(0,0))}static max(){return new Ue(new In(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="__name__";class Vi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Vi.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Ye(e.length,t.length)}static compareSegments(e,t){const r=Vi.isNumericId(e),i=Vi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Co.fromString(e.substring(4,e.length-2))}}class Zt extends Vi{construct(e,t,r){return new Zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Zt(t)}static emptyPath(){return new Zt([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends Vi{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_w}static keyField(){return new Kn([_w])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new De(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new De(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new De(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new De(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Zt.fromString(e))}static fromName(e){return new Pe(Zt.fromString(e).popFirst(5))}static empty(){return new Pe(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=-1;function UD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new In(t+1,0):new In(t,r));return new Oo(i,Pe.empty(),e)}function FD(n){return new Oo(n.readTime,n.key,of)}class Oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oo(Ue.min(),Pe.empty(),of)}static max(){return new Oo(Ue.max(),Pe.empty(),of)}}function HD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:Ye(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==zD)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&t()},c=>r(c))}),s=!0,a===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const h=c;t(e[h]).next(p=>{s[h]=p,++u,u===a&&r(s)},p=>i(p))}})}static doWhile(e,t){return new ce((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function qD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}O0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-1;function D0(n){return n==null}function $d(n){return n===0&&1/n==-1/0}function XD(n){return typeof n=="number"&&Number.isInteger(n)&&!$d(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="";function WD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ww(e)),e=$D(n.get(t),e);return ww(e)}function $D(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case PS:t+="";break;default:t+=a}}return t}function ww(n){return n+PS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new $t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sd(this.root,e,this.comparator,!1)}getReverseIterator(){return new sd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sd(this.root,e,this.comparator,!0)}}class sd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Yn.RED,this.left=i??Yn.EMPTY,this.right=a??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Yn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bw(this.data.getIterator())}getIteratorFrom(e){return new bw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nn(this.comparator);return t.data=e,t}}class bw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new gi([])}unionWith(e){let t=new Nn(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new gi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kS("Invalid base64 string: "+a):a}}(e);return new Zn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Zn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const YD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(n){if(xt(!!n,39018),typeof n=="string"){let e=0;const t=YD.exec(n);if(xt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(n.seconds),nanos:sn(n.nanos)}}function sn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Po(n){return typeof n=="string"?Zn.fromBase64String(n):Zn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="server_timestamp",jS="__type__",BS="__previous_value__",VS="__local_write_time__";function cv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jS])===null||t===void 0?void 0:t.stringValue)===LS}function P0(n){const e=n.mapValue.fields[BS];return cv(e)?P0(e):e}function sf(n){const e=Do(n.mapValue.fields[VS].timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t,r,i,a,s,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const Yd="(default)";class lf{constructor(e,t){this.projectId=e,this.database=t||Yd}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="__type__",QD="__max__",ld={mapValue:{}},FS="__vector__",Kd="value";function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cv(n)?4:JD(n)?9007199254740991:ZD(n)?10:11:Be(28295,{value:n})}function Xi(n,e){if(n===e)return!0;const t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sf(n).isEqual(sf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Do(i.timestampValue),u=Do(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return Po(i.bytesValue).isEqual(Po(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return sn(i.geoPointValue.latitude)===sn(a.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return sn(i.integerValue)===sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=sn(i.doubleValue),u=sn(a.doubleValue);return s===u?$d(s)===$d(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return $l(n.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Ew(s)!==Ew(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Xi(s[c],u[c])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function uf(n,e){return(n.values||[]).find(t=>Xi(t,e))!==void 0}function Yl(n,e){if(n===e)return 0;const t=Mo(n),r=Mo(e);if(t!==r)return Ye(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return function(a,s){const u=sn(a.integerValue||a.doubleValue),c=sn(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return Aw(n.timestampValue,e.timestampValue);case 4:return Aw(sf(n),sf(e));case 5:return ig(n.stringValue,e.stringValue);case 6:return function(a,s){const u=Po(a),c=Po(s);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=Ye(u[h],c[h]);if(p!==0)return p}return Ye(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const u=Ye(sn(a.latitude),sn(s.latitude));return u!==0?u:Ye(sn(a.longitude),sn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sw(n.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,h,p;const m=a.fields||{},y=s.fields||{},_=(u=m[Kd])===null||u===void 0?void 0:u.arrayValue,E=(c=y[Kd])===null||c===void 0?void 0:c.arrayValue,A=Ye(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return A!==0?A:Sw(_,E)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===ld.mapValue&&s===ld.mapValue)return 0;if(a===ld.mapValue)return 1;if(s===ld.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=ig(c[m],p[m]);if(y!==0)return y;const _=Yl(u[c[m]],h[p[m]]);if(_!==0)return _}return Ye(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{Pe:t})}}function Aw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const t=Do(n),r=Do(e),i=Ye(t.seconds,r.seconds);return i!==0?i:Ye(t.nanos,r.nanos)}function Sw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Yl(t[i],r[i]);if(a)return a}return Ye(t.length,r.length)}function Kl(n){return ag(n)}function ag(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Do(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Po(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=ag(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${ag(t.fields[s])}`;return i+"}"}(n.mapValue):Be(61005,{value:n})}function Rd(n){switch(Mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=P0(n);return e?16+Rd(e):16;case 5:return 2*n.stringValue.length;case 6:return Po(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Rd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ks(r.fields,(a,s)=>{i+=a.length+Rd(s)}),i}(n.mapValue);default:throw Be(13486,{value:n})}}function og(n){return!!n&&"integerValue"in n}function fv(n){return!!n&&"arrayValue"in n}function Tw(n){return!!n&&"nullValue"in n}function Cw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Od(n){return!!n&&"mapValue"in n}function ZD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||t===void 0?void 0:t.stringValue)===FS}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ks(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}s?r[u.lastSegment()]=$c(s):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ks(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zr($c(this.value))}}function HS(n){const e=[];return ks(n.fields,(t,r)=>{const i=new Kn([t]);if(Od(r)){const a=HS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new gi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t,r,i,a,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new ar(e,0,Ue.min(),Ue.min(),Ue.min(),Zr.empty(),0)}static newFoundDocument(e,t,r,i){return new ar(e,1,t,Ue.min(),r,i,0)}static newNoDocument(e,t){return new ar(e,2,t,Ue.min(),Ue.min(),Zr.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,Ue.min(),Ue.min(),Zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.position=e,this.inclusive=t}}function Iw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(s.referenceValue),t.key):r=Yl(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,t="asc"){this.field=e,this.dir=t}}function e7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class Sn extends zS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new n7(e,t,r):t==="array-contains"?new a7(e,r):t==="in"?new o7(e,r):t==="not-in"?new s7(e,r):t==="array-contains-any"?new l7(e,r):new Sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new r7(e,r):new i7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yl(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends zS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Wi(e,t)}matches(e){return GS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GS(n){return n.op==="and"}function qS(n){return t7(n)&&GS(n)}function t7(n){for(const e of n.filters)if(e instanceof Wi)return!1;return!0}function sg(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(qS(n))return n.filters.map(e=>sg(e)).join(",");{const e=n.filters.map(t=>sg(t)).join(",");return`${n.op}(${e})`}}function XS(n,e){return n instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.field.isEqual(i.field)&&Xi(r.value,i.value)}(n,e):n instanceof Wi?function(r,i){return i instanceof Wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,u)=>a&&XS(s,i.filters[u]),!0):!1}(n,e):void Be(19439)}function WS(n){return n instanceof Sn?function(t){return`${t.field.canonicalString()} ${t.op} ${Kl(t.value)}`}(n):n instanceof Wi?function(t){return t.op.toString()+" {"+t.getFilters().map(WS).join(" ,")+"}"}(n):"Filter"}class n7 extends Sn{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class r7 extends Sn{constructor(e,t){super(e,"in",t),this.keys=$S("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class i7 extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=$S("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $S(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class a7 extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fv(t)&&uf(t.arrayValue,this.value)}}class o7 extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&uf(this.value.arrayValue,t)}}class s7 extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uf(this.value.arrayValue,t)}}class l7 extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,t=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Ie=null}}function Rw(n,e=null,t=[],r=[],i=null,a=null,s=null){return new u7(n,e,t,r,i,a,s)}function hv(n){const e=He(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),D0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kl(r)).join(",")),e.Ie=t}return e.Ie}function dv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Nw(n.startAt,e.startAt)&&Nw(n.endAt,e.endAt)}function lg(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function c7(n,e,t,r,i,a,s,u){return new M0(n,e,t,r,i,a,s,u)}function pv(n){return new M0(n)}function Ow(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function f7(n){return n.collectionGroup!==null}function Yc(n){const e=He(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Nn(Kn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Zd(a,r))}),t.has(Kn.keyField().canonicalString())||e.Ee.push(new Zd(Kn.keyField(),r))}return e.Ee}function zi(n){const e=He(n);return e.de||(e.de=h7(e,Yc(n))),e.de}function h7(n,e){if(n.limitType==="F")return Rw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Zd(i.field,a)});const t=n.endAt?new Qd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Qd(n.startAt.position,n.startAt.inclusive):null;return Rw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ug(n,e,t){return new M0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function k0(n,e){return dv(zi(n),zi(e))&&n.limitType===e.limitType}function YS(n){return`${hv(zi(n))}|lt:${n.limitType}`}function Pl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>WS(i)).join(", ")}]`),D0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Kl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(zi(n))}; limitType=${n.limitType})`}function L0(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Yc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const h=Iw(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,u,c){const h=Iw(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,Yc(r),i))}(n,e)}function d7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KS(n){return(e,t)=>{let r=!1;for(const i of Yc(n)){const a=p7(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function p7(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(a,s,u){const c=s.data.field(a),h=u.data.field(a);return c!==null&&h!==null?Yl(c,h):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return MS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new $t(Pe.comparator);function ja(){return m7}const QS=new $t(Pe.comparator);function Bc(...n){let e=QS;for(const t of n)e=e.insert(t.key,t);return e}function ZS(n){let e=QS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function As(){return Kc()}function JS(){return Kc()}function Kc(){return new Ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const g7=new $t(Pe.comparator),v7=new Nn(Pe.comparator);function tt(...n){let e=v7;for(const t of n)e=e.add(t);return e}const y7=new Nn(Ye);function x7(){return y7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function eT(n){return{integerValue:""+n}}function _7(n,e){return XD(e)?eT(e):mv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this._=void 0}}function w7(n,e,t){return n instanceof cf?function(i,a){const s={fields:{[jS]:{stringValue:LS},[VS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&cv(a)&&(a=P0(a)),a&&(s.fields[BS]=a),{mapValue:s}}(t,e):n instanceof ff?nT(n,e):n instanceof hf?rT(n,e):function(i,a){const s=tT(i,a),u=Dw(s)+Dw(i.Re);return og(s)&&og(i.Re)?eT(u):mv(i.serializer,u)}(n,e)}function E7(n,e,t){return n instanceof ff?nT(n,e):n instanceof hf?rT(n,e):t}function tT(n,e){return n instanceof Jd?function(r){return og(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class cf extends j0{}class ff extends j0{constructor(e){super(),this.elements=e}}function nT(n,e){const t=iT(e);for(const r of n.elements)t.some(i=>Xi(i,r))||t.push(r);return{arrayValue:{values:t}}}class hf extends j0{constructor(e){super(),this.elements=e}}function rT(n,e){let t=iT(e);for(const r of n.elements)t=t.filter(i=>!Xi(i,r));return{arrayValue:{values:t}}}class Jd extends j0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Dw(n){return sn(n.integerValue||n.doubleValue)}function iT(n){return fv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,t){this.field=e,this.transform=t}}function A7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ff&&i instanceof ff||r instanceof hf&&i instanceof hf?$l(r.elements,i.elements,Xi):r instanceof Jd&&i instanceof Jd?Xi(r.Re,i.Re):r instanceof cf&&i instanceof cf}(n.transform,e.transform)}class S7{constructor(e,t){this.version=e,this.transformResults=t}}class Oa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oa}static exists(e){return new Oa(void 0,e)}static updateTime(e){return new Oa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class B0{}function aT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sT(n.key,Oa.none()):new If(n.key,n.data,Oa.none());{const t=n.data,r=Zr.empty();let i=new Nn(Kn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new js(n.key,r,new gi(i.toArray()),Oa.none())}}function T7(n,e,t){n instanceof If?function(i,a,s){const u=i.value.clone(),c=Mw(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof js?function(i,a,s){if(!Dd(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=Mw(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(oT(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Qc(n,e,t,r){return n instanceof If?function(a,s,u,c){if(!Dd(a.precondition,s))return u;const h=a.value.clone(),p=kw(a.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof js?function(a,s,u,c){if(!Dd(a.precondition,s))return u;const h=kw(a.fieldTransforms,c,s),p=s.data;return p.setAll(oT(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(n,e,t,r):function(a,s,u){return Dd(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(n,e,t)}function C7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=tT(r.transform,i||null);a!=null&&(t===null&&(t=Zr.empty()),t.set(r.field,a))}return t||null}function Pw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$l(r,i,(a,s)=>A7(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class If extends B0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends B0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function oT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Mw(n,e,t){const r=new Map;xt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,E7(s,u,t[i]))}return r}function kw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,w7(a,s,e))}return r}class sT extends B0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I7 extends B0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&T7(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Qc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JS();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=t.has(i.key)?null:u;const c=aT(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(t,r)=>Pw(t,r))&&$l(this.baseMutations,e.baseMutations,(t,r)=>Pw(t,r))}}class gv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return g7}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new gv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,st;function D7(n){switch(n){case de.OK:return Be(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function lT(n){if(n===void 0)return La("GRPC error has no .code"),de.UNKNOWN;switch(n){case dn.OK:return de.OK;case dn.CANCELLED:return de.CANCELLED;case dn.UNKNOWN:return de.UNKNOWN;case dn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case dn.INTERNAL:return de.INTERNAL;case dn.UNAVAILABLE:return de.UNAVAILABLE;case dn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case dn.NOT_FOUND:return de.NOT_FOUND;case dn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case dn.ABORTED:return de.ABORTED;case dn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case dn.DATA_LOSS:return de.DATA_LOSS;default:return Be(39323,{code:n})}}(st=dn||(dn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=new Co([4294967295,4294967295],0);function Lw(n){const e=OS().encode(n),t=new bS;return t.update(e),new Uint8Array(t.digest())}function jw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Co([t,r],0),new Co([i,a],0)]}class vv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Co.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Co.fromNumber(r)));return i.compare(P7)===1&&(i=new Co([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Lw(e),[r,i]=jw(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.Se(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new vv(a,i,t);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.pe===0)return;const t=Lw(e),[r,i]=jw(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.be(s)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new V0(Ue.min(),i,new $t(Ye),ja(),tt())}}class Nf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nf(r,t,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class uT{constructor(e,t){this.targetId=e,this.Ce=t}}class cT{constructor(e,t,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Bw{constructor(){this.Fe=0,this.Me=Vw(),this.xe=Zn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),t=tt(),r=tt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}}),new Nf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Vw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,xt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class M7{constructor(e){this.ze=e,this.je=new Map,this.He=ja(),this.Je=ud(),this.Ye=ud(),this.Ze=new $t(Ye)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(lg(a))if(r===0){const s=new Pe(a.path);this.tt(t,s,ar.newNoDocument(s,Ue.min()))}else xt(r===1,20013,{expectedCount:r});else{const s=this.ut(t);if(s!==r){const u=this.ct(e),c=u?this.lt(u,e,s):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,u;try{s=Po(r).toUint8Array()}catch(c){if(c instanceof kS)return Wl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new vv(s,i,a)}catch(c){return Wl(c instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,s)=>{const u=this._t(s);if(u){if(a.current&&lg(u.target)){const c=new Pe(u.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,ar.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new V0(e,t,this.Ze,this.He,r);return this.He=ja(),this.Je=ud(),this.Ye=ud(),this.Ze=new $t(Ye),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Bw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Nn(Ye),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Nn(Ye),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Bw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ud(){return new $t(Pe.comparator)}function Vw(){return new $t(Pe.comparator)}const k7={asc:"ASCENDING",desc:"DESCENDING"},L7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j7={and:"AND",or:"OR"};class B7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cg(n,e){return n.useProto3Json||D0(e)?e:{value:e}}function e0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function V7(n,e){return e0(n,e.toTimestamp())}function Gi(n){return xt(!!n,49232),Ue.fromTimestamp(function(t){const r=Do(t);return new In(r.seconds,r.nanos)}(n))}function yv(n,e){return fg(n,e).canonicalString()}function fg(n,e){const t=function(i){return new Zt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hT(n){const e=Zt.fromString(n);return xt(vT(e),10190,{key:e.toString()}),e}function hg(n,e){return yv(n.databaseId,e.path)}function pm(n,e){const t=hT(e);if(t.get(1)!==n.databaseId.projectId)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(pT(t))}function dT(n,e){return yv(n.databaseId,e)}function U7(n){const e=hT(n);return e.length===4?Zt.emptyPath():pT(e)}function dg(n){return new Zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pT(n){return xt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Uw(n,e,t){return{name:hg(n,e),fields:t.value.mapValue.fields}}function F7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(xt(p===void 0||typeof p=="string",58123),Zn.fromBase64String(p||"")):(xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(h){const p=h.code===void 0?de.UNKNOWN:lT(h.code);return new De(p,h.message||"")}(s);t=new cT(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pm(n,r.document.name),a=Gi(r.document.updateTime),s=r.document.createTime?Gi(r.document.createTime):Ue.min(),u=new Zr({mapValue:{fields:r.document.fields}}),c=ar.newFoundDocument(i,a,s,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Pd(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pm(n,r.document),a=r.readTime?Gi(r.readTime):Ue.min(),s=ar.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Pd([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pm(n,r.document),a=r.removedTargetIds||[];t=new Pd([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new O7(i,a),u=r.targetId;t=new uT(u,s)}}return t}function H7(n,e){let t;if(e instanceof If)t={update:Uw(n,e.key,e.value)};else if(e instanceof sT)t={delete:hg(n,e.key)};else if(e instanceof js)t={update:Uw(n,e.key,e.data),updateMask:Q7(e.fieldMask)};else{if(!(e instanceof I7))return Be(16599,{ft:e.type});t={verify:hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const u=s.transform;if(u instanceof cf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ff)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jd)return{fieldPath:s.field.canonicalString(),increment:u.Re};throw Be(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:V7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function z7(n,e){return n&&n.length>0?(xt(e!==void 0,14353),n.map(t=>function(i,a){let s=i.updateTime?Gi(i.updateTime):Gi(a);return s.isEqual(Ue.min())&&(s=Gi(a)),new S7(s,i.transformResults||[])}(t,e))):[]}function G7(n,e){return{documents:[dT(n,e.path)]}}function q7(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dT(n,i);const a=function(h){if(h.length!==0)return gT(Wi.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Ml(y.field),direction:$7(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=cg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function X7(n){let e=U7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(m){const y=mT(m);return y instanceof Wi&&qS(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(m){return m.map(y=>function(E){return new Zd(kl(E.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,D0(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(m){const y=!!m.before,_=m.values||[];return new Qd(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(m){const y=!m.before,_=m.values||[];return new Qd(_,y)}(t.endAt)),c7(e,i,s,a,u,"F",c,h)}function W7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=kl(t.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kl(t.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kl(t.unaryFilter.field);return Sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kl(t.unaryFilter.field);return Sn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return Sn.create(kl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Wi.create(t.compositeFilter.filters.map(r=>mT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function $7(n){return k7[n]}function Y7(n){return L7[n]}function K7(n){return j7[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function kl(n){return Kn.fromServerFormat(n.fieldPath)}function gT(n){return n instanceof Sn?function(t){if(t.op==="=="){if(Cw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(Tw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Cw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(Tw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:Y7(t.op),value:t.value}}}(n):n instanceof Wi?function(t){const r=t.getFilters().map(i=>gT(i));return r.length===1?r[0]:{compositeFilter:{op:K7(t.op),filters:r}}}(n):Be(54877,{filter:n})}function Q7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t,r,i,a=Ue.min(),s=Ue.min(),u=Zn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e){this.wt=e}}function J7(n){const e=X7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Cn=new tP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Oo.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class tP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Nn(Zt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class Ar{static withCacheSize(e){return new Ar(e,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(yT,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ql(0)}static lr(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="LruGarbageCollector",nP=1048576;function zw([n,e],[t,r]){const i=Ye(n,t);return i===0?Ye(e,r):i}class rP{constructor(e){this.Er=e,this.buffer=new Nn(zw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Hw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pu(t)?we(Hw,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.mr(3e5)})}}class aP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(O0.le);const r=new rP(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Fw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,s,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,u=Date.now(),this.removeTargets(e,r,t))).next(m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Dl()<=et.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function oP(n,e){return new aP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Qc(r.mutation,i,gi.empty(),In.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tt()){const i=As();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let s=Bc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=As();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{t.set(s,u)})})}computeViews(e,t,r,i){let a=ja();const s=Kc(),u=function(){return Kc()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof js)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Qc(p.mutation,h,p.mutation.getFieldMask(),In.now())):s.set(h.key,gi.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((h,p)=>s.set(h,p)),t.forEach((h,p)=>{var m;return u.set(h,new lP(p,(m=s.get(h))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Kc();let i=new $t((s,u)=>s-u),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const u of s)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||gi.empty();p=u.applyToLocalView(h,p),r.set(c,p);const m=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,m=JS();p.forEach(y=>{if(!a.has(y)){const _=aT(t.get(y),r.get(y));_!==null&&m.set(y,_),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f7(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ce.resolve(As());let u=of,c=a;return s.next(h=>ce.forEach(h,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(p)?ce.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,c,h,tt())).next(p=>({batchId:u,changes:ZS(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Bc();return this.indexManager.getCollectionParents(e,a).next(u=>ce.forEach(u,c=>{const h=function(m,y){return new M0(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(s=>{a.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,ar.newInvalidDocument(p)))});let u=Bc();return s.forEach((c,h)=>{const p=a.get(c);p!==void 0&&Qc(p.mutation,h,gi.empty(),In.now()),L0(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ce.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gi(i.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:J7(i.bundledQuery),readTime:Gi(i.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.overlays=new $t(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=As();return ce.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.bt(e,t,a)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=As(),a=t.length+1,s=new Pe(t.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new $t((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=As(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=As(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return ce.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new R7(t,r));let a=this.Qr.get(t);a===void 0&&(a=tt(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.$r=new Nn(Vn.Ur),this.Kr=new Nn(Vn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Vn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Vn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Pe(new Zt([])),r=new Vn(t,e),i=new Vn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new Zt([])),r=new Vn(t,e),i=new Vn(t,e+1);let a=tt();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new Vn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||Ye(e.Zr,t.Zr)}static Wr(e,t){return Ye(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Nn(Vn.Ur)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new N7(a,t,r,i);this.mutationQueue.push(s);for(const u of i)this.Xr=this.Xr.add(new Vn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,t){return ce.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return ce.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?uv:this.nr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vn(t,0),i=new Vn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const u=this.ei(s.Zr);a.push(u)}),ce.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nn(Ye);return t.forEach(i=>{const a=new Vn(i,0),s=new Vn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],u=>{r=r.add(u.Zr)})}),ce.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const s=new Vn(new Pe(a),0);let u=new Nn(Ye);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Zr)),!0)},s),ce.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ce.forEach(t.mutations,i=>{const a=new Vn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Vn(t,0),i=this.Xr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.ii=e,this.docs=function(){return new $t(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=ja();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ar.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ja();const s=t.path,u=new Pe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||HD(FD(p),r)<=0||(i.has(p.key)||L0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ce.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Be(9500)}si(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new mP(this)}getSize(e){return ce.resolve(this.size)}}class mP extends sP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.persistence=e,this.oi=new Ls(t=>hv(t),dv),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this._i=0,this.ai=new xv,this.targetCount=0,this.ui=Ql.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ce.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Ql(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Tr(t),ce.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((s,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ce.waitFor(a).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t){this.ci={},this.overlays={},this.li=new O0(0),this.hi=!1,this.hi=!0,this.Pi=new hP,this.referenceDelegate=e(this),this.Ti=new gP(this),this.indexManager=new eP,this.remoteDocumentCache=function(i){return new pP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Z7(t),this.Ei=new cP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new dP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new vP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return ce.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class vP extends GD{constructor(e){super(),this.currentSequenceNumber=e}}class _v{constructor(e){this.persistence=e,this.Vi=new xv,this.mi=null}static fi(e){return new _v(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.gi,r=>{const i=Pe.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Ue.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ce.or([()=>ce.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class t0{constructor(e,t){this.persistence=e,this.yi=new Ls(r=>WD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oP(this,t)}static fi(e,t){return new t0(e,t)}di(){}Ai(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ce.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ce.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(u=>{u||(r++,a.removeEntry(s,Ue.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ce.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rd(e.data.value)),t}Dr(e,t,r){return ce.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=tt(),i=tt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new wv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return sN()?8:qD(sr())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Ss(e,t,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new yP;return this.bs(e,t,s).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,s,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Dl()<=et.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Pl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ce.resolve()):(Dl()<=et.DEBUG&&we("QueryEngine","Query:",Pl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Dl()<=et.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Pl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(t))):ce.resolve())}ws(e,t){if(Ow(t))return ce.resolve(null);let r=zi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ug(t,null,"F"),r=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=tt(...a);return this.ys.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,u);return this.Cs(t,h,s,c.readTime)?this.ws(e,ug(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return Ow(t)||i.isEqual(Ue.min())?ce.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(t,a);return this.Cs(t,s,r,i)?ce.resolve(null):(Dl()<=et.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pl(t)),this.Fs(e,s,t,UD(i,of)).next(u=>u))})}vs(e,t){let r=new Nn(KS(e));return t.forEach((i,a)=>{L0(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,r){return Dl()<=et.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Pl(t)),this.ys.getDocumentsMatchingQuery(e,t,Oo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LocalStore",_P=3e8;class wP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new $t(Ye),this.Os=new Ls(a=>hv(a),dv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function EP(n,e,t,r){return new wP(n,e,t,r)}async function _T(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],u=[];let c=tt();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:s,addedBatchIds:u}))})})}function bP(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const m=h.batch,y=m.keys();let _=ce.resolve();return y.forEach(E=>{_=_.next(()=>p.getEntry(c,E)).next(A=>{const S=h.docVersions.get(E);xt(S!==null,48541),A.version.compareTo(S)<0&&(m.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),p.addEntry(A)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=tt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wT(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function AP(n,e){const t=He(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;u.push(t.Ti.removeMatchingKeys(a,p.removedDocuments,m).next(()=>t.Ti.addMatchingKeys(a,p.addedDocuments,m)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(Zn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),function(A,S,C){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=_P?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(y,_,p)&&u.push(t.Ti.updateTargetData(a,_))});let c=ja(),h=tt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(SP(a,s,e.documentUpdates).next(p=>{c=p.qs,h=p.Qs})),!r.isEqual(Ue.min())){const p=t.Ti.getLastRemoteSnapshotVersion(a).next(m=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return ce.waitFor(u).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,h)).next(()=>c)}).then(a=>(t.xs=i,a))}function SP(n,e,t){let r=tt(),i=tt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let s=ja();return t.forEach((u,c)=>{const h=a.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ue.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):we(Ev,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function TP(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CP(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,ce.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new wo(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function pg(n,e,t){const r=He(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pu(s))throw s;we(Ev,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Gw(n,e,t){const r=He(n);let i=Ue.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const m=He(c),y=m.Os.get(p);return y!==void 0?ce.resolve(m.xs.get(y)):m.Ti.getTargetData(h,p)}(r,s,zi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:Ue.min(),t?a:tt())).next(u=>(IP(r,d7(e),u),{documents:u,$s:a})))}function IP(n,e,t){let r=n.Ns.get(e)||Ue.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class qw{constructor(){this.activeTargetIds=x7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NP{constructor(){this.xo=new qw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new qw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="ConnectivityMonitor";class Ww{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(Xw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(Xw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function mg(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",OP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Yd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const s=mg(),u=this.jo(e,t.toUriEncodedString());we(mm,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:h}=new URL(u),p=_f(h);return this.Jo(e,u,c,r,p).then(m=>(we(mm,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Wl(mm,`RPC '${e}' ${s} failed with error: `,m,"url: ",u,"request:",r),m})}Yo(e,t,r,i,a,s){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=OP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection";class MP extends DP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=mg();return new Promise((u,c)=>{const h=new AS;h.setWithCredentials(!0),h.listenOnce(SS.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Nd.NO_ERROR:const m=h.getResponseJson();we(nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),u(m);break;case Nd.TIMEOUT:we(nr,`RPC '${e}' ${s} timed out`),c(new De(de.DEADLINE_EXCEEDED,"Request time out"));break;case Nd.HTTP_ERROR:const y=h.getStatus();if(we(nr,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const A=function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(N)>=0?N:de.UNKNOWN}(E.status);c(new De(A,E.message))}else c(new De(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new De(de.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{we(nr,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);we(nr,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}T_(e,t,r){const i=mg(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=IS(),u=CS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");we(nr,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=s.createWebChannel(p,c);let y=!1,_=!1;const E=new PP({Zo:S=>{_?we(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(y||(we(nr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),we(nr,`RPC '${e}' stream ${i} sending:`,S),m.send(S))},Xo:()=>m.close()}),A=(S,C,N)=>{S.listen(C,D=>{try{N(D)}catch(B){setTimeout(()=>{throw B},0)}})};return A(m,jc.EventType.OPEN,()=>{_||(we(nr,`RPC '${e}' stream ${i} transport opened.`),E.__())}),A(m,jc.EventType.CLOSE,()=>{_||(_=!0,we(nr,`RPC '${e}' stream ${i} transport closed`),E.u_())}),A(m,jc.EventType.ERROR,S=>{_||(_=!0,Wl(nr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.u_(new De(de.UNAVAILABLE,"The operation could not be completed")))}),A(m,jc.EventType.MESSAGE,S=>{var C;if(!_){const N=S.data[0];xt(!!N,16349);const D=N,B=(D==null?void 0:D.error)||((C=D[0])===null||C===void 0?void 0:C.error);if(B){we(nr,`RPC '${e}' stream ${i} received error:`,B);const F=B.status;let W=function(P){const L=dn[P];if(L!==void 0)return lT(L)}(F),M=B.message;W===void 0&&(W=de.INTERNAL,M="Unknown error status: "+F+" with message "+B.message),_=!0,E.u_(new De(W,M)),m.close()}else we(nr,`RPC '${e}' stream ${i} received:`,N),E.c_(N)}}),A(u,TS.STAT_EVENT,S=>{S.stat===rg.PROXY?we(nr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===rg.NOPROXY&&we(nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n){return new B7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="PersistentStream";class bT{constructor(e,t,r,i,a,s,u,c){this.xi=e,this.y_=r,this.w_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new ET(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(La(t.toString()),La("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new De(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return we($w,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(we($w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends bT{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=F7(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ue.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ue.min():s.readTime?Gi(s.readTime):Ue.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=dg(this.serializer),t.addTarget=function(a,s){let u;const c=s.target;if(u=lg(c)?{documents:G7(a,c)}:{query:q7(a,c).gt},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=fT(a,s.resumeToken);const h=cg(a,s.expectedCount);h!==null&&(u.expectedCount=h)}else if(s.snapshotVersion.compareTo(Ue.min())>0){u.readTime=e0(a,s.snapshotVersion.toTimestamp());const h=cg(a,s.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=W7(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=dg(this.serializer),t.removeTarget=e,this.L_(t)}}class LP extends bT{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=z7(e.writeResults,e.commitTime),r=Gi(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=dg(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>H7(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{}class BP extends jP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,fg(t,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(de.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Yo(e,fg(t,r),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(de.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class VP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(La(t),this.oa=!1):we("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class UP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(s=>{r.enqueueAndForget(async()=>{Bs(this)&&(we(Ps,"Restarting streams for network reachability change."),await async function(c){const h=He(c);h.Ta.add(4),await Rf(h),h.da.set("Unknown"),h.Ta.delete(4),await F0(h)}(this))})}),this.da=new VP(r,i)}}async function F0(n){if(Bs(n))for(const e of n.Ia)await e(!0)}async function Rf(n){for(const e of n.Ia)await e(!1)}function AT(n,e){const t=He(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Tv(t)?Sv(t):mu(t).M_()&&Av(t,e))}function bv(n,e){const t=He(n),r=mu(t);t.Pa.delete(e),r.M_()&&ST(t,e),t.Pa.size===0&&(r.M_()?r.N_():Bs(t)&&t.da.set("Unknown"))}function Av(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}mu(n).H_(e)}function ST(n,e){n.Aa.Ke(e),mu(n).J_(e)}function Sv(n){n.Aa=new M7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),mu(n).start(),n.da._a()}function Tv(n){return Bs(n)&&!mu(n).F_()&&n.Pa.size>0}function Bs(n){return He(n).Ta.size===0}function TT(n){n.Aa=void 0}async function FP(n){n.da.set("Online")}async function HP(n){n.Pa.forEach((e,t)=>{Av(n,e)})}async function zP(n,e){TT(n),Tv(n)?(n.da.ca(e),Sv(n)):n.da.set("Unknown")}async function GP(n,e,t){if(n.da.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){we(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await n0(n,r)}else if(e instanceof Pd?n.Aa.Xe(e):e instanceof uT?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ue.min()))try{const r=await wT(n.localStore);t.compareTo(r)>=0&&await function(a,s){const u=a.Aa.It(s);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Pa.get(h);p&&a.Pa.set(h,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,h)=>{const p=a.Pa.get(c);if(!p)return;a.Pa.set(c,p.withResumeToken(Zn.EMPTY_BYTE_STRING,p.snapshotVersion)),ST(a,c);const m=new wo(p.target,c,h,p.sequenceNumber);Av(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){we(Ps,"Failed to raise snapshot:",r),await n0(n,r)}}async function n0(n,e,t){if(!pu(e))throw e;n.Ta.add(1),await Rf(n),n.da.set("Offline"),t||(t=()=>wT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Ps,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await F0(n)})}function CT(n,e){return e().catch(t=>n0(n,t,e))}async function H0(n){const e=He(n),t=ko(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:uv;for(;qP(e);)try{const i=await TP(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,XP(e,i)}catch(i){await n0(e,i)}IT(e)&&NT(e)}function qP(n){return Bs(n)&&n.ha.length<10}function XP(n,e){n.ha.push(e);const t=ko(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function IT(n){return Bs(n)&&!ko(n).F_()&&n.ha.length>0}function NT(n){ko(n).start()}async function WP(n){ko(n).ta()}async function $P(n){const e=ko(n);for(const t of n.ha)e.Z_(t.mutations)}async function YP(n,e,t){const r=n.ha.shift(),i=gv.from(r,e,t);await CT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await H0(n)}async function KP(n,e){e&&ko(n).Y_&&await async function(r,i){if(function(s){return D7(s)&&s!==de.ABORTED}(i.code)){const a=r.ha.shift();ko(r).O_(),await CT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await H0(r)}}(n,e),IT(n)&&NT(n)}async function Yw(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),we(Ps,"RemoteStore received new credentials");const r=Bs(t);t.Ta.add(3),await Rf(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await F0(t)}async function QP(n,e){const t=He(n);e?(t.Ta.delete(2),await F0(t)):e||(t.Ta.add(2),await Rf(t),t.da.set("Unknown"))}function mu(n){return n.Ra||(n.Ra=function(t,r,i){const a=He(t);return a.ra(),new kP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:FP.bind(null,n),n_:HP.bind(null,n),i_:zP.bind(null,n),j_:GP.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Tv(n)?Sv(n):n.da.set("Unknown")):(await n.Ra.stop(),TT(n))})),n.Ra}function ko(n){return n.Va||(n.Va=function(t,r,i){const a=He(t);return a.ra(),new LP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:WP.bind(null,n),i_:KP.bind(null,n),X_:$P.bind(null,n),ea:YP.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await H0(n)):(await n.Va.stop(),n.ha.length>0&&(we(Ps,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,u=new Cv(e,t,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iv(n,e){if(La("AsyncQueue",`${e}: ${n}`),pu(n))return new De(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=Bc(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.ma=new $t(Pe.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zl{constructor(e,t,r,i,a,s,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new Zl(e,t,zl.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class JP{constructor(){this.queries=Qw(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=He(t),a=i.queries;i.queries=Qw(),a.forEach((s,u)=>{for(const c of u.ya)c.onError(r)})})(this,new De(de.ABORTED,"Firestore shutting down"))}}function Qw(){return new Ls(n=>YS(n),k0)}async function e9(n,e){const t=He(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(r=2):(a=new ZP,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const u=Iv(s,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&Nv(t)}async function t9(n,e){const t=He(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.ya.indexOf(e);s>=0&&(a.ya.splice(s,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function n9(n,e){const t=He(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const u of s.ya)u.va(i)&&(r=!0);s.pa=i}}r&&Nv(t)}function r9(n,e,t){const r=He(n),i=r.queries.get(e);if(i)for(const a of i.ya)a.onError(t);r.queries.delete(e)}function Nv(n){n.ba.forEach(e=>{e.next()})}var gg,Zw;(Zw=gg||(gg={})).Ca="default",Zw.Cache="cache";class i9{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class a9{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=tt(),this.mutatedKeys=tt(),this.Ha=KS(e),this.Ja=new zl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new Kw,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),_=L0(this.query,m)?m:null,E=!!y&&this.mutatedKeys.has(y.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;y&&_?y.data.isEqual(_.data)?E!==A&&(r.track({type:3,doc:_}),S=!0):this.eu(y,_)||(r.track({type:2,doc:_}),S=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),S=!0):y&&!_&&(r.track({type:1,doc:y}),S=!0,(c||h)&&(u=!0)),S&&(_?(s=s.add(_),a=A?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ja:s,Xa:r,Cs:u,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((p,m)=>function(_,E){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:S})}};return A(_)-A(E)}(p.type,m.type)||this.Ha(p.doc,m.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,s.length!==0||h?{snapshot:new Zl(this.query,e.Ja,a,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Kw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=tt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new OT(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new RT(r))}),t}su(e){this.Ga=e.$s,this.ja=tt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Zl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Rv="SyncEngine";class o9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class s9{constructor(e){this.key=e,this._u=!1}}class l9{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Ls(u=>YS(u),k0),this.cu=new Map,this.lu=new Set,this.hu=new $t(Pe.comparator),this.Pu=new Map,this.Tu=new xv,this.Iu={},this.Eu=new Map,this.du=Ql.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function u9(n,e,t=!0){const r=jT(n);let i;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await DT(r,e,t,!0),i}async function c9(n,e){const t=jT(n);await DT(t,e,!0,!1)}async function DT(n,e,t,r){const i=await CP(n.localStore,zi(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await f9(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&AT(n.remoteStore,i),u}async function f9(n,e,t,r,i){n.Ru=(m,y,_)=>async function(A,S,C,N){let D=S.view.Za(C);D.Cs&&(D=await Gw(A.localStore,S.query,!1).then(({documents:M})=>S.view.Za(M,D)));const B=N&&N.targetChanges.get(S.targetId),F=N&&N.targetMismatches.get(S.targetId)!=null,W=S.view.applyChanges(D,A.isPrimaryClient,B,F);return eE(A,S.targetId,W.ru),W.snapshot}(n,m,y,_);const a=await Gw(n.localStore,e,!0),s=new a9(e,a.$s),u=s.Za(a.documents),c=Nf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(u,n.isPrimaryClient,c);eE(n,t,h.ru);const p=new o9(e,t,s);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function h9(n,e,t){const r=He(n),i=r.uu.get(e),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter(s=>!k0(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&bv(r.remoteStore,i.targetId),vg(r,i.targetId)}).catch(du)):(vg(r,i.targetId),await pg(r.localStore,i.targetId,!0))}async function d9(n,e){const t=He(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),bv(t.remoteStore,r.targetId))}async function p9(n,e,t){const r=w9(n);try{const i=await function(s,u){const c=He(s),h=In.now(),p=u.reduce((_,E)=>_.add(E.key),tt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ja(),A=tt();return c.Bs.getEntries(_,p).next(S=>{E=S,E.forEach((C,N)=>{N.isValidDocument()||(A=A.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(S=>{m=S;const C=[];for(const N of u){const D=C7(N,m.get(N.key).overlayedDocument);D!=null&&C.push(new js(N.key,D,HS(D.value.mapValue),Oa.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,C,u)}).next(S=>{y=S;const C=S.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(_,S.batchId,C)})}).then(()=>({batchId:y.batchId,changes:ZS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.Iu[s.currentUser.toKey()];h||(h=new $t(Ye)),h=h.insert(u,c),s.Iu[s.currentUser.toKey()]=h}(r,i.batchId,t),await Of(r,i.changes),await H0(r.remoteStore)}catch(i){const a=Iv(i,"Failed to persist write");t.reject(a)}}async function PT(n,e){const t=He(n);try{const r=await AP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Pu.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?xt(s._u,14607):i.removedDocuments.size>0&&(xt(s._u,42227),s._u=!1))}),await Of(t,r,e)}catch(r){await du(r)}}function Jw(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((a,s)=>{const u=s.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=He(s);c.onlineState=u;let h=!1;c.queries.forEach((p,m)=>{for(const y of m.ya)y.Da(u)&&(h=!0)}),h&&Nv(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m9(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),a=i&&i.key;if(a){let s=new $t(Pe.comparator);s=s.insert(a,ar.newNoDocument(a,Ue.min()));const u=tt().add(a),c=new V0(Ue.min(),new Map,new $t(Ye),s,u);await PT(r,c),r.hu=r.hu.remove(a),r.Pu.delete(e),Ov(r)}else await pg(r.localStore,e,!1).then(()=>vg(r,e,t)).catch(du)}async function g9(n,e){const t=He(n),r=e.batch.batchId;try{const i=await bP(t.localStore,e);kT(t,r,null),MT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Of(t,i)}catch(i){await du(i)}}async function v9(n,e,t){const r=He(n);try{const i=await function(s,u){const c=He(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(m=>(xt(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);kT(r,e,t),MT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Of(r,i)}catch(i){await du(i)}}function MT(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function kT(n,e,t){const r=He(n);let i=r.Iu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function vg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||LT(n,r)})}function LT(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(bv(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Ov(n))}function eE(n,e,t){for(const r of t)r instanceof RT?(n.Tu.addReference(r.key,e),y9(n,r)):r instanceof OT?(we(Rv,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||LT(n,r.key)):Be(19791,{mu:r})}function y9(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(we(Rv,"New document in limbo: "+t),n.lu.add(r),Ov(n))}function Ov(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Pe(Zt.fromString(e)),r=n.du.next();n.Pu.set(r,new s9(t)),n.hu=n.hu.insert(t,r),AT(n.remoteStore,new wo(zi(pv(t.path)),r,"TargetPurposeLimboResolution",O0.le))}}async function Of(n,e,t){const r=He(n),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach((u,c)=>{s.push(r.Ru(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=wv.Rs(c.targetId,h);a.push(m)}}))}),await Promise.all(s),r.au.j_(i),await async function(c,h){const p=He(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ce.forEach(h,y=>ce.forEach(y.ds,_=>p.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>ce.forEach(y.As,_=>p.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!pu(m))throw m;we(Ev,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const _=p.xs.get(y),E=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(y,A)}}}(r.localStore,a))}async function x9(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){we(Rv,"User change. New user:",e.toKey());const r=await _T(t.localStore,e);t.currentUser=e,function(a,s){a.Eu.forEach(u=>{u.forEach(c=>{c.reject(new De(de.CANCELLED,s))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Of(t,r.ks)}}function _9(n,e){const t=He(n),r=t.Pu.get(e);if(r&&r._u)return tt().add(r.key);{let i=tt();const a=t.cu.get(e);if(!a)return i;for(const s of a){const u=t.uu.get(s);i=i.unionWith(u.view.Ya)}return i}}function jT(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m9.bind(null,e),e.au.j_=n9.bind(null,e.eventManager),e.au.Vu=r9.bind(null,e.eventManager),e}function w9(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v9.bind(null,e),e}class r0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=U0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return EP(this.persistence,new xP,e.initialUser,this.serializer)}yu(e){return new xT(_v.fi,this.serializer)}pu(e){return new NP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}r0.provider={build:()=>new r0};class E9 extends r0{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){xt(this.persistence.referenceDelegate instanceof t0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iP(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Ar.withCacheSize(this.cacheSizeBytes):Ar.DEFAULT;return new xT(r=>t0.fi(r,t),this.serializer)}}class yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x9.bind(null,this.syncEngine),await QP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JP}()}createDatastore(e){const t=U0(e.databaseInfo.databaseId),r=function(a){return new MP(a)}(e.databaseInfo);return function(a,s,u,c){return new BP(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,s,u){return new UP(r,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Jw(this.syncEngine,t,0),function(){return Ww.C()?new Ww:new RP}())}createSyncEngine(e,t){return function(i,a,s,u,c,h,p){const m=new l9(i,a,s,u,c,h);return p&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=He(i);we(Ps,"RemoteStore shutting down."),a.Ta.add(5),await Rf(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yg.provider={build:()=>new yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):La("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="FirestoreClient";class A9{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ir.UNAUTHENTICATED,this.clientId=DS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{we(Lo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we(Lo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Iv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vm(n,e){n.asyncQueue.verifyOperationInProgress(),we(Lo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _T(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function tE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await S9(n);we(Lo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Yw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Yw(e.remoteStore,i)),n._onlineComponents=e}async function S9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(Lo,"Using user provided OfflineComponentProvider");try{await vm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wl("Error using user provided cache. Falling back to memory cache: "+t),await vm(n,new r0)}}else we(Lo,"Using default OfflineComponentProvider"),await vm(n,new E9(void 0));return n._offlineComponents}async function BT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(Lo,"Using user provided OnlineComponentProvider"),await tE(n,n._uninitializedComponentsProvider._online)):(we(Lo,"Using default OnlineComponentProvider"),await tE(n,new yg))),n._onlineComponents}function T9(n){return BT(n).then(e=>e.syncEngine)}async function C9(n){const e=await BT(n),t=e.eventManager;return t.onListen=u9.bind(null,e.syncEngine),t.onUnlisten=h9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=c9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d9.bind(null,e.syncEngine),t}function I9(n,e,t={}){const r=new Io;return n.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,h){const p=new b9({next:y=>{p.Cu(),s.enqueueAndForget(()=>t9(a,m));const _=y.docs.has(u);!_&&y.fromCache?h.reject(new De(de.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?h.reject(new De(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new i9(pv(u.path),p,{includeMetadataChanges:!0,La:!0});return e9(a,m)}(await C9(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(n,e,t){if(!t)throw new De(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R9(n,e,t,r){if(e===!0&&r===!0)throw new De(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rE(n){if(!Pe.isDocumentKey(n))throw new De(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Dv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function df(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dv(n);throw new De(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firestore.googleapis.com",iE=!0;class aE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=iE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nP)throw new De(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new De(de.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OD;switch(r.type){case"firstParty":return new kD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=nE.get(t);r&&(we("ComponentProvider","Removing Datastore"),nE.delete(t),r.terminate())}(this),Promise.resolve()}}function O9(n,e,t,r={}){var i;n=df(n,Pv);const a=_f(e),s=n._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a&&(Pb(`https://${c}`),Mb("Firestore",!0)),s.host!==UT&&s.host!==c&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!Ns(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=ir.MOCK_USER;else{p=ZI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new De(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ir(y)}n._authCredentials=new DD(new RS(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mv(this.firestore,e,this._query)}}class ei{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class pf extends Mv{constructor(e,t,r){super(e,t,pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Pe(e))}withConverter(e){return new pf(this.firestore,e,this._path)}}function FT(n,e,...t){if(n=Fe(n),arguments.length===1&&(e=DS.newId()),N9("doc","path",e),n instanceof Pv){const r=Zt.fromString(e,...t);return rE(r),new ei(n,null,new Pe(r))}{if(!(n instanceof ei||n instanceof pf))throw new De(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Zt.fromString(e,...t));return rE(r),new ei(n.firestore,n instanceof pf?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new ET(this,"async_queue_retry"),this.ec=()=>{const r=gm();r&&we(oE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Io;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!pu(e))throw e;we(oE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,La("INTERNAL UNHANDLED ERROR: ",lE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=Cv.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&Be(47125,{_c:lE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function lE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class kv extends Pv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function HT(n,e){const t=Bb(),r=Yd,i=Vg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=KI("firestore");a&&O9(i,...a)}return i}function zT(n){if(n._terminated)throw new De(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||D9(n),n._firestoreClient}function D9(n){var e,t,r;const i=n._freezeSettings(),a=function(u,c,h,p){return new KD(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new A9(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Zn.fromBase64String(e))}catch(t){throw new De(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new De(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=/^__.*__$/;class M9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new If(e,this.data,t,this.fieldTransforms)}}function GT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:n})}}class Uv{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return i0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(GT(this.hc)&&P9.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class k9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||U0(e)}gc(e,t,r,i=!1){return new Uv({hc:e,methodName:t,fc:r,path:Kn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function L9(n){const e=n._freezeSettings(),t=U0(n._databaseId);return new k9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j9(n,e,t,r,i,a={}){const s=n.gc(a.merge||a.mergeFields?2:0,e,t,i);$T("Data must be an object, but it was:",s,r);const u=XT(r,s);let c,h;if(a.merge)c=new gi(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=B9(e,m,t);if(!s.contains(y))throw new De(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);U9(p,y)||p.push(y)}c=new gi(p),h=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=s.fieldTransforms;return new M9(new Zr(u),c,h)}class Fv extends jv{_toFieldTransform(e){return new b7(e.path,new cf)}isEqual(e){return e instanceof Fv}}function qT(n,e){if(WT(n=Fe(n)))return $T("Unsupported field value:",e,n),XT(n,e);if(n instanceof jv)return function(r,i){if(!GT(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const u of r){let c=qT(u,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=In.fromDate(r);return{timestampValue:e0(i.serializer,a)}}if(r instanceof In){const a=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:e0(i.serializer,a)}}if(r instanceof Bv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:fT(i.serializer,r._byteString)};if(r instanceof ei){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Vv)return function(s,u){return{mapValue:{fields:{[US]:{stringValue:FS},[Kd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return mv(u.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Dv(r)}`)}(n,e)}function XT(n,e){const t={};return MS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(n,(r,i)=>{const a=qT(i,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function WT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof In||n instanceof Bv||n instanceof Jl||n instanceof ei||n instanceof jv||n instanceof Vv)}function $T(n,e,t){if(!WT(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Dv(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function B9(n,e,t){if((e=Fe(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return YT(n,e);throw i0("Field path arguments must be of type string or ",n,!1,void 0,t)}const V9=new RegExp("[~\\*/\\[\\]]");function YT(n,e,t){if(e.search(V9)>=0)throw i0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lv(...e.split("."))._internalPath}catch{throw i0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function i0(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new De(de.INVALID_ARGUMENT,u+n+c)}function U9(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class F9 extends KT{data(){return super.data()}}function QT(n,e){return typeof e=="string"?YT(n,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}class H9{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ks(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Kd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>sn(s.doubleValue));return new Vv(a)}convertGeoPoint(e){return new Bv(sn(e.latitude),sn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=P0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sf(e));default:return null}}convertTimestamp(e){const t=Do(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Zt.fromString(e);xt(vT(r),9688,{name:e});const i=new lf(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return i.isEqual(t)||La(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZT extends KT{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(QT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q9 extends ZT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(n){n=df(n,ei);const e=df(n.firestore,kv);return I9(zT(e),n._key).then(t=>K9(e,n,t))}class W9 extends H9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,t)}}function $9(n,e,t){n=df(n,ei);const r=df(n.firestore,kv),i=z9(n.converter,e,t);return Y9(r,[j9(L9(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Oa.none())])}function Y9(n,e){return function(r,i){const a=new Io;return r.asyncQueue.enqueueAndForget(async()=>p9(await T9(r),i,a)),a.promise}(zT(n),e)}function K9(n,e,t){const r=t.docs.get(e._key),i=new W9(n);return new ZT(n,i,e._key,r,new G9(t.hasPendingWrites,t.fromCache),e.converter)}function Q9(){return new Fv("serverTimestamp")}(function(e,t=!0){(function(i){hu=i})(au),ql(new Rs("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new kv(new PD(r.getProvider("auth-internal")),new LD(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Ao(pw,mw,e),Ao(pw,mw,"esm2017")})();function Df(){const{setUser:n,setLeagues:e,setSelectedLeagueId:t,setRole:r,setUserRole:i,setError:a}=en();return async function(){try{await OA(Xt),n(null),e([]),t(""),r(null),i(null),a(null),localStorage.removeItem("selectedLeagueId"),localStorage.removeItem("selectedEventId")}catch(u){console.error("Logout error:",u),n(null),e([]),t(""),r(null),i(null),localStorage.removeItem("selectedLeagueId"),localStorage.removeItem("selectedEventId")}}}function z0({title:n="Loading WooCombine...",subtitle:e=null,showLogo:t=!0,size:r="large"}){const a={small:{container:"min-h-[40vh]",logo:"w-12 h-12",spinner:"w-6 h-6 border-2",title:"text-lg",subtitle:"text-sm"},medium:{container:"min-h-[60vh]",logo:"w-16 h-16",spinner:"w-8 h-8 border-4",title:"text-xl",subtitle:"text-base"},large:{container:"min-h-screen",logo:"w-20 h-20",spinner:"w-10 h-10 border-4",title:"text-2xl",subtitle:"text-lg"}}[r];return v.jsx("div",{className:`${a.container} flex items-center justify-center bg-gradient-to-br from-cyan-50 to-blue-50`,children:v.jsxs("div",{className:"text-center p-8",children:[t&&v.jsx("div",{className:"mb-6",children:v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"WooCombine Logo",className:`${a.logo} mx-auto object-contain animate-pulse`})}),v.jsx("div",{className:"mb-4",children:v.jsx("div",{className:`animate-spin inline-block ${a.spinner} border-gray-200 border-t-cyan-600 rounded-full`})}),v.jsx("div",{className:`${a.title} font-semibold text-gray-800 mb-2`,children:n}),e&&v.jsx("div",{className:`${a.subtitle} text-gray-600`,children:e}),v.jsxs("div",{className:"flex justify-center space-x-1 mt-4",children:[v.jsx("div",{className:"w-2 h-2 bg-cyan-600 rounded-full animate-bounce"}),v.jsx("div",{className:"w-2 h-2 bg-cyan-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),v.jsx("div",{className:"w-2 h-2 bg-cyan-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}const JT=U.createContext();function Z9({children:n}){const[e,t]=U.useState(null),[r,i]=U.useState(!0),[a,s]=U.useState(!1),[u,c]=U.useState(!1),[h,p]=U.useState(null),[m,y]=U.useState([]),[_,E]=U.useState(()=>localStorage.getItem("selectedLeagueId")||""),[A,S]=U.useState(null),[C,N]=U.useState(null),D=Jn(),B=U.useCallback(async R=>R?(t(R),s(!0),R.emailVerified?!0:(window.location.pathname!=="/verify-email"&&D("/verify-email"),!1)):(t(null),s(!0),!1),[D,t,s]),F=U.useCallback(async R=>{try{const P=HT(),[L,z]=await Promise.allSettled([Promise.race([X9(FT(P,"users",R.uid)),new Promise((ne,pe)=>setTimeout(()=>pe(new Error("Role check timeout")),15e3))]),Promise.race([Ft.get("/leagues/me",{timeout:2e4}),new Promise((ne,pe)=>setTimeout(()=>pe(new Error("League fetch timeout")),2e4))])]);if(L.status==="fulfilled"&&L.value.exists()&&L.value.data().role){const ne=L.value.data().role;N(ne)}else{N(null),y([]),S(null),c(!0),D("/select-role");return}let H=[];if(z.status==="fulfilled")H=z.value.data.leagues||[],y(H);else try{H=(await Promise.race([Ft.get("/leagues/me",{timeout:15e3}),new Promise((pe,Se)=>setTimeout(()=>Se(new Error("Retry timeout")),15e3))])).data.leagues||[],y(H)}catch{H=[],y([])}let V=_;if(H.length>0){(!V||!H.some(pe=>pe.id===V))&&(V=H[0].id),E(V),localStorage.setItem("selectedLeagueId",V);const ne=H.find(pe=>pe.id===V);S((ne==null?void 0:ne.role)||null)}else E(""),S(null),localStorage.removeItem("selectedLeagueId");c(!0);const ke=window.location.pathname,Le=["/login","/signup","/verify-email","/select-role","/"],te=["/dashboard","/players","/admin","/roster","/schedule"];Le.includes(ke)?D("/dashboard"):te.includes(ke)}catch(P){console.error("[AuthContext] Background initialization failed:",P),p(P),c(!0),D("/select-role")}},[D,_,N,y,S,E,p]);U.useEffect(()=>{const R=RA(Xt,async P=>{if(c(!1),!await B(P)){c(!0),i(!1);return}if(C&&m.length>0&&e&&e.uid===P.uid){const H=window.location.pathname;["/login","/signup","/verify-email","/select-role","/"].includes(H)&&D("/dashboard"),c(!0),i(!1);return}try{await F(P)}catch(H){console.error("[AuthContext] Initialization error:",H),p(H)}finally{i(!1)}},P=>{console.error("[AuthContext] Auth state change error:",P),p(P),i(!1),s(!0)});return()=>R()},[D,C,m.length,e,B,F]),U.useEffect(()=>{_?localStorage.setItem("selectedLeagueId",_):localStorage.removeItem("selectedLeagueId")},[_]);const W=R=>{y(P=>P.some(L=>L.id===R.id)?P:[...P,R]),E(R.id),localStorage.setItem("selectedLeagueId",R.id),S(R.role)},M=()=>{var R;return((R=m.find(P=>P.id===_))==null?void 0:R.role)==="organizer"};if(r||e&&e.emailVerified&&!u){const R=!a;return v.jsx(z0,{title:R?"Loading WooCombine...":"Loading your data...",subtitle:R?"Checking authentication":"Verifying your account",size:"large"})}return v.jsx(JT.Provider,{value:{user:e,setUser:t,loading:r,roleChecking:!1,error:h,setError:p,leagues:m,setLeagues:y,selectedLeagueId:_,setSelectedLeagueId:E,role:A,setRole:S,userRole:C,setUserRole:N,addLeague:W,isOrganizer:M},children:n})}function en(){return U.useContext(JT)}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),uE=n=>{const e=eM(n);return e.charAt(0).toUpperCase()+e.slice(1)},eC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),tM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=U.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>U.createElement("svg",{ref:c,...nM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:eC("lucide",i),...!a&&!tM(u)&&{"aria-hidden":"true"},...u},[...s.map(([h,p])=>U.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(n,e)=>{const t=U.forwardRef(({className:r,...i},a)=>U.createElement(rM,{ref:a,iconNode:e,className:eC(`lucide-${J9(uE(n))}`,`lucide-${n}`,r),...i}));return t.displayName=uE(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],G0=_t("arrow-left",iM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oM=_t("award",aM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hv=_t("calendar",sM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uM=_t("chevron-left",lM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fM=_t("chevron-right",cM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dM=_t("circle-check-big",hM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mM=_t("clock",pM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tC=_t("copy",gM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nC=_t("eye-off",vM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rC=_t("eye",yM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],iC=_t("house",xM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],wM=_t("link-2",_M);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],cE=_t("list",EM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AM=_t("log-out",bM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],TM=_t("menu",SM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],aC=_t("message-circle",CM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fE=_t("plus",IM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],mf=_t("qr-code",NM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],hE=_t("refresh-ccw",RM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DM=_t("search",OM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oC=_t("settings",PM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sC=_t("square-pen",MM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],LM=_t("trending-up",kM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BM=_t("triangle-alert",jM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],UM=_t("undo-2",VM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dE=_t("upload",FM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pE=_t("user-plus",HM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pf=_t("users",zM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],lC=_t("video",GM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uC=_t("x",qM);function cC({className:n=""}){return v.jsx("div",{className:`font-extrabold text-2xl text-cyan-700 min-w-0 ${n}`,children:"Woo-Combine"})}function ri({children:n,footerLinks:e,backgroundColor:t,contentClassName:r,hideHeader:i,showOverlay:a=!0,useBackgroundVideo:s=!1,backgroundVideoUrl:u}){const c=t||"bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700";return v.jsxs("div",{className:`min-h-screen flex flex-col ${s?"bg-black":c} relative overflow-hidden`,children:[s&&u&&v.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:[v.jsx("source",{src:u,type:"video/mp4"}),v.jsx("div",{className:`absolute inset-0 ${c}`})]}),!i&&v.jsx("header",{className:"absolute top-0 left-0 p-6 z-10",children:v.jsx(cC,{className:"text-white drop-shadow-lg"})}),v.jsx("main",{className:`flex flex-1 flex-col justify-center items-center px-4 relative z-10 ${r||""}`,children:n}),v.jsx("footer",{className:"w-full flex flex-col items-center gap-2 pb-8 mt-auto relative z-10",children:e}),a!==!1&&v.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-5"})]})}function mE(){var h;const n=Jn(),{user:e}=en(),t=Df(),[r,i]=U.useState(""),a=async()=>{i("Redirecting to Create League...");try{n("/create-league")}catch(p){i(`Navigation error: ${p.message}`)}},s=()=>{i("Redirecting to Join League...");try{n("/join")}catch(p){i("Navigation error. Please try again."),console.error("[LeagueFallback] Join navigation error:",p)}},u=()=>{i("Loading your leagues...");try{n("/select-league")}catch(p){i("Navigation error. Please try again."),console.error("[LeagueFallback] Select league navigation error:",p)}},c=async()=>{i("Logging out...");try{await t(),n("/welcome")}catch(p){i("Logout error. Please refresh the page."),console.error("[LeagueFallback] Logout error:",p)}};return v.jsx(ri,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 mx-4",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}}),v.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(Pf,{className:"w-6 h-6 text-cyan-600"})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No League Selected"}),v.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"You need to join or create a league to access WooCombine features"})]}),r&&v.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 text-blue-700 px-4 py-3 rounded mb-6 text-sm",children:r}),v.jsxs("div",{className:"space-y-4 mb-6",children:[v.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-blue-300 transition",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(cE,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Choose from Your Leagues"}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Select from leagues you've already created or joined"}),v.jsxs("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition-all duration-200 transform hover:scale-[1.02] flex items-center gap-2",children:[v.jsx(cE,{className:"w-4 h-4"}),"Choose League"]})]})]})}),v.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-cyan-300 transition",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(mf,{className:"w-5 h-5 text-cyan-600"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Join Existing League"}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"If you were invited by a coach, enter your code or scan the QR they sent you"}),v.jsxs("button",{onClick:s,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition-all duration-200 transform hover:scale-[1.02] flex items-center gap-2",children:[v.jsx(mf,{className:"w-4 h-4"}),"Join League"]})]})]})}),v.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-cyan-300 transition",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:v.jsx(fE,{className:"w-5 h-5 text-green-600"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Create New League"}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Start your own league and invite players to join"}),v.jsxs("button",{onClick:a,className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition-all duration-200 transform hover:scale-[1.02] flex items-center gap-2",children:[v.jsx(fE,{className:"w-4 h-4"}),"Create League"]})]})]})})]}),v.jsx("div",{className:"border-t border-gray-200 pt-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:v.jsx("span",{className:"text-gray-600 font-medium text-xs",children:((h=e==null?void 0:e.email)==null?void 0:h.charAt(0).toUpperCase())||"U"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-medium text-gray-900",children:"Logged in as:"}),v.jsx("p",{className:"text-xs text-gray-600",children:(e==null?void 0:e.email)||"Unknown"})]})]}),v.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-red-600 hover:text-red-700 font-medium text-xs transition",children:[v.jsx(AM,{className:"w-3 h-3"}),"Log Out"]})]})})]})})}const fC=U.createContext();function XM({children:n}){const{selectedLeagueId:e,user:t}=en(),[r,i]=U.useState([]),[a,s]=U.useState(null),[u,c]=U.useState(!1),[h,p]=U.useState(!1),[m,y]=U.useState(null),_=Yi(),E=["/welcome","/login","/signup","/verify-email","/select-role","/select-league","/claim","/create-league","/join"];U.useEffect(()=>{async function C(){var N,D,B;if(!e||!t){c(!0),i([]),s(null);return}c(!1),p(!0),y(null);try{const F=new AbortController,W=setTimeout(()=>F.abort(),2e4),M=`/leagues/${e}/events`,{data:R}=await Ft.get(M,{signal:F.signal,retry:2});clearTimeout(W);const P=R.events||[];i(Array.isArray(P)?P:[]);const L=localStorage.getItem("selectedEventId"),z=Array.isArray(P)?P.find(H=>H.id===L):null;z?s(z):Array.isArray(P)&&P.length>0?s(P[0]):s(null),y(null)}catch(F){console.error("Failed to fetch events:",F),i([]),s(null),F.name==="AbortError"?y("Request timed out. Please try again."):((N=F.response)==null?void 0:N.status)===401?y("Authentication failed. Please refresh the page."):y(((B=(D=F.response)==null?void 0:D.data)==null?void 0:B.detail)||F.message||"Failed to load events")}finally{p(!1)}}C()},[e,t]),U.useEffect(()=>{a&&localStorage.setItem("selectedEventId",a.id)},[a]);const A=async()=>{var C,N;if(!(!e||!t)){p(!0),y(null);try{const D=`/leagues/${e}/events`,{data:B}=await Ft.get(D,{retry:2}),F=B.events||[];i(Array.isArray(F)?F:[]),y(null)}catch(D){console.error("Failed to refresh events:",D),y(((N=(C=D.response)==null?void 0:C.data)==null?void 0:N.detail)||D.message||"Failed to refresh events")}finally{p(!1)}}},S=u&&!E.includes(_.pathname);return v.jsx(fC.Provider,{value:{events:r,selectedEvent:a,setSelectedEvent:s,setEvents:i,noLeague:u,loading:h,error:m,refreshEvents:A,LeagueFallback:mE},children:S?v.jsx(mE,{}):n})}function Ki(){return U.useContext(fC)}function ym(){const{user:n,userRole:e}=en(),[t,r]=U.useState(!1),i=Df(),a=Jn(),s=()=>r(!1);return v.jsxs("nav",{className:"bg-white shadow-md p-4",children:[v.jsxs("div",{className:"flex flex-row justify-between items-center max-w-screen-xl mx-auto",children:[v.jsx(cC,{}),v.jsxs("div",{className:"flex items-center gap-x-6 min-w-0 sm:flex",children:[v.jsx(dt,{to:"/dashboard",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Home"}),v.jsx(dt,{to:"/players",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Players & Rankings"}),e==="organizer"&&v.jsx(dt,{to:"/admin",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Admin"}),e==="organizer"&&v.jsx(dt,{to:"/live-entry",className:"text-lg font-semibold text-cmf-primary hover:text-cmf-secondary",children:" Live Entry"}),n&&v.jsx("button",{onClick:async()=>{try{await i(),a("/welcome")}catch(u){console.error("Logout failed:",u),a("/welcome")}},className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-2",children:"Log Out"})]}),v.jsx("button",{className:"sm:hidden p-2 ml-2",onClick:()=>r(u=>!u),"aria-label":"Open menu",children:v.jsx(TM,{className:"w-7 h-7 text-cmf-secondary"})})]}),t&&v.jsx("div",{className:"sm:hidden fixed top-16 left-0 w-full bg-white shadow-lg z-50 border-t border-gray-200",children:v.jsxs("div",{className:"flex flex-col items-center py-4 space-y-2",children:[v.jsx(dt,{to:"/dashboard",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Home"}),v.jsx(dt,{to:"/players",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Players & Rankings"}),e==="organizer"&&v.jsx(dt,{to:"/admin",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Admin"}),e==="organizer"&&v.jsx(dt,{to:"/live-entry",className:"block text-lg font-semibold text-cmf-primary hover:text-cmf-secondary px-4 py-2",onClick:s,children:" Live Entry"}),n&&v.jsx("button",{onClick:async()=>{try{await i(),a("/welcome")}catch(u){console.error("Logout failed:",u),a("/welcome")}},className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",children:"Log Out"})]})})]})}function WM(){const{user:n,userRole:e}=en(),{selectedEvent:t}=Ki(),r=Jn(),[i,a]=Ng.useState(!1),s=t&&t.date&&!isNaN(Date.parse(t.date))?new Date(t.date).toLocaleDateString():"No date set",u=c=>{a(!0),setTimeout(()=>{r(c)},0)};return i?v.jsx(z0,{title:"Navigating...",subtitle:"Taking you to your destination",size:"medium"}):v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsxs("div",{className:"max-w-lg mx-auto px-4 sm:px-6 py-8",children:[v.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border-2 border-cmf-primary/30",children:[v.jsx("h1",{className:"text-2xl font-bold text-cmf-secondary mb-2",children:"Welcome to WooCombine!"}),v.jsx("p",{className:"text-gray-600 mb-4",children:t?v.jsxs(v.Fragment,{children:["Event: ",v.jsx("strong",{children:t.name})," - ",s]}):"Select an event to get started"}),v.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e==="organizer"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>u("/admin"),className:"bg-cmf-secondary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-primary transition flex items-center justify-center",children:" Manage Event"}),v.jsx("button",{onClick:()=>u("/players"),className:"bg-cmf-primary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-secondary transition flex items-center justify-center",children:" View Players & Rankings"})]}),e==="coach"&&v.jsx("button",{onClick:()=>u("/players"),className:"bg-cmf-primary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-secondary transition flex items-center justify-center",children:" View Players & Rankings"}),e==="player"&&t&&v.jsx("button",{onClick:()=>u("/drill-input"),className:"bg-cmf-secondary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-primary transition flex items-center justify-center",children:" Submit Drill Results"})]})]}),t&&v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx(Hv,{className:"w-5 h-5 text-cmf-primary"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Event Details"})]}),v.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",t.name]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Date:"})," ",s]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",t.location||"Location TBD"]})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Getting Started"}),v.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-cmf-primary font-bold",children:"1."}),v.jsx("span",{children:"Select an event from the dropdown above"})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-cmf-primary font-bold",children:"2."}),v.jsxs("span",{children:[e==="organizer"&&"Import players and manage event settings",e==="coach"&&"View player rankings and adjust drill weights",e==="player"&&"Submit your drill results"]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-cmf-primary font-bold",children:"3."}),v.jsx("span",{children:"View real-time rankings and results"})]})]})]})]})})}function $M(){const{user:n,selectedLeagueId:e}=en(),{selectedEvent:t}=Ki(),r=Jn(),[i,a]=U.useState([]),[s,u]=U.useState(!0),[c,h]=U.useState(""),p=()=>{if(!(n!=null&&n.email))return"RA";const A=n.email,S=A.split("@")[0].split(".");return S.length>=2?(S[0][0]+S[1][0]).toUpperCase():A.substring(0,2).toUpperCase()},m=A=>{const S=A.split(" ");return S.length>=2?(S[0][0]+S[S.length-1][0]).toUpperCase():A.substring(0,2).toUpperCase()},y=A=>{const S=["bg-blue-500","bg-green-500","bg-purple-500","bg-red-500","bg-yellow-500","bg-indigo-500","bg-pink-500","bg-gray-500"];let C=0;for(let N=0;N<A.length;N++)C=A.charCodeAt(N)+((C<<5)-C);return S[Math.abs(C)%S.length]};U.useEffect(()=>{async function A(){if(!(!t||!n||!e))try{u(!0);const{data:S}=await Ft.get(`/players?event_id=${t.id}`);a(S)}catch(S){console.error("Error fetching players:",S),a([])}finally{u(!1)}}A()},[t,n,e]);const E=i.filter(A=>A.name.toLowerCase().includes(c.toLowerCase())||A.number.toString().includes(c)).reduce((A,S)=>{const C=S.age_group||"Unknown";return A[C]||(A[C]=[]),A[C].push(S),A},{});return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:v.jsx("span",{className:"text-white font-bold text-lg",children:p()})}),v.jsxs("div",{className:"flex-1 text-center",children:[v.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(t==null?void 0:t.name)||"Lil' Ballers Fall 24"}),v.jsxs("div",{className:"flex items-center justify-center mt-1",children:[v.jsx("div",{className:"w-4 h-3 bg-blue-600 mr-2 flex items-center justify-center",children:v.jsx("span",{className:"text-white text-xs font-bold",children:""})}),v.jsx("p",{className:"text-sm text-gray-600",children:"Central Mass Flag (Worcester)"})]})]}),v.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:v.jsx("div",{className:"w-6 h-6 text-gray-400",children:""})})]})}),v.jsxs("div",{className:"px-4 py-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Roster"}),v.jsxs("div",{className:"relative mb-6",children:[v.jsx(DM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"text",placeholder:"Search players...",value:c,onChange:A=>h(A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s?v.jsx("div",{className:"flex items-center justify-center py-8",children:v.jsx("div",{className:"text-gray-500",children:"Loading players..."})}):v.jsx("div",{className:"space-y-6",children:Object.keys(E).length===0?v.jsx("div",{className:"text-center py-8",children:v.jsx("div",{className:"text-gray-500",children:"No players found"})}):Object.entries(E).map(([A,S])=>v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[v.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200 rounded-t-lg",children:[v.jsx("h3",{className:"font-bold text-gray-900",children:A}),v.jsxs("p",{className:"text-sm text-gray-600",children:[S.length," player",S.length!==1?"s":""]})]}),v.jsx("div",{className:"divide-y divide-gray-200",children:S.map(C=>v.jsxs("div",{className:"px-4 py-4 flex items-center space-x-3",children:[v.jsx("div",{className:`w-12 h-12 ${y(C.name)} rounded-full flex items-center justify-center`,children:v.jsx("span",{className:"text-white font-bold text-sm",children:m(C.name)})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium text-gray-900",children:C.name}),v.jsxs("div",{className:"text-sm text-gray-600",children:["#",C.number]})]}),v.jsx("div",{className:"text-right",children:v.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})})]},C.id))})]},A))})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:v.jsxs("div",{className:"flex justify-around items-center",children:[v.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex flex-col items-center py-2",children:[v.jsx(iC,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Home"})]}),v.jsxs("button",{className:"flex flex-col items-center py-2",children:[v.jsx(Pf,{className:"w-6 h-6 text-purple-600"}),v.jsx("span",{className:"text-xs text-purple-600 font-medium mt-1",children:"Roster"})]}),v.jsxs("button",{className:"flex flex-col items-center py-2 relative",children:[v.jsx(aC,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Chat"}),v.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:v.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),v.jsxs("button",{className:"flex flex-col items-center py-2",children:[v.jsx(Hv,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Schedule"})]}),v.jsxs("button",{className:"flex flex-col items-center py-2",children:[v.jsx(lC,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Media"})]})]})}),v.jsx("div",{className:"h-20"})]})}function YM(){const{user:n}=en(),{selectedEvent:e}=Ki(),t=Jn(),[r,i]=U.useState(new Date),a=()=>{if(!(n!=null&&n.email))return"RA";const y=n.email,_=y.split("@")[0].split(".");return _.length>=2?(_[0][0]+_[1][0]).toUpperCase():y.substring(0,2).toUpperCase()},s=[{id:1,type:"PRACTICE",title:"Practice Session",date:"2024-06-15",time:"12:00 PM - 12:50 PM",location:"Location TBD",status:"upcoming"},{id:2,type:"PRACTICE",title:"Practice Session",date:"2024-06-22",time:"12:00 PM - 12:50 PM",location:"Location TBD",status:"upcoming"},{id:3,type:"GAME",title:"Championship Game",date:"2024-06-29",time:"2:00 PM - 3:30 PM",location:"Main Field",status:"upcoming"}],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=y=>{const _=y.getFullYear(),E=y.getMonth(),A=new Date(_,E,1),C=new Date(_,E+1,0).getDate(),N=A.getDay(),D=[];for(let B=0;B<N;B++)D.push(null);for(let B=1;B<=C;B++){const F=`${_}-${String(E+1).padStart(2,"0")}-${String(B).padStart(2,"0")}`,W=s.some(M=>M.date===F);D.push({day:B,hasEvent:W,dateStr:F})}return D},p=y=>{const _=new Date(r);_.setMonth(_.getMonth()+y),i(_)},m=h(r);return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("div",{className:"bg-white px-4 py-3 shadow-sm",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:v.jsx("span",{className:"text-white font-bold text-lg",children:a()})}),v.jsxs("div",{className:"flex-1 text-center",children:[v.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(e==null?void 0:e.name)||"Lil' Ballers Fall 24"}),v.jsxs("div",{className:"flex items-center justify-center mt-1",children:[v.jsx("div",{className:"w-4 h-3 bg-cmf-primary mr-2 flex items-center justify-center",children:v.jsx("span",{className:"text-white text-xs font-bold",children:""})}),v.jsx("p",{className:"text-sm text-gray-600",children:"Central Mass Flag (Worcester)"})]})]}),v.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:v.jsx("div",{className:"w-6 h-6 text-gray-400",children:""})})]})}),v.jsxs("div",{className:"px-4 py-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Schedule"}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[v.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:v.jsx(uM,{className:"w-5 h-5 text-gray-600"})}),v.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[u[r.getMonth()]," ",r.getFullYear()]}),v.jsx("button",{onClick:()=>p(1),className:"p-2 hover:bg-gray-100 rounded-full",children:v.jsx(fM,{className:"w-5 h-5 text-gray-600"})})]}),v.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:c.map(y=>v.jsx("div",{className:"px-2 py-2 text-center text-sm font-medium text-gray-600",children:y},y))}),v.jsx("div",{className:"grid grid-cols-7",children:m.map((y,_)=>v.jsx("div",{className:"px-2 py-3 text-center text-sm border-r border-b border-gray-100 min-h-[48px] flex items-center justify-center relative",children:y&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:`${y.hasEvent?"font-bold text-purple-600":"text-gray-900"}`,children:y.day}),y.hasEvent&&v.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]})},_))})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Upcoming Events"}),s.map(y=>v.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:`w-1 ${y.type==="PRACTICE"?"bg-purple-500":"bg-green-500"} rounded-full mr-4`}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:`${y.type==="PRACTICE"?"text-purple-600":"text-green-600"} font-bold text-sm uppercase tracking-wide mb-1`,children:y.type}),v.jsx("div",{className:"font-bold text-lg text-gray-900 mb-1",children:y.title}),v.jsxs("div",{className:"text-gray-700 text-sm mb-2",children:[new Date(y.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),"  ",y.time]}),v.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[v.jsx("span",{className:"mr-1",children:""}),y.location]})]})]})})},y.id))]})]}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:v.jsxs("div",{className:"flex justify-around items-center",children:[v.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex flex-col items-center py-2",children:[v.jsx(iC,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Home"})]}),v.jsxs("button",{onClick:()=>t("/roster"),className:"flex flex-col items-center py-2",children:[v.jsx(Pf,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Roster"})]}),v.jsxs("button",{className:"flex flex-col items-center py-2 relative",children:[v.jsx(aC,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Chat"}),v.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:v.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),v.jsxs("button",{className:"flex flex-col items-center py-2",children:[v.jsx(Hv,{className:"w-6 h-6 text-purple-600"}),v.jsx("span",{className:"text-xs text-purple-600 font-medium mt-1",children:"Schedule"})]}),v.jsxs("button",{className:"flex flex-col items-center py-2",children:[v.jsx(lC,{className:"w-6 h-6 text-gray-400"}),v.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Media"})]})]})}),v.jsx("div",{className:"h-20"})]})}const KM=[{value:"40m_dash",label:"40M Dash"},{value:"vertical_jump",label:"Vertical Jump"},{value:"catching",label:"Catching"},{value:"throwing",label:"Throwing"},{value:"agility",label:"Agility"}];function QM({playerId:n,onSuccess:e}){const{user:t,selectedLeagueId:r}=en(),{selectedEvent:i}=Ki(),[a,s]=U.useState(""),[u,c]=U.useState(""),[h,p]=U.useState(!1),[m,y]=U.useState(""),[_,E]=U.useState(""),A=async S=>{if(S.preventDefault(),y(""),E(""),!a||!u){y("Please select a drill type and enter a value.");return}if(!i){y("No event selected. Please select an event first.");return}p(!0);try{await Ft.post("/drill-results/",{player_id:n,type:a,value:parseFloat(u),event_id:i.id}),E("Drill result submitted!"),s(""),c(""),e&&e()}catch(C){y(C.message)}finally{p(!1)}};return v.jsxs("form",{onSubmit:A,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md mx-auto mb-6",children:[v.jsx("h2",{className:"text-xl font-bold mb-4 text-cmf-primary",children:"Submit Drill Result"}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1 font-semibold",children:"Drill Type"}),v.jsxs("select",{value:a,onChange:S=>s(S.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0,children:[v.jsx("option",{value:"",children:"Select a drill"}),KM.map(S=>v.jsx("option",{value:S.value,children:S.label},S.value))]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block mb-1 font-semibold",children:"Value"}),v.jsx("input",{type:"number",step:"any",value:u,onChange:S=>c(S.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),m&&v.jsx("div",{className:"text-red-500 mb-2 text-sm",children:m}),_&&v.jsx("div",{className:"text-green-600 mb-2 text-sm",children:_}),v.jsx("button",{type:"submit",className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold py-2 rounded-lg shadow transition",disabled:h,children:h?"Submitting...":"Submit Result"})]})}function gf({onEventSelected:n}){const{events:e,selectedEvent:t,setSelectedEvent:r,setEvents:i,loading:a,error:s,refreshEvents:u}=Ki(),{selectedLeagueId:c,user:h}=en(),[p,m]=U.useState(!1),[y,_]=U.useState(""),[E,A]=U.useState(""),[S,C]=U.useState(""),[N,D]=U.useState(!1),[B,F]=U.useState(""),W=R=>{if(!Array.isArray(e))return;const P=e.find(L=>L.id===R.target.value);P&&(r(P),n&&n(P))},M=async R=>{var P,L;R.preventDefault(),D(!0),F("");try{const z=E?new Date(E).toISOString().slice(0,10):"",V={id:(await Ft.post(`/leagues/${c}/events`,{name:y,date:z,location:S})).data.event_id,name:y,date:z,created_at:new Date().toISOString()};i(ke=>[V,...ke]),r(V),m(!1),_(""),A(""),C(""),n&&n(V)}catch(z){console.error("Event creation error:",z),F(((L=(P=z.response)==null?void 0:P.data)==null?void 0:L.detail)||z.message||"Failed to create event")}finally{D(!1)}};return a?v.jsx("div",{className:"flex flex-col gap-2 mb-6",children:v.jsxs("div",{className:"text-center text-gray-500 py-4",children:[v.jsx("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-300 border-t-cmf-primary rounded-full"}),v.jsx("div",{className:"mt-2",children:"Loading events..."})]})}):s?v.jsx("div",{className:"flex flex-col gap-2 mb-6",children:v.jsxs("div",{className:"text-center text-red-500 py-4 bg-red-50 rounded-lg border border-red-200",children:[v.jsx("div",{className:"mb-2",children:" Failed to load events"}),v.jsx("div",{className:"text-sm text-red-400 mb-3",children:s}),v.jsx("button",{onClick:u,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition text-sm",children:"Try Again"})]})}):v.jsxs("div",{className:"flex flex-col gap-2 mb-6","data-event-selector":!0,children:[e.length===0&&v.jsx("div",{className:"text-center text-cmf-secondary text-lg font-semibold py-2",children:"No events found. Please create a new event."}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:W,className:"border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",disabled:!Array.isArray(e)||e.length===0,"data-event-selector-dropdown":!0,children:[v.jsx("option",{value:"",children:"Select an event..."}),Array.isArray(e)&&e.map(R=>{let P="Invalid Date";return R.date&&!isNaN(Date.parse(R.date))&&(P=new Date(R.date).toLocaleDateString()),v.jsxs("option",{value:R.id,children:[R.name,"  ",P]},R.id)})]}),v.jsx("button",{onClick:()=>m(!0),className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow hover:bg-cmf-secondary transition",children:"Create New Event"})]}),p&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[v.jsx("h3",{className:"text-lg font-bold mb-4",children:"Create New Event"}),v.jsxs("form",{onSubmit:M,children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name"}),v.jsx("input",{type:"text",value:y,onChange:R=>_(R.target.value),className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Date"}),v.jsx("input",{type:"date",value:E,onChange:R=>A(R.target.value),className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Location"}),v.jsx("input",{type:"text",value:S,onChange:R=>C(R.target.value),placeholder:"e.g., Central Park Football Field",className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary"})]}),B&&v.jsx("div",{className:"text-red-500 text-sm mb-4",children:B}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",disabled:N,className:"bg-cmf-primary text-white px-4 py-2 rounded hover:bg-cmf-secondary transition disabled:opacity-50",children:N?"Creating...":"Create"}),v.jsx("button",{type:"button",onClick:()=>m(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition",children:"Cancel"})]})]})]})})]})}const Ui=[{key:"40m_dash",label:"40M Dash",unit:"sec",lowerIsBetter:!0},{key:"vertical_jump",label:"Vertical Jump",unit:"in",lowerIsBetter:!1},{key:"catching",label:"Catching",unit:"pts",lowerIsBetter:!1},{key:"throwing",label:"Throwing",unit:"pts",lowerIsBetter:!1},{key:"agility",label:"Agility",unit:"pts",lowerIsBetter:!1}],hC={"40m_dash":.3,vertical_jump:.2,catching:.15,throwing:.15,agility:.2},Gl={balanced:{name:"Balanced",description:"Equal emphasis on all skills",weights:{"40m_dash":.2,vertical_jump:.2,catching:.2,throwing:.2,agility:.2}},speed:{name:"Speed Focused",description:"Emphasizes speed and athleticism",weights:{"40m_dash":.4,vertical_jump:.3,catching:.1,throwing:.1,agility:.1}},skills:{name:"Skills Focused",description:"Emphasizes catching and throwing",weights:{"40m_dash":.1,vertical_jump:.1,catching:.35,throwing:.35,agility:.1}},athletic:{name:"Athletic",description:"Default weighting system",weights:{"40m_dash":.3,vertical_jump:.2,catching:.15,throwing:.15,agility:.2}}};function ZM({player:n,allPlayers:e,onClose:t,onSave:r}){const[i,a]=U.useState({name:(n==null?void 0:n.name)||"",number:(n==null?void 0:n.number)||"",age_group:(n==null?void 0:n.age_group)||""}),[s,u]=U.useState(!1),[c,h]=U.useState(""),p=[...new Set(e.map(_=>_.age_group).filter(_=>_&&_.trim()!==""))].sort(),m=(_,E)=>{a(A=>({...A,[_]:E})),h("")},y=async()=>{var _,E;if(!i.name.trim()){h("Player name is required");return}u(!0),h("");try{const A={name:i.name.trim(),number:i.number?parseInt(i.number):null,age_group:i.age_group.trim()||null};await Ft.put(`/players/${n.id}?event_id=${n.event_id}`,A),r(),t()}catch(A){console.error("Error updating player:",A),h(((E=(_=A.response)==null?void 0:_.data)==null?void 0:E.detail)||"Failed to update player")}finally{u(!1)}};return n?v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[v.jsxs("div",{className:"bg-cmf-primary text-white p-6 rounded-t-xl flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(sC,{className:"w-5 h-5"}),v.jsx("h2",{className:"text-xl font-bold",children:"Edit Player"})]}),v.jsx("button",{onClick:t,className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition",children:v.jsx(uC,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6 space-y-4",children:[c&&v.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:c}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),v.jsx("input",{type:"text",value:i.name,onChange:_=>m("name",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cmf-primary focus:border-cmf-primary",placeholder:"Enter player name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Number"}),v.jsx("input",{type:"number",value:i.number,onChange:_=>m("number",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cmf-primary focus:border-cmf-primary",placeholder:"Enter player number",min:"1",max:"999"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Group"}),v.jsx("input",{type:"text",list:"age-group-suggestions",value:i.age_group,onChange:_=>m("age_group",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cmf-primary focus:border-cmf-primary",placeholder:"e.g., 6U, U8, 7-8, 9-10 years old"}),v.jsxs("datalist",{id:"age-group-suggestions",children:[p.map(_=>v.jsx("option",{value:_},_)),v.jsx("option",{value:"6U"}),v.jsx("option",{value:"U6"}),v.jsx("option",{value:"8U"}),v.jsx("option",{value:"U8"}),v.jsx("option",{value:"10U"}),v.jsx("option",{value:"U10"}),v.jsx("option",{value:"12U"}),v.jsx("option",{value:"U12"}),v.jsx("option",{value:"5-6"}),v.jsx("option",{value:"7-8"}),v.jsx("option",{value:"9-10"}),v.jsx("option",{value:"11-12"}),v.jsx("option",{value:"13-14"}),v.jsx("option",{value:"15-16"}),v.jsx("option",{value:"17-18"})]}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type any format your league uses (6U, U8, 7-8 years old, etc.)"})]}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:t,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 rounded-lg transition",disabled:s,children:"Cancel"}),v.jsx("button",{onClick:y,disabled:s,className:"flex-1 bg-cmf-primary hover:bg-cmf-secondary text-white font-medium py-2 rounded-lg transition disabled:opacity-50",children:s?"Saving...":"Save Changes"})]})]})]})}):null}function JM({player:n,allPlayers:e,onClose:t}){const[r,i]=U.useState({...hC}),[a,s]=U.useState("athletic");if(!n)return null;const u=()=>{const C=Object.values(r).reduce((D,B)=>D+B,0),N={};return Ui.forEach(D=>{N[D.key]=Math.round(r[D.key]/C*100)}),N},c=(C,N)=>{const D={...u(),[C]:N},B=Object.values(D).reduce((W,M)=>W+M,0);if(B===0)return;const F={};Ui.forEach(W=>{F[W.key]=D[W.key]/B}),i(F),s(null)},h=C=>{i({...Gl[C].weights}),s(C)},p={};Ui.forEach(C=>{const D=e.filter(B=>B[C.key]!=null&&B.age_group===n.age_group).map(B=>({player_id:B.id,score:B[C.key]})).sort((B,F)=>C.lowerIsBetter?B.score-F.score:F.score-B.score).findIndex(B=>B.player_id===n.id)+1;p[C.key]=D>0?D:null});const m=Ui.map(C=>{const N=n[C.key]!=null?n[C.key]:null,D=r[C.key],B=(N??0)*D;return{...C,rawScore:N,weight:D,weightedScore:B,rank:p[C.key]}}),y=m.reduce((C,N)=>C+N.weightedScore,0),_=u(),E=e.filter(C=>C.age_group===n.age_group),S=E.map(C=>{const N=Ui.reduce((D,B)=>D+(C[B.key]||0)*r[B.key],0);return{...C,currentScore:N}}).sort((C,N)=>N.currentScore-C.currentScore).findIndex(C=>C.id===n.id)+1;return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl h-[95vh] flex flex-col",children:[v.jsxs("div",{className:"bg-cmf-primary text-white px-3 py-1.5 rounded-t-xl flex justify-between items-center flex-shrink-0",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold",children:n.name}),v.jsxs("p",{className:"text-cmf-light text-xs",children:["Player #",n.number,"  Age Group: ",n.age_group]})]}),v.jsxs("div",{className:"text-right mr-3",children:[v.jsx("div",{className:"text-xs opacity-75",children:"Overall Score"}),v.jsxs("div",{className:"text-lg font-bold",children:[y.toFixed(2)," pts"]}),v.jsxs("div",{className:"text-xs opacity-75",children:["#",S," of ",E.length]})]}),v.jsx("button",{onClick:t,className:"w-7 h-7 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition",children:v.jsx(uC,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsxs("div",{className:"h-full flex",children:[v.jsx("div",{className:"flex-1 p-2",children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[v.jsx(LM,{className:"w-4 h-4 text-cmf-primary"}),"Drill Performance & Weight Control"]}),v.jsx("div",{className:"grid grid-cols-1 gap-1.5 flex-1 overflow-y-auto min-h-0",children:m.map(C=>v.jsxs("div",{className:"bg-gray-50 rounded-lg p-1.5 border border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[v.jsx("div",{className:"flex items-center gap-1.5",children:v.jsxs("div",{className:"min-w-0",children:[v.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:C.label}),v.jsxs("div",{className:"flex items-center gap-1.5",children:[v.jsx("span",{className:"text-sm font-bold text-cmf-primary",children:C.rawScore!=null?`${C.rawScore} ${C.unit}`:"No score"}),C.rank&&v.jsxs("span",{className:"bg-cmf-primary text-white px-1 py-0.5 rounded-full text-xs font-medium",children:["#",C.rank]})]})]})}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-xs text-gray-600",children:"Contribution"}),v.jsxs("div",{className:"text-sm font-bold text-cmf-secondary",children:[C.weightedScore.toFixed(2)," pts"]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs font-medium text-gray-600 w-16",children:[_[C.key],"%"]}),v.jsx("input",{type:"range",min:0,max:100,value:_[C.key],onChange:N=>c(C.key,parseInt(N.target.value)),className:"flex-1 accent-cmf-primary h-2 rounded-lg"}),v.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-cmf-primary to-cmf-secondary transition-all duration-300",style:{width:`${Math.min(C.weightedScore/Math.max(...m.map(N=>N.weightedScore))*100,100)}%`}})})]})]},C.key))}),v.jsx("div",{className:"mt-1.5 p-1.5 bg-cmf-primary/10 rounded-lg border-2 border-cmf-primary/20 flex-shrink-0",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"font-semibold text-gray-900 text-xs",children:"Total Composite Score:"}),v.jsxs("span",{className:"text-base font-bold text-cmf-primary",children:[y.toFixed(2)," pts (#",S,")"]})]})})]})}),v.jsx("div",{className:"w-64 bg-gray-50 p-2 border-l border-gray-200 flex flex-col",children:v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[v.jsxs("div",{className:"mb-3",children:[v.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-1.5 flex items-center gap-2",children:[v.jsx(oC,{className:"w-3 h-3 text-cmf-primary"}),"Weight Scenarios"]}),v.jsx("div",{className:"grid grid-cols-1 gap-1",children:Object.entries(Gl).map(([C,N])=>v.jsxs("button",{onClick:()=>h(C),className:`p-1.5 text-left rounded-lg border-2 transition-all ${a===C?"border-cmf-primary bg-cmf-primary/5 text-cmf-primary":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[v.jsx("div",{className:"font-medium text-xs",children:N.name}),v.jsx("div",{className:"text-xs text-gray-500",children:N.description})]},C))})]}),v.jsxs("div",{className:"bg-white rounded-lg p-2 border border-gray-200 mt-3",children:[v.jsxs("h4",{className:"font-semibold text-gray-900 mb-1.5 flex items-center gap-1.5",children:[v.jsx(oM,{className:"w-3 h-3 text-yellow-500"}),v.jsx("span",{className:"text-sm",children:"Ranking Analysis"})]}),v.jsxs("div",{className:"space-y-1.5 text-xs",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Age Group Rank:"}),v.jsxs("span",{className:"font-bold text-cmf-primary",children:["#",S," of ",E.length]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Overall Score:"}),v.jsxs("span",{className:"font-bold text-cmf-secondary",children:[y.toFixed(2)," pts"]})]}),v.jsxs("div",{className:"pt-1.5 border-t border-gray-200",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Score Breakdown:"}),m.map(C=>v.jsxs("div",{className:"flex justify-between text-xs",children:[v.jsxs("span",{className:"text-gray-600",children:[C.label,":"]}),v.jsxs("span",{className:"font-mono",children:[C.weightedScore.toFixed(2)," pts"]})]},C.key))]}),v.jsx("div",{className:"pt-1.5 border-t border-gray-200",children:v.jsx("div",{className:"text-xs text-gray-500",children:a?`Using ${Gl[a].name} preset`:"Using custom weights"})})]})]}),v.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:" Adjust sliders for real-time changes"})]})})]})})]})})}function ek(){const{selectedEvent:n}=Ki(),{user:e,selectedLeagueId:t,userRole:r}=en(),[i,a]=U.useState([]),[s,u]=U.useState(!0),[c,h]=U.useState(null),[p,m]=U.useState({}),[y,_]=U.useState(null),[E,A]=U.useState(null),[S,C]=U.useState(""),[N,D]=U.useState([]),[B,F]=U.useState(!1),[W,M]=U.useState(null),[R,P]=U.useState({...hC}),[L,z]=U.useState("athletic"),H=U.useRef(null);H.current=y;const V=()=>{const ue=Object.values(R).reduce((Ie,_e)=>Ie+_e,0),ge={};return Ui.forEach(Ie=>{ge[Ie.key]=Math.round(R[Ie.key]/ue*100)}),ge},ke=(ue,ge)=>{const Ie={...V(),[ue]:ge},_e=Object.values(Ie).reduce((Ve,ct)=>Ve+ct,0);if(_e===0)return;const ze={};Ui.forEach(Ve=>{ze[Ve.key]=Ie[Ve.key]/_e}),P(ze),z(null)},Le=ue=>{P({...Gl[ue].weights}),z(ue)},te=ue=>["40m_dash","vertical_jump","catching","throwing","agility"].reduce((_e,ze)=>{let Ve=ue[ze]||0;const ct=R[ze]||0;return ze==="40m_dash"&&Ve>0&&(Ve=Math.max(0,30-Ve)),_e+Ve*ct},0),ne=()=>{if(!S||N.length===0)return;let ue=`Rank,Name,Player Number,Composite Score
`;N.forEach(ct=>{ue+=`${ct.rank},"${ct.name}",${ct.number},${ct.composite_score.toFixed(2)}
`});const ge=n?new Date(n.date).toISOString().slice(0,10):"event",Ie=`rankings_${S}_${ge}.csv`,_e=new Blob([ue],{type:"text/csv"}),ze=URL.createObjectURL(_e),Ve=document.createElement("a");Ve.href=ze,Ve.download=Ie,document.body.appendChild(Ve),Ve.click(),document.body.removeChild(Ve),URL.revokeObjectURL(ze)},pe=()=>{if(i.length===0)return;let ue=`Name,Player Number,Age Group,Composite Score,40M Dash,Vertical Jump,Catching,Throwing,Agility
`;[...i].sort((tn,ur)=>te(ur)-te(tn)).forEach(tn=>{const ur=te(tn);ue+=`"${tn.name}",${tn.number||"N/A"},"${tn.age_group||"Unassigned"}",${ur.toFixed(2)},${tn["40m_dash"]||""},${tn.vertical_jump||""},${tn.catching||""},${tn.throwing||""},${tn.agility||""}
`});const _e=`all_players_${n?new Date(n.date).toISOString().slice(0,10):"event"}.csv`,ze=new Blob([ue],{type:"text/csv"}),Ve=URL.createObjectURL(ze),ct=document.createElement("a");ct.href=Ve,ct.download=_e,document.body.appendChild(ct),ct.click(),document.body.removeChild(ct),URL.revokeObjectURL(Ve)},Se=()=>v.jsx("div",{className:"bg-cmf-primary/10 border-l-4 border-cmf-primary text-cmf-primary px-4 py-3 mb-6 rounded cursor-pointer hover:bg-cmf-primary/15 transition",onClick:()=>{const ue=document.querySelector('[class*="EventSelector"]')||document.querySelector("select")||document.querySelector("[data-event-selector]");ue&&(ue.scrollIntoView({behavior:"smooth",block:"center"}),ue.focus())},children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-lg",children:""}),v.jsxs("div",{children:[v.jsx("strong",{children:"Tip:"})," Select an event above to manage players and record results.",v.jsx("div",{className:"text-sm opacity-75 mt-1",children:" Click here or scroll up to find the event selector"})]})]})}),q=U.useCallback(async()=>{var ue;if(!n||!e||!t){a([]),u(!1);return}u(!0),h(null);try{const{data:ge}=await Ft.get(`/players?event_id=${n.id}`);if(a(ge),H.current){const Ie=ge.find(_e=>_e.id===H.current.id);Ie&&_(Ie)}}catch(ge){((ue=ge.response)==null?void 0:ue.status)===404?(h(null),a([])):h(ge.message)}finally{u(!1)}},[n,e,t]);U.useEffect(()=>{const ge=setTimeout(async()=>{var Ie;if(!S||!e||!t||!n){D([]);return}F(!0),M(null);try{const _e=new URLSearchParams({age_group:S,event_id:n.id});_e.append("weight_40m_dash",R["40m_dash"]),_e.append("weight_vertical_jump",R.vertical_jump),_e.append("weight_catching",R.catching),_e.append("weight_throwing",R.throwing),_e.append("weight_agility",R.agility);const ze=await Ft.get(`/rankings?${_e.toString()}`);D(ze.data)}catch(_e){((Ie=_e.response)==null?void 0:Ie.status)===404?(M(null),D([])):(console.error("[Players] Rankings fetch error:",_e),M(_e.message))}finally{F(!1)}},300);return()=>clearTimeout(ge)},[S,R,e,t,n]),U.useEffect(()=>{q()},[q]);const fe=ue=>{m(ge=>({...ge,[ue]:!ge[ue]}))},xe=(i||[]).reduce((ue,ge)=>{const Ie=ge.age_group||"Unassigned";return ue[Ie]=ue[Ie]||[],ue[Ie].push(ge),ue},{}),he=[...new Set(i.map(ue=>ue.age_group))].sort(),Ae=V();return!n||!n.id?v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[v.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No event selected"}),v.jsx("p",{className:"text-cmf-secondary mb-4",children:r==="organizer"?"Select or create an event to manage players and drills.":"Ask your league operator to assign you to an event."}),v.jsx("div",{className:"mb-4",children:v.jsx(gf,{})})]})})}):s?v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsx("div",{children:"Loading players..."})}):c?c.includes("422")?v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[v.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No players found"}),v.jsx("p",{className:"text-cmf-secondary mb-4",children:"Use the Admin tab to upload or import players to get started."}),v.jsx(dt,{to:"/admin",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-secondary transition",children:"Go to Admin"})]})})}):v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsxs("div",{className:"text-red-500",children:["Error: ",c]})}):i.length===0?v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[v.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No players found yet"}),v.jsx("p",{className:"text-cmf-secondary mb-4",children:"You can upload a CSV or add them manually to get started."}),v.jsxs("div",{className:"flex gap-4 justify-center",children:[v.jsx(dt,{to:"/admin#player-upload-section",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-secondary transition",children:"Upload CSV"}),v.jsx(dt,{to:"/admin#player-upload-section",className:"bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition",children:"Add Player"})]})]})})}):v.jsx("div",{className:"min-h-screen bg-gray-50 text-cmf-contrast font-sans",children:v.jsxs("div",{className:"max-w-lg mx-auto px-4 sm:px-6 mt-20",children:[v.jsx(gf,{}),v.jsx(Se,{}),v.jsx("div",{className:"text-xs uppercase font-bold text-gray-500 tracking-wide mb-1",children:"WooCombine: Players & Rankings"}),v.jsxs("h1",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Managing: ",n.name,"  ",n.date&&!isNaN(Date.parse(n.date))?new Date(n.date).toLocaleDateString():"Invalid Date"]}),he.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4 shadow-sm max-w-md",children:[v.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:" View Rankings by Age Group"}),v.jsxs("select",{value:S,onChange:ue=>C(ue.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-cmf-primary focus:border-cmf-primary sm:text-sm",children:[v.jsx("option",{value:"",children:"Select Age Group for Rankings"}),he.map(ue=>v.jsx("option",{value:ue,children:ue},ue))]})]}),r==="organizer"&&v.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-2xl p-5 mb-6 max-w-2xl",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[v.jsx(oC,{className:"w-4 h-4 text-cmf-primary"}),v.jsx("h2",{className:"text-sm font-medium text-gray-800",children:"Ranking Priorities"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Presets:"}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Gl).map(([ue,ge])=>v.jsxs("button",{onClick:()=>Le(ue),className:`p-3 text-left rounded-lg border-2 transition-all ${L===ue?"border-cmf-primary bg-cmf-primary/5 text-cmf-primary":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[v.jsx("div",{className:"font-medium text-sm",children:ge.name}),v.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ge.description})]},ue))})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Custom Adjustments:",L&&v.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(Currently using ",Gl[L].name,")"]})]}),v.jsx("div",{className:"space-y-4",children:Ui.map(ue=>v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:ue.label}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("input",{type:"range",min:0,max:100,value:Ae[ue.key],onChange:ge=>ke(ue.key,parseInt(ge.target.value)),className:"flex-1 accent-cmf-primary h-2 rounded-lg bg-gray-100"}),v.jsx("div",{className:"w-12 text-right",children:v.jsxs("span",{className:"text-sm font-mono text-cmf-primary",children:[Ae[ue.key],"%"]})})]})]})},ue.key))}),v.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Rankings update automatically as you adjust priorities"})]})]}),S&&v.jsx(v.Fragment,{children:B?v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center mb-6",children:[v.jsx("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-300 border-t-cmf-primary rounded-full mb-2"}),v.jsx("div",{className:"text-gray-500",children:"Updating rankings..."})]}):W?v.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700 mb-6",children:[v.jsx("strong",{children:"Error:"})," ",W]}):N.length===0?v.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center text-yellow-700 mb-6",children:"No players found for this age group with complete drill results."}):v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6 -mx-4 sm:mx-0 sm:rounded-xl",children:v.jsxs("div",{className:"p-4 sm:p-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[v.jsxs("h2",{className:"text-xl font-semibold",children:[" Rankings (",S,")"]}),v.jsx("button",{onClick:ne,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-700 text-sm",disabled:N.length===0,children:" Export as CSV"})]}),v.jsx("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-gray-200",children:[v.jsx("th",{className:"py-3 px-2",children:"Rank"}),v.jsx("th",{className:"py-3 px-2",children:"Name"}),v.jsx("th",{className:"py-3 px-2",children:"Player #"}),v.jsx("th",{className:"py-3 px-2",children:"Overall Score"}),v.jsx("th",{className:"py-3 px-2 text-center",children:"40M Dash"}),v.jsx("th",{className:"py-3 px-2 text-center",children:"Vertical"}),v.jsx("th",{className:"py-3 px-2 text-center",children:"Catching"}),v.jsx("th",{className:"py-3 px-2 text-center",children:"Throwing"}),v.jsx("th",{className:"py-3 px-2 text-center",children:"Agility"})]})}),v.jsx("tbody",{children:N.map(ue=>{const ge={};return Ui.forEach(Ie=>{const ze=N.filter(Ve=>Ve[Ie.key]!=null).map(Ve=>({player_id:Ve.player_id,score:Ve[Ie.key]})).sort((Ve,ct)=>Ie.lowerIsBetter?Ve.score-ct.score:ct.score-Ve.score).findIndex(Ve=>Ve.player_id===ue.player_id)+1;ge[Ie.key]=ze>0?ze:null}),v.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50",children:[v.jsx("td",{className:`py-3 px-2 font-bold ${ue.rank===1?"text-yellow-500":ue.rank===2?"text-gray-500":ue.rank===3?"text-orange-500":""}`,children:ue.rank===1?"":ue.rank===2?"":ue.rank===3?"":ue.rank}),v.jsx("td",{className:"py-3 px-2",children:ue.name}),v.jsx("td",{className:"py-3 px-2",children:ue.number}),v.jsx("td",{className:"py-3 px-2 font-mono font-bold",children:ue.composite_score.toFixed(2)}),Ui.map(Ie=>v.jsx("td",{className:"py-3 px-2 text-center",children:ue[Ie.key]!=null?v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"font-mono text-sm",children:ue[Ie.key]}),v.jsxs("span",{className:"text-xs text-gray-500",children:["#",ge[Ie.key]||"-"]})]}):v.jsx("span",{className:"text-gray-400",children:"-"})},Ie.key))]},ue.player_id)})})]})})]})})})]}),v.jsx("div",{className:"border-t-2 border-gray-200 pt-8 mt-8",children:v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("div",{className:"text-xs uppercase font-bold text-gray-500 tracking-wide mb-1",children:"Player Management"}),v.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Individual Player Records & Drill Entry",he.length>0&&r==="organizer"&&v.jsx("span",{className:"ml-2 text-sm font-normal text-cmf-primary",children:" Rankings update live with weight changes"})]})]}),i.length>0&&v.jsx("button",{onClick:pe,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-700 text-sm font-medium shadow-sm",children:" Export All Players"})]})}),y&&v.jsx(JM,{player:y,allPlayers:i,onClose:()=>_(null)}),E&&v.jsx(ZM,{player:E,allPlayers:i,onClose:()=>A(null),onSave:q}),Object.keys(xe).length===0?v.jsx("div",{className:"text-center py-8 text-gray-500",children:"No players found for this event."}):Object.entries(xe).sort(([ue],[ge])=>ue.localeCompare(ge)).map(([ue,ge])=>{const Ie=ge.sort((_e,ze)=>{const Ve=te(_e),ct=te(ze);return Ve!==ct?ct-Ve:_e.name.localeCompare(ze.name)});return v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 py-4 px-5 mb-6",children:[v.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:v.jsxs("span",{children:["Age Group: ",ue]})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full bg-white border border-gray-200 rounded-lg",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),v.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),v.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player #"}),v.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Composite Score"}),v.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ie.map((_e,ze)=>v.jsxs(Ng.Fragment,{children:[v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:`py-2 px-2 font-bold ${ze===0?"text-yellow-500":ze===1?"text-gray-500":ze===2?"text-orange-500":""}`,children:ze===0?"":ze===1?"":ze===2?"":ze+1}),v.jsx("td",{className:"py-2 px-2",children:_e.name}),v.jsx("td",{className:"py-2 px-2",children:_e.number||"N/A"}),v.jsx("td",{className:"py-2 px-2 font-mono",children:(()=>{const Ve=te(_e);return Ve>0?Ve.toFixed(2):"No scores yet"})()}),v.jsx("td",{className:"py-2 px-2",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>_(_e),className:"text-blue-600 hover:text-blue-900 text-sm underline",disabled:te(_e)===0,children:"View Stats"}),v.jsx("button",{onClick:()=>A(_e),className:"text-green-600 hover:text-green-900 text-sm underline",children:"Edit"}),v.jsx("button",{onClick:()=>fe(_e.id),className:"text-cyan-600 hover:text-cyan-900 text-sm underline",children:"Add Result"})]})})]}),p[_e.id]&&v.jsx("tr",{className:"bg-blue-50",children:v.jsx("td",{colSpan:"5",className:"py-4 px-2",children:v.jsx(QM,{playerId:_e.id,onSuccess:()=>{fe(_e.id),q()}})})})]},_e.id))})]})})]},ue)})]})})}var Rl={},xm={exports:{}},_m,gE;function tk(){if(gE)return _m;gE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _m=n,_m}var wm,vE;function nk(){if(vE)return wm;vE=1;var n=tk();function e(){}function t(){}return t.resetWarningCache=e,wm=function(){function r(s,u,c,h,p,m){if(m!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},wm}var yE;function dC(){return yE||(yE=1,xm.exports=nk()()),xm.exports}var Em,xE;function pC(){return xE||(xE=1,Em={L:1,M:0,Q:3,H:2}),Em}var bm,_E;function mC(){return _E||(_E=1,bm={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),bm}var Am,wE;function rk(){if(wE)return Am;wE=1;var n=mC();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}},Am=e,Am}var Sm,EE;function ik(){if(EE)return Sm;EE=1;var n=pC();function e(t,r){this.totalCount=t,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,r){var i=e.getRsBlockTable(t,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var a=i.length/3,s=new Array,u=0;u<a;u++)for(var c=i[u*3+0],h=i[u*3+1],p=i[u*3+2],m=0;m<c;m++)s.push(new e(h,p));return s},e.getRsBlockTable=function(t,r){switch(r){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},Sm=e,Sm}var Tm,bE;function ak(){if(bE)return Tm;bE=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Tm=n,Tm}var Cm,AE;function gC(){if(AE)return Cm;AE=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return Cm=n,Cm}var Im,SE;function vC(){if(SE)return Im;SE=1;var n=gC();function e(t,r){if(t.length==null)throw new Error(t.length+"/"+r);for(var i=0;i<t.length&&t[i]==0;)i++;this.num=new Array(t.length-i+r);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)r[i+a]^=n.gexp(n.glog(this.get(i))+n.glog(t.get(a)));return new e(r,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=n.glog(this.get(0))-n.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<t.getLength();a++)i[a]^=n.gexp(n.glog(t.get(a))+r);return new e(i,0).mod(t)}},Im=e,Im}var Nm,TE;function ok(){if(TE)return Nm;TE=1;var n=mC(),e=vC(),t=gC(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var s=a<<10;i.getBCHDigit(s)-i.getBCHDigit(i.G15)>=0;)s^=i.G15<<i.getBCHDigit(s)-i.getBCHDigit(i.G15);return(a<<10|s)^i.G15_MASK},getBCHTypeNumber:function(a){for(var s=a<<12;i.getBCHDigit(s)-i.getBCHDigit(i.G18)>=0;)s^=i.G18<<i.getBCHDigit(s)-i.getBCHDigit(i.G18);return a<<12|s},getBCHDigit:function(a){for(var s=0;a!=0;)s++,a>>>=1;return s},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,s,u){switch(a){case r.PATTERN000:return(s+u)%2==0;case r.PATTERN001:return s%2==0;case r.PATTERN010:return u%3==0;case r.PATTERN011:return(s+u)%3==0;case r.PATTERN100:return(Math.floor(s/2)+Math.floor(u/3))%2==0;case r.PATTERN101:return s*u%2+s*u%3==0;case r.PATTERN110:return(s*u%2+s*u%3)%2==0;case r.PATTERN111:return(s*u%3+(s+u)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var s=new e([1],0),u=0;u<a;u++)s=s.multiply(new e([1,t.gexp(u)],0));return s},getLengthInBits:function(a,s){if(1<=s&&s<10)switch(a){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(s<27)switch(a){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(s<41)switch(a){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+s)},getLostPoint:function(a){for(var s=a.getModuleCount(),u=0,c=0;c<s;c++)for(var h=0;h<s;h++){for(var p=0,m=a.isDark(c,h),y=-1;y<=1;y++)if(!(c+y<0||s<=c+y))for(var _=-1;_<=1;_++)h+_<0||s<=h+_||y==0&&_==0||m==a.isDark(c+y,h+_)&&p++;p>5&&(u+=3+p-5)}for(var c=0;c<s-1;c++)for(var h=0;h<s-1;h++){var E=0;a.isDark(c,h)&&E++,a.isDark(c+1,h)&&E++,a.isDark(c,h+1)&&E++,a.isDark(c+1,h+1)&&E++,(E==0||E==4)&&(u+=3)}for(var c=0;c<s;c++)for(var h=0;h<s-6;h++)a.isDark(c,h)&&!a.isDark(c,h+1)&&a.isDark(c,h+2)&&a.isDark(c,h+3)&&a.isDark(c,h+4)&&!a.isDark(c,h+5)&&a.isDark(c,h+6)&&(u+=40);for(var h=0;h<s;h++)for(var c=0;c<s-6;c++)a.isDark(c,h)&&!a.isDark(c+1,h)&&a.isDark(c+2,h)&&a.isDark(c+3,h)&&a.isDark(c+4,h)&&!a.isDark(c+5,h)&&a.isDark(c+6,h)&&(u+=40);for(var A=0,h=0;h<s;h++)for(var c=0;c<s;c++)a.isDark(c,h)&&A++;var S=Math.abs(100*A/s/s-50)/5;return u+=S*10,u}};return Nm=i,Nm}var Rm,CE;function sk(){if(CE)return Rm;CE=1;var n=rk(),e=ik(),t=ak(),r=ok(),i=vC();function a(u,c){this.typeNumber=u,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s=a.prototype;return s.addData=function(u){var c=new n(u);this.dataList.push(c),this.dataCache=null},s.isDark=function(u,c){if(u<0||this.moduleCount<=u||c<0||this.moduleCount<=c)throw new Error(u+","+c);return this.modules[u][c]},s.getModuleCount=function(){return this.moduleCount},s.make=function(){if(this.typeNumber<1){var u=1;for(u=1;u<40;u++){for(var c=e.getRSBlocks(u,this.errorCorrectLevel),h=new t,p=0,m=0;m<c.length;m++)p+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var y=this.dataList[m];h.put(y.mode,4),h.put(y.getLength(),r.getLengthInBits(y.mode,u)),y.write(h)}if(h.getLengthInBits()<=p*8)break}this.typeNumber=u}this.makeImpl(!1,this.getBestMaskPattern())},s.makeImpl=function(u,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++){this.modules[h]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[h][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(u,c),this.typeNumber>=7&&this.setupTypeNumber(u),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},s.setupPositionProbePattern=function(u,c){for(var h=-1;h<=7;h++)if(!(u+h<=-1||this.moduleCount<=u+h))for(var p=-1;p<=7;p++)c+p<=-1||this.moduleCount<=c+p||(0<=h&&h<=6&&(p==0||p==6)||0<=p&&p<=6&&(h==0||h==6)||2<=h&&h<=4&&2<=p&&p<=4?this.modules[u+h][c+p]=!0:this.modules[u+h][c+p]=!1)},s.getBestMaskPattern=function(){for(var u=0,c=0,h=0;h<8;h++){this.makeImpl(!0,h);var p=r.getLostPoint(this);(h==0||u>p)&&(u=p,c=h)}return c},s.createMovieClip=function(u,c,h){var p=u.createEmptyMovieClip(c,h),m=1;this.make();for(var y=0;y<this.modules.length;y++)for(var _=y*m,E=0;E<this.modules[y].length;E++){var A=E*m,S=this.modules[y][E];S&&(p.beginFill(0,100),p.moveTo(A,_),p.lineTo(A+m,_),p.lineTo(A+m,_+m),p.lineTo(A,_+m),p.endFill())}return p},s.setupTimingPattern=function(){for(var u=8;u<this.moduleCount-8;u++)this.modules[u][6]==null&&(this.modules[u][6]=u%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},s.setupPositionAdjustPattern=function(){for(var u=r.getPatternPosition(this.typeNumber),c=0;c<u.length;c++)for(var h=0;h<u.length;h++){var p=u[c],m=u[h];if(this.modules[p][m]==null)for(var y=-2;y<=2;y++)for(var _=-2;_<=2;_++)y==-2||y==2||_==-2||_==2||y==0&&_==0?this.modules[p+y][m+_]=!0:this.modules[p+y][m+_]=!1}},s.setupTypeNumber=function(u){for(var c=r.getBCHTypeNumber(this.typeNumber),h=0;h<18;h++){var p=!u&&(c>>h&1)==1;this.modules[Math.floor(h/3)][h%3+this.moduleCount-8-3]=p}for(var h=0;h<18;h++){var p=!u&&(c>>h&1)==1;this.modules[h%3+this.moduleCount-8-3][Math.floor(h/3)]=p}},s.setupTypeInfo=function(u,c){for(var h=this.errorCorrectLevel<<3|c,p=r.getBCHTypeInfo(h),m=0;m<15;m++){var y=!u&&(p>>m&1)==1;m<6?this.modules[m][8]=y:m<8?this.modules[m+1][8]=y:this.modules[this.moduleCount-15+m][8]=y}for(var m=0;m<15;m++){var y=!u&&(p>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=y:m<9?this.modules[8][15-m-1+1]=y:this.modules[8][15-m-1]=y}this.modules[this.moduleCount-8][8]=!u},s.mapData=function(u,c){for(var h=-1,p=this.moduleCount-1,m=7,y=0,_=this.moduleCount-1;_>0;_-=2)for(_==6&&_--;;){for(var E=0;E<2;E++)if(this.modules[p][_-E]==null){var A=!1;y<u.length&&(A=(u[y]>>>m&1)==1);var S=r.getMask(c,p,_-E);S&&(A=!A),this.modules[p][_-E]=A,m--,m==-1&&(y++,m=7)}if(p+=h,p<0||this.moduleCount<=p){p-=h,h=-h;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(u,c,h){for(var p=e.getRSBlocks(u,c),m=new t,y=0;y<h.length;y++){var _=h[y];m.put(_.mode,4),m.put(_.getLength(),r.getLengthInBits(_.mode,u)),_.write(m)}for(var E=0,y=0;y<p.length;y++)E+=p[y].dataCount;if(m.getLengthInBits()>E*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+E*8+")");for(m.getLengthInBits()+4<=E*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=E*8||(m.put(a.PAD0,8),m.getLengthInBits()>=E*8));)m.put(a.PAD1,8);return a.createBytes(m,p)},a.createBytes=function(u,c){for(var h=0,p=0,m=0,y=new Array(c.length),_=new Array(c.length),E=0;E<c.length;E++){var A=c[E].dataCount,S=c[E].totalCount-A;p=Math.max(p,A),m=Math.max(m,S),y[E]=new Array(A);for(var C=0;C<y[E].length;C++)y[E][C]=255&u.buffer[C+h];h+=A;var N=r.getErrorCorrectPolynomial(S),D=new i(y[E],N.getLength()-1),B=D.mod(N);_[E]=new Array(N.getLength()-1);for(var C=0;C<_[E].length;C++){var F=C+B.getLength()-_[E].length;_[E][C]=F>=0?B.get(F):0}}for(var W=0,C=0;C<c.length;C++)W+=c[C].totalCount;for(var M=new Array(W),R=0,C=0;C<p;C++)for(var E=0;E<c.length;E++)C<y[E].length&&(M[R++]=y[E][C]);for(var C=0;C<m;C++)for(var E=0;E<c.length;E++)C<_[E].length&&(M[R++]=_[E][C]);return M},Rm=a,Rm}var fd={},IE;function lk(){if(IE)return fd;IE=1,Object.defineProperty(fd,"__esModule",{value:!0});var n=Object.assign||function(h){for(var p=1;p<arguments.length;p++){var m=arguments[p];for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(h[y]=m[y])}return h},e=dC(),t=a(e),r=vf(),i=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){var m={};for(var y in h)p.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(h,y)&&(m[y]=h[y]);return m}var u={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},c=(0,r.forwardRef)(function(h,p){var m=h.bgColor,y=h.bgD,_=h.fgD,E=h.fgColor,A=h.size,S=h.title,C=h.viewBoxSize,N=h.xmlns,D=N===void 0?"http://www.w3.org/2000/svg":N,B=s(h,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",n({},B,{height:A,ref:p,viewBox:"0 0 "+C+" "+C,width:A,xmlns:D}),S?i.default.createElement("title",null,S):null,i.default.createElement("path",{d:y,fill:m}),i.default.createElement("path",{d:_,fill:E}))});return c.displayName="QRCodeSvg",c.propTypes=u,fd.default=c,fd}var NE;function uk(){if(NE)return Rl;NE=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.QRCode=void 0;var n=Object.assign||function(A){for(var S=1;S<arguments.length;S++){var C=arguments[S];for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(A[N]=C[N])}return A},e=dC(),t=m(e),r=pC(),i=m(r),a=sk(),s=m(a),u=vf(),c=m(u),h=lk(),p=m(h);function m(A){return A&&A.__esModule?A:{default:A}}function y(A,S){var C={};for(var N in A)S.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(A,N)&&(C[N]=A[N]);return C}var _={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},E=(0,u.forwardRef)(function(A,S){var C=A.bgColor,N=C===void 0?"#FFFFFF":C,D=A.fgColor,B=D===void 0?"#000000":D,F=A.level,W=F===void 0?"L":F,M=A.size,R=M===void 0?256:M,P=A.value,L=y(A,["bgColor","fgColor","level","size","value"]),z=new s.default(-1,i.default[W]);z.addData(P),z.make();var H=z.modules;return c.default.createElement(p.default,n({},L,{bgColor:N,bgD:H.map(function(V,ke){return V.map(function(Le,te){return Le?"":"M "+te+" "+ke+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:B,fgD:H.map(function(V,ke){return V.map(function(Le,te){return Le?"M "+te+" "+ke+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:S,size:R,viewBoxSize:H.length}))});return Rl.QRCode=E,E.displayName="QRCode",E.propTypes=_,Rl.default=E,Rl}var ck=uk();const yC=hb(ck);function fk({open:n,onClose:e,event:t,onUpdated:r}){const{selectedLeagueId:i}=en(),{setSelectedEvent:a,setEvents:s}=Ki(),[u,c]=U.useState(""),[h,p]=U.useState(""),[m,y]=U.useState(""),[_,E]=U.useState(!1),[A,S]=U.useState("");if(U.useEffect(()=>{t&&(c(t.name||""),p(t.date||""),y(t.location||""))},[t]),!n||!t)return null;const C=async N=>{var D,B;N.preventDefault(),E(!0),S("");try{const F=h?new Date(h).toISOString().slice(0,10):"";await Ft.put(`/leagues/${i}/events/${t.id}`,{name:u,date:F,location:m});const W={...t,name:u,date:F,location:m,updated_at:new Date().toISOString()};s(M=>M.map(R=>R.id===t.id?W:R)),a(M=>M&&M.id===t.id?W:M),r&&r(W),e&&e()}catch(F){console.error("Event update error:",F),S(((B=(D=F.response)==null?void 0:D.data)==null?void 0:B.detail)||F.message||"Failed to update event")}finally{E(!1)}};return v.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-sm relative",children:[v.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-400 hover:text-cmf-primary text-2xl font-bold",children:""}),v.jsx("h2",{className:"text-xl font-bold mb-4 text-cmf-primary",children:"Edit Event"}),v.jsxs("form",{onSubmit:C,children:[v.jsx("label",{className:"block mb-2 font-semibold",children:"Event Name"}),v.jsx("input",{type:"text",value:u,onChange:N=>c(N.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 mb-4 focus:ring-cmf-primary focus:border-cmf-primary",required:!0}),v.jsx("label",{className:"block mb-2 font-semibold",children:"Event Date"}),v.jsx("input",{type:"date",value:h,onChange:N=>p(N.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 mb-4 focus:ring-cmf-primary focus:border-cmf-primary",required:!0}),v.jsx("label",{className:"block mb-2 font-semibold",children:"Location"}),v.jsx("input",{type:"text",value:m,onChange:N=>y(N.target.value),placeholder:"e.g., Central Park Football Field",className:"w-full border-cmf-secondary rounded px-3 py-2 mb-4 focus:ring-cmf-primary focus:border-cmf-primary"}),v.jsx("small",{className:"text-gray-500 text-xs mb-4 block",children:"Leave location blank if not determined yet"}),A&&v.jsx("div",{className:"text-red-500 mb-2 text-sm",children:A}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"submit",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow hover:bg-cmf-secondary transition disabled:opacity-50",disabled:_,children:_?"Updating...":"Update Event"}),v.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400 transition",children:"Cancel"})]})]})]})})}const hd=["name","number","age_group","40m_dash","vertical_jump","catching","throwing","agility"],hk=[["Jane Smith","23","9-10","6.1","19","8","7","6.8"],["Alex Lee","45","U12","5.8","21","9","8","7.2"],["Sam Jones","7","6U","7.2","15","6","6","5.9"]];function dk(n){const e=n.trim().split(/\r?\n/),t=e[0].split(",").map(i=>i.trim()),r=e.slice(1).map(i=>i.split(",").map(a=>a.trim()));return{headers:t,rows:r}}function pk(n,e){const t=[],r={};return e.forEach((i,a)=>{r[i]=n[a]??""}),r.name||t.push("Missing name"),r.number&&r.number.trim()!==""&&isNaN(Number(r.number))&&t.push("Invalid number"),["40m_dash","vertical_jump","catching","throwing","agility"].forEach(i=>{const a=r[i];a&&a.trim()!==""&&isNaN(Number(a))&&t.push(`Invalid ${i}`)}),{...r,warnings:t}}function mk(){const{user:n,role:e,userRole:t,selectedLeagueId:r,leagues:i}=en(),{selectedEvent:a}=Ki(),[s,u]=U.useState(""),[c,h]=U.useState("idle"),[p,m]=U.useState(""),[y,_]=U.useState([]),[E,A]=U.useState([]),[S,C]=U.useState([]),[N,D]=U.useState(""),[B,F]=U.useState("idle"),[W,M]=U.useState(""),[R,P]=U.useState(!1),[L,z]=U.useState({name:"",number:"",age_group:"","40m_dash":"",vertical_jump:"",catching:"",throwing:"",agility:""}),[H,V]=U.useState([]),[ke,Le]=U.useState("idle"),[te,ne]=U.useState(""),[pe,Se]=U.useState(0),[q,fe]=U.useState(!1),xe=U.useRef(),[he,Ae]=U.useState(!1),ue=i==null?void 0:i.find(Te=>Te.id===r),ge=(ue==null?void 0:ue.id)||"",Ie=ge?`https://woo-combine.com/join?code=${ge}`:"",[_e,ze]=U.useState(!1);U.useEffect(()=>{const Te=()=>{if(window.location.hash==="#player-upload-section"){const qe=document.getElementById("player-upload-section");qe&&qe.scrollIntoView({behavior:"smooth"})}};return Te(),window.addEventListener("hashchange",Te),()=>window.removeEventListener("hashchange",Te)},[]),U.useEffect(()=>{},[t,a]);const Ve=async()=>{if(!(!a||!n||!r)){h("loading"),m("");try{await Ft.delete(`/players/reset?event_id=${a.id}`),h("success"),u("")}catch(Te){h("error"),m(Te.message||"Error during reset.")}}},ct=Te=>{const qe=Te.target.files[0];if(!qe)return;D(qe.name);const Yt=new FileReader;Yt.onload=rt=>{const nt=rt.target.result,{headers:Bt,rows:Rn}=dk(nt),Uo=[];(Bt.length!==hd.length||!hd.every((ii,Qi)=>ii===Bt[Qi]))&&Uo.push("Headers must match: "+hd.join(", "));const xu=Rn.map(ii=>pk(ii,Bt));A(Bt),_(xu),C(Uo)},Yt.readAsText(qe)},tn=S.length===0&&y.length>0&&y.some(Te=>Te.name&&Te.name.trim()!==""),ur=U.useCallback(async()=>{var Te;if(!(!a||!n||!r)){fe(!0);try{const{data:qe}=await Ft.get(`/players?event_id=${a.id}`);Se(Array.isArray(qe)?qe.length:0)}catch(qe){((Te=qe.response)==null?void 0:Te.status)===404||console.error("[AdminTools] Player count fetch error:",qe),Se(0)}finally{fe(!1)}}},[a,n,r]);U.useEffect(()=>{ur()},[a,n,r,ur]);const wi=()=>{ur()},Bo=async()=>{if(!a||!n||!r)return;F("loading"),M("");const Te={event_id:a.id,players:y.map(qe=>{const{warnings:Yt,...rt}=qe;return rt})};try{const qe=await Ft.post("/players/upload",Te),{data:Yt}=qe;Yt.errors&&Yt.errors.length>0?(F("error"),M("Some rows failed to upload. See errors below.")):(F("success"),M(` Upload successful! ${Yt.added} players added.`),_([]),A([]),D(""),wi())}catch(qe){F("error"),M(` ${qe.message||"Upload failed."}`)}},Rr=Te=>{z({...L,[Te.target.name]:Te.target.value})},yr=()=>{const Te=[];return L.name||Te.push("Missing name"),L.number&&isNaN(Number(L.number))&&Te.push("Invalid number"),["40m_dash","vertical_jump","catching","throwing","agility"].forEach(qe=>{L[qe]&&isNaN(Number(L[qe]))&&Te.push(`Invalid ${qe}`)}),Te},yu=async Te=>{Te.preventDefault(),V([]),Le("idle"),ne("");const qe=yr();if(qe.length>0){V(qe);return}Le("loading");try{const Yt={name:L.name,number:Number(L.number),age_group:L.age_group};L.photo_url&&(Yt.photo_url=L.photo_url),await Ft.post(`/players?event_id=${a.id}`,Yt),Le("success"),ne("Player added!"),z({name:"",number:"",age_group:"","40m_dash":"",vertical_jump:"",catching:"",throwing:"",agility:""}),wi()}catch(Yt){Le("error"),ne(Yt.message||"Failed to add player.")}},Vo=()=>{let Te=hd.join(",")+`
`;hk.forEach(nt=>{Te+=nt.join(",")+`
`});const qe=new Blob([Te],{type:"text/csv"}),Yt=URL.createObjectURL(qe),rt=document.createElement("a");rt.href=Yt,rt.download="sample_players.csv",document.body.appendChild(rt),rt.click(),document.body.removeChild(rt),URL.revokeObjectURL(Yt)},Fa=()=>v.jsxs("div",{className:"bg-cmf-primary/10 border-l-4 border-cmf-primary text-cmf-primary px-4 py-3 mb-6 rounded",children:[v.jsx("strong",{children:"Welcome, Admin."})," Manage your combine tools below."]}),xr="Score range: 110. Use decimals for precision (e.g., 7.5)",Vs=()=>{_([]),A([]),C([]),D(""),F("idle"),M(""),xe.current&&(xe.current.value="")};return t!=="organizer"?v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto text-center border-2 border-red-200",children:[v.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Admin Access Required"}),v.jsxs("p",{className:"text-cmf-secondary",children:["You do not have permission to view this page.",v.jsx("br",{}),"Organizer access required."]})]})})}):!a||!a.id?v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto text-center border-2 border-yellow-200",children:[v.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-4",children:"No Event Selected"}),v.jsx("p",{className:"text-cmf-secondary mb-4",children:"Before importing players, you'll need to select or create an event."}),v.jsx("div",{className:"mb-4",children:v.jsx(gf,{})})]})})}):v.jsxs("div",{className:"min-h-screen bg-gray-50 text-cmf-contrast font-sans",children:[v.jsx("div",{className:"max-w-lg mx-auto px-4 sm:px-6 mt-20",children:v.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",children:[v.jsx(gf,{}),a&&v.jsx("div",{className:"flex items-center gap-3 mb-4",children:v.jsxs("span",{className:"inline-flex items-center bg-cmf-primary/10 border border-cmf-primary text-cmf-primary font-bold px-4 py-2 rounded-full text-base",children:[v.jsx("span",{role:"img","aria-label":"player",children:""}),q?v.jsx("span",{className:"ml-2 animate-pulse",children:"Loading..."}):v.jsxs("span",{className:"ml-2",children:[pe," Players Uploaded to: ",a.name,"  ",a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"]})]})}),v.jsx(Fa,{}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1",children:"Step 1"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Event Details"}),v.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",a.name]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Date:"})," ",a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",a.location||"Location TBD"]})]})}),v.jsxs("button",{onClick:()=>ze(!0),className:"bg-cmf-secondary text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cmf-primary transition flex items-center gap-2",children:[v.jsx(sC,{className:"w-4 h-4"}),"Edit Event Details"]})]}),v.jsxs("div",{className:"mb-4 text-lg font-semibold flex items-center gap-2 text-gray-900",children:[v.jsx("span",{role:"img","aria-label":"event",children:""}),"Managing: ",a?`${a.name}  ${a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"}`:"No event selected"]}),v.jsx("div",{id:"player-upload-section",className:"mb-8",children:v.jsxs("div",{className:"mb-2",children:[v.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1",children:"Step 2"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add Players to Your Event"}),v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsxs("button",{className:"bg-cmf-primary text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cmf-secondary transition",onClick:Vo,children:[v.jsx(dE,{className:"inline-block mr-2 w-4 h-4"}),"Sample CSV"]}),v.jsx("button",{className:"bg-cmf-primary text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cmf-secondary transition",onClick:()=>P(Te=>!Te),children:"+ Add Player Manually"})]}),v.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Uploading to: ",v.jsxs("span",{className:"font-bold",children:[a.name,"  ",new Date(a.date).toLocaleDateString()]})]}),v.jsxs("div",{className:"border-dashed border-2 border-blue-300 bg-blue-50 p-5 rounded-xl text-center text-sm text-gray-600 flex flex-col items-center",children:[v.jsx(dE,{className:"w-8 h-8 text-blue-400 mb-2"}),v.jsx("input",{ref:xe,type:"file",accept:".csv",onChange:ct,className:"mb-2 cursor-pointer",style:{maxWidth:300}}),N&&v.jsx("div",{className:"text-xs text-gray-500 mb-2",children:N}),S.length>0&&v.jsx("div",{className:"text-red-500 text-sm mb-2",children:S.join("; ")}),Array.isArray(y)&&y.length>0&&S.length===0&&v.jsx("div",{className:"overflow-x-auto max-h-64 border rounded mb-2 w-full",children:v.jsxs("table",{className:"min-w-full text-xs",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-2 py-1"}),v.jsx("th",{className:"px-2 py-1",children:"#"}),Array.isArray(E)&&E.length>0&&E.map(Te=>v.jsxs("th",{className:"px-2 py-1",children:[Te.replace(/_/g," ").replace("m dash","m Dash").replace(/\b\w/g,qe=>qe.toUpperCase()),["40m_dash","vertical_jump","catching","throwing","agility"].includes(Te)&&v.jsx("span",{className:"ml-1 cursor-pointer",title:xr,children:""})]},Te)),v.jsx("th",{className:"px-2 py-1",children:"Warnings"})]})}),v.jsx("tbody",{children:Array.isArray(y)&&y.length>0&&y.map((Te,qe)=>{const Yt=Te.warnings.length>0,rt=Te.warnings.some(Bt=>Bt.includes("Missing name")||Bt.includes("Invalid")),nt=Te.name&&Te.name.trim()!=="";return v.jsxs("tr",{className:rt?"bg-red-50":Yt?"bg-yellow-50":"",children:[v.jsx("td",{className:"px-2 py-1 text-center",children:nt?v.jsx("span",{className:"text-green-600",children:""}):v.jsx("span",{className:"text-red-500 cursor-pointer",title:Te.warnings.join(", "),children:""})}),v.jsx("td",{className:"px-2 py-1 font-mono",children:qe+1}),Array.isArray(E)&&E.length>0&&E.map(Bt=>v.jsx("td",{className:"px-2 py-1",children:Te[Bt]},Bt)),v.jsx("td",{className:"px-2 py-1 text-yellow-600",children:Te.warnings&&Te.warnings.length>0?Te.warnings.join(", "):""})]},qe)})})]})}),Array.isArray(y)&&y.length>0&&v.jsx("button",{className:"mt-2 bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition",onClick:Vs,type:"button",children:" Upload Another CSV"}),v.jsx("button",{className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow disabled:opacity-50 hover:bg-cmf-secondary transition mt-2",disabled:!tn||B==="loading"||!a,onClick:Bo,children:B==="loading"?"Uploading...":"Confirm Upload"}),B==="success"&&v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"text-green-600 mb-4 font-semibold",children:W}),v.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:" What's Next?"}),v.jsx("p",{className:"text-green-700 text-sm mb-4",children:"Your players have been successfully uploaded! Here's what you can do now:"}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx("button",{onClick:Vs,className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left",children:" Upload More Players (CSV or Manual)"}),v.jsx(dt,{to:"/players",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:" View & Manage Players (Add Drill Results)"}),v.jsx(dt,{to:"/players",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:" View Players & Rankings"}),v.jsx(dt,{to:"/live-entry",className:"bg-green-500 border border-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-600 transition text-left block",children:" Start Live Event Data Entry"})]})]})]}),B==="error"&&v.jsx("div",{className:"text-red-500 mt-2",children:W})]})]})}),R&&v.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",id:"manual-add-form-section",children:[v.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[v.jsx(pE,{className:"w-4 h-4"}),"Manual Add"]}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add Player Manually"}),v.jsxs("form",{onSubmit:async Te=>{if(await yu(Te),ke==="success"){const qe=document.getElementById("manual-add-form-section");qe&&qe.scrollIntoView({behavior:"smooth",block:"center"})}},children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[v.jsx("input",{name:"name",value:L.name,onChange:Rr,placeholder:"Name",className:"border rounded px-2 py-1",required:!0}),v.jsx("input",{name:"number",value:L.number,onChange:Rr,placeholder:"Number",className:"border rounded px-2 py-1"}),v.jsx("input",{name:"age_group",value:L.age_group,onChange:Rr,placeholder:"Age Group (e.g., 6U, U8, 7-8)",className:"border rounded px-2 py-1",list:"manual-age-group-suggestions"}),v.jsxs("datalist",{id:"manual-age-group-suggestions",children:[v.jsx("option",{value:"6U"}),v.jsx("option",{value:"U6"}),v.jsx("option",{value:"8U"}),v.jsx("option",{value:"U8"}),v.jsx("option",{value:"10U"}),v.jsx("option",{value:"U10"}),v.jsx("option",{value:"12U"}),v.jsx("option",{value:"U12"}),v.jsx("option",{value:"5-6"}),v.jsx("option",{value:"7-8"}),v.jsx("option",{value:"9-10"}),v.jsx("option",{value:"11-12"}),v.jsx("option",{value:"13-14"}),v.jsx("option",{value:"15-16"}),v.jsx("option",{value:"17-18"})]}),v.jsxs("label",{className:"flex items-center gap-1",children:[v.jsx("input",{name:"40m_dash",value:L["40m_dash"],onChange:Rr,placeholder:"40m Dash",className:"border rounded px-2 py-1 flex-1"}),v.jsx("span",{className:"cursor-pointer",title:xr,children:""})]}),v.jsxs("label",{className:"flex items-center gap-1",children:[v.jsx("input",{name:"vertical_jump",value:L.vertical_jump,onChange:Rr,placeholder:"Vertical Jump",className:"border rounded px-2 py-1 flex-1"}),v.jsx("span",{className:"cursor-pointer",title:xr,children:""})]}),v.jsxs("label",{className:"flex items-center gap-1",children:[v.jsx("input",{name:"catching",value:L.catching,onChange:Rr,placeholder:"Catching",className:"border rounded px-2 py-1 flex-1"}),v.jsx("span",{className:"cursor-pointer",title:xr,children:""})]}),v.jsxs("label",{className:"flex items-center gap-1",children:[v.jsx("input",{name:"throwing",value:L.throwing,onChange:Rr,placeholder:"Throwing",className:"border rounded px-2 py-1 flex-1"}),v.jsx("span",{className:"cursor-pointer",title:xr,children:""})]}),v.jsxs("label",{className:"flex items-center gap-1",children:[v.jsx("input",{name:"agility",value:L.agility,onChange:Rr,placeholder:"Agility",className:"border rounded px-2 py-1 flex-1"}),v.jsx("span",{className:"cursor-pointer",title:xr,children:""})]})]}),H.length>0&&v.jsx("div",{className:"text-red-500 text-sm mt-2",children:H.join(", ")}),v.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap justify-center",children:[v.jsxs("button",{type:"submit",className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",disabled:ke==="loading",children:[v.jsx(pE,{className:"w-4 h-4"}),ke==="loading"?"Adding...":"Add Player"]}),v.jsx("button",{type:"button",className:"bg-gray-200 text-cyan-700 rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-gray-300 transition flex items-center gap-2",onClick:()=>P(!1),children:"Cancel"})]}),ke==="success"&&v.jsxs("div",{className:"mt-4",children:[v.jsxs("div",{className:"text-green-600 mb-4 font-semibold",children:[" ",te]}),v.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:" What's Next?"}),v.jsx("p",{className:"text-green-700 text-sm mb-4",children:"Player added successfully! Here's what you can do now:"}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx("button",{onClick:()=>{Le("idle"),ne("")},className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left",children:" Add Another Player"}),v.jsx("button",{onClick:()=>{P(!1),Le("idle"),ne("")},className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left",children:" Upload Players via CSV"}),v.jsx(dt,{to:"/players",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:" View & Manage Players (Add Drill Results)"}),v.jsx(dt,{to:"/players",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:" View Players & Rankings"}),v.jsx(dt,{to:"/live-entry",className:"bg-green-500 border border-green-600 text-white px-4 py-2 rounded-md font-medium hover:bg-green-600 transition text-left block",children:" Start Live Event Data Entry"})]})]})]}),ke==="error"&&v.jsxs("div",{className:"text-red-500 mt-2",children:[" ",te]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1",children:"Step 3"}),v.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Live Event Data Entry"}),v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-3",children:[v.jsxs("p",{className:"text-blue-800 text-sm mb-3",children:[v.jsx("strong",{children:"High-Speed Entry Mode:"})," Perfect for live combine events with hundreds of players. Optimized for mobile devices with rapid player number lookup and instant score submission."]}),v.jsxs("ul",{className:"text-blue-700 text-sm space-y-1 mb-3",children:[v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Fast Entry:"})," Type player #  Enter score  Auto-save"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Mobile Optimized:"})," Large touch targets for outdoor use"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Duplicate Handling:"})," Smart prompts when updating existing scores"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Auto-Focus:"})," Instant return to player field after each entry"]}),v.jsxs("li",{children:[" ",v.jsx("strong",{children:"Real-Time:"})," Immediate sync with rankings"]})]})]}),v.jsx(dt,{to:"/live-entry",className:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-full px-6 py-3 text-base font-bold shadow-lg hover:from-green-600 hover:to-green-700 transition flex items-center gap-2 justify-center",children:" Start Live Entry Mode"})]}),v.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",children:[v.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[v.jsx(hE,{className:"w-4 h-4"}),"Reset Players"]}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Remove All Players from Event"}),v.jsxs("label",{className:"block mb-1 font-medium",children:["Type ",v.jsx("span",{className:"font-mono",children:"REMOVE"})," to enable reset:"]}),v.jsx("input",{type:"text",value:s,onChange:Te=>u(Te.target.value),className:"w-full border-cyan-200 rounded px-3 py-2 focus:ring-cyan-600 focus:border-cyan-600 mb-2",disabled:c==="success"}),v.jsxs("button",{disabled:s!=="REMOVE"||c==="loading"||c==="success"||!a,onClick:Ve,className:"bg-red-500 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm mt-2 disabled:opacity-50 hover:bg-red-600 transition flex items-center gap-2",children:[v.jsx(hE,{className:"w-4 h-4"}),c==="loading"?"Resetting...":"Reset All Players"]}),c==="success"&&v.jsx("div",{className:"text-green-600 mt-4",children:"Reset successful!"}),c==="error"&&v.jsx("div",{className:"text-red-500 mt-4",children:p})]}),e==="organizer"&&r&&v.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6 flex flex-col items-center text-center",children:[v.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[v.jsx(Pf,{className:"w-4 h-4"}),"Invite Coaches"]}),v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Share League Access"}),v.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Share this code, link, or QR with coaches to let them join as a coach."}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-2 w-full justify-center",children:[v.jsx("div",{className:"font-mono text-lg bg-gray-100 text-gray-800 px-4 py-2 rounded-lg border flex-1 select-all",children:ge}),v.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(ge)},children:[v.jsx(tC,{className:"w-4 h-4"}),"Copy Code"]}),v.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(Ie)},children:[v.jsx(wM,{className:"w-4 h-4"}),"Copy Invite Link"]}),v.jsxs("button",{className:"bg-cyan-700 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-800 transition flex items-center gap-2",onClick:()=>Ae(!0),children:[v.jsx(mf,{className:"w-4 h-4"}),"Show QR"]})]}),he&&v.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:v.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg flex flex-col items-center",children:[v.jsx(yC,{value:Ie,size:200}),v.jsxs("div",{className:"mt-2 text-xs",children:["Scan to join: ",v.jsx("br",{}),Ie]}),v.jsxs("button",{className:"mt-4 bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>Ae(!1),children:[v.jsx(mf,{className:"w-4 h-4"}),"Close"]})]})})]})]})}),v.jsx(fk,{open:_e,onClose:()=>ze(!1),event:a,onUpdated:()=>{ze(!1)}})]})}function gk(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[i,a]=U.useState(!1),[s,u]=U.useState(""),[c,h]=U.useState(!1),{loading:p}=en(),m=Jn(),y=async _=>{_.preventDefault(),u(""),h(!0);try{const E=await AA(Xt,n,t);await E.user.reload(),E.user.emailVerified||m("/verify-email")}catch(E){E.code==="auth/invalid-credential"?u("Account not found. Please sign up before logging in."):E.code==="auth/user-not-found"||E.code==="auth/wrong-password"?u("Invalid email or password."):u("Login failed. Please try again.")}finally{h(!1)}};return p?v.jsx("div",{children:"Loading..."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"w-full flex flex-row justify-between items-center mb-6 px-2",children:[v.jsx("button",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none",type:"button","aria-label":"Back to welcome",onClick:()=>m("/welcome"),children:v.jsx(G0,{size:20})}),v.jsx(dt,{to:"/help",className:"text-xs text-cyan-700 hover:underline font-semibold",children:"Need Help?"})]}),v.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Welcome Back"}),v.jsxs("form",{onSubmit:y,className:"w-full flex flex-col items-center",children:[v.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:_=>e(_.target.value),className:"w-full mb-6 px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",autoComplete:"email",required:!0}),v.jsxs("div",{className:"relative w-full mb-6",children:[v.jsx("input",{type:i?"text":"password",placeholder:"Password",value:t,onChange:_=>r(_.target.value),className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition pr-12",autoComplete:"current-password",required:!0}),v.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-700 hover:text-cyan-900",tabIndex:-1,onClick:()=>a(_=>!_),"aria-label":i?"Hide password":"Show password",children:i?v.jsx(nC,{size:22}):v.jsx(rC,{size:22})})]}),s&&v.jsx("div",{className:"text-red-500 mb-4 text-sm w-full text-center",children:s}),v.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-800 text-white font-bold px-6 py-3 rounded-full shadow transition mb-4",disabled:c,children:c?"Signing in...":"Sign In"}),v.jsxs("div",{className:"w-full flex flex-col gap-2 mt-2 text-center",children:[v.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",v.jsx(dt,{to:"/signup",className:"text-cyan-700 font-semibold hover:underline",children:"Let's Get Started"})]}),v.jsx("span",{className:"text-sm",children:v.jsx(dt,{to:"/forgot-password",className:"text-cyan-700 hover:underline",children:"Forgot password?"})})]})]})]})}function vk(){return v.jsx(ri,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:v.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:v.jsx(gk,{})})})}const yk="modulepreload",xk=function(n){return"/"+n},RE={},_k=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=s(t.map(h=>{if(h=xk(h),h in RE)return;RE[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":yk,p||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((_,E)=>{y.addEventListener("load",_),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function wk(){const[n,e]=U.useState(""),[t,r]=U.useState(""),[i,a]=U.useState(""),[s,u]=U.useState(""),[c,h]=U.useState(!1),[p,m]=U.useState(""),[y,_]=U.useState(!1),{user:E,loading:A,error:S}=en(),C=Jn(),N=async D=>{D.preventDefault(),m(""),_(!0);try{const B=await bA(Xt,i,s);if(B.user)try{await _k(()=>Promise.resolve().then(()=>ZO),[]).then(F=>F.sendEmailVerification(B.user))}catch(F){console.error("Failed to send verification email:",F)}C("/verify-email")}catch(B){m(B.message),console.error("Signup error:",B)}finally{_(!1)}};return A?v.jsx("div",{children:"Loading..."}):v.jsxs("div",{className:"w-full max-w-md flex flex-col items-center relative",children:[v.jsx("button",{className:"absolute left-4 top-4 w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none z-10",type:"button","aria-label":"Back to welcome",onClick:()=>C("/welcome"),style:{left:0,top:0,position:"absolute"},children:v.jsx(G0,{size:20})}),v.jsx(dt,{to:"/help",className:"absolute right-4 top-4 text-xs text-cyan-700 hover:underline font-semibold",style:{right:0,top:0,position:"absolute"},children:"Need Help?"}),v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-20 h-20 mx-auto mb-4 mt-8",style:{objectFit:"contain"}}),v.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Let's Get Started"}),v.jsxs("form",{onSubmit:N,className:"w-full flex flex-col items-center",children:[v.jsxs("div",{className:"flex flex-row gap-4 w-full mb-6 min-w-0",children:[v.jsx("input",{type:"text",placeholder:"First Name",value:n,onChange:D=>e(D.target.value),className:"flex-1 min-w-0 box-border px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",autoComplete:"given-name",required:!0}),v.jsx("input",{type:"text",placeholder:"Last Name",value:t,onChange:D=>r(D.target.value),className:"flex-1 min-w-0 box-border px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",autoComplete:"family-name",required:!0})]}),v.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:D=>a(D.target.value),className:"w-full mb-6 px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",autoComplete:"email",required:!0}),v.jsxs("div",{className:"relative w-full mb-6",children:[v.jsx("input",{type:c?"text":"password",placeholder:"Create Password",value:s,onChange:D=>u(D.target.value),className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition pr-12",autoComplete:"new-password",required:!0}),v.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-700 hover:text-cyan-900",tabIndex:-1,onClick:()=>h(D=>!D),"aria-label":c?"Hide password":"Show password",children:c?v.jsx(nC,{size:22}):v.jsx(rC,{size:22})})]}),p&&v.jsx("div",{className:"text-red-500 mb-4 text-sm",children:p}),S&&v.jsx("div",{className:"text-red-500 mb-4 text-sm",children:S.message}),v.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-800 text-white font-bold py-3 rounded-full shadow transition mb-4",disabled:y,children:y?"Signing up...":"Sign Up"}),v.jsxs("div",{className:"text-xs text-gray-500 text-center mb-2",children:["By signing up for Woo-Combine, you agree to our"," ",v.jsx(dt,{to:"/terms",className:"underline hover:text-cyan-700",children:"Terms & Conditions"})," and"," ",v.jsx(dt,{to:"/privacy",className:"underline hover:text-cyan-700",children:"Privacy Policy"}),"."]})]})]})}function Ek(){return v.jsx(ri,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:v.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:v.jsx(wk,{})})})}function fi({children:n}){const{user:e,loading:t,roleChecking:r,userRole:i}=en(),a=Yi();return t||r?v.jsx(z0,{title:"Verifying access...",subtitle:"Checking your authentication",size:"large"}):e?e.emailVerified?e.emailVerified&&!i&&a.pathname!=="/select-role"?v.jsx(xd,{to:"/select-role",replace:!0}):n:v.jsx(xd,{to:"/verify-email",replace:!0}):v.jsx(xd,{to:"/welcome",replace:!0})}function bk({onCreated:n}){const{user:e,addLeague:t}=en(),r=Jn(),[i,a]=U.useState(""),[s,u]=U.useState(!1),[c,h]=U.useState(""),p=async m=>{m.preventDefault(),u(!0),h("");try{const{data:y}=await Ft.post("/leagues",{name:i,user_id:e==null?void 0:e.uid,email:e==null?void 0:e.email});t&&t({id:y.league_id,name:i,role:"organizer"}),n&&n(y.league_id),r("/onboarding/event")}catch(y){h(y.message||"Error creating league")}finally{u(!1)}};return v.jsxs("div",{className:"w-full max-w-md text-center",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),v.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Create a New League"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Create your league and then set up your first combine event."}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",placeholder:"League Name",value:i,onChange:m=>a(m.target.value),required:!0}),v.jsx("button",{type:"submit",className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",disabled:s,children:s?"Creating...":"Create League & Continue"}),c&&v.jsx("div",{className:"text-red-500 text-sm mt-2",children:c})]})]})}function Ak(){return v.jsx(ri,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:v.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:v.jsx(bk,{})})})}function Sk(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function Tk(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var Ck=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ik=function(n){Ck(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),Sk(a,i.prototype),Tk(a),a}return e}(Error),Nk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nr=function(n){Nk(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(Ik),Rk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),on=function(n){Rk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Nr),Ok=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Re=function(n){Ok(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Nr),xC=function(){function n(e){if(this.binarizer=e,e===null)throw new Re("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),Dk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mn=function(n){Dk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Nr),Pk=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),Dt=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),Mk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zv=function(n){Mk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Nr),kk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OE=function(n){kk(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(zv),Lk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Tn=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Re("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new OE(t);if(r>e)throw new OE(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=Lk(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=31*i+u}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return Dt.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,u=r(t,e[s]);if(u>0)i=s+1;else if(u<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),Qe=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Un=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);Dt.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var u=i*32+Qe.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Re;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var u=s>r?0:e&31,c=s<i?31:t&31,h=(2<<c)-(1<<u);a[s]|=h}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Re;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,u=i;u<=a;u++){var c=u>i?0:e&31,h=u<a?31:t&31,p=(2<<h)-(1<<c)&4294967295;if((s[u]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Re("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Re("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,u=0;u<8;u++)this.get(e)&&(s|=1<<7-u),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var u=r*32-this.size,c=e[0]>>>u,a=1;a<r;a++){var h=e[a];c|=h<<32-u,e[a-1]=c,c=h>>>u}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&Tn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+Tn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),xg;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(xg||(xg={}));const Pt=xg;var jk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ye=function(n){jk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Nr),Bk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bt;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(bt||(bt={}));var An=function(){function n(e,t,r){for(var i,a,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,h=0,p=c.length;h!==p;h++){var m=c[h];n.VALUES_TO_ECI.set(m,this)}try{for(var y=Bk(s),_=y.next();!_.done;_=y.next()){var E=_.value;n.NAME_TO_ECI.set(E,this)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ye("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new ye("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new ye("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(bt.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(bt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(bt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(bt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(bt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(bt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(bt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(bt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(bt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(bt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(bt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(bt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(bt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(bt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(bt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(bt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(bt.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(bt.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(bt.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(bt.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(bt.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(bt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(bt.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(bt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(bt.Big5,28,"Big5"),n.GB18030=new n(bt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(bt.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),Vk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Md=function(n){Vk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Nr),ti=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof An?e:An.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(An.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Md("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(An.UTF8)||e.equals(An.ISO8859_1)||e.equals(An.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),lt=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return ti.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Pt.CHARACTER_SET)!==void 0)return t.get(Pt.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,u=0,c=0,h=0,p=0,m=0,y=0,_=0,E=0,A=0,S=0,C=0,N=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,D=0;D<r&&(i||a||s);D++){var B=e[D]&255;s&&(u>0?(B&128)===0?s=!1:u--:(B&128)!==0&&((B&64)===0?s=!1:(u++,(B&32)===0?c++:(u++,(B&16)===0?h++:(u++,(B&8)===0?p++:s=!1))))),i&&(B>127&&B<160?i=!1:B>159&&(B<192||B===215||B===247)&&C++),a&&(m>0?B<64||B===127||B>252?a=!1:m--:B===128||B===160||B>239?a=!1:B>160&&B<224?(y++,E=0,_++,_>A&&(A=_)):B>127?(m++,_=0,E++,E>S&&(S=E)):(_=0,E=0))}return s&&u>0&&(s=!1),a&&m>0&&(a=!1),s&&(N||c+h+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||A>=3||S>=3)?n.SHIFT_JIS:i&&a?A===2&&y===2||C*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(u,c,h,p,m,y){if(u==="%%")return"%";if(t[++i]!==void 0){u=p?parseInt(p.substr(1)):void 0;var _=m?parseInt(m.substr(1)):void 0,E;switch(y){case"s":E=t[i];break;case"c":E=t[i][0];break;case"f":E=parseFloat(t[i]).toFixed(u);break;case"p":E=parseFloat(t[i]).toPrecision(u);break;case"e":E=parseFloat(t[i]).toExponential(u);break;case"x":E=parseInt(t[i]).toString(_||16);break;case"d":E=parseFloat(parseInt(t[i],_||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var A=parseInt(h),S=h&&h[0]+""=="0"?"0":" ";E.length<A;)E=c!==void 0?E+S:S+E;return E}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return ti.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=An.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=An.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=An.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),$e=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=lt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),$i=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Re("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],u=0;u<r;u++)s[u]&&i.set(u,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Re("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,u=-1,c=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new Re("row lengths do not match");s=a,c++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[a]=!1,a++;else throw new Re("illegal character encountered: "+e.substring(h));if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new Re("row lengths do not match");c++}for(var p=new n(u,c),m=0;m<a;m++)i[m]&&p.set(Math.floor(m%u),Math.floor(m/u));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Re("input matrix dimensions do not match");for(var t=new Un(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var u=a*r,c=e.getRow(a,t).getBitArray(),h=0;h<r;h++)i[u+h]^=c[h]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Re("Left and top must be nonnegative");if(i<1||r<1)throw new Re("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new Re("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,h=t;h<s;h++)for(var p=h*u,m=e;m<a;m++)c[p+Math.floor(m/32)]|=1<<(m&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Un(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){Dt.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Un(e),i=new Un(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,u=-1,c=-1,h=0;h<t;h++)for(var p=0;p<r;p++){var m=i[h*r+p];if(m!==0){if(h<s&&(s=h),h>c&&(c=h),p*32<a){for(var y=0;(m<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>u){for(var y=31;!(m>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<a||c<s?null:Int32Array.from([a,s,u-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],u=0;(s<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],u=31;!(s>>>u);)u--;return a+=u,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Tn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Tn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new $e,a=0,s=this.height;a<s;a++){for(var u=0,c=this.width;u<c;u++)i.append(this.get(u,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),Uk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ae=function(n){Uk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Nr),Fk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Hk=function(n){Fk(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Un(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),u=this.buckets,c=0;c<a;c++)u[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<h&&r.set(c);else for(var p=s[0]&255,m=s[1]&255,c=1;c<a-1;c++){var y=s[c+1]&255;(m*4-p-y)/2<h&&r.set(c),p=m,m=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new $i(r,i);this.initArrays(r);for(var s=this.buckets,u=1;u<5;u++)for(var c=Math.floor(i*u/5),h=t.getRow(c,this.luminances),p=Math.floor(r*4/5),m=Math.floor(r/5);m<p;m++){var y=h[m]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(s),E=t.getMatrix(),u=0;u<i;u++)for(var A=u*r,m=0;m<r;m++){var y=E[A+m]&255;y<_&&a.set(m,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,u=0;u<r;u++)t[u]>s&&(a=u,s=t[u]),t[u]>i&&(i=t[u]);for(var c=0,h=0,u=0;u<r;u++){var p=u-a,m=t[u]*p*p;m>h&&(c=u,h=m)}if(a>c){var y=a;a=c,c=y}if(c-a<=r/16)throw new ae;for(var _=c-1,E=-1,u=c-1;u>a;u--){var A=u-a,m=A*A*(c-u)*(i-t[u]);m>E&&(_=u,E=m)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Pk),zk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_C=function(n){zk(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var c=e.calculateBlackPoints(a,s,u,r,i),h=new $i(r,i);e.calculateThresholdForBlock(a,s,u,r,i,c,h),this.matrix=h}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,u,c){for(var h=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,m=0;m<i;m++){var y=m<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var _=e.cap(m,2,i-3),E=0;E<r;E++){var A=E<<e.BLOCK_SIZE_POWER;A>p&&(A=p);for(var S=e.cap(E,2,r-3),C=0,N=-2;N<=2;N++){var D=u[_+N];C+=D[S-2]+D[S-1]+D[S]+D[S+1]+D[S+2]}var B=C/25;e.thresholdBlock(t,A,y,B,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,u){for(var c=0,h=i*s+r;c<e.BLOCK_SIZE;c++,h+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&u.set(r+p,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var u=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(r);var m=p<<e.BLOCK_SIZE_POWER;m>u&&(m=u);for(var y=0;y<r;y++){var _=y<<e.BLOCK_SIZE_POWER;_>c&&(_=c);for(var E=0,A=255,S=0,C=0,N=m*a+_;C<e.BLOCK_SIZE;C++,N+=a){for(var D=0;D<e.BLOCK_SIZE;D++){var B=t[N+D]&255;E+=B,B<A&&(A=B),B>S&&(S=B)}if(S-A>e.MIN_DYNAMIC_RANGE)for(C++,N+=a;C<e.BLOCK_SIZE;C++,N+=a)for(var D=0;D<e.BLOCK_SIZE;D++)E+=t[N+D]&255}var F=E>>e.BLOCK_SIZE_POWER*2;if(S-A<=e.MIN_DYNAMIC_RANGE&&(F=A/2,p>0&&y>0)){var W=(h[p-1][y]+2*h[p][y-1]+h[p-1][y-1])/4;A<W&&(F=W)}h[p][y]=F}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Hk),Mf=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Md("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Md("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Md("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new $e,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,u=void 0;s<64?u="#":s<128?u="+":s<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},n}(),Gk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),q0=function(n){Gk(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Mf),qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xk=function(n){qk(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,c=0,h=t.length;u<h;u+=4,c++){var p=void 0,m=t[u+3];if(m===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=p}else for(var u=0,c=0,A=t.length;u<A;u+=4,c++){var p=void 0,m=t[u+3];if(m===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*u);return r.width=c,r.height=h,i.translate(c/2,h/2),i.rotate(a),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new q0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Mf),Wk=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),pr=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(m){s(m)}}function c(p){try{h(r.throw(p))}catch(m){s(m)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},mr=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},$k=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gu=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return pr(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,m,y;return mr(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=$k(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){m={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(m)throw m.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return pr(this,void 0,void 0,function(){var e;return mr(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new Wk(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return pr(this,void 0,void 0,function(){var t;return mr(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return pr(this,void 0,void 0,function(){return mr(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return pr(this,void 0,void 0,function(){var r,i;return mr(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return pr(this,void 0,void 0,function(){var r;return mr(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return pr(this,void 0,void 0,function(){var r,i;return mr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return pr(this,void 0,void 0,function(){return mr(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return pr(this,void 0,void 0,function(){var i,a;return mr(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return pr(this,void 0,void 0,function(){var i;return mr(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return pr(this,void 0,void 0,function(){var i;return mr(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return pr(this,void 0,void 0,function(){var r;return mr(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return pr(this,void 0,void 0,function(){return mr(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new on("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new on("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new on("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new on("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new on("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new on("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new on("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new on("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new on("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new on("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return pr(this,void 0,void 0,function(){return mr(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return pr(this,void 0,void 0,function(){return mr(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,u){if(i._stopAsyncDecode){u(new ae("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(y){var h=t&&y instanceof ae,p=y instanceof mn||y instanceof ye,m=p&&r;if(h||m)return setTimeout(a,i._timeBetweenDecodingAttempts,s,u);u(y)}};return new Promise(function(s,u){return a(s,u)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof mn||c instanceof ye,u=c instanceof ae;(s||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new Xk(r,t),a=new _C(i);return new xC(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),lr=function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=Dt.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=Dt.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);Dt.arraycopy(t,0,r,0,t.length),Dt.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),_g;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_g||(_g={}));const Ne=_g;var wg;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(wg||(wg={}));const Qn=wg;var X0=function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Uc=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Re;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),No=function(){function n(e,t){if(t.length===0)throw new Re;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=Uc.addOrSubtract(r,s)}return r}r=t[0];for(var u=t.length,c=this.field,i=1;i<u;i++)r=Uc.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Re("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=Uc.addOrSubtract(t[u-s],r[u]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Re("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=this.field,c=0;c<r;c++)for(var h=t[c],p=0;p<a;p++)s[c+p]=Uc.addOrSubtract(s[c+p],u.multiply(h,i[p]));return new n(u,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Re;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,u=0;u<i;u++)a[u]=s.multiply(r[u],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Re("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Re("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),h=e.multiplyByMonomial(u,c),p=t.buildMonomial(u,c);r=r.addOrSubtract(p),i=i.addOrSubtract(h)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),Yk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wC=function(n){Yk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Nr),Kk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sr=function(n){Kk(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),u=1,c=0;c<r;c++)s[c]=u,u*=2,u>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),c=0;c<r-1;c++)h[s[c]]=c;return a.logTable=h,a.zero=new No(a,Int32Array.from([0])),a.one=new No(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Re;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new No(this,i)},e.prototype.inverse=function(t){if(t===0)throw new wC;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Qe.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Uc),Qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dd=function(n){Qk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Nr),Zk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kf=function(n){Zk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Nr),W0=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new No(r,e),a=new Int32Array(t),s=!0,u=0;u<t;u++){var c=i.evaluateAt(r.exp(u+r.getGeneratorBase()));a[a.length-1-u]=c,c!==0&&(s=!1)}if(!s)for(var h=new No(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),h,t),m=p[0],y=p[1],_=this.findErrorLocations(m),E=this.findErrorMagnitudes(y,_),u=0;u<_.length;u++){var A=e.length-1-r.log(_[u]);if(A<0)throw new dd("Bad error location");e[A]=Sr.addOrSubtract(e[A],E[u])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,u=t,c=a.getZero(),h=a.getOne();u.getDegree()>=(r/2|0);){var p=s,m=c;if(s=u,c=h,s.isZero())throw new dd("r_{i-1} was zero");u=p;for(var y=a.getZero(),_=s.getCoefficient(s.getDegree()),E=a.inverse(_);u.getDegree()>=s.getDegree()&&!u.isZero();){var A=u.getDegree()-s.getDegree(),S=a.multiply(u.getCoefficient(u.getDegree()),E);y=y.addOrSubtract(a.buildMonomial(A,S)),u=u.addOrSubtract(s.multiplyByMonomial(A,S))}if(h=y.multiply(c).addOrSubtract(m),u.getDegree()>=s.getDegree())throw new kf("Division algorithm failed to reduce polynomial?")}var C=h.getCoefficient(0);if(C===0)throw new dd("sigmaTilde(0) was zero");var N=a.inverse(C),D=h.multiplyScalar(N),B=u.multiplyScalar(N);return[D,B]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new dd("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var u=a.inverse(t[s]),c=1,h=0;h<r;h++)if(s!==h){var p=a.multiply(t[h],u),m=(p&1)===0?p|1:p&-2;c=a.multiply(c,m)}i[s]=a.multiply(e.evaluateAt(u),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],u))}return i},n}(),Wn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Wn||(Wn={}));var DE=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),u=new X0(a,s,null,null);return u.setNumBits(i.length),u},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Wn.UPPER,i=Wn.UPPER,a="",s=0;s<t;)if(i===Wn.BINARY){if(t-s<5)break;var u=n.readCode(e,s,5);if(s+=5,u===0){if(t-s<11)break;u=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<u;c++){if(t-s<8){s=t;break}var h=n.readCode(e,s,8);a+=lt.castAsNonUtf8Char(h),s+=8}i=r}else{var p=i===Wn.DIGIT?4:5;if(t-s<p)break;var h=n.readCode(e,s,p);s+=p;var m=n.getCharacter(i,h);m.startsWith("CTRL_")?(r=i,i=n.getTable(m.charAt(5)),m.charAt(6)==="L"&&(r=i)):(a+=m,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Wn.LOWER;case"P":return Wn.PUNCT;case"M":return Wn.MIXED;case"D":return Wn.DIGIT;case"B":return Wn.BINARY;case"U":default:return Wn.UPPER}},n.getCharacter=function(e,t){switch(e){case Wn.UPPER:return n.UPPER_TABLE[t];case Wn.LOWER:return n.LOWER_TABLE[t];case Wn.MIXED:return n.MIXED_TABLE[t];case Wn.PUNCT:return n.PUNCT_TABLE[t];case Wn.DIGIT:return n.DIGIT_TABLE[t];default:throw new kf("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=Sr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=Sr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=Sr.AZTEC_DATA_10):(r=12,t=Sr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new ye;for(var s=e.length%r,u=new Int32Array(a),c=0;c<a;c++,s+=r)u[c]=n.readCode(e,s,r);try{var h=new W0(t);h.decode(u,a-i)}catch(S){throw new ye(S)}for(var p=(1<<r)-1,m=0,c=0;c<i;c++){var y=u[c];if(y===0||y===p)throw new ye;(y===1||y===p-1)&&m++}for(var _=new Array(i*r-m),E=0,c=0;c<i;c++){var y=u[c];if(y===1||y===p-1)_.fill(y>1,E,E+r-1),E+=r-1;else for(var A=r-1;A>=0;--A)_[E++]=(y&1<<A)!==0}return _},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var c=i+1+2*Qe.truncDivision(Qe.truncDivision(i,2)-1,15),h=i/2,p=Qe.truncDivision(c,2),u=0;u<h;u++){var m=u+Qe.truncDivision(u,15);a[h-u-1]=p-m-1,a[h+u]=p+m+1}for(var u=0,y=0;u<r;u++){for(var _=(r-u)*4+(t?9:12),E=u*2,A=i-1-E,S=0;S<_;S++)for(var C=S*2,N=0;N<2;N++)s[y+C+N]=e.get(a[E+N],a[E+S]),s[y+2*_+C+N]=e.get(a[E+S],a[A-N]),s[y+4*_+C+N]=e.get(a[A-N],a[A-S]),s[y+6*_+C+N]=e.get(a[A-S],a[E+N]);y+=_*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),ht=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),Eg=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),be=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*Eg.floatToIntBits(this.x)+Eg.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,u;if(r>=t&&r>=i?(s=e[0],a=e[1],u=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],u=e[2]):(s=e[2],a=e[0],u=e[1]),this.crossProductZ(a,s,u)<0){var c=a;a=u,u=c}e[0]=a,e[1]=s,e[2]=u},n.distance=function(e,t){return ht.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),Gv=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Jk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eL=function(n){Jk(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=s,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Gv),bg=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ae}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,u=!1,c=!1,h=!1,p=!1,m=!1,y=this.width,_=this.height;s;){s=!1;for(var E=!0;(E||!c)&&t<y;)E=this.containsBlackPoint(r,i,t,!1),E?(t++,s=!0,c=!0):c||t++;if(t>=y){a=!0;break}for(var A=!0;(A||!h)&&i<_;)A=this.containsBlackPoint(e,t,i,!0),A?(i++,s=!0,h=!0):h||i++;if(i>=_){a=!0;break}for(var S=!0;(S||!p)&&e>=0;)S=this.containsBlackPoint(r,i,e,!1),S?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var C=!0;(C||!m)&&r>=0;)C=this.containsBlackPoint(e,t,r,!0),C?(r--,s=!0,m=!0):m||r--;if(r<0){a=!0;break}s&&(u=!0)}if(!a&&u){for(var N=t-e,D=null,B=1;D===null&&B<N;B++)D=this.getBlackPointOnSegment(e,i-B,e+B,i);if(D==null)throw new ae;for(var F=null,B=1;F===null&&B<N;B++)F=this.getBlackPointOnSegment(e,r+B,e+B,r);if(F==null)throw new ae;for(var W=null,B=1;W===null&&B<N;B++)W=this.getBlackPointOnSegment(t,r+B,t-B,r);if(W==null)throw new ae;for(var M=null,B=1;M===null&&B<N;B++)M=this.getBlackPointOnSegment(t,i-B,t-B,i);if(M==null)throw new ae;return this.centerEdges(M,D,W,F)}else throw new ae},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=ht.round(ht.distance(e,t,r,i)),s=(r-e)/a,u=(i-t)/a,c=this.image,h=0;h<a;h++){var p=ht.round(e+h*s),m=ht.round(t+h*u);if(c.get(p,m))return new be(p,m)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),u=t.getX(),c=t.getY(),h=r.getX(),p=r.getY(),m=i.getX(),y=i.getY(),_=n.CORR;return a<this.width/2?[new be(m-_,y+_),new be(u+_,c+_),new be(h-_,p-_),new be(a+_,s-_)]:[new be(m+_,y+_),new be(u+_,c-_),new be(h-_,p+_),new be(a-_,s-_)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var u=e;u<=t;u++)if(a.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),PE=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ae;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ae;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n}(),EC=function(){function n(e,t,r,i,a,s,u,c,h){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=u,this.a23=c,this.a33=h}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,u,c,h,p,m,y,_,E,A,S){var C=n.quadrilateralToSquare(e,t,r,i,a,s,u,c),N=n.squareToQuadrilateral(h,p,m,y,_,E,A,S);return N.times(C)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,m=this.a33,y=0;y<t;y+=2){var _=e[y],E=e[y+1],A=a*_+c*E+m;e[y]=(r*_+s*E+h)/A,e[y+1]=(i*_+u*E+p)/A}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,m=this.a33,y=e.length,_=0;_<y;_++){var E=e[_],A=t[_],S=a*E+c*A+m;e[_]=(r*E+s*A+h)/S,t[_]=(i*E+u*A+p)/S}},n.squareToQuadrilateral=function(e,t,r,i,a,s,u,c){var h=e-r+a-u,p=t-i+s-c;if(h===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var m=r-a,y=u-a,_=i-s,E=c-s,A=m*E-y*_,S=(h*E-y*p)/A,C=(m*p-h*_)/A;return new n(r-e+S*r,u-e+C*u,e,i-t+S*i,c-t+C*c,t,S,C,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,u,c){return n.squareToQuadrilateral(e,t,r,i,a,s,u,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),tL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),nL=function(n){tL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,u,c,h,p,m,y,_,E,A,S,C,N,D,B){var F=EC.quadrilateralToQuadrilateral(a,s,u,c,h,p,m,y,_,E,A,S,C,N,D,B);return this.sampleGridWithTransform(t,r,i,F)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ae;for(var s=new $i(r,i),u=new Float32Array(2*r),c=0;c<i;c++){for(var h=u.length,p=c+.5,m=0;m<h;m+=2)u[m]=m/2+.5,u[m+1]=p;a.transformPoints(u),PE.checkAndNudgePoints(t,u);try{for(var m=0;m<h;m+=2)t.get(Math.floor(u[m]),Math.floor(u[m+1]))&&s.set(m/2,c)}catch{throw new ae}}return s},e}(PE),qv=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new nL,n}(),br=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new be(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),rL=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new eL(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ae;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,u){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Qe.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ae},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{var c=new W0(Sr.AZTEC_PARAM);c.decode(s,a)}catch{throw new ae}for(var h=0,u=0;u<i;u++)h=(h<<4)+s[u];return h},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),h=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var m=this.distancePoint(p,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(m<.75||m>1.25||!this.isWhiteOrBlackRectangle(u,c,h,p))break}t=u,r=c,i=h,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ae;this.compact=this.nbCenterLayers===5;var y=new be(t.getX()+.5,t.getY()-.5),_=new be(r.getX()+.5,r.getY()+.5),E=new be(i.getX()-.5,i.getY()+.5),A=new be(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,_,E,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new bg(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new br(s+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new br(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new br(s-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new br(s-7,u-7),!1,-1,-1).toResultPoint()}var c=ht.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ht.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new bg(this.image,15,c,h).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new br(c+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new br(c+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new br(c-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new br(c-7,h-7),!1,-1,-1).toResultPoint()}return c=ht.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ht.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new br(c,h)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=qv.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return s.sampleGrid(e,u,u,c,c,h,c,h,h,c,h,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,u=e.getX(),c=e.getY(),h=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,m=0;m<r;m++)this.image.get(ht.round(u+m*h),ht.round(c+m*p))&&(i|=1<<r-m-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new br(e.getX()-a,e.getY()+a),t=new br(t.getX()-a,t.getY()-a),r=new br(r.getX()+a,r.getY()-a),i=new br(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var u=this.getColor(e,t);return u!==s||(u=this.getColor(t,r),u!==s)?!1:(u=this.getColor(r,i),u===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,u=e.getX(),c=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),m=0;m<p;m++)u+=i,c+=a,this.image.get(ht.round(u),ht.round(c))!==h&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===h?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new br(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,h=new be(u+i*a,c+i*s),p=new be(u-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var m=new be(u+i*a,c+i*s),y=new be(u-i*a,c-i*s),_=[h,m,p,y];return _},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=ht.round(e.getX()),r=ht.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return ht.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return ht.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Qe.truncDivision(this.nbLayers-4,8)+1)+15},n}(),a0=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new rL(e.getBlackMatrix()),a=null,s=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new DE().decode(u)}catch(m){r=m}if(s==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new DE().decode(u)}catch(m){throw r??m}var c=new lr(s.getText(),s.getRawBytes(),s.getNumBits(),a,Ne.AZTEC,Dt.currentTimeMillis()),h=s.getByteSegments();h!=null&&c.putMetadata(Qn.BYTE_SEGMENTS,h);var p=s.getECLevel();return p!=null&&c.putMetadata(Qn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Pt.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),iL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){iL(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new a0,t)||this}return e})(gu);var Cn=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Pt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),u=270;s!==null&&s.get(Qn.ORIENTATION)===!0&&(u=u+s.get(Qn.ORIENTATION)%360),a.putMetadata(Qn.ORIENTATION,u);var c=a.getResultPoints();if(c!==null)for(var h=i.getHeight(),p=0;p<c.length;p++)c[p]=new be(h-c[p].getY()-1,c[p].getX());return a}else throw new ae}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Un(r),s=t&&t.get(Pt.TRY_HARDER)===!0,u=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var h=Math.trunc(i/2),p=0;p<c;p++){var m=Math.trunc((p+1)/2),y=(p&1)===0,_=h+u*(y?m:-m);if(_<0||_>=i)break;try{a=e.getBlackRow(_,a)}catch{continue}for(var E=function(N){if(N===1&&(a.reverse(),t&&t.get(Pt.NEED_RESULT_POINT_CALLBACK)===!0)){var D=new Map;t.forEach(function(W,M){return D.set(M,W)}),D.delete(Pt.NEED_RESULT_POINT_CALLBACK),t=D}try{var B=A.decodeRow(_,a,t);if(N===1){B.putMetadata(Qn.ORIENTATION,180);var F=B.getResultPoints();F!==null&&(F[0]=new be(r-F[0].getX()-1,F[0].getY()),F[1]=new be(r-F[1].getX()-1,F[1].getY()))}return{value:B}}catch{}},A=this,S=0;S<2;S++){var C=E(S);if(typeof C=="object")return C.value}}throw new ae},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ae;for(var u=!e.get(t),c=0,h=t;h<s;){if(e.get(h)!==u)r[c]++;else{if(++c===i)break;r[c]=1,u=!u}h++}if(!(c===i||c===i-1&&h===s))throw new ae},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ae;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var m=e[p],y=t[p]*c,_=m>y?m-y:y-m;if(_>r)return Number.POSITIVE_INFINITY;h+=_}return h/a},n}(),aL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ME=function(n){aL(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1,h=6,p=i;p<r;p++)if(t.get(p)!==c)s[a]++;else{if(a===h-1){for(var m=e.MAX_AVG_VARIANCE,y=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var E=Cn.patternMatchVariance(s,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);E<m&&(m=E,y=_)}if(y>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,y]);u+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new ae},e.decodeCode=function(t,r,i){Cn.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=u)}if(s>=0)return s;throw new ae},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Pt.ASSUME_GS1)===!0,s=e.findStartPattern(r),u=s[2],c=0,h=new Uint8Array(20);h[c++]=u;var p;switch(u){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new ye}for(var m=!1,y=!1,_="",E=s[0],A=s[1],S=Int32Array.from([0,0,0,0,0,0]),C=0,N=0,D=u,B=0,F=!0,W=!1,M=!1;!m;){var R=y;switch(y=!1,C=N,N=e.decodeCode(r,S,A),h[c++]=N,N!==e.CODE_STOP&&(F=!0),N!==e.CODE_STOP&&(B++,D+=B*N),E=A,A+=S.reduce(function(ne,pe){return ne+pe},0),N){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ye}switch(p){case e.CODE_CODE_A:if(N<64)M===W?_+=String.fromCharCode(32+N):_+=String.fromCharCode(32+N+128),M=!1;else if(N<96)M===W?_+=String.fromCharCode(N-64):_+=String.fromCharCode(N+64),M=!1;else switch(N!==e.CODE_STOP&&(F=!1),N){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!W&&M?(W=!0,M=!1):W&&M?(W=!1,M=!1):M=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_B:if(N<96)M===W?_+=String.fromCharCode(32+N):_+=String.fromCharCode(32+N+128),M=!1;else switch(N!==e.CODE_STOP&&(F=!1),N){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!W&&M?(W=!0,M=!1):W&&M?(W=!1,M=!1):M=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:m=!0;break}break;case e.CODE_CODE_C:if(N<100)N<10&&(_+="0"),_+=N;else switch(N!==e.CODE_STOP&&(F=!1),N){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:m=!0;break}break}R&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var P=A-E;if(A=r.getNextUnset(A),!r.isRange(A,Math.min(r.getSize(),A+(A-E)/2),!1))throw new ae;if(D-=B*C,D%103!==C)throw new mn;var L=_.length;if(L===0)throw new ae;L>0&&F&&(p===e.CODE_CODE_C?_=_.substring(0,L-2):_=_.substring(0,L-1));for(var z=(s[1]+s[0])/2,H=E+P/2,V=h.length,ke=new Uint8Array(V),Le=0;Le<V;Le++)ke[Le]=h[Le];var te=[new be(z,t),new be(H,t)];return new lr(_,ke,0,te,Ne.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Cn),oL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Om=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kE=function(n){oL(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,h),m=r.getNextSet(p[1]),y=r.getSize(),_,E;do{e.recordPattern(r,m,h);var A=e.toNarrowWidePattern(h);if(A<0)throw new ae;_=e.patternToChar(A),this.decodeRowResult+=_,E=m;try{for(var S=(a=void 0,Om(h)),C=S.next();!C.done;C=S.next()){var N=C.value;m+=N}}catch(V){a={error:V}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}m=r.getNextSet(m)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var B=Om(h),F=B.next();!F.done;F=B.next()){var N=F.value;D+=N}}catch(V){u={error:V}}finally{try{F&&!F.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}var W=m-E-D;if(m!==y&&W*2<D)throw new ae;if(this.usingCheckDigit){for(var M=this.decodeRowResult.length-1,R=0,P=0;P<M;P++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(M)!==e.ALPHABET_STRING.charAt(R%43))throw new mn;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new ae;var L;this.extendedMode?L=e.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;var z=(p[1]+p[0])/2,H=E+D/2;return new lr(L,null,0,[new be(z,t),new be(H,t)],Ne.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,u=a,c=!1,h=r.length,p=a;p<i;p++)if(t.get(p)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new ae},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,u;do{var c=2147483647;try{for(var h=(r=void 0,Om(t)),p=h.next();!p.done;p=h.next()){var m=p.value;m<c&&m>s&&(c=m)}}catch(A){r={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=c,u=0;for(var y=0,_=0,E=0;E<a;E++){var m=t[E];m>s&&(_|=1<<a-1-E,u++,y+=m)}if(u===3){for(var E=0;E<a&&u>0;E++){var m=t[E];if(m>s&&(u--,m*2>=y))return-1}return _}}while(u>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ae},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var u=t.charAt(a+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ye;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ye;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new ye;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ye;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Cn),sL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dm=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LE=function(n){sL(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.findAsteriskPattern(r),p=r.getNextSet(h[1]),m=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var _,E;do{e.recordPattern(r,p,y);var A=this.toPattern(y);if(A<0)throw new ae;_=this.patternToChar(A),this.decodeRowResult+=_,E=p;try{for(var S=(a=void 0,Dm(y)),C=S.next();!C.done;C=S.next()){var N=C.value;p+=N}}catch(P){a={error:P}}finally{try{C&&!C.done&&(s=S.return)&&s.call(S)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var D=0;try{for(var B=Dm(y),F=B.next();!F.done;F=B.next()){var N=F.value;D+=N}}catch(P){u={error:P}}finally{try{F&&!F.done&&(c=B.return)&&c.call(B)}finally{if(u)throw u.error}}if(p===m||!r.get(p))throw new ae;if(this.decodeRowResult.length<2)throw new ae;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var W=this.decodeExtended(this.decodeRowResult),M=(h[1]+h[0])/2,R=E+D/2;return new lr(W,null,0,[new be(M,t),new be(R,t)],Ne.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,u=!1,c=a.length,h=0,p=i;p<r;p++)if(t.get(p)!==u)a[h]++;else{if(h===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new ae},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=Dm(t),u=s.next();!u.done;u=s.next()){var c=u.value;a+=c}}catch(E){r={error:E}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var h=0,p=t.length,m=0;m<p;m++){var y=Math.round(t[m]*9/a);if(y<1||y>4)return-1;if((m&1)===0)for(var _=0;_<y;_++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ae},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new ye;var u=t.charAt(a+1),c="\0";switch(s){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ye;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ye;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new ye;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ye;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,u=r-1;u>=0;u--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new mn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Cn),lL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),uL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jE=function(n){lL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,u=this.decodeStart(r),c=this.decodeEnd(r),h=new $e;e.decodeMiddle(r,u[1],c[0],h);var p=h.toString(),m=null;i!=null&&(m=i.get(Pt.ALLOWED_LENGTHS)),m==null&&(m=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,_=!1,E=0;try{for(var A=uL(m),S=A.next();!S.done;S=A.next()){var C=S.value;if(y===C){_=!0;break}C>E&&(E=C)}}catch(B){a={error:B}}finally{try{S&&!S.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}if(!_&&y>E&&(_=!0),!_)throw new ye;var N=[new be(u[1],t),new be(c[0],t)],D=new lr(p,null,0,N,Ne.ITF,new Date().getTime());return D},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){Cn.recordPattern(t,r,s);for(var h=0;h<5;h++){var p=2*h;u[h]=s[p],c[h]=s[p+1]}var m=e.decodeDigit(u);a.append(m.toString()),m=this.decodeDigit(c),a.append(m.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ae},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ae;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ae&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),u=t.getSize(),c=!1,h=0,p=r;s.fill(0);for(var m=r;m<u;m++)if(t.get(m)!==c)s[h]++;else{if(h===a-1){if(Cn.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,m];p+=s[0]+s[1],Dt.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new ae},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var u=e.PATTERNS[s],c=Cn.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new ae},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Cn),cL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eu=function(n){cL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var u=i[0];a=i[1];var c=u-(a-u);c>=0&&(r=t.isRange(c,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ye;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ye;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,h=r,p=a.length,m=i,y=r;y<u;y++)if(t.get(y)!==m)s[c]++;else{if(c===p-1){if(Cn.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=s[0]+s[1];for(var _=s.slice(2,s.length),E=0;E<c-1;E++)s[E]=_[E];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,m=!m}throw new ae},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,u=-1,c=a.length,h=0;h<c;h++){var p=a[h],m=Cn.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);m<s&&(s=m,u=h)}if(u>=0)return u;throw new ae},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Cn),fL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hL=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new be((r[0]+r[1])/2,e),new be(a,e)],h=new lr(s,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<5&&c<u;p++){var m=eu.decodeDigit(e,s,c,eu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var y=(i=void 0,fL(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}m>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ae;var A=this.determineCheckDigit(h);if(n.extensionChecksum(r.toString())!==A)throw new ae;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ae},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[Qn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n}(),dL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pL=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new be((r[0]+r[1])/2,e),new be(a,e)],h=new lr(s,null,0,c,Ne.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<2&&c<u;p++){var m=eu.decodeDigit(e,s,c,eu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+m%10);try{for(var y=(i=void 0,dL(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}m>=10&&(h|=1<<1-p),p!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ae;if(parseInt(r.toString())%4!==h)throw new ae;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[Qn.ISSUE_NUMBER,parseInt(e)]])},n}(),mL=function(){function n(){}return n.decodeRow=function(e,t,r){var i=eu.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new hL;return a.decodeRow(e,t,i)}catch{var s=new pL;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),gL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),bn=function(n){gL(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Pt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var u=new be((a[0]+a[1])/2,t);s.foundPossibleResultPoint(u)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),h=c.rowOffset,p=c.resultString;if(s!=null){var m=new be(h,t);s.foundPossibleResultPoint(m)}var y=e.decodeEnd(r,h);if(s!=null){var _=new be((y[0]+y[1])/2,t);s.foundPossibleResultPoint(_)}var E=y[1],A=E+(E-y[0]);if(A>=r.getSize()||!r.isRange(E,A,!1))throw new ae;var S=p.toString();if(S.length<8)throw new ye;if(!e.checkChecksum(S))throw new mn;var C=(a[1]+a[0])/2,N=(y[1]+y[0])/2,D=this.getBarcodeFormat(),B=[new be(C,t),new be(N,t)],F=new lr(S,null,0,B,D,new Date().getTime()),W=0;try{var M=mL.decodeRow(t,r,y[1]);F.putMetadata(Qn.UPC_EAN_EXTENSION,M.getText()),F.putAllMetadata(M.getResultMetadata()),F.addResultPoints(M.getResultPoints()),W=M.getText().length}catch{}var R=i==null?null:i.get(Pt.ALLOWED_EAN_EXTENSIONS);if(R!=null){var P=!1;for(var L in R)if(W.toString()===L){P=!0;break}if(!P)throw new ae}return D===Ne.EAN_13||Ne.UPC_A,F},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ye;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new ye;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(eu),vL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ag=function(n){vL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),m=r[1],y=0,_=0;_<6&&m<p;_++){var E=bn.decodeDigit(t,h,m,bn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);try{for(var A=(a=void 0,BE(h)),S=A.next();!S.done;S=A.next()){var C=S.value;m+=C}}catch(F){a={error:F}}finally{try{S&&!S.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}E>=10&&(y|=1<<5-_)}i=e.determineFirstDigit(i,y);var N=bn.findGuardPattern(t,m,!0,bn.MIDDLE_PATTERN,new Int32Array(bn.MIDDLE_PATTERN.length).fill(0));m=N[1];for(var _=0;_<6&&m<p;_++){var E=bn.decodeDigit(t,h,m,bn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var D=(u=void 0,BE(h)),B=D.next();!B.done;B=D.next()){var C=B.value;m+=C}}catch(M){u={error:M}}finally{try{B&&!B.done&&(c=D.return)&&c.call(D)}finally{if(u)throw u.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ae},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(bn),yL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UE=function(n){yL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),m=r[1],y=0;y<4&&m<p;y++){var _=bn.decodeDigit(t,h,m,bn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var E=(a=void 0,VE(h)),A=E.next();!A.done;A=E.next()){var S=A.value;m+=S}}catch(B){a={error:B}}finally{try{A&&!A.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}var C=bn.findGuardPattern(t,m,!0,bn.MIDDLE_PATTERN,new Int32Array(bn.MIDDLE_PATTERN.length).fill(0));m=C[1];for(var y=0;y<4&&m<p;y++){var _=bn.decodeDigit(t,h,m,bn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var N=(u=void 0,VE(h)),D=N.next();!D.done;D=N.next()){var S=D.value;m+=S}}catch(W){u={error:W}}finally{try{D&&!D.done&&(c=N.return)&&c.call(N)}finally{if(u)throw u.error}}}return{rowOffset:m,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ne.EAN_8},e}(bn),xL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FE=function(n){xL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Ag,t}return e.prototype.getBarcodeFormat=function(){return Ne.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new lr(r.substring(1),null,null,t.getResultPoints(),Ne.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ae},e.prototype.reset=function(){this.ean13Reader.reset()},e}(bn),_L=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HE=function(n){_L(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u=this.decodeMiddleCounters.map(function(S){return S});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),h=r[1],p=0,m=0;m<6&&h<c;m++){var y=e.decodeDigit(t,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var _=(a=void 0,wL(u)),E=_.next();!E.done;E=_.next()){var A=E.value;h+=A}}catch(S){a={error:S}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-m)}return e.determineNumSysAndCheckDigit(new $e(i),p),h},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return bn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ae.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ne.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new $e;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(bn),EL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pm=function(n){EL(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Pt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ne.EAN_13)>-1&&a.push(new Ag),i.indexOf(Ne.UPC_A)>-1&&a.push(new FE),i.indexOf(Ne.EAN_8)>-1&&a.push(new UE),i.indexOf(Ne.UPC_E)>-1&&a.push(new HE)),a.length===0&&(a.push(new Ag),a.push(new FE),a.push(new UE),a.push(new HE)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var u=zE(this.readers),c=u.next();!c.done;c=u.next()){var h=c.value;try{var p=h.decodeRow(t,r,i),m=p.getBarcodeFormat()===Ne.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(Pt.POSSIBLE_FORMATS),_=y==null||y.includes(Ne.UPC_A);if(m&&_){var E=p.getRawBytes(),A=new lr(p.getText().substring(1),E,E?E.length:null,p.getResultPoints(),Ne.UPC_A);return A.putAllMetadata(p.getResultMetadata()),A}return p}catch{}}}catch(S){a={error:S}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new ae},e.prototype.reset=function(){var t,r;try{for(var i=zE(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(Cn),bL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),AL=function(n){bL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ae;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ae;return new lr(s,null,0,[new be(a.left,t),new be(a.right,t)],Ne.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],u=r[0],c=1,h=1;h<r.length;h++)r[h]===u?c++:(u=r[h],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,h){return(c+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(Cn),SL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ws=function(n){SL(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(Cn.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ae},e.count=function(t){return ht.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],u=a/s;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=TL(t),m=p.next();!m.done;m=p.next()){var y=m.value;y>h&&(h=y),y<c&&(c=y)}}catch(_){r={error:_}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return h<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Cn),o0=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),bC=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new be(r,a)),this.resultPoints.push(new be(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),CL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ll=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var u=CL(e),c=u.next();!c.done;c=u.next()){var h=c.value;s+=h}}catch(N){i={error:N}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var p=0,m=0,y=e.length,_=0;_<y-1;_++){var E=void 0;for(E=1,m|=1<<_;E<e[_];E++,m&=~(1<<_)){var A=n.combins(s-E-1,y-_-2);if(r&&m===0&&s-E-(y-_-1)>=y-_-1&&(A-=n.combins(s-E-(y-_),y-_-2)),y-_-1>1){for(var S=0,C=s-E-(y-_-2);C>t;C--)S+=n.combins(s-E-C-1,y-_-3);A-=S*(y-1-_)}else s-E>t&&A--;p+=A}s-=E}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,u=e;u>r;u--)a*=u,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n}(),IL=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Un(r),a=0,s=e[0],u=s.getRightChar().getValue(),c=11;c>=0;--c)(u&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var h=e[c],p=h.getLeftChar().getValue(),m=11;m>=0;--m)(p&1<<m)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),m=11;m>=0;--m)(y&1<<m)!==0&&i.set(a),a++}return i},n}(),ys=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),Xv=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),NL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),hi=function(n){NL(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Xv),RL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xs=function(n){RL(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Xv),OL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ol=function(n){OL(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new ye;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Xv),pd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DL=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,u,c,h;if(!e)return null;if(e.length<2)throw new ae;var p=e.substring(0,2);try{for(var m=pd(n.TWO_DIGIT_DATA_LENGTH),y=m.next();!y.done;y=m.next()){var _=y.value;if(_[0]===p)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,_[2],e):n.processFixedAI(2,_[1],e)}}catch(W){t={error:W}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(t)throw t.error}}if(e.length<3)throw new ae;var E=e.substring(0,3);try{for(var A=pd(n.THREE_DIGIT_DATA_LENGTH),S=A.next();!S.done;S=A.next()){var _=S.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,_[2],e):n.processFixedAI(3,_[1],e)}}catch(W){i={error:W}}finally{try{S&&!S.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}try{for(var C=pd(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),N=C.next();!N.done;N=C.next()){var _=N.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(W){s={error:W}}finally{try{N&&!N.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}if(e.length<4)throw new ae;var D=e.substring(0,4);try{for(var B=pd(n.FOUR_DIGIT_DATA_LENGTH),F=B.next();!F.done;F=B.next()){var _=F.value;if(_[0]===D)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(W){c={error:W}}finally{try{F&&!F.done&&(h=B.return)&&h.call(B)}finally{if(c)throw c.error}}throw new ae},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ae;var i=r.substring(0,e);if(r.length<e+t)throw new ae;var a=r.substring(e,e+t),s=r.substring(e+t),u="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?u:u+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),u=r.substring(a),c="("+i+")"+s,h=n.parseFieldsInGeneralPurpose(u);return h==null?c:c+h},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),kd=function(){function n(e){this.buffer=new $e,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=DL.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Ol(this.information.getSize(),Ol.FNC1,Ol.FNC1):new Ol(this.information.getSize(),t-1,Ol.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Ol(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new xs(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new xs(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new xs(this.current.getPosition(),this.buffer.toString()):t=new xs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ys(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new xs(this.current.getPosition(),this.buffer.toString());return new ys(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ys(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new xs(this.current.getPosition(),this.buffer.toString());return new ys(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ys(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new xs(this.current.getPosition(),this.buffer.toString());return new ys(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ys(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new hi(e+5,hi.FNC1);if(t>=5&&t<15)return new hi(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new hi(e+7,""+(r+1));if(r>=90&&r<116)return new hi(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ye}return new hi(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new hi(e+5,hi.FNC1);if(t>=5&&t<15)return new hi(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new hi(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new kf("Decoding invalid alphanumeric value: "+r)}return new hi(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),AC=function(){function n(e){this.information=e,this.generalDecoder=new kd(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),PL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),di=function(n){PL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(AC),ML=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kL=function(n){ML(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new $e;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(di),LL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jL=function(n){LL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new $e;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(AC),BL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ld=function(n){BL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),u=1e5,c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)},e}(di),VL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SC=function(n){VL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ld.GTIN_SIZE+e.WEIGHT_SIZE)throw new ae;var t=new $e;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Ld.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ld),UL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FL=function(n){UL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(SC),HL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zL=function(n){HL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(SC),GL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qL=function(n){GL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+di.GTIN_SIZE)throw new ae;var t=new $e;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+di.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+di.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(di),XL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),WL=function(n){XL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+di.GTIN_SIZE)throw new ae;var t=new $e;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+di.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+di.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+di.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(di),$L=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yo=function(n){$L(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ae;var t=new $e;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ld);function YL(n){try{if(n.get(1))return new kL(n);if(!n.get(2))return new jL(n);var e=kd.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new FL(n);case 5:return new zL(n)}var t=kd.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new qL(n);case 13:return new WL(n)}var r=kd.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new yo(n,"310","11");case 57:return new yo(n,"320","11");case 58:return new yo(n,"310","13");case 59:return new yo(n,"320","13");case 60:return new yo(n,"310","15");case 61:return new yo(n,"320","15");case 62:return new yo(n,"310","17");case 63:return new yo(n,"320","17")}}catch(i){throw console.log(i),new kf("unknown decoder: "+n)}}var GE=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),KL=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),QL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xo=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZL=function(n){QL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ae){if(!this.pairs.length)throw new ae;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ae},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var u=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,xo(t)),h=c.next();!h.done;h=c.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var m=new Array(t);m.push(u);try{return this.checkRows(m,s+1)}catch(y){console.log(y)}}}throw new ae},e.isValidSequence=function(t){var r,i;try{for(var a=xo(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var u=s.value;if(!(t.length>u.length)){for(var c=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==u[h]){c=!1;break}if(c)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new KL(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,u,c,h;try{for(var p=xo(r),m=p.next();!m.done;m=p.next()){var y=m.value;if(y.getPairs().length!==t.length){var _=!0;try{for(var E=(s=void 0,xo(y.getPairs())),A=E.next();!A.done;A=E.next()){var S=A.value,C=!1;try{for(var N=(c=void 0,xo(t)),D=N.next();!D.done;D=N.next()){var B=D.value;if(GE.equals(S,B)){C=!0;break}}}catch(F){c={error:F}}finally{try{D&&!D.done&&(h=N.return)&&h.call(N)}finally{if(c)throw c.error}}C||(_=!1)}}catch(F){s={error:F}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}}}catch(F){i={error:F}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,u,c,h;try{for(var p=xo(r),m=p.next();!m.done;m=p.next()){var y=m.value,_=!0;try{for(var E=(s=void 0,xo(t)),A=E.next();!A.done;A=E.next()){var S=A.value,C=!1;try{for(var N=(c=void 0,xo(y.getPairs())),D=N.next();!D.done;D=N.next()){var B=D.value;if(S.equals(B)){C=!0;break}}}catch(F){c={error:F}}finally{try{D&&!D.done&&(h=N.return)&&h.call(N)}finally{if(c)throw c.error}}if(!C){_=!1;break}}}catch(F){s={error:F}}finally{try{A&&!A.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(_)return!0}}catch(F){i={error:F}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=IL.buildBitArray(t),i=YL(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new lr(a,null,null,c,Ne.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);a+=c.getLeftChar().getChecksumPortion(),s++;var h=c.getRightChar();h!=null&&(a+=h.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ae;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(m){p=null,console.log(m)}return new GE(h,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var c=r[r.length-1];u=c.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;u<s&&(p=!t.get(u),!!p);)u++;for(var m=0,y=u,_=u;_<s;_++)if(t.get(_)!==p)a[m]++;else{if(m===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=_;return}h&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,m--}else m++;a[m]=1,p=!p}throw new ae},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,u;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var h=this.getDecodeFinderCounters();Dt.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new bC(p,[s,u],s,u,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),u=0;u<s.length;u++)s[u]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,h=s.length-1;c<h;c++,h--){var p=s[c];s[c]=s[h],s[h]=p}}var m=17,y=ht.sum(new Int32Array(s))/m,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new ae;for(var E=this.getOddCounts(),A=this.getEvenCounts(),S=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var N=1*s[c]/y,D=N+.5;if(D<1){if(N<.3)throw new ae;D=1}else if(D>8){if(N>8.7)throw new ae;D=8}var B=c/2;(c&1)===0?(E[B]=D,S[B]=N-D):(A[B]=D,C[B]=N-D)}this.adjustOddEvenCounts(m);for(var F=4*r.getValue()+(i?0:2)+(a?0:1)-1,W=0,M=0,c=E.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var R=e.WEIGHTS[F][2*c];M+=E[c]*R}W+=E[c]}for(var P=0,c=A.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var R=e.WEIGHTS[F][2*c+1];P+=A[c]*R}var L=M+P;if((W&1)!==0||W>13||W<4)throw new ae;var z=(13-W)/2,H=e.SYMBOL_WIDEST[z],V=9-H,ke=Ll.getRSSvalue(E,H,!0),Le=Ll.getRSSvalue(A,V,!1),te=e.EVEN_TOTAL_SUBSET[z],ne=e.GSUM[z],pe=ke*te+Le+ne;return new o0(pe,L)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=ht.sum(new Int32Array(this.getOddCounts())),i=ht.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);var h=r+i-t,p=(r&1)===1,m=(i&1)===0;if(h===1)if(p){if(m)throw new ae;s=!0}else{if(!m)throw new ae;c=!0}else if(h===-1)if(p){if(m)throw new ae;a=!0}else{if(!m)throw new ae;u=!0}else if(h===0){if(p){if(!m)throw new ae;r<i?(a=!0,c=!0):(s=!0,u=!0)}else if(m)throw new ae}else throw new ae;if(a){if(s)throw new ae;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new ae;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ws),JL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ej=function(n){JL(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(o0),tj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mm=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qE=function(n){tj(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var m=Mm(this.possibleLeftPairs),y=m.next();!y.done;y=m.next()){var _=y.value;if(_.getCount()>1)try{for(var E=(u=void 0,Mm(this.possibleRightPairs)),A=E.next();!A.done;A=E.next()){var S=A.value;if(S.getCount()>1&&e.checkChecksum(_,S))return e.constructResult(_,S)}}catch(C){u={error:C}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}}catch(C){a={error:C}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}throw new ae},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var u=Mm(t),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.getValue()===r.getValue()){h.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new $e,u=13-a.length;u>0;u--)s.append("0");s.append(a);for(var c=0,u=0;u<13;u++){var h=s.charAt(u).charCodeAt(0)-48;c+=(u&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c.toString());var p=t.getFinderPattern().getResultPoints(),m=r.getFinderPattern().getResultPoints();return new lr(s.toString(),null,0,[p[0],p[1],m[0],m[1]],Ne.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(Pt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var h=(s[0]+s[1])/2;r&&(h=t.getSize()-1-h),c.foundPossibleResultPoint(new be(h,i))}var p=this.decodeDataCharacter(t,u,!0),m=this.decodeDataCharacter(t,u,!1);return new ej(1597*p.getValue()+m.getValue(),p.getChecksumPortion()+4*m.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)Cn.recordPatternInReverse(t,r.getStartEnd()[0],a);else{Cn.recordPattern(t,r.getStartEnd()[1]+1,a);for(var u=0,c=a.length-1;u<c;u++,c--){var h=a[u];a[u]=a[c],a[c]=h}}for(var p=i?16:15,m=ht.sum(new Int32Array(a))/p,y=this.getOddCounts(),_=this.getEvenCounts(),E=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var S=a[u]/m,C=Math.floor(S+.5);C<1?C=1:C>8&&(C=8);var N=Math.floor(u/2);(u&1)===0?(y[N]=C,E[N]=S-C):(_[N]=C,A[N]=S-C)}this.adjustOddEvenCounts(i,p);for(var D=0,B=0,u=y.length-1;u>=0;u--)B*=9,B+=y[u],D+=y[u];for(var F=0,W=0,u=_.length-1;u>=0;u--)F*=9,F+=_[u],W+=_[u];var M=B+3*F;if(i){if((D&1)!==0||D>12||D<4)throw new ae;var R=(12-D)/2,P=e.OUTSIDE_ODD_WIDEST[R],L=9-P,z=Ll.getRSSvalue(y,P,!1),H=Ll.getRSSvalue(_,L,!0),V=e.OUTSIDE_EVEN_TOTAL_SUBSET[R],ke=e.OUTSIDE_GSUM[R];return new o0(z*V+H+ke,M)}else{if((W&1)!==0||W>10||W<4)throw new ae;var R=(10-W)/2,P=e.INSIDE_ODD_WIDEST[R],L=9-P,z=Ll.getRSSvalue(y,P,!0),H=Ll.getRSSvalue(_,L,!1),Le=e.INSIDE_ODD_TOTAL_SUBSET[R],ke=e.INSIDE_GSUM[R];return new o0(H*Le+z+ke,M)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,u=0;u<a&&(s=!t.get(u),r!==s);)u++;for(var c=0,h=u,p=u;p<a;p++)if(t.get(p)!==s)i[c]++;else{if(c===3){if(ws.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new ae},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),u=a[0]-1;u>=0&&s!==t.get(u);)u--;u++;var c=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);Dt.arraycopy(h,0,p,1,h.length-1),p[0]=c;var m=this.parseFinderValue(p,e.FINDER_PATTERNS),y=u,_=a[1];return i&&(y=t.getSize()-1-y,_=t.getSize()-1-_),new bC(m,[u,a[1]],y,_,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=ht.sum(new Int32Array(this.getOddCounts())),a=ht.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(i>12?u=!0:i<4&&(s=!0),a>12?h=!0:a<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),a>10?h=!0:a<4&&(c=!0));var p=i+a-r,m=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(m){if(y)throw new ae;u=!0}else{if(!y)throw new ae;h=!0}else if(p===-1)if(m){if(y)throw new ae;s=!0}else{if(!y)throw new ae;c=!0}else if(p===0){if(m){if(!y)throw new ae;i<a?(s=!0,h=!0):(u=!0,c=!0)}else if(y)throw new ae}else throw new ae;if(s){if(u)throw new ae;ws.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ws.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new ae;ws.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ws.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ws),nj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jl=function(n){nj(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Pt.POSSIBLE_FORMATS):null,a=t&&t.get(Pt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Pt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ne.EAN_13)||i.includes(Ne.UPC_A)||i.includes(Ne.EAN_8)||i.includes(Ne.UPC_E))&&r.readers.push(new Pm(t)),i.includes(Ne.CODE_39)&&r.readers.push(new kE(a,s)),i.includes(Ne.CODE_93)&&r.readers.push(new LE),i.includes(Ne.CODE_128)&&r.readers.push(new ME),i.includes(Ne.ITF)&&r.readers.push(new jE),i.includes(Ne.CODABAR)&&r.readers.push(new AL),i.includes(Ne.RSS_14)&&r.readers.push(new qE),i.includes(Ne.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new ZL))),r.readers.length===0&&(r.readers.push(new Pm(t)),r.readers.push(new kE),r.readers.push(new LE),r.readers.push(new Pm(t)),r.readers.push(new ME),r.readers.push(new jE),r.readers.push(new qE)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ae},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(Cn),rj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){rj(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new jl(r),t,r)||this}return e})(gu);var XE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yt=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),mt=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),ij=function(){function n(e,t,r,i,a,s){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var h=0,p=s.getECCodewords(),m=s.getECBlocks();try{for(var y=XE(m),_=y.next();!_.done;_=y.next()){var E=_.value;h+=E.getCount()*(E.getDataCodewords()+p)}}catch(A){u={error:A}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=h}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new ye;try{for(var a=XE(n.VERSIONS),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new ye},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new yt(5,new mt(1,3))),new n(2,12,12,10,10,new yt(7,new mt(1,5))),new n(3,14,14,12,12,new yt(10,new mt(1,8))),new n(4,16,16,14,14,new yt(12,new mt(1,12))),new n(5,18,18,16,16,new yt(14,new mt(1,18))),new n(6,20,20,18,18,new yt(18,new mt(1,22))),new n(7,22,22,20,20,new yt(20,new mt(1,30))),new n(8,24,24,22,22,new yt(24,new mt(1,36))),new n(9,26,26,24,24,new yt(28,new mt(1,44))),new n(10,32,32,14,14,new yt(36,new mt(1,62))),new n(11,36,36,16,16,new yt(42,new mt(1,86))),new n(12,40,40,18,18,new yt(48,new mt(1,114))),new n(13,44,44,20,20,new yt(56,new mt(1,144))),new n(14,48,48,22,22,new yt(68,new mt(1,174))),new n(15,52,52,24,24,new yt(42,new mt(2,102))),new n(16,64,64,14,14,new yt(56,new mt(2,140))),new n(17,72,72,16,16,new yt(36,new mt(4,92))),new n(18,80,80,18,18,new yt(48,new mt(4,114))),new n(19,88,88,20,20,new yt(56,new mt(4,144))),new n(20,96,96,22,22,new yt(68,new mt(4,174))),new n(21,104,104,24,24,new yt(56,new mt(6,136))),new n(22,120,120,18,18,new yt(68,new mt(6,175))),new n(23,132,132,20,20,new yt(62,new mt(8,163))),new n(24,144,144,22,22,new yt(62,new mt(8,156),new mt(2,155))),new n(25,8,18,6,16,new yt(7,new mt(1,5))),new n(26,8,32,6,14,new yt(11,new mt(1,10))),new n(27,12,26,10,24,new yt(14,new mt(1,16))),new n(28,12,36,10,16,new yt(18,new mt(1,22))),new n(29,16,36,14,16,new yt(24,new mt(1,32))),new n(30,16,48,14,22,new yt(28,new mt(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),aj=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new ye;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new $i(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return ij.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),u=!1,c=!1,h=!1,p=!1;do if(r===a&&i===0&&!u)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,u=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!h)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,h=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new ye;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Re("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,u=r/a|0,c=s*i,h=u*a,p=new $i(h,c),m=0;m<s;++m)for(var y=m*i,_=0;_<u;++_)for(var E=_*a,A=0;A<i;++A)for(var S=m*(i+2)+1+A,C=y+A,N=0;N<a;++N){var D=_*(a+2)+1+N;if(e.get(D,S)){var B=E+N;p.set(B,C)}}return p},n}(),WE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oj=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,u=t.getECBlocks(),c=0,h=u.getECBlocks();try{for(var p=WE(h),m=p.next();!m.done;m=p.next()){var y=m.value;c+=y.getCount()}}catch(ke){r={error:ke}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var _=new Array(c),E=0;try{for(var A=WE(h),S=A.next();!S.done;S=A.next())for(var y=S.value,C=0;C<y.getCount();C++){var N=y.getDataCodewords(),D=u.getECCodewords()+N;_[E++]=new n(N,new Uint8Array(D))}}catch(ke){a={error:ke}}finally{try{S&&!S.done&&(s=A.return)&&s.call(A)}finally{if(a)throw a.error}}for(var B=_[0].codewords.length,F=B-u.getECCodewords(),W=F-1,M=0,C=0;C<W;C++)for(var R=0;R<E;R++)_[R].codewords[C]=e[M++];for(var P=t.getVersionNumber()===24,L=P?8:E,R=0;R<L;R++)_[R].codewords[F-1]=e[M++];for(var z=_[0].codewords.length,C=F;C<z;C++)for(var R=0;R<E;R++){var H=P?(R+8)%E:R,V=P&&H>7?C-1:C;_[H].codewords[V]=e[M++]}if(M!==e.length)throw new Re;return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),TC=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Re(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,u=e<s?e:s,c=s-u,h=255>>8-u<<c;t=(a[i]&h)>>c,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,h=255>>c<<c;t=t<<e|(a[i]&h)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),wn;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(wn||(wn={}));var sj=function(){function n(){}return n.decode=function(e){var t=new TC(e),r=new $e,i=new $e,a=new Array,s=wn.ASCII_ENCODE;do if(s===wn.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case wn.C40_ENCODE:this.decodeC40Segment(t,r);break;case wn.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case wn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case wn.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case wn.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new ye}s=wn.ASCII_ENCODE}while(s!==wn.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new X0(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ye;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),wn.ASCII_ENCODE;if(a===129)return wn.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return wn.C40_ENCODE;case 231:return wn.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return wn.ANSIX12_ENCODE;case 239:return wn.TEXT_ENCODE;case 240:return wn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ye;break}}while(e.available()>0);return wn.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ye;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ye}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new ye}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new ye;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new ye}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h),a=0}else throw new ye;break;default:throw new ye}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new ye;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new ye;for(var u=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new ye;u[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{t.append(ti.decode(u,lt.ISO88591))}catch(h){throw new kf("Platform does not support required encoding: "+h.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),lj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uj=function(){function n(){this.rsDecoder=new W0(Sr.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new aj(e),a=i.getVersion(),s=i.readCodewords(),u=oj.getDataBlocks(s,a),c=0;try{for(var h=lj(u),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m.getNumDataCodewords()}}catch(D){t={error:D}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}for(var y=new Uint8Array(c),_=u.length,E=0;E<_;E++){var A=u[E],S=A.getCodewords(),C=A.getNumDataCodewords();this.correctErrors(S,C);for(var N=0;N<C;N++)y[N*_+E]=S[N]}return sj.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new mn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),cj=function(){function n(e){this.image=e,this.rectangleDetector=new bg(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ae;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var h=n.sampleGrid(this.image,r,i,a,s,u,c);return new Gv(h,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new be(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new be(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=s,m=[a,t,r,i];return p>u&&(p=u,m[0]=t,m[1]=r,m[2]=i,m[3]=a),p>c&&(p=c,m[0]=r,m[1]=i,m[2]=a,m[3]=t),p>h&&(m[0]=i,m[1]=a,m[2]=t,m[3]=r),m},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),h=this.transitionsBetween(u,t),p=this.transitionsBetween(c,a);return h<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(u+1)*4),h=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),u=this.transitionsBetween(h,a);var p=new be(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),m=new be(a.getX()+(t.getX()-r.getX())/(u+1),a.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(m)?m:null;if(!this.isValid(m))return p;var y=this.transitionsBetween(c,p)+this.transitionsBetween(h,p),_=this.transitionsBetween(c,m)+this.transitionsBetween(h,m);return y>_?p:m},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,u*4),h=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,u=this.transitionsBetween(h,a)+1,(s&1)===1&&(s+=1),(u&1)===1&&(u+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,m=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,m),r=n.moveAway(r,p,m),i=n.moveAway(i,p,m),a=n.moveAway(a,p,m);var y,_;return c=n.shiftPoint(t,r,u*4),c=n.shiftPoint(c,a,s*4),y=n.shiftPoint(r,t,u*4),y=n.shiftPoint(y,i,s*4),h=n.shiftPoint(i,a,u*4),h=n.shiftPoint(h,r,s*4),_=n.shiftPoint(a,i,u*4),_=n.shiftPoint(_,t,s*4),[c,y,h,_]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,u){var c=qv.getInstance();return c.sampleGrid(e,s,u,.5,.5,s-.5,.5,s-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.abs(s-i)>Math.abs(a-r);if(u){var c=r;r=i,i=c,c=a,a=s,s=c}for(var h=Math.abs(a-r),p=Math.abs(s-i),m=-h/2,y=i<s?1:-1,_=r<a?1:-1,E=0,A=this.image.get(u?i:r,u?r:i),S=r,C=i;S!==a;S+=_){var N=this.image.get(u?C:S,u?S:C);if(N!==A&&(E++,A=N),m+=p,m>0){if(C===s)break;C+=y,m-=h}}return E},n}(),s0=function(){function n(){this.decoder=new uj}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Pt.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new cj(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var u=r.getRawBytes(),c=new lr(r.getText(),u,8*u.length,i,Ne.DATA_MATRIX,Dt.currentTimeMillis()),h=r.getByteSegments();h!=null&&c.putMetadata(Qn.BYTE_SEGMENTS,h);var p=r.getECLevel();return p!=null&&c.putMetadata(Qn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ae;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0],h=(c-u+1)/i,p=(s-a+1)/i;if(h<=0||p<=0)throw new ae;var m=i/2;a+=m,u+=m;for(var y=new $i(h,p),_=0;_<p;_++)for(var E=a+_*i,A=0;A<h;A++)e.get(u+A*i,E)&&y.set(A,_);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ae;var s=i-e[0];if(s===0)throw new ae;return s},n.NO_POINTS=[],n}(),fj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){fj(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new s0,t)||this}return e})(gu);var Bl;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(Bl||(Bl={}));var hj=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new on(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Re;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(Bl.L,"L",1),n.M=new n(Bl.M,"M",0),n.Q=new n(Bl.Q,"Q",3),n.H=new n(Bl.H,"H",2),n}(),dj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CC=function(){function n(e){this.errorCorrectionLevel=hj.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Qe.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var u=dj(n.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var h=c.value,p=h[0];if(p===e||p===t)return new n(h[1]);var m=n.numBitsDiffering(e,p);m<a&&(s=h[1],a=m),e!==t&&(m=n.numBitsDiffering(t,p),m<a&&(s=h[1],a=m))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),pj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=pj(i),s=a.next();!s.done;s=a.next()){var u=s.value;r+=u.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),j=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),mj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Is=function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,c=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=mj(h),m=p.next();!m.done;m=p.next()){var y=m.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(_){r={error:_}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ye;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ye}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Re;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=CC.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new $i(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Z(7,new j(1,19)),new Z(10,new j(1,16)),new Z(13,new j(1,13)),new Z(17,new j(1,9))),new n(2,Int32Array.from([6,18]),new Z(10,new j(1,34)),new Z(16,new j(1,28)),new Z(22,new j(1,22)),new Z(28,new j(1,16))),new n(3,Int32Array.from([6,22]),new Z(15,new j(1,55)),new Z(26,new j(1,44)),new Z(18,new j(2,17)),new Z(22,new j(2,13))),new n(4,Int32Array.from([6,26]),new Z(20,new j(1,80)),new Z(18,new j(2,32)),new Z(26,new j(2,24)),new Z(16,new j(4,9))),new n(5,Int32Array.from([6,30]),new Z(26,new j(1,108)),new Z(24,new j(2,43)),new Z(18,new j(2,15),new j(2,16)),new Z(22,new j(2,11),new j(2,12))),new n(6,Int32Array.from([6,34]),new Z(18,new j(2,68)),new Z(16,new j(4,27)),new Z(24,new j(4,19)),new Z(28,new j(4,15))),new n(7,Int32Array.from([6,22,38]),new Z(20,new j(2,78)),new Z(18,new j(4,31)),new Z(18,new j(2,14),new j(4,15)),new Z(26,new j(4,13),new j(1,14))),new n(8,Int32Array.from([6,24,42]),new Z(24,new j(2,97)),new Z(22,new j(2,38),new j(2,39)),new Z(22,new j(4,18),new j(2,19)),new Z(26,new j(4,14),new j(2,15))),new n(9,Int32Array.from([6,26,46]),new Z(30,new j(2,116)),new Z(22,new j(3,36),new j(2,37)),new Z(20,new j(4,16),new j(4,17)),new Z(24,new j(4,12),new j(4,13))),new n(10,Int32Array.from([6,28,50]),new Z(18,new j(2,68),new j(2,69)),new Z(26,new j(4,43),new j(1,44)),new Z(24,new j(6,19),new j(2,20)),new Z(28,new j(6,15),new j(2,16))),new n(11,Int32Array.from([6,30,54]),new Z(20,new j(4,81)),new Z(30,new j(1,50),new j(4,51)),new Z(28,new j(4,22),new j(4,23)),new Z(24,new j(3,12),new j(8,13))),new n(12,Int32Array.from([6,32,58]),new Z(24,new j(2,92),new j(2,93)),new Z(22,new j(6,36),new j(2,37)),new Z(26,new j(4,20),new j(6,21)),new Z(28,new j(7,14),new j(4,15))),new n(13,Int32Array.from([6,34,62]),new Z(26,new j(4,107)),new Z(22,new j(8,37),new j(1,38)),new Z(24,new j(8,20),new j(4,21)),new Z(22,new j(12,11),new j(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Z(30,new j(3,115),new j(1,116)),new Z(24,new j(4,40),new j(5,41)),new Z(20,new j(11,16),new j(5,17)),new Z(24,new j(11,12),new j(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Z(22,new j(5,87),new j(1,88)),new Z(24,new j(5,41),new j(5,42)),new Z(30,new j(5,24),new j(7,25)),new Z(24,new j(11,12),new j(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Z(24,new j(5,98),new j(1,99)),new Z(28,new j(7,45),new j(3,46)),new Z(24,new j(15,19),new j(2,20)),new Z(30,new j(3,15),new j(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Z(28,new j(1,107),new j(5,108)),new Z(28,new j(10,46),new j(1,47)),new Z(28,new j(1,22),new j(15,23)),new Z(28,new j(2,14),new j(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Z(30,new j(5,120),new j(1,121)),new Z(26,new j(9,43),new j(4,44)),new Z(28,new j(17,22),new j(1,23)),new Z(28,new j(2,14),new j(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Z(28,new j(3,113),new j(4,114)),new Z(26,new j(3,44),new j(11,45)),new Z(26,new j(17,21),new j(4,22)),new Z(26,new j(9,13),new j(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Z(28,new j(3,107),new j(5,108)),new Z(26,new j(3,41),new j(13,42)),new Z(30,new j(15,24),new j(5,25)),new Z(28,new j(15,15),new j(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Z(28,new j(4,116),new j(4,117)),new Z(26,new j(17,42)),new Z(28,new j(17,22),new j(6,23)),new Z(30,new j(19,16),new j(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Z(28,new j(2,111),new j(7,112)),new Z(28,new j(17,46)),new Z(30,new j(7,24),new j(16,25)),new Z(24,new j(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Z(30,new j(4,121),new j(5,122)),new Z(28,new j(4,47),new j(14,48)),new Z(30,new j(11,24),new j(14,25)),new Z(30,new j(16,15),new j(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Z(30,new j(6,117),new j(4,118)),new Z(28,new j(6,45),new j(14,46)),new Z(30,new j(11,24),new j(16,25)),new Z(30,new j(30,16),new j(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Z(26,new j(8,106),new j(4,107)),new Z(28,new j(8,47),new j(13,48)),new Z(30,new j(7,24),new j(22,25)),new Z(30,new j(22,15),new j(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Z(28,new j(10,114),new j(2,115)),new Z(28,new j(19,46),new j(4,47)),new Z(28,new j(28,22),new j(6,23)),new Z(30,new j(33,16),new j(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Z(30,new j(8,122),new j(4,123)),new Z(28,new j(22,45),new j(3,46)),new Z(30,new j(8,23),new j(26,24)),new Z(30,new j(12,15),new j(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new j(3,117),new j(10,118)),new Z(28,new j(3,45),new j(23,46)),new Z(30,new j(4,24),new j(31,25)),new Z(30,new j(11,15),new j(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new j(7,116),new j(7,117)),new Z(28,new j(21,45),new j(7,46)),new Z(30,new j(1,23),new j(37,24)),new Z(30,new j(19,15),new j(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new j(5,115),new j(10,116)),new Z(28,new j(19,47),new j(10,48)),new Z(30,new j(15,24),new j(25,25)),new Z(30,new j(23,15),new j(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new j(13,115),new j(3,116)),new Z(28,new j(2,46),new j(29,47)),new Z(30,new j(42,24),new j(1,25)),new Z(30,new j(23,15),new j(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new j(17,115)),new Z(28,new j(10,46),new j(23,47)),new Z(30,new j(10,24),new j(35,25)),new Z(30,new j(19,15),new j(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new j(17,115),new j(1,116)),new Z(28,new j(14,46),new j(21,47)),new Z(30,new j(29,24),new j(19,25)),new Z(30,new j(11,15),new j(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new j(13,115),new j(6,116)),new Z(28,new j(14,46),new j(23,47)),new Z(30,new j(44,24),new j(7,25)),new Z(30,new j(59,16),new j(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new j(12,121),new j(7,122)),new Z(28,new j(12,47),new j(26,48)),new Z(30,new j(39,24),new j(14,25)),new Z(30,new j(22,15),new j(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new j(6,121),new j(14,122)),new Z(28,new j(6,47),new j(34,48)),new Z(30,new j(46,24),new j(10,25)),new Z(30,new j(2,15),new j(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new j(17,122),new j(4,123)),new Z(28,new j(29,46),new j(14,47)),new Z(30,new j(49,24),new j(10,25)),new Z(30,new j(24,15),new j(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new j(4,122),new j(18,123)),new Z(28,new j(13,46),new j(32,47)),new Z(30,new j(48,24),new j(14,25)),new Z(30,new j(42,15),new j(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new j(20,117),new j(4,118)),new Z(28,new j(40,47),new j(7,48)),new Z(30,new j(43,24),new j(22,25)),new Z(30,new j(10,15),new j(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new j(19,118),new j(6,119)),new Z(28,new j(18,47),new j(31,48)),new Z(30,new j(34,24),new j(34,25)),new Z(30,new j(20,15),new j(61,16)))],n}(),jn;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(jn||(jn={}));var $E=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[jn.DATA_MASK_000,new n(jn.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[jn.DATA_MASK_001,new n(jn.DATA_MASK_001,function(e,t){return(e&1)===0})],[jn.DATA_MASK_010,new n(jn.DATA_MASK_010,function(e,t){return t%3===0})],[jn.DATA_MASK_011,new n(jn.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[jn.DATA_MASK_100,new n(jn.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[jn.DATA_MASK_101,new n(jn.DATA_MASK_101,function(e,t){return e*t%6===0})],[jn.DATA_MASK_110,new n(jn.DATA_MASK_110,function(e,t){return e*t%6<3})],[jn.DATA_MASK_111,new n(jn.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),gj=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new ye;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=CC.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ye},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Is.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var u=Is.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(u=Is.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new ye},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=$E.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,h=0,p=0,m=i-1;m>0;m-=2){m===6&&m--;for(var y=0;y<i;y++)for(var _=s?i-1-y:y,E=0;E<2;E++)a.get(m-E,_)||(p++,h<<=1,this.bitMatrix.get(m-E,_)&&(h|=1),p===8&&(u[c++]=h,p=0,h=0));s=!s}if(c!==t.getTotalCodewords())throw new ye;return u},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=$E.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),YE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vj=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,u;if(e.length!==t.getTotalCodewords())throw new Re;var c=t.getECBlocksForLevel(r),h=0,p=c.getECBlocks();try{for(var m=YE(p),y=m.next();!y.done;y=m.next()){var _=y.value;h+=_.getCount()}}catch(V){i={error:V}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(i)throw i.error}}var E=new Array(h),A=0;try{for(var S=YE(p),C=S.next();!C.done;C=S.next())for(var _=C.value,N=0;N<_.getCount();N++){var D=_.getDataCodewords(),B=c.getECCodewordsPerBlock()+D;E[A++]=new n(D,new Uint8Array(B))}}catch(V){s={error:V}}finally{try{C&&!C.done&&(u=S.return)&&u.call(S)}finally{if(s)throw s.error}}for(var F=E[0].codewords.length,W=E.length-1;W>=0;){var M=E[W].codewords.length;if(M===F)break;W--}W++;for(var R=F-c.getECCodewordsPerBlock(),P=0,N=0;N<R;N++)for(var L=0;L<A;L++)E[L].codewords[N]=e[P++];for(var L=W;L<A;L++)E[L].codewords[R]=e[P++];for(var z=E[0].codewords.length,N=R;N<z;N++)for(var L=0;L<A;L++){var H=L<W?N:N+1;E[L].codewords[H]=e[P++]}return E},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),Qr;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Qr||(Qr={}));var kt=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Re;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Qr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Qr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Qr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Qr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Qr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Qr.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Qr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Qr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Qr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Qr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),yj=function(){function n(){}return n.decode=function(e,t,r,i){var a=new TC(e),s=new $e,u=new Array,c=-1,h=-1;try{var p=null,m=!1,y=void 0;do{if(a.available()<4)y=kt.TERMINATOR;else{var _=a.readBits(4);y=kt.forBits(_)}switch(y){case kt.TERMINATOR:break;case kt.FNC1_FIRST_POSITION:case kt.FNC1_SECOND_POSITION:m=!0;break;case kt.STRUCTURED_APPEND:if(a.available()<16)throw new ye;c=a.readBits(8),h=a.readBits(8);break;case kt.ECI:var E=n.parseECIValue(a);if(p=An.getCharacterSetECIByValue(E),p===null)throw new ye;break;case kt.HANZI:var A=a.readBits(4),S=a.readBits(y.getCharacterCountBits(t));A===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,S);break;default:var C=a.readBits(y.getCharacterCountBits(t));switch(y){case kt.NUMERIC:n.decodeNumericSegment(a,s,C);break;case kt.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,C,m);break;case kt.BYTE:n.decodeByteSegment(a,s,C,p,u,i);break;case kt.KANJI:n.decodeKanjiSegment(a,s,C);break;default:throw new ye}break}}while(y!==kt.TERMINATOR)}catch{throw new ye}return new X0(e,s.toString(),u.length===0?null:u,r===null?null:r.toString(),c,h)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new ye;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/96<<8&4294967295|s%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,r--}try{t.append(ti.decode(i,lt.GB2312))}catch(c){throw new ye(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new ye;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/192<<8&4294967295|s%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,r--}try{t.append(ti.decode(i,lt.SHIFT_JIS))}catch(c){throw new ye(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new ye;for(var u=new Uint8Array(r),c=0;c<r;c++)u[c]=e.readBits(8);var h;i===null?h=lt.guessEncoding(u,s):h=i.getName();try{t.append(ti.decode(u,h))}catch(p){throw new ye(p)}a.push(u)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new ye;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new ye;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new ye;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new ye;var i=e.readBits(10);if(i>=1e3)throw new ye;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new ye;var a=e.readBits(7);if(a>=100)throw new ye;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new ye;var s=e.readBits(4);if(s>=10)throw new ye;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new ye},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),IC=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),KE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xj=function(){function n(){this.rsDecoder=new W0(Sr.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix($i.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new gj(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new IC(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=vj.getDataBlocks(h,u,c),m=0;try{for(var y=KE(p),_=y.next();!_.done;_=y.next()){var E=_.value;m+=E.getNumDataCodewords()}}catch(W){r={error:W}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var A=new Uint8Array(m),S=0;try{for(var C=KE(p),N=C.next();!N.done;N=C.next()){var E=N.value,D=E.getCodewords(),B=E.getNumDataCodewords();this.correctErrors(D,B);for(var F=0;F<B;F++)A[S++]=D[F]}}catch(W){a={error:W}}finally{try{N&&!N.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}return yj.decode(A,u,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new mn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),_j=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wj=function(n){_j(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,s,u)},e}(be),Ej=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bj=function(){function n(e,t,r,i,a,s,u){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),u=this.image,c=0;c<t;c++){var h=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!u.get(p,h);)p++;for(var m=0;p<i;){if(u.get(p,h))if(m===1)s[1]++;else if(m===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,m=1}else s[++m]++;else m===1&&m++,s[m]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ae},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&u[1]<=r;)u[1]++,c++;if(c===s||u[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&u[2]<=r;)u[2]++,c++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],u=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,u,2*e[1],s);if(!isNaN(c)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=Ej(this.possibleCenters),m=p.next();!m.done;m=p.next()){var y=m.value;if(y.aboutEquals(h,c,u))return y.combineEstimate(c,u,h)}}catch(E){i={error:E}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new wj(u,c,h);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},n}(),Aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sj=function(n){Aj(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,u,c,a)},e}(be),Tj=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Oc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cj=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Pt.TRY_HARDER)!==void 0,r=e!=null&&e.get(Pt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),u=Math.floor(3*a/(4*n.MAX_MODULES));(u<n.MIN_SKIP||t)&&(u=n.MIN_SKIP);for(var c=!1,h=new Int32Array(5),p=u-1;p<a&&!c;p+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var m=0,y=0;y<s;y++)if(i.get(y,p))(m&1)===1&&m++,h[m]++;else if((m&1)===0)if(m===4)if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,y,r);if(_===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var E=this.findRowSkip();E>h[2]&&(p+=E-h[2]-u,y=s-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;continue}m=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,m=3;else h[++m]++;else h[m]++;if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,s,r);_===!0&&(u=h[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var A=this.selectBestPatterns();return be.orderBestPatterns(A),new Tj(A)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,u=this.image;e>=s&&t>=s&&u.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!u.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&u.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=u.getHeight(),h=u.getWidth();for(s=1;e+s<c&&t+s<h&&u.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=h)return!1;for(;e+s<c&&t+s<h&&!u.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=h||a[3]>=r)return!1;for(;e+s<c&&t+s<h&&u.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(u)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(u),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(s),e[2],a)))){for(var c=a/7,h=!1,p=this.possibleCenters,m=0,y=p.length;m<y;m++){var _=p[m];if(_.aboutEquals(c,u,s)){p[m]=_.combineEstimate(u,s,c),h=!0;break}}if(!h){var E=new Sj(s,u,c);p.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Oc(this.possibleCenters),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.getCount()>=n.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,u=this.possibleCenters.length;try{for(var c=Oc(this.possibleCenters),h=c.next();!h.done;h=c.next()){var p=h.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(A){e={error:A}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var m=s/u,y=0;try{for(var _=Oc(this.possibleCenters),E=_.next();!E.done;E=_.next()){var p=E.value;y+=Math.abs(p.getEstimatedModuleSize()-m)}}catch(A){r={error:A}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ae;var s=this.possibleCenters,u;if(a>3){var c=0,h=0;try{for(var p=Oc(this.possibleCenters),m=p.next();!m.done;m=p.next()){var y=m.value,_=y.getEstimatedModuleSize();c+=_,h+=_*_}}catch(F){e={error:F}}finally{try{m&&!m.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}u=c/a;var E=Math.sqrt(h/a-u*u);s.sort(function(F,W){var M=Math.abs(W.getEstimatedModuleSize()-u),R=Math.abs(F.getEstimatedModuleSize()-u);return M<R?-1:M>R?1:0});for(var A=Math.max(.2*u,E),S=0;S<s.length&&s.length>3;S++){var C=s[S];Math.abs(C.getEstimatedModuleSize()-u)>A&&(s.splice(S,1),S--)}}if(s.length>3){var c=0;try{for(var N=Oc(s),D=N.next();!D.done;D=N.next()){var B=D.value;c+=B.getEstimatedModuleSize()}}catch(W){r={error:W}}finally{try{D&&!D.done&&(i=N.return)&&i.call(N)}finally{if(r)throw r.error}}u=c/s.length,s.sort(function(W,M){if(M.getCount()===W.getCount()){var R=Math.abs(M.getEstimatedModuleSize()-u),P=Math.abs(W.getEstimatedModuleSize()-u);return R<P?1:R>P?-1:0}else return M.getCount()-W.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),Ij=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Pt.NEED_RESULT_POINT_CALLBACK);var t=new Cj(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ae("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),u=Is.getProvisionalVersionForDimension(s),c=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),m=r.getY()-t.getY()+i.getY(),y=1-3/c,_=Math.floor(t.getX()+y*(p-t.getX())),E=Math.floor(t.getY()+y*(m-t.getY())),A=4;A<=16;A<<=1)try{h=this.findAlignmentInRegion(a,_,E,A);break}catch(D){if(!(D instanceof ae))throw D}var S=n.createTransform(t,r,i,h,s),C=n.sampleGrid(this.image,S,s),N;return h===null?N=[i,t,r]:N=[i,t,r,h],new Gv(C,N)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,u,c,h,p;return i!==null?(u=i.getX(),c=i.getY(),h=s-3,p=h):(u=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),h=s,p=s),EC.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,h,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),u,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=qv.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=ht.round(be.distance(e,t)/i),s=ht.round(be.distance(e,r)/i),u=Math.floor((a+s)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ae("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,u=e-(r-e);u<0?(s=e/(e-u),u=0):u>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var u=Math.abs(r-e),c=Math.abs(i-t),h=-u/2,p=e<r?1:-1,m=t<i?1:-1,y=0,_=r+p,E=e,A=t;E!==_;E+=p){var S=a?A:E,C=a?E:A;if(y===1===this.image.get(S,C)){if(y===2)return ht.distance(E,A,e,t);y++}if(h+=c,h>0){if(A===i)break;A+=m,h-=u}}return y===2?ht.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-s<e*3)throw new ae("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),h=Math.min(this.image.getHeight()-1,r+a);if(h-c<e*3)throw new ae("Alignment bottom exceeds estimated module size.");var p=new bj(this.image,s,c,u-s,h-c,e,this.resultPointCallback);return p.find()},n}(),l0=function(){function n(){this.decoder=new xj}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Pt.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new Ij(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof IC&&r.getOther().applyMirroredCorrection(i);var u=new lr(r.getText(),r.getRawBytes(),void 0,i,Ne.QR_CODE,void 0),c=r.getByteSegments();c!==null&&u.putMetadata(Qn.BYTE_SEGMENTS,c);var h=r.getECLevel();return h!==null&&u.putMetadata(Qn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(Qn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(Qn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ae;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0];if(u>=c||a>=s)throw new ae;if(s-a!==c-u&&(c=u+(s-a),c>=e.getWidth()))throw new ae;var h=Math.round((c-u+1)/i),p=Math.round((s-a+1)/i);if(h<=0||p<=0)throw new ae;if(p!==h)throw new ae;var m=Math.floor(i/2);a+=m,u+=m;var y=u+Math.floor((h-1)*i)-c;if(y>0){if(y>m)throw new ae;u-=y}var _=a+Math.floor((p-1)*i)-s;if(_>0){if(_>m)throw new ae;a-=_}for(var E=new $i(h,p),A=0;A<p;A++)for(var S=a+Math.floor(A*i),C=0;C<h;C++)e.get(u+Math.floor(C*i),S)&&E.set(C,A);return E},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],u=!0,c=0;a<i&&s<r;){if(u!==t.get(a,s)){if(++c===5)break;u=!u}a++,s++}if(a===i||s===r)throw new ae;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),Nj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ut=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return ht.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=Nj(e),u=s.next();!u.done;u=s.next()){var c=u.value;i[a++]=c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=Tn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),Rj=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),Oj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Dj=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new Rj(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,u=0,c=!1;s<t.getHeight();){var h=n.findVertices(t,s,u);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,u=0;try{for(var p=(r=void 0,Oj(a)),m=p.next();!m.done;m=p.next()){var y=m.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(_){r={error:_}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var u=new Array(4),c=!1,h=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,h);if(p!=null){for(;i>0;){var m=n.findGuardPattern(e,a,--i,r,!1,s,h);if(m!=null)p=m;else{i++;break}}u[0]=new be(p[0],i),u[1]=new be(p[1],i),c=!0;break}}var y=i+1;if(c){for(var _=0,m=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,m[0],y,r,!1,s,h);if(p!=null&&Math.abs(m[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(m[1]-p[1])<n.MAX_PATTERN_DRIFT)m=p,_=0;else{if(_>n.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,u[2]=new be(m[0],y),u[3]=new be(m[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&Tn.fill(u,null),u},n.findGuardPattern=function(e,t,r,i,a,s,u){Tn.fillWithin(u,0,u.length,0);for(var c=t,h=0;e.get(c,r)&&c>0&&h++<n.MAX_PIXEL_DRIFT;)c--;for(var p=c,m=0,y=s.length,_=a;p<i;p++){var E=e.get(p,r);if(E!==_)u[m]++;else{if(m===y-1){if(n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=u[0]+u[1],Dt.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,_=!_}}return m===y-1&&n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return 1/0;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var m=e[p],y=t[p]*c,_=m>y?m-y:y-m;if(_>r)return 1/0;h+=_}return h/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),Pj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ss=function(){function n(e,t){if(t.length===0)throw new Re;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),Dt.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=Pj(this.coefficients),s=a.next();!s.done;s=a.next()){var u=s.value;i=this.field.add(i,u)}}catch(m){t={error:m}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)c=this.field.add(this.field.multiply(e,c),this.coefficients[p]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Re("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;Dt.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=this.field.add(t[u-s],r[u]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Re("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Re("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=0;u<r;u++)for(var c=t[u],h=0;h<a;h++)s[u+h]=this.field.add(s[u+h],this.field.multiply(c,i[h]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Re;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new $e,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),Mj=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Re;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new wC;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),kj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lj=function(n){kj(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new Ss(i,new Int32Array([0])),i.one=new Ss(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Re;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Ss(this,i)},e.PDF417_GF=new e(ut.NUMBER_OF_CODEWORDS,3),e}(Mj),jj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bj=function(){function n(){this.field=Lj.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new Ss(this.field,e),u=new Int32Array(t),c=!1,h=t;h>0;h--){var p=s.evaluateAt(this.field.exp(h));u[t-h]=p,p!==0&&(c=!0)}if(!c)return 0;var m=this.field.getOne();if(r!=null)try{for(var y=jj(r),_=y.next();!_.done;_=y.next()){var E=_.value,A=this.field.exp(e.length-1-E),S=new Ss(this.field,new Int32Array([this.field.subtract(0,A),1]));m=m.multiply(S)}}catch(R){i={error:R}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var C=new Ss(this.field,u),N=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),C,t),D=N[0],B=N[1],F=this.findErrorLocations(D),W=this.findErrorMagnitudes(B,D,F),h=0;h<F.length;h++){var M=e.length-1-this.field.log(F[h]);if(M<0)throw mn.getChecksumInstance();e[M]=this.field.subtract(e[M],W[h])}return F.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,u=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var h=a,p=u;if(a=s,u=c,a.isZero())throw mn.getChecksumInstance();s=h;for(var m=this.field.getZero(),y=a.getCoefficient(a.getDegree()),_=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var E=s.getDegree()-a.getDegree(),A=this.field.multiply(s.getCoefficient(s.getDegree()),_);m=m.add(this.field.buildMonomial(E,A)),s=s.subtract(a.multiplyByMonomial(E,A))}c=m.multiply(u).subtract(p).negative()}var S=c.getCoefficient(0);if(S===0)throw mn.getChecksumInstance();var C=this.field.inverse(S),N=c.multiply(C),D=s.multiply(C);return[N,D]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw mn.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var u=new Ss(this.field,a),c=r.length,h=new Int32Array(c),s=0;s<c;s++){var p=this.field.inverse(r[s]),m=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(u.evaluateAt(p));h[s]=this.field.multiply(m,y)}return h},n}(),Sg=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,u=i==null||a==null;if(s&&u)throw new ae;s?(t=new be(0,i.getY()),r=new be(0,a.getY())):u&&(i=new be(e.getWidth()-1,t.getY()),a=new be(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,u=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,h=Math.trunc(c.getY()-e);h<0&&(h=0);var p=new be(c.getX(),h);r?i=p:s=p}if(t>0){var m=r?this.bottomLeft:this.bottomRight,y=Math.trunc(m.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new be(m.getX(),y);r?a=_:u=_}return new n(this.image,i,a,s,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),Vj=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),Wv=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,u,c,h,p,m){if(s==="%%")return"%";if(t[++r]!==void 0){s=h?parseInt(h.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,_;switch(m){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(s);break;case"p":_=parseFloat(t[r]).toPrecision(s);break;case"e":_=parseFloat(t[r]).toExponential(s);break;case"x":_=parseInt(t[r]).toString(y||16);break;case"d":_=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var E=parseInt(c),A=c&&c[0]+""=="0"?"0":" ";_.length<E;)_=u!==void 0?_+A:A+_;return _}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),Uj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NC=function(){function n(e){this.boundingBox=new Sg(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new Wv,i=0;try{for(var a=Uj(this.codewords),s=a.next();!s.done;s=a.next()){var u=s.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),Fj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Hj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},Fc=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(m,y){var _={getKey:function(){return m},getValue:function(){return y}};_.getValue()>r?(r=_.getValue(),i=[],i.push(_.getKey())):_.getValue()===r&&i.push(_.getKey())};try{for(var s=Fj(this.values.entries()),u=s.next();!u.done;u=s.next()){var c=Hj(u.value,2),h=c[0],p=c[1];a(h,p)}}catch(m){e={error:m}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return ut.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),zj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),km=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QE=function(n){zj(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=km(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,p=1,m=0,y=u;y<c;y++)if(r[y]!=null){var _=r[y],E=_.getRowNumber()-h;if(E===0)m++;else if(E===1)p=Math.max(p,m),m=1,h=_.getRowNumber();else if(E<0||_.getRowNumber()>=t.getRowCount()||E>y)r[y]=null;else{var A=void 0;p>2?A=(p-2)*E:A=E;for(var S=A>=y,C=1;C<=A&&!S;C++)S=r[y-C]!=null;S?r[y]=null:(h=_.getRowNumber(),m=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=km(this.getCodewords()),u=s.next();!u.done;u=s.next()){var c=u.value;if(c!=null){var h=c.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),h=-1,p=s;p<u;p++)if(c[p]!=null){var m=c[p];m.setRowNumberAsRowIndicatorColumn();var y=m.getRowNumber()-h;y===0||(y===1?h=m.getRowNumber():m.getRowNumber()>=t.getRowCount()?c[p]=null:h=m.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new Fc,s=new Fc,u=new Fc,c=new Fc;try{for(var h=km(i),p=h.next();!p.done;p=h.next()){var m=p.value;if(m!=null){m.setRowNumberAsRowIndicatorColumn();var y=m.getValue()%30,_=m.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(A){t={error:A}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<ut.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>ut.MAX_ROWS_IN_BARCODE)return null;var E=new Vj(a.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,E),E},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(NC),Gj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qj=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=ut.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[t],h[3]=c[t],t>0&&(h[0]=r[t-1],h[4]=u[t-1],h[5]=c[t-1]),t>1&&(h[8]=r[t-2],h[10]=u[t-2],h[11]=c[t-2]),t<r.length-1&&(h[1]=r[t+1],h[6]=u[t+1],h[7]=c[t+1]),t<r.length-2&&(h[9]=r[t+2],h[12]=u[t+2],h[13]=c[t+2]);try{for(var p=Gj(h),m=p.next();!m.done;m=p.next()){var y=m.value;if(n.adjustRowNumber(s,y))return}}catch(_){i={error:_}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new Wv,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),Xj=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),Wj=function(){function n(){}return n.initialize=function(){for(var e=0;e<ut.SYMBOL_TABLE.length;e++)for(var t=ut.SYMBOL_TABLE[e],r=t&1,i=0;i<ut.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(ut.BARS_IN_MODULE)),n.RATIOS_TABLE[e][ut.BARS_IN_MODULE-i-1]=Math.fround(a/ut.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=ht.sum(e),r=new Int32Array(ut.BARS_IN_MODULE),i=0,a=0,s=0;s<ut.MODULES_IN_CODEWORD;s++){var u=t/(2*ut.MODULES_IN_CODEWORD)+s*t/ut.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return ut.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=ht.sum(e),r=new Array(ut.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=Eg.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var c=0,h=n.RATIOS_TABLE[u],p=0;p<ut.BARS_IN_MODULE;p++){var m=Math.fround(h[p]-r[p]);if(c+=Math.fround(m*m),c>=a)break}c<a&&(a=c,s=ut.SYMBOL_TABLE[u])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(ut.SYMBOL_TABLE.length).map(function(e){return new Array(ut.BARS_IN_MODULE)}),n}(),$j=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),ZE=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),Yj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Kj=function(n){Yj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Nr),Qj=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new Kj;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new zv;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),Zj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jj=function(n){Zj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Nr),eB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),tB=function(n){eB(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Re("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new Jj;i=Qe.MAX_VALUE}this.buf=Tn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new zv;this.ensureCapacity(this.count+i),Dt.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Tn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Qj),Nt;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nt||(Nt={}));function RC(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var md;function _o(n){if(typeof md>"u"&&(md=RC()),md===null)throw new Error("BigInt is not supported!");return md(n)}function nB(){var n=[];n[0]=_o(1);var e=_o(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var rB=function(){function n(){}return n.decode=function(e,t){var r=new $e(""),i=An.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],u=new $j;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:An.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new ye;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw ye.getFormatInstance()}if(r.length()===0)throw ye.getFormatInstance();var c=new X0(null,r.toString(),null,t);return c.setOther(u),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ye.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Qe.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new $e;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var u=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new $e;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new $e;t=n.textCompaction(e,t+1,h),r.setSender(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new $e;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var m=new $e;t=n.numericCompaction(e,t+1,m),r.setSegmentCount(Qe.parseInt(m.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new $e;t=n.numericCompaction(e,t+1,y),r.setTimestamp(ZE.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new $e;t=n.numericCompaction(e,t+1,_),r.setChecksum(Qe.parseInt(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var E=new $e;t=n.numericCompaction(e,t+1,E),r.setFileSize(ZE.parseLong(E.toString()));break;default:throw ye.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw ye.getFormatInstance()}if(u!==-1){var A=t-u;r.isLastSegment()&&A--,r.setOptionalData(Tn.copyOfRange(e,u,u+A))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=Nt.ALPHA,s=Nt.ALPHA,u=0;u<r;){var c=e[u],h="";switch(a){case Nt.ALPHA:if(c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.LL:a=Nt.LOWER;break;case n.ML:a=Nt.MIXED;break;case n.PS:s=a,a=Nt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.LOWER:if(c<26)h=String.fromCharCode(97+c);else switch(c){case 26:h=" ";break;case n.AS:s=a,a=Nt.ALPHA_SHIFT;break;case n.ML:a=Nt.MIXED;break;case n.PS:s=a,a=Nt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.MIXED:if(c<n.PL)h=n.MIXED_CHARS[c];else switch(c){case n.PL:a=Nt.PUNCT;break;case 26:h=" ";break;case n.LL:a=Nt.LOWER;break;case n.AL:a=Nt.ALPHA;break;case n.PS:s=a,a=Nt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.PUNCT:if(c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=Nt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.ALPHA_SHIFT:if(a=s,c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.PUNCT_SHIFT:if(a=s,c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=Nt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break}h!==""&&i.append(h),u++}},n.byteCompaction=function(e,t,r,i,a){var s=new tB,u=0,c=0,h=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),m=t[i++];i<t[0]&&!h;)switch(p[u++]=m,c=900*c+m,m=t[i++],m){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(_o(c)>>_o(8*(5-y))));c=0,u=0}break}i===t[0]&&m<n.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=m);for(var _=0;_<u;_++)s.write(p[_]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var E=t[i++];if(E<n.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+E;else switch(E){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(_o(c)>>_o(8*(5-y))));c=0,u=0}}break}return a.append(ti.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<n.TEXT_COMPACTION_MODE_LATCH)s[i]=u,i++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||u===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=_o(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*_o(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new ye;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=RC()?nB():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Dc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iB=function(){function n(){}return n.decode=function(e,t,r,i,a,s,u){for(var c=new Sg(e,t,r,i,a),h=null,p=null,m,y=!0;;y=!1){if(t!=null&&(h=n.getRowIndicatorColumn(e,c,t,!0,s,u)),i!=null&&(p=n.getRowIndicatorColumn(e,c,i,!1,s,u)),m=n.merge(h,p),m==null)throw ae.getNotFoundInstance();var _=m.getBoundingBox();if(y&&_!=null&&(_.getMinY()<c.getMinY()||_.getMaxY()>c.getMaxY()))c=_;else break}m.setBoundingBox(c);var E=m.getBarcodeColumnCount()+1;m.setDetectionResultColumn(0,h),m.setDetectionResultColumn(E,p);for(var A=h!=null,S=1;S<=E;S++){var C=A?S:E-S;if(m.getDetectionResultColumn(C)===void 0){var N=void 0;C===0||C===E?N=new QE(c,C===0):N=new NC(c),m.setDetectionResultColumn(C,N);for(var D=-1,B=D,F=c.getMinY();F<=c.getMaxY();F++){if(D=n.getStartColumn(m,C,F,A),D<0||D>c.getMaxX()){if(B===-1)continue;D=B}var W=n.detectCodeword(e,c.getMinX(),c.getMaxX(),A,D,F,s,u);W!=null&&(N.setCodeword(F,W),B=D,s=Math.min(s,W.getWidth()),u=Math.max(u,W.getWidth()))}}}return n.createDecoderResult(m)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=Sg.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new qj(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var u=Dc(i),c=u.next();!c.done;c=u.next()){var h=c.value;if(s+=a-h,h>0)break}}catch(_){t={error:_}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),m=0;s>0&&p[m]==null;m++)s--;for(var y=0,m=i.length-1;m>=0&&(y+=a-i[m],!(i[m]>0));m--);for(var m=p.length-1;y>0&&p[m]==null;m--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Dc(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=Math.max(i,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var u=new QE(t,i),c=0;c<2;c++)for(var h=c===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),m=Math.trunc(Math.trunc(r.getY()));m<=t.getMaxY()&&m>=t.getMinY();m+=h){var y=n.detectCodeword(e,0,e.getWidth(),i,p,m,a,s);y!=null&&(u.setCodeword(m,y),i?p=y.getStartX():p=y.getEndX())}return u},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>ut.MAX_CODEWORDS_IN_BARCODE)throw ae.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var h=t[u][c+1].getValue(),p=u*e.getBarcodeColumnCount()+c;h.length===0?r.push(p):h.length===1?i[p]=h[0]:(s.push(p),a.push(h))}for(var m=new Array(a.length),y=0;y<m.length;y++)m[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ut.toIntArray(r),ut.toIntArray(s),m)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),u=100;u-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(p){var h=p instanceof mn;if(!h)throw p}if(s.length===0)throw mn.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw mn.getChecksumInstance()}throw mn.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)s[u][c]=new Fc;var h=0;try{for(var p=Dc(e.getDetectionResultColumns()),m=p.next();!m.done;m=p.next()){var y=m.value;if(y!=null)try{for(var _=(i=void 0,Dc(y.getCodewords())),E=_.next();!E.done;E=_.next()){var A=E.value;if(A!=null){var S=A.getRowNumber();if(S>=0){if(S>=s.length)continue;s[S][h].setValue(A.getValue())}}}}catch(C){i={error:C}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h++}}catch(C){t={error:C}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,u=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var h=0;n.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var p=(a=void 0,Dc(e.getDetectionResultColumn(t).getCodewords())),m=p.next();!m.done;m=p.next()){var y=m.value;if(y!=null)return(i?y.getEndX():y.getStartX())+u*h*(y.getEndX()-y.getStartX())}}catch(_){a={error:_}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,u,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var h=n.getModuleBitCount(e,t,r,i,a,s);if(h==null)return null;var p,m=ht.sum(h);if(i)p=a+m;else{for(var y=0;y<h.length/2;y++){var _=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=_}p=a,a=p-m}if(!n.checkCodewordSkew(m,u,c))return null;var E=Wj.getDecodedValue(h),A=ut.getCodeword(E);return A===-1?null:new Xj(a,p,n.getCodewordBucketNumber(E),A)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var u=a,c=new Int32Array(8),h=0,p=i?1:-1,m=i;(i?u<r:u>=t)&&h<c.length;)e.get(u,s)===m?(c[h]++,u+=p):(h++,m=!m);return h===c.length||u===(i?r:t)&&h===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var u=a,c=i?-1:1,h=0;h<2;h++){for(;(i?u>=t:u<r)&&i===e.get(u,s);){if(Math.abs(a-u)>n.CODEWORD_SKEW_SIZE)return a;u+=c}c=-c,i=!i}return u},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw ye.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=rB.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw mn.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw ye.getFormatInstance();var r=e[0];if(r>e.length)throw ye.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw ye.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new Wv,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new Bj,n}(),aB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},u0=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ae.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof ye||r instanceof mn?ae.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,u=Dj.detectMultiple(e,t,r);try{for(var c=aB(u.getPoints()),h=c.next();!h.done;h=c.next()){var p=h.value,m=iB.decode(u.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new lr(m.getText(),m.getRawBytes(),void 0,p,Ne.PDF_417);y.putMetadata(Qn.ERROR_CORRECTION_LEVEL,m.getECLevel());var _=m.getOther();_!=null&&y.putMetadata(Qn.PDF417_EXTRA_METADATA,_),s.push(y)}}catch(E){i={error:E}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(E){return E})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Qe.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*ut.MODULES_IN_CODEWORD/ut.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),oB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),JE=function(n){oB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(Nr),eb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OC=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Pt.TRY_HARDER)!==void 0,r=e==null?null:e.get(Pt.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Ne.UPC_A||s===Ne.UPC_E||s===Ne.EAN_13||s===Ne.EAN_8||s===Ne.CODABAR||s===Ne.CODE_39||s===Ne.CODE_93||s===Ne.CODE_128||s===Ne.ITF||s===Ne.RSS_14||s===Ne.RSS_EXPANDED});a&&!t&&i.push(new jl(e)),r.includes(Ne.QR_CODE)&&i.push(new l0),r.includes(Ne.DATA_MATRIX)&&i.push(new s0),r.includes(Ne.AZTEC)&&i.push(new a0),r.includes(Ne.PDF_417)&&i.push(new u0),a&&t&&i.push(new jl(e))}i.length===0&&(t||i.push(new jl(e)),i.push(new l0),i.push(new s0),i.push(new a0),i.push(new u0),t&&i.push(new jl(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=eb(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new JE("No readers where selected, nothing can be read.");try{for(var i=eb(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(u){if(u instanceof JE)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ae("No MultiFormat Readers were able to detect the code.")},n}(),sB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){sB(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new OC;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(gu);var lB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){lB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new u0,t)||this}return e})(gu);var uB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){uB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new l0,t)||this}return e})(gu);var Tg;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(Tg||(Tg={}));const gd=Tg;var DC=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new No(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new No(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Re("No error correction bytes");var r=e.length-t;if(r<=0)throw new Re("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);Dt.arraycopy(e,0,a,0,r);var s=new No(this.field,a);s=s.multiplyByMonomial(t,1);for(var u=s.divide(i)[1],c=u.getCoefficients(),h=t-c.length,p=0;p<h;p++)e[r+p]=0;Dt.arraycopy(c,0,e,r+h,c.length)},n}(),Hc=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var u=r[s],c=0;c<i-1;c++){var h=u[c];h===u[c+1]&&h===r[s+1][c]&&h===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=0;u<i;u++){var c=r[s];u+6<i&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(n.isWhiteHorizontal(c,u-4,u)||n.isWhiteHorizontal(c,u+7,u+11))&&t++,s+6<a&&r[s][u]===1&&r[s+1][u]===0&&r[s+2][u]===1&&r[s+3][u]===1&&r[s+4][u]===1&&r[s+5][u]===0&&r[s+6][u]===1&&(n.isWhiteVertical(r,u,s-4,s)||n.isWhiteVertical(r,u,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=r[s],c=0;c<i;c++)u[c]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Re("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),u=0;u<i;u++){for(var c=0,h=-1,p=0;p<a;p++){var m=t?s[u][p]:s[p][u];m===h?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,h=m)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),cB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fB=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=cB(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;Tn.fill(s,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],u=0,c=this.width;u<c;++u)if(a[u]!==s[u])return!1;return!0},n.prototype.toString=function(){for(var e=new $e,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),Cg=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new $e;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),hB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mt=function(n){hB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(Nr),tb=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Un;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var u=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],h=c[0],p=c[1];if(r.setBoolean(h,p,u),a<8){var m=r.getWidth()-a-1,y=8;r.setBoolean(m,y,u)}else{var m=8,y=r.getHeight()-7+(a-8);r.setBoolean(m,y,u)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Un;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var u=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,u),t.setBoolean(t.getHeight()-11+s,a,u)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,u=r.getHeight()-1;s>0;){for(s===6&&(s-=1);u>=0&&u<r.getHeight();){for(var c=0;c<2;++c){var h=s-c;if(n.isEmpty(r.get(h,u))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&Hc.getDataMaskBit(t,h,u)&&(p=!p),r.setBoolean(h,u,p)}}u+=a}a=-a,u+=a,s-=2}if(i!==e.getSize())throw new Mt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Qe.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Re("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Cg.isValidMaskPattern(t))throw new Mt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new Un;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Mt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Mt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Mt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Mt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Mt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var u=i[a];if(u>=0)for(var c=0;c!==s;c++){var h=i[c];h>=0&&n.isEmpty(t.get(h,u))&&n.embedPositionAdjustmentPattern(h-2,u-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),dB=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),nb=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return Hc.applyMaskPenaltyRule1(e)+Hc.applyMaskPenaltyRule2(e)+Hc.applyMaskPenaltyRule3(e)+Hc.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(gd.CHARACTER_SET)!==void 0;a&&(i=r.get(gd.CHARACTER_SET).toString());var s=this.chooseMode(e,i),u=new Un;if(s===kt.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=An.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(s,u);var h=new Un;this.appendBytes(e,s,h,i);var p;if(r!==null&&r.get(gd.QR_VERSION)!==void 0){var m=Number.parseInt(r.get(gd.QR_VERSION).toString(),10);p=Is.getVersionForNumber(m);var y=this.calculateBitsNeeded(s,u,h,p);if(!this.willFit(y,p,t))throw new Mt("Data too big for requested version")}else p=this.recommendVersion(t,s,u,h);var _=new Un;_.appendBitArray(u);var E=s===kt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(E,p,s,_),_.appendBitArray(h);var A=p.getECBlocksForLevel(t),S=p.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(S,_);var C=this.interleaveWithECBytes(_,p.getTotalCodewords(),S,A.getNumBlocks()),N=new Cg;N.setECLevel(t),N.setMode(s),N.setVersion(p);var D=p.getDimensionForVersion(),B=new fB(D,D),F=this.chooseMaskPattern(C,t,p,B);return N.setMaskPattern(F),tb.buildMatrix(C,t,p,F,B),N.setMatrix(B),N},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Is.getVersionForNumber(1)),s=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(u,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),An.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return kt.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var u=e.charAt(a);if(n.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return kt.BYTE}return i?kt.ALPHANUMERIC:r?kt.NUMERIC:kt.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=ti.encode(e,An.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,u=0;u<Cg.NUM_MASK_PATTERNS;u++){tb.buildMatrix(e,t,r,u,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=u)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Is.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Mt("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),u=i-s,c=(e+7)/8;return u>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Mt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Mt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Mt("Block ID too large");var u=e%r,c=r-u,h=Math.floor(e/r),p=h+1,m=Math.floor(t/r),y=m+1,_=h-m,E=p-y;if(_!==E)throw new Mt("EC bytes mismatch");if(r!==c+u)throw new Mt("RS blocks mismatch");if(e!==(m+_)*c+(y+E)*u)throw new Mt("Total bytes mismatch");i<c?(a[0]=m,s[0]=_):(a[0]=y,s[0]=E)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,u,c;if(e.getSizeInBytes()!==r)throw new Mt("Number of bits and data bytes does not match");for(var h=0,p=0,m=0,y=new Array,_=0;_<i;++_){var E=new Int32Array(1),A=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,_,E,A);var S=E[0],C=new Uint8Array(S);e.toBytes(8*h,C,0,S);var N=n.generateECBytes(C,A[0]);y.push(new dB(C,N)),p=Math.max(p,S),m=Math.max(m,N.length),h+=E[0]}if(r!==h)throw new Mt("Data bytes does not match offset");for(var D=new Un,_=0;_<p;++_)try{for(var B=(a=void 0,nb(y)),F=B.next();!F.done;F=B.next()){var W=F.value,C=W.getDataBytes();_<C.length&&D.appendBits(C[_],8)}}catch(L){a={error:L}}finally{try{F&&!F.done&&(s=B.return)&&s.call(B)}finally{if(a)throw a.error}}for(var _=0;_<m;++_)try{for(var M=(u=void 0,nb(y)),R=M.next();!R.done;R=M.next()){var W=R.value,N=W.getErrorCorrectionBytes();_<N.length&&D.appendBits(N[_],8)}}catch(L){u={error:L}}finally{try{R&&!R.done&&(c=M.return)&&c.call(M)}finally{if(u)throw u.error}}if(t!==D.getSizeInBytes())throw new Mt("Interleaving error: "+t+" and "+D.getSizeInBytes()+" differ.");return D},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new DC(Sr.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Mt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case kt.NUMERIC:n.appendNumericBytes(e,r);break;case kt.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case kt.BYTE:n.append8BitBytes(e,r,i);break;case kt.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Mt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),u=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+u,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Mt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Mt;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=ti.encode(e,r)}catch(c){throw new Mt(c)}for(var a=0,s=i.length;a!==s;a++){var u=i[a];t.appendBits(u,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=ti.encode(e,An.SJIS)}catch(m){throw new Mt(m)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,u=r[a+1]&255,c=s<<8&4294967295|u,h=-1;if(c>=33088&&c<=40956?h=c-33088:c>=57408&&c<=60351&&(h=c-49472),h===-1)throw new Mt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(kt.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=An.UTF8.getName(),n})();var pB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){pB(e,n);function e(t,r,i,a,s,u,c,h){var p=n.call(this,u,c)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+u>r||s+c>i)throw new Re("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(u,c),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.yuvData,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var c=u*t,h=0;h<t;h++){var p=a[s+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var u=s+t/2,c=s,h=s+t-1;c<u;c++,h--){var p=i[c];i[c]=i[h],i[h]=p}},e.prototype.invert=function(){return new q0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Mf);var mB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){mB(e,n);function e(t,r,i,a,s,u,c){var h=n.call(this,r,i)||this;if(h.dataWidth=a,h.dataHeight=s,h.left=u,h.top=c,t.BYTES_PER_ELEMENT===4){for(var p=r*i,m=new Uint8ClampedArray(p),y=0;y<p;y++){var _=t[y],E=_>>16&255,A=_>>7&510,S=_&255;m[y]=(E+A+S)/4&255}h.luminances=m}else h.luminances=t;if(a===void 0&&(h.dataWidth=r),s===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),c===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new Re("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return Dt.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Dt.arraycopy(this.luminances,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;Dt.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new q0(this)},e})(Mf);var gB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vB=function(n){gB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(An),yB=function(){function n(){}return n.ISO_8859_1=An.ISO8859_1,n}(),Ig,xB=301,_B=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=xB);return{LOG:n,ALOG:e}};Ig=_B([],[]),Ig.LOG;Ig.ALOG;var rb;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(rb||(rb={}));var ib=129,PC=230,wB=231,EB=235,bB=236,AB=237,SB=238,TB=239,CB=240,Lm=254,IB=254,ab="[)>05",ob="[)>06",sb="",At=0,$n=1,gr=2,En=3,Bn=4,rr=5,NB=function(){function n(){}return n.prototype.getEncodingMode=function(){return At},n.prototype.encode=function(e){var t=pi.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=pi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case rr:e.writeCodeword(wB),e.signalEncoderChange(rr);return;case $n:e.writeCodeword(PC),e.signalEncoderChange($n);return;case En:e.writeCodeword(SB),e.signalEncoderChange(En);break;case gr:e.writeCodeword(TB),e.signalEncoderChange(gr);break;case Bn:e.writeCodeword(CB),e.signalEncoderChange(Bn);break;default:throw new Error("Illegal mode: "+i)}else pi.isExtendedASCII(r)?(e.writeCodeword(EB),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(pi.isDigit(e)&&pi.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),RB=function(){function n(){}return n.prototype.getEncodingMode=function(){return rr},n.prototype.encode=function(e){var t=new $e;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=pi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(At);break}}var a=t.length()-1,s=1,u=e.getCodewordCount()+a+s;e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,lt.getCharAt(a));else if(a<=1555)t.setCharAt(0,lt.getCharAt(Math.floor(a/250)+249)),t.insert(1,lt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,r=t.length();h<r;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),$v=function(){function n(){}return n.prototype.getEncodingMode=function(){return $n},n.prototype.encodeMaximal=function(e){for(var t=new $e,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var h=e.getSymbolInfo().getDataCapacity()-c,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(r>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(PC),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new $e;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new $e;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var h=t.length();if(h%3===0){var p=pi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(At);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Lm)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Lm),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Lm)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(At)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new $e;return a.append(r),a.append(i),a.toString()},n}(),OB=function(){function n(){}return n.prototype.getEncodingMode=function(){return Bn},n.prototype.encode=function(e){for(var t=new $e;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=pi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(At);break}}}t.append(lt.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),h=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(u)}finally{e.signalEncoderChange(At)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(lt.getCharAt(e-64)):pi.illegalCharacter(lt.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(a<<6)+s,c=u>>16&255,h=u>>8&255,p=u&255,m=new $e;return m.append(c),t>=2&&m.append(h),t>=3&&m.append(p),m.toString()},n}(),DB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gt=function(){function n(e,t,r,i,a,s,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=u,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,u;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=PB(kB),h=c.next();!h.done;h=c.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(m){s={error:m}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),MB=function(n){DB(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(gt),kB=[new gt(!1,3,5,8,8,1),new gt(!1,5,7,10,10,1),new gt(!0,5,7,16,6,1),new gt(!1,8,10,12,12,1),new gt(!0,10,11,14,6,2),new gt(!1,12,12,14,14,1),new gt(!0,16,14,24,10,1),new gt(!1,18,14,16,16,1),new gt(!1,22,18,18,18,1),new gt(!0,22,18,16,10,2),new gt(!1,30,20,20,20,1),new gt(!0,32,24,16,14,2),new gt(!1,36,24,22,22,1),new gt(!1,44,28,24,24,1),new gt(!0,49,28,22,14,2),new gt(!1,62,36,14,14,4),new gt(!1,86,42,16,16,4),new gt(!1,114,48,18,18,4),new gt(!1,144,56,20,20,4),new gt(!1,174,68,22,22,4),new gt(!1,204,84,24,24,4,102,42),new gt(!1,280,112,14,14,16,140,56),new gt(!1,368,144,16,16,16,92,36),new gt(!1,456,192,18,18,16,114,48),new gt(!1,576,224,20,20,16,144,56),new gt(!1,696,272,22,22,16,174,68),new gt(!1,816,336,24,24,16,136,56),new gt(!1,1050,408,18,18,36,175,68),new gt(!1,1304,496,20,20,36,163,62),new MB],LB=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),r=new $e,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new $e,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=gt.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),jB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BB=function(n){jB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return En},e.prototype.encode=function(t){for(var r=new $e;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=pi.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(At);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):pi.illegalCharacter(lt.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(IB),t.getNewEncoding()<0&&t.signalEncoderChange(At)},e}($v),VB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UB=function(n){VB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return gr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}($v),pi=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=ib+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new $v,u=[new NB,s,new UB,new BB,new OB,new RB],c=new LB(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(ab)&&e.endsWith(sb)?(c.writeCodeword(bB),c.setSkipAtEnd(2),c.pos+=ab.length):e.startsWith(ob)&&e.endsWith(sb)&&(c.writeCodeword(AB),c.setSkipAtEnd(2),c.pos+=ob.length);var h=At;for(a&&(s.encodeMaximal(c),h=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[h].encode(c),c.getNewEncoding()>=0&&(h=c.getNewEncoding(),c.resetEncoderSignal());var p=c.getCodewordCount();c.updateSymbolInfo();var m=c.getSymbolInfo().getDataCapacity();p<m&&h!==At&&h!==rr&&h!==Bn&&c.writeCodeword("");var y=c.getCodewords();for(y.length()<m&&y.append(ib);y.length()<m;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===En&&i===En){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return At}else if(r===Bn&&i===Bn){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return At}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===At?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),u=[];;){if(t+a===e.length){Tn.fill(s,0),Tn.fill(u,0);var c=this.findMinimums(i,u,Qe.MAX_VALUE,s),h=this.getMinimumCount(s);if(u[At]===c)return At;if(h===1){if(s[rr]>0)return rr;if(s[Bn]>0)return Bn;if(s[gr]>0)return gr;if(s[En]>0)return En}return $n}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[At]+=.5:this.isExtendedASCII(p)?(i[At]=Math.ceil(i[At]),i[At]+=2):(i[At]=Math.ceil(i[At]),i[At]++),this.isNativeC40(p)?i[$n]+=2/3:this.isExtendedASCII(p)?i[$n]+=8/3:i[$n]+=4/3,this.isNativeText(p)?i[gr]+=2/3:this.isExtendedASCII(p)?i[gr]+=8/3:i[gr]+=4/3,this.isNativeX12(p)?i[En]+=2/3:this.isExtendedASCII(p)?i[En]+=13/3:i[En]+=10/3,this.isNativeEDIFACT(p)?i[Bn]+=3/4:this.isExtendedASCII(p)?i[Bn]+=17/4:i[Bn]+=13/4,this.isSpecialB256(p)?i[rr]+=4:i[rr]++,a>=4){if(Tn.fill(s,0),Tn.fill(u,0),this.findMinimums(i,u,Qe.MAX_VALUE,s),u[At]<this.min(u[rr],u[$n],u[gr],u[En],u[Bn]))return At;if(u[rr]<u[At]||u[rr]+1<this.min(u[$n],u[gr],u[En],u[Bn]))return rr;if(u[Bn]+1<this.min(u[rr],u[$n],u[gr],u[En],u[At]))return Bn;if(u[gr]+1<this.min(u[rr],u[$n],u[Bn],u[En],u[At]))return gr;if(u[En]+1<this.min(u[rr],u[$n],u[Bn],u[gr],u[At]))return En;if(u[$n]+1<this.min(u[At],u[rr],u[Bn],u[gr])){if(u[$n]<u[En])return $n;if(u[$n]===u[En]){for(var m=t+a+1;m<e.length;){var y=e.charCodeAt(m);if(this.isX12TermSep(y))return En;if(!this.isNativeX12(y))break;m++}return $n}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,Tn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Qe.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),jm=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lb=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return ti.encode(e,this.charset)!=null}catch{return!1}},n}(),FB=function(){function n(e,t,r){var i,a,s,u,c,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(P){return new lb(vB.forName(P))}),this.encoders=[];var p=[];p.push(new lb(yB.ISO_8859_1));for(var m=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var _=!1;try{for(var E=(i=void 0,jm(p)),A=E.next();!A.done;A=E.next()){var S=A.value,C=e.charAt(y),N=C.charCodeAt(0);if(N===r||S.canEncode(C)){_=!0;break}}}catch(P){i={error:P}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}if(!_)try{for(var D=(s=void 0,jm(this.ENCODERS)),B=D.next();!B.done;B=D.next()){var S=B.value;if(S.canEncode(e.charAt(y))){p.push(S),_=!0;break}}}catch(P){s={error:P}}finally{try{B&&!B.done&&(u=D.return)&&u.call(D)}finally{if(s)throw s.error}}_||(m=!0)}if(p.length===1&&!m)this.encoders=[p[0]];else{this.encoders=[];var F=0;try{for(var W=jm(p),M=W.next();!M.done;M=W.next()){var S=M.value;this.encoders[F++]=S}}catch(P){c={error:P}}finally{try{M&&!M.done&&(h=W.return)&&h.call(W)}finally{if(c)throw c.error}}}var R=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){R=y;break}}this.priorityEncoderIndex=R}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return ti.encode(lt.getCharAt(e),this.encoders[t].name)},n}(),HB=3,zB=function(){function n(e,t,r){this.fnc1=r;var i=new FB(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new $e,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var u=e.charAt(i).charCodeAt(0),c=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(u===s||t.canEncode(u,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),h=c+1);for(var p=c;p<h;p++)(u===s||t.canEncode(u,p))&&this.addEdge(r,i+1,new ub(u,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new ub[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var u=0;u<t.length();u++)a[s][u]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][u],r);for(var u=0;u<t.length();u++)a[s-1][u]=null}for(var c=-1,h=Qe.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var p=a[i][u];p.cachedTotalSize<h&&(h=p.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var m=[],y=a[i][c];y!=null;){if(y.isFNC1())m.unshift(1e3);else for(var _=t.encode(y.c,y.encoderIndex),s=_.length-1;s>=0;s--)m.unshift(_[s]&255);var E=y.previous===null?0:y.previous.encoderIndex;E!==y.encoderIndex&&m.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var A=[],s=0;s<A.length;s++)A[s]=m[s];return A},n}(),ub=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(s+=HB),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),GB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var cb;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(cb||(cb={}));(function(n){GB(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r,i)||this;return u.shape=a,u.macroId=s,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(zB);var qB=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),fb=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),XB=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),WB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Yv=function(n){WB(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Qe.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(XB),$B=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YB=function(n){$B(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Yv);function KB(n,e,t){return new YB(n,e,t)}function Pc(n,e,t){return new Yv(n,e,t)}var QB=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ro=0,c0=1,Jr=2,MC=3,Hi=4,ZB=new Yv(null,0,0),Bm=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],JB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function eV(n){var e,t;try{for(var r=JB(n),i=r.next();!i.done;i=r.next()){var a=i.value;Tn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[Ro][Hi]=0,n[c0][Hi]=0,n[c0][Ro]=28,n[MC][Hi]=0,n[Jr][Hi]=0,n[Jr][Ro]=15,n}var kC=eV(Tn.createInt32Array(6,6)),tV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nV=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=Bm[this.mode][e];i=Pc(i,a&65535,a>>16),r+=a>>16}var s=e===Jr?4:5;return i=Pc(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===Jr?4:5;return r=Pc(r,kC[this.mode][e],i),r=Pc(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Hi||this.mode===Jr){var a=Bm[r][Ro];t=Pc(t,a&65535,a>>16),i+=a>>16,r=Ro}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new n(t,r,this.binaryShiftByteCount+1,i+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=KB(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(Bm[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new Un;try{for(var u=tV(i),c=u.next();!c.done;c=u.next()){var h=c.value;h.appendTo(s,e)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return lt.format("%s bits=%d bytes=%d",QB[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(ZB,Ro,0,0),n}();function rV(n){var e=lt.getCharCode(" "),t=lt.getCharCode("."),r=lt.getCharCode(",");n[Ro][e]=1;for(var i=lt.getCharCode("Z"),a=lt.getCharCode("A"),s=a;s<=i;s++)n[Ro][s]=s-a+2;n[c0][e]=1;for(var u=lt.getCharCode("z"),c=lt.getCharCode("a"),s=c;s<=u;s++)n[c0][s]=s-c+2;n[Jr][e]=1;for(var h=lt.getCharCode("9"),p=lt.getCharCode("0"),s=p;s<=h;s++)n[Jr][s]=s-p+2;n[Jr][r]=12,n[Jr][t]=13;for(var m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<m.length;y++)n[MC][lt.getCharCode(m[y])]=y;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<_.length;y++)lt.getCharCode(_[y])>0&&(n[Hi][lt.getCharCode(_[y])]=y);return n}var Vm=rV(Tn.createInt32Array(5,256)),vd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iV=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=lt.getCharCode(" "),t=lt.getCharCode(`
`),r=fb.singletonList(nV.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case lt.getCharCode("\r"):a=s===t?2:0;break;case lt.getCharCode("."):a=s===e?3:0;break;case lt.getCharCode(","):a=s===e?4:0;break;case lt.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var u=fb.min(r,function(c,h){return c.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=vd(e),u=s.next();!u.done;u=s.next()){var c=u.value;this.updateStateForChar(c,t,a)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Vm[e.getMode()][i]>0,s=null,u=0;u<=Hi;u++){var c=Vm[u][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||u===e.getMode()||u===Jr){var h=s.latchAndAppend(u,c);r.push(h)}if(!a&&kC[e.getMode()][u]>=0){var p=s.shiftAndAppend(u,c);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||Vm[e.getMode()][i]===0){var m=e.addBinaryShiftChar(t);r.push(m)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var u=vd(e),c=u.next();!c.done;c=u.next()){var h=c.value;this.updateStateForPair(h,t,r,s)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Hi,r)),e.getMode()!==Hi&&i.push(a.shiftAndAppend(Hi,r)),r===3||r===4){var s=a.latchAndAppend(Jr,16-r).latchAndAppend(Jr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var u=vd(e),c=u.next();!c.done;c=u.next()){var h=c.value,p=!0,m=function(S){if(S.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(S)&&(s=s.filter(function(C){return C!==S}))};try{for(var y=(i=void 0,vd(s)),_=y.next();!_.done;_=y.next()){var E=_.value,A=m(E);if(A==="break")break}}catch(S){i={error:S}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(h)}}catch(S){t={error:S}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n}(),aV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new iV(e).encode(),a=Qe.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,u,c,h,p,m;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,c=Math.abs(r),c>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Re(lt.format("Illegal value %s for layers",r));h=n.totalBitsInLayer(c,u),p=n.WORD_SIZE[c];var y=h-h%p;if(m=n.stuffBits(i,p),m.getSize()+a>y)throw new Re("Data to large for user specified layer");if(u&&m.getSize()>p*64)throw new Re("Data to large for user specified layer")}else{p=0,m=null;for(var _=0;;_++){if(_>n.MAX_NB_BITS)throw new Re("Data too large for an Aztec code");if(u=_<=3,c=u?_+1:_,h=n.totalBitsInLayer(c,u),!(s>h)){(m==null||p!==n.WORD_SIZE[c])&&(p=n.WORD_SIZE[c],m=n.stuffBits(i,p));var y=h-h%p;if(!(u&&m.getSize()>p*64)&&m.getSize()+a<=y)break}}}var E=n.generateCheckWords(m,h,p),A=m.getSize()/p,S=n.generateModeMessage(u,c,A),C=(u?11:14)+c*4,N=new Int32Array(C),D;if(u){D=C;for(var _=0;_<N.length;_++)N[_]=_}else{D=C+1+2*Qe.truncDivision(Qe.truncDivision(C,2)-1,15);for(var B=Qe.truncDivision(C,2),F=Qe.truncDivision(D,2),_=0;_<B;_++){var W=_+Qe.truncDivision(_,15);N[B-_-1]=F-W-1,N[B+_]=F+W+1}}for(var M=new $i(D),_=0,R=0;_<c;_++){for(var P=(c-_)*4+(u?9:12),L=0;L<P;L++)for(var z=L*2,H=0;H<2;H++)E.get(R+z+H)&&M.set(N[_*2+H],N[_*2+L]),E.get(R+P*2+z+H)&&M.set(N[_*2+L],N[C-1-_*2-H]),E.get(R+P*4+z+H)&&M.set(N[C-1-_*2-H],N[C-1-_*2-L]),E.get(R+P*6+z+H)&&M.set(N[C-1-_*2-L],N[_*2+H]);R+=P*8}if(n.drawModeMessage(M,u,D,S),u)n.drawBullsEye(M,Qe.truncDivision(D,2),5);else{n.drawBullsEye(M,Qe.truncDivision(D,2),7);for(var _=0,L=0;_<Qe.truncDivision(C,2)-1;_+=15,L+=16)for(var H=Qe.truncDivision(D,2)&1;H<D;H+=2)M.set(Qe.truncDivision(D,2)-L,H),M.set(Qe.truncDivision(D,2)+L,H),M.set(H,Qe.truncDivision(D,2)-L),M.set(H,Qe.truncDivision(D,2)+L)}var V=new qB;return V.setCompact(u),V.setSize(D),V.setLayers(c),V.setCodeWords(A),V.setMatrix(M),V},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Un;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Qe.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var u=a-3+s;i.get(s)&&e.set(u,a-5),i.get(s+7)&&e.set(a+5,u),i.get(20-s)&&e.set(u,a+5),i.get(27-s)&&e.set(a-5,u)}else for(var s=0;s<10;s++){var u=a-5+s+Qe.truncDivision(s,5);i.get(s)&&e.set(u,a-7),i.get(s+10)&&e.set(a+7,u),i.get(29-s)&&e.set(u,a+7),i.get(39-s)&&e.set(a-7,u)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,u=new DC(n.getGF(r)),c=Qe.truncDivision(t,r),h=n.bitsToWords(e,r,c);u.encode(h,c-s);var p=t%r,m=new Un;m.appendBits(0,p);try{for(var y=aV(Array.from(h)),_=y.next();!_.done;_=y.next()){var E=_.value;m.appendBits(E,r)}}catch(A){i={error:A}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return m},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var u=0,c=0;c<t;c++)u|=e.get(a*t+c)?1<<t-c-1:0;i[a]=u}return i},n.getGF=function(e){switch(e){case 4:return Sr.AZTEC_PARAM;case 6:return Sr.AZTEC_DATA_6;case 8:return Sr.AZTEC_DATA_8;case 10:return Sr.AZTEC_DATA_10;case 12:return Sr.AZTEC_DATA_12;default:throw new Re("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Un,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var u=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(u|=1<<t-1-c);(u&a)===a?(r.appendBits(u&a,t),s--):(u&a)===0?(r.appendBits(u|1,t),s--):r.appendBits(u,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var oV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sV=function(n){oV(e,n);function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return e.makeBufferFromCanvasImageData=function(t){var r;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var a=new Uint8ClampedArray(r*i),s=0,u=0,c=t.length;s<c;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var m=t[s],y=t[s+1],_=t[s+2];h=306*m+601*y+117*_+512>>10}a[u]=h}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new q0(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);r.width=u,r.height=c;var h=r.getContext("2d");if(!h)throw new Error("Could not create a Canvas Context element.");return h.translate(u/2,c/2),h.rotate(i),h.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Mf);function LC(){return typeof navigator<"u"}function lV(){return LC()&&!!navigator.mediaDevices}function uV(){return!!(lV()&&navigator.mediaDevices.enumerateDevices)}var Vl=function(){return Vl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vl.apply(this,arguments)},Gt=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(m){s(m)}}function c(p){try{h(r.throw(p))}catch(m){s(m)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},qt=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Um=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cV={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},vu=function(){function n(e,t,r){t===void 0&&(t=new Map),r===void 0&&(r={}),this.reader=e,this.hints=t,this.options=Vl(Vl({},cV),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(Pt.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return Gt(this,void 0,void 0,function(){return qt(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var a=Um(i),s=a.next();!s.done;s=a.next()){var u=s.value;if(n.mediaStreamIsTorchCompatibleTrack(u))return!0}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new on("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new on("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.createBinaryBitmapFromCanvas=function(e){var t=new sV(e),r=new _C(t);return new xC(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new on("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,a=r.height;return t.style.width=i+"px",t.style.height=a+"px",t.width=i,t.height=a,t},n.tryPlayVideo=function(e){return Gt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return Gt(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,m,y;return qt(this,function(_){switch(_.label){case 0:if(!LC())throw new Error("Can't enumerate devices, navigator is not present.");if(!uV())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=Um(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device ".concat(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){m={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(m)throw m.error}}return[2,t]}})})},n.findDeviceById=function(e){return Gt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){n.streamTracker.length!==0&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return Gt(this,void 0,void 0,function(){var r;return qt(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(a,s){var u=setTimeout(function(){n.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",c))},t),c=function(){n.tryPlayVideo(e).then(function(h){clearTimeout(u),e.removeEventListener("canplay",c),a(h)})};e.addEventListener("canplay",c)})]}})})},n.attachStreamToVideo=function(e,t,r){return r===void 0&&(r=5e3),Gt(this,void 0,void 0,function(){var i;return qt(this,function(a){switch(a.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return a.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var i=1e4,a=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",s),r())},i),s=function(){clearTimeout(a),e.removeEventListener("load",s),t()};e.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new on("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return Gt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:if(!e)throw new on("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return Gt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:if(!e)throw new on("An URL must be provided.");t=n.prepareImageElement(),t.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Gt(this,void 0,void 0,function(){var i,a;return qt(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),n.disposeMediaStream(i),a;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return Gt(this,void 0,void 0,function(){var i,a,s,u,c,h,p,m,y,_=this;return qt(this,function(E){switch(E.label){case 0:return n.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,n.attachStreamToVideo(e,t,i)];case 1:return a=E.sent(),s=function(){n.disposeMediaStream(e),n.cleanVideoSource(a)},u=this.scan(a,r,s),c=e.getVideoTracks(),h=Vl(Vl({},u),{stop:function(){u.stop()},streamVideoConstraintsApply:function(A,S){return Gt(this,void 0,void 0,function(){var C,N,D,B,F,W,M;return qt(this,function(R){switch(R.label){case 0:C=S?c.filter(S):c,R.label=1;case 1:R.trys.push([1,6,7,8]),N=Um(C),D=N.next(),R.label=2;case 2:return D.done?[3,5]:(B=D.value,[4,B.applyConstraints(A)]);case 3:R.sent(),R.label=4;case 4:return D=N.next(),[3,2];case 5:return[3,8];case 6:return F=R.sent(),W={error:F},[3,8];case 7:try{D&&!D.done&&(M=N.return)&&M.call(N)}finally{if(W)throw W.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(A){return c.find(A).getConstraints()},streamVideoSettingsGet:function(A){return c.find(A).getSettings()},streamVideoCapabilitiesGet:function(A){return c.find(A).getCapabilities()}}),p=n.mediaStreamIsTorchCompatible(e),p&&(m=c==null?void 0:c.find(function(A){return n.mediaStreamIsTorchCompatibleTrack(A)}),y=function(A){return Gt(_,void 0,void 0,function(){return qt(this,function(S){switch(S.label){case 0:return[4,n.mediaStreamSetTorch(m,A)];case 1:return S.sent(),[2]}})})},h.switchTorch=y,h.stop=function(){return Gt(_,void 0,void 0,function(){return qt(this,function(A){switch(A.label){case 0:return u.stop(),[4,y(!1)];case 1:return A.sent(),[2]}})})}),[2,h]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Gt(this,void 0,void 0,function(){var i,a;return qt(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return Gt(this,void 0,void 0,function(){var r,i;return qt(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new on("A video element must be provided.");return r=n.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,i)];case 1:return a.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return Gt(this,void 0,void 0,function(){var r,i,a,s;return qt(this,function(u){switch(u.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new on("An URL must be provided.");return r=n.prepareVideoElement(),r.src=e,i=function(){n.cleanVideoSource(r)},a=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,a)];case 1:return u.sent(),s=this.scan(r,t,i),[2,s]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Gt(this,void 0,void 0,function(){var r;return qt(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Gt(this,void 0,void 0,function(){var r,i,a;return qt(this,function(s){switch(s.label){case 0:return r=!!t,[4,n.attachStreamToVideo(e,t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=s.sent(),[2,a];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Gt(this,void 0,void 0,function(){var r,i;return qt(this,function(a){switch(a.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return Gt(this,void 0,void 0,function(){var t,r;return qt(this,function(i){switch(i.label){case 0:if(!e)throw new on("A video element must be provided.");return t=n.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(t,r)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return Gt(this,void 0,void 0,function(){var t,r;return qt(this,function(i){switch(i.label){case 0:if(!e)throw new on("An URL must be provided.");t=n.prepareVideoElement(),t.src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var a=this;return t===void 0&&(t=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(s,u){a.scan(e,function(c,h,p){if(c){s(c),p.stop();return}if(h){if(h instanceof ae&&t||h instanceof mn&&r||h instanceof ye&&i)return;p.stop(),u(h)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var a=n.createCaptureCanvas(e),s;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var u=function(){s=void 0,a=void 0},c=!1,h,p=function(){c=!0,clearTimeout(h),u(),r&&r()},m={stop:p},y=function(){if(!c)try{n.drawImageOnCanvas(s,e);var _=i.decodeFromCanvas(a);t(_,void 0,m),h=setTimeout(y,i.options.delayBetweenScanSuccess)}catch(C){t(void 0,C,m);var E=C instanceof mn,A=C instanceof ye,S=C instanceof ae;if(E||A||S){h=setTimeout(y,i.options.delayBetweenScanAttempts);return}u(),r&&r(C)}};return y(),m},n.prototype._decodeOnLoadImage=function(e){return Gt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:return t=n.isImageLoaded(e),t?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return Gt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n}(),fV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){fV(e,n);function e(t,r){return n.call(this,new a0,t,r)||this}return e})(vu);var hV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){hV(e,n);function e(t,r){return n.call(this,new jl(t),t,r)||this}return e})(vu);var dV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){dV(e,n);function e(t,r){return n.call(this,new s0,t,r)||this}return e})(vu);var pV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){pV(e,n);function e(t,r){var i=this,a=new OC;return a.setHints(t),i=n.call(this,a,t,r)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Pt.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(vu);var mV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){mV(e,n);function e(t,r){return n.call(this,new u0,t,r)||this}return e})(vu);var gV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vV=function(n){gV(e,n);function e(t,r){return n.call(this,new l0,t,r)||this}return e}(vu);function yV(){const{user:n,addLeague:e}=en(),t=Jn(),{code:r}=W4(),[i,a]=U.useState(r||""),[s,u]=U.useState(!1),[c,h]=U.useState(""),[p,m]=U.useState(!1),[y,_]=U.useState(""),[E,A]=U.useState(!1),[S,C]=U.useState(""),N=U.useRef(null),D=U.useRef(null);U.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("code");W?a(W.toUpperCase()):r&&a(r)},[r]),U.useEffect(()=>(E&&N.current&&(C(""),D.current=new vV,D.current.decodeFromVideoDevice(void 0,N.current,(F,W)=>{if(F){let M="";try{const R=new URL(F.getText());M=R.searchParams.get("code")||R.pathname.split("/").pop()}catch{M=F.getText()}A(!1),D.current.reset(),t(`/join?code=${encodeURIComponent(M)}`)}else W&&C("Camera error: "+((W==null?void 0:W.message)||W))})),()=>{D.current&&D.current.reset()}),[E,t]);const B=async F=>{F.preventDefault(),u(!0),h(""),m(!1);try{const{data:W}=await Ft.post(`/leagues/join/${i}`,{user_id:n==null?void 0:n.uid,email:n==null?void 0:n.email});_(W.league_name),m(!0),e&&e({id:i,name:W.league_name,role:"coach"})}catch(W){h(W.message||"Error joining league")}finally{u(!1)}};return v.jsxs(ri,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:[v.jsxs("button",{className:"fixed bottom-6 right-6 z-50 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full shadow-lg p-4 flex items-center gap-2 text-lg font-bold transition",onClick:()=>A(!0),"aria-label":"Scan QR to Join",style:{boxShadow:"0 4px 16px rgba(0,0,0,0.15)"},children:[v.jsx("span",{role:"img","aria-label":"scan",children:""})," Scan QR to Join"]}),E&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg flex flex-col items-center max-w-xs w-full",children:[v.jsx("h2",{className:"text-lg font-bold mb-2",children:"Scan League QR Code"}),v.jsx("div",{className:"w-full h-64 mb-2 flex items-center justify-center",children:v.jsx("video",{ref:N,className:"w-full h-full rounded",style:{objectFit:"cover"}})}),S&&v.jsx("div",{className:"text-red-500 text-sm mb-2",children:S}),v.jsx("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded font-semibold mt-2 transition",onClick:()=>A(!1),children:"Cancel"})]})}),v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),v.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Join a League"}),v.jsx("div",{className:"mb-2 text-gray-600",children:"Enter the code provided by your organizer to join their league."}),v.jsx("div",{className:"mb-4 text-xs text-gray-500",children:"Need help? Ask your organizer for a code or QR invite."}),p?v.jsxs("div",{className:"text-center w-full",children:[v.jsx("div",{className:"mb-4 text-green-600 font-semibold",children:"Successfully joined league!"}),v.jsxs("div",{className:"mb-2",children:["Welcome to ",v.jsx("span",{className:"font-bold",children:y})]}),v.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] mt-4",onClick:()=>t("/dashboard"),children:"Go to Dashboard"})]}):v.jsxs("form",{onSubmit:B,className:"space-y-4 w-full",children:[v.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition text-center font-mono text-lg tracking-widest",placeholder:"Enter Join Code",value:i,onChange:F=>a(F.target.value.toUpperCase()),required:!0,autoFocus:!0}),v.jsx("button",{type:"submit",className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",disabled:s,children:s?"Joining...":"Join League"}),c&&v.jsx("div",{className:"text-red-500 text-sm mt-2",children:c})]})]})]})}const xV=()=>({welcomeVariant:(()=>{const e=localStorage.getItem("welcome_variant");if(e)return e;const t=["default","mojo-style","sports-focused"],r=t[Math.floor(Math.random()*t.length)];return localStorage.setItem("welcome_variant",r),r})()});function _V(){const n=Jn(),{welcomeVariant:e}=xV(),r=(()=>{switch(e){case"mojo-style":return{title:"Dominate. Track. Win.",subtitle:"Elevate your game with precision tracking and real-time insights that champions demand.",buttonText:"Start Dominating"};case"sports-focused":return{title:"Train. Compete. Excel.",subtitle:"Professional-grade combine tracking and analytics for serious athletes and coaches.",buttonText:"Join the Elite"};default:return{title:"Coach. Manage. Excel.",subtitle:"Your all-in-one platform for team management, combine tracking, and athletic excellence.",buttonText:"Get Started"}}})();return v.jsx(ri,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:r.title}),v.jsx("p",{className:"text-gray-600 text-base leading-relaxed mb-6",children:r.subtitle}),v.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] mb-6",onClick:()=>n("/signup"),children:r.buttonText})]}),v.jsxs("div",{className:"text-center space-y-3 text-sm",children:[v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs(dt,{to:"/login",className:"text-cyan-600 hover:text-cyan-800 font-medium transition-colors duration-200",children:["Already have an account? ",v.jsx("span",{className:"font-semibold",children:"Sign In"})]}),v.jsxs(dt,{to:"/claim",className:"text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200",children:["Need to claim an account? ",v.jsx("span",{className:"font-semibold",children:"Claim Account"})]})]}),v.jsx("div",{className:"pt-4 border-t border-gray-100",children:v.jsx(dt,{to:"/help",className:"text-gray-500 hover:text-gray-700 text-xs transition-colors duration-200",children:"Need Help?"})})]})]})})}const wV=()=>v.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mx-auto mb-8",children:[v.jsx("rect",{x:"25",y:"40",width:"60",height:"35",rx:"8",fill:"#e5e7eb",stroke:"#9ca3af",strokeWidth:"2"}),v.jsx("rect",{x:"75",y:"35",width:"15",height:"8",rx:"2",fill:"#ec4899"}),v.jsx("rect",{x:"52",y:"75",width:"6",height:"25",fill:"#9ca3af"}),v.jsx("ellipse",{cx:"35",cy:"100",rx:"8",ry:"3",fill:"#10b981"}),v.jsx("ellipse",{cx:"55",cy:"102",rx:"6",ry:"2",fill:"#10b981"}),v.jsx("ellipse",{cx:"75",cy:"100",rx:"7",ry:"3",fill:"#10b981"}),v.jsx("rect",{x:"35",y:"48",width:"20",height:"12",rx:"2",fill:"white",stroke:"#6366f1",strokeWidth:"2"}),v.jsx("line",{x1:"37",y1:"52",x2:"53",y2:"52",stroke:"#6366f1",strokeWidth:"1"}),v.jsx("line",{x1:"37",y1:"55",x2:"48",y2:"55",stroke:"#6366f1",strokeWidth:"1"}),v.jsx("circle",{cx:"20",cy:"30",r:"2",fill:"#fbbf24"}),v.jsx("circle",{cx:"95",cy:"25",r:"1.5",fill:"#fbbf24"}),v.jsx("circle",{cx:"15",cy:"60",r:"1",fill:"#fbbf24"})]});function EV(){const{user:n,setUser:e}=en(),[t,r]=U.useState(""),[i,a]=U.useState(!1),[s,u]=U.useState(!1),c=Jn(),[h,p]=U.useState(!1),m=Df();U.useEffect(()=>{const A=async()=>{Xt.currentUser&&(await Xt.currentUser.reload(),p(Xt.currentUser.emailVerified),Xt.currentUser.emailVerified&&(await Xt.currentUser.getIdToken(!0),e(Xt.currentUser),c("/dashboard")))};A();const S=setInterval(A,1e4);return()=>clearInterval(S)},[c,e]),U.useEffect(()=>{if(!Xt.currentUser){const A=setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),c("/welcome",{replace:!0})},2500);return()=>clearTimeout(A)}},[c]);const y=async()=>{u(!0);try{Xt.currentUser&&(await Xt.currentUser.reload(),p(Xt.currentUser.emailVerified),Xt.currentUser.emailVerified?(await Xt.currentUser.getIdToken(!0),e(Xt.currentUser),c("/dashboard")):r("Still not verified. Please check your email."))}catch(A){console.error("Verification check error:",A),r("Error checking verification status.")}finally{u(!1)}},_=async()=>{a(!0),r("");try{Xt.currentUser?(await Xt.currentUser.reload(),await SA(Xt.currentUser),r("Verification email sent!")):r("User not found. Please log in again.")}catch(A){r("Failed to resend. Try again later."),console.error("Resend verification error:",A)}finally{a(!1)}},E=()=>{const A=navigator.userAgent.toLowerCase();try{A.includes("iphone")||A.includes("ipad")?window.location.href="message://":A.includes("android")?window.location.href="intent://view#Intent;scheme=mailto;end":alert(`Please open your email app manually to check for the verification email.

Look for an email from WooCombine and click the verification link inside.`)}catch{alert(`Please open your email app manually to check for the verification email.

Look for an email from WooCombine and click the verification link inside.`)}};return v.jsx(ri,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl mx-4 flex flex-col relative min-h-[600px]",children:[v.jsxs("div",{className:"w-full flex flex-row justify-between items-center p-6 pb-2",children:[v.jsx("button",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900 focus:outline-none transition",type:"button","aria-label":"Back to welcome",onClick:()=>c("/welcome"),children:v.jsx(G0,{size:20})}),v.jsx("button",{className:"text-sm text-cyan-600 hover:text-cyan-800 font-medium",onClick:()=>c("/help"),children:"Need Help?"})]}),v.jsxs("div",{className:"flex-1 flex flex-col px-6 pb-6",children:[v.jsx("div",{className:"text-center mt-4 mb-6",children:v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),v.jsx("h1",{className:"text-2xl font-black text-gray-900 text-center mb-6 tracking-tight",children:"CHECK YOUR EMAIL"}),v.jsxs("div",{className:"text-center mb-6",children:[v.jsxs("p",{className:"text-gray-700 text-base leading-relaxed mb-4",children:["We sent an email to"," ",v.jsx("span",{className:"font-semibold text-gray-900 break-all",children:(n==null?void 0:n.email)||"your email address"})," ","with a link to verify your WooCombine account."]}),v.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"It might take a few minutes. If you don't see our email in your inbox, please check your spam or promo folders. If you see multiple emails, make sure you're selecting the most recent verification email."})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center py-4",children:v.jsx(wV,{})}),v.jsxs("div",{className:"mt-8 space-y-4",children:[h?v.jsx("button",{onClick:()=>c("/dashboard"),className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:"Continue to App"}):v.jsx("button",{onClick:E,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:"Open Email App"}),!h&&v.jsx("button",{onClick:y,disabled:s,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 rounded-xl transition-colors duration-200 disabled:opacity-50",children:s?"Checking...":"I've verified my email"}),!h&&v.jsx("div",{className:"text-red-600 text-sm text-center",children:"We haven't detected your email verification yet. Please check your inbox and try again."}),t&&v.jsx("div",{className:`text-sm text-center ${t.includes("sent")?"text-green-600":"text-red-600"}`,children:t}),!Xt.currentUser&&v.jsx("div",{className:"text-red-600 text-sm text-center",children:"User session expired. Please log in again."})]})]}),v.jsxs("div",{className:"px-6 pb-6 pt-4 border-t border-gray-100 space-y-3",children:[v.jsx("button",{onClick:_,disabled:i,className:"w-full text-cyan-600 hover:text-cyan-800 font-medium py-2 transition-colors duration-200 disabled:opacity-50",children:i?"Sending...":"Resend Email"}),v.jsx("button",{onClick:()=>c("/help"),className:"w-full text-cyan-600 hover:text-cyan-800 font-medium py-2 transition-colors duration-200",children:"Contact Support"}),Xt.currentUser?v.jsx("button",{onClick:async()=>{try{await m(),c("/welcome")}catch(A){console.error("Logout failed:",A),c("/welcome")}},className:"w-full text-gray-500 hover:text-gray-700 font-medium py-2 transition-colors duration-200",children:"Log Out"}):v.jsx("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),c("/welcome",{replace:!0})},className:"w-full text-gray-500 hover:text-gray-700 font-medium py-2 transition-colors duration-200",children:"Return to Welcome"})]})]})})}function bV(){const{user:n,setSelectedLeagueId:e}=en(),t=Df(),[r,i]=U.useState([]),[a,s]=U.useState(!0),[u,c]=U.useState(null),h=Jn();U.useEffect(()=>{if(!n){console.error("[SelectLeague] No user found in context."),c("No user found. Please log in again.");return}(async()=>{var y,_;try{const E=await Ft.get("/leagues/me");i(E.data.leagues||[]),!E.data.leagues||E.data.leagues.length===0?c("No leagues linked to this account. Try creating a new one."):c(null)}catch(E){((y=E.response)==null?void 0:y.status)===404?(i([]),c("No leagues linked to this account. Try creating a new one.")):(console.error("[SelectLeague] Fetch error:",E.message,E.stack,(_=E.response)==null?void 0:_.data),i([]),c("Could not fetch leagues. Please try again later."))}finally{s(!1)}})()},[n]);const p=y=>{localStorage.setItem("selectedLeagueId",y.id),e(y.id),h("/dashboard")},m=async()=>{try{await t(),h("/welcome")}catch(y){console.error("[SelectLeague] Logout error:",y)}};return v.jsx(ri,{backgroundColor:"bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700",contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700 relative",children:[v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl mx-4 flex flex-col",children:[v.jsxs("div",{className:"text-center py-6 px-6 border-b border-gray-200",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Select Your League"}),v.jsx("p",{className:"text-gray-600 text-sm",children:"Choose which league you'd like to access, or join a new one."})]}),v.jsxs("div",{className:"p-6 flex-1",children:[a?v.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading leagues..."}):u?v.jsx("div",{className:"text-center py-8",children:v.jsx("div",{className:"text-red-600 mb-4",children:u})}):r.length===0?v.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leagues found. Create or join one below."}):v.jsx("div",{className:"space-y-3",children:r.map(y=>v.jsxs("button",{onClick:()=>p(y),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition",children:[v.jsx("div",{className:"font-semibold text-gray-900",children:y.name}),v.jsxs("div",{className:"text-sm text-gray-500 capitalize",children:["Role: ",y.role]})]},y.id))}),v.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:[v.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Logged in as: ",(n==null?void 0:n.email)||"Unknown"]}),v.jsx("button",{onClick:m,className:"text-sm text-red-600 hover:text-red-800 underline",children:"Log out and switch accounts"})]})]})]}),v.jsx("div",{className:"fixed left-0 right-0 bottom-0 flex flex-col gap-3 items-center bg-white py-4 z-10 border-t border-gray-200",children:v.jsx("button",{className:"w-11/12 max-w-lg border-2 border-blue-600 text-blue-700 font-bold text-lg py-3 rounded-full shadow",onClick:()=>h("/join"),children:"Join a Team"})})]})})}const AV=[{key:"organizer",label:" League Operator",desc:"Full access to admin tools and player management."},{key:"coach",label:" Coach",desc:"View and customize, but cannot manage all players."},{key:"viewer",label:" Viewer / Guest",desc:"Read-only access to league data."}];function SV(){const{user:n}=en(),[e,t]=U.useState(null),[r,i]=U.useState(""),[a,s]=U.useState(!1),[u,c]=U.useState(!0),h=Jn(),p=Df(),m=HT();if(Ng.useEffect(()=>{c(!1)},[]),!n||u)return v.jsx(z0,{title:"Preparing role selection...",subtitle:"Setting up your account",size:"large"});const y=async()=>{if(i(""),!n){i("No user found. Please log in again.");return}if(!e){i("Please select a role.");return}s(!0);try{await $9(FT(m,"users",n.uid),{id:n.uid,email:n.email,role:e,created_at:Q9()},{merge:!0}),await n.getIdToken(!0),h("/dashboard",{replace:!0})}catch(E){i(E.message||"Failed to save role."),console.error(" Firestore write failed in SelectRole for UID:",n==null?void 0:n.uid,E)}finally{s(!1)}},_=async()=>{try{await p(),h("/welcome")}catch(E){console.error("[SelectRole] Logout error:",E),i("Logout failed. Please try again.")}};return v.jsx(ri,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[v.jsx("div",{className:"text-center mb-6",children:v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Welcome! What's your role?"}),v.jsx("div",{className:"w-full flex flex-col gap-4 mb-6",children:AV.map(E=>v.jsxs("button",{className:`w-full border-2 rounded-xl p-4 text-left flex flex-col transition font-semibold ${e===E.key?"border-cyan-600 bg-cyan-50 text-cyan-900":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>t(E.key),disabled:a,children:[v.jsx("span",{className:"text-lg mb-1",children:E.label}),v.jsx("span",{className:"text-gray-600 text-sm",children:E.desc})]},E.key))}),r&&v.jsx("div",{className:"w-full bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded mb-4 text-sm",children:r}),v.jsxs("div",{className:"w-full space-y-3",children:[v.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:transform-none",onClick:y,disabled:a,children:a?"Saving...":"Continue"}),v.jsx("button",{className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 rounded-xl transition-colors duration-200 disabled:opacity-50",onClick:_,disabled:a,children:a?"Logging out...":"Logout"})]})]})})}function TV({event:n,league:e}){if(!n||!e)return null;const t=n.id,r=`https://woo-combine.com/join-event/${t}`,i=a=>{navigator.clipboard.writeText(a)};return v.jsxs("div",{className:"w-full max-w-md text-center mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:"Event Created Successfully!"}),v.jsxs("p",{className:"text-gray-600 mb-4",children:['Your combine event "',n.name,'" is ready.']})]}),v.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-xl p-6 mb-4",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Event Join Code:"}),v.jsx("div",{className:"text-2xl font-mono bg-gray-100 rounded p-3 inline-block border",children:t})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("div",{className:"flex justify-center mb-2",children:v.jsx("div",{className:"bg-white p-4 rounded-lg border",children:v.jsx(yC,{value:r,size:160})})}),v.jsxs("div",{className:"text-xs text-gray-500",children:["Scan to join: ",r]})]}),v.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[v.jsxs("button",{onClick:()=>i(t),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2",children:[v.jsx(tC,{className:"w-4 h-4"}),"Copy Event Code"]}),v.jsxs("button",{onClick:()=>i(r),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[v.jsx(mf,{className:"w-4 h-4"}),"Copy Join Link"]})]}),v.jsx("div",{className:"text-green-700 font-semibold text-sm",children:" Share this code or QR with coaches to join this combine event!"})]}),v.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[v.jsx("strong",{children:"Next steps:"}),v.jsxs("ul",{className:"list-disc list-inside mt-2 text-left",children:[v.jsx("li",{children:"Share the code/QR with your coaches"}),v.jsx("li",{children:"Upload player roster in the Admin section"}),v.jsx("li",{children:"Start recording drill results"})]})]})]})}function CV(){const n=Jn(),{selectedEvent:e}=Ki(),{leagues:t,selectedLeagueId:r}=en(),[i,a]=U.useState(!1),[s,u]=U.useState(null),c=t==null?void 0:t.find(m=>m.id===r),h=m=>{u(m),a(!0)},p=()=>{n("/admin#player-upload-section")};return i&&s?v.jsx(ri,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 text-center",children:[v.jsx(TV,{event:s,league:c}),v.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:v.jsx("button",{onClick:p,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] w-full",children:"Continue to Import Players"})})]})}):v.jsx(ri,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Select or Create an Event"}),v.jsx("p",{className:"mb-6 text-gray-600",children:"Choose an existing event or create a new combine event for your league."}),v.jsx(gf,{onEventSelected:h}),e&&v.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[v.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Selected: ",v.jsx("strong",{children:e.name})]}),v.jsx("button",{onClick:p,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] w-full",children:"Continue to Import Players"})]})]})})}const yd=[{key:"40m_dash",label:"40M Dash",unit:"sec",lowerIsBetter:!0},{key:"vertical_jump",label:"Vertical Jump",unit:"in",lowerIsBetter:!1},{key:"catching",label:"Catching",unit:"pts",lowerIsBetter:!1},{key:"throwing",label:"Throwing",unit:"pts",lowerIsBetter:!1},{key:"agility",label:"Agility",unit:"pts",lowerIsBetter:!1}];function IV(){const{selectedEvent:n}=Ki(),{user:e}=en(),[t,r]=U.useState(""),[i,a]=U.useState(""),[s,u]=U.useState(""),[c,h]=U.useState(""),[p,m]=U.useState(""),[y,_]=U.useState(!1),[E,A]=U.useState([]),[S,C]=U.useState([]),[N,D]=U.useState([]),[B,F]=U.useState(null),[W,M]=U.useState(!1),R=U.useRef(null),P=U.useRef(null);U.useEffect(()=>{n&&L()},[n]);const L=async()=>{try{const ne=await Ft.get(`/players?event_id=${n.id}`);A(ne.data)}catch(ne){console.error("Error fetching players:",ne)}};U.useEffect(()=>{if(i&&E.length>0){const ne=E.filter(Se=>Se.number&&Se.number.toString().startsWith(i));C(ne);const pe=E.find(Se=>Se.number&&Se.number.toString()===i);pe?(u(pe.name),h(pe.id)):(u(""),h(""))}else C([]),u(""),h("")},[i,E]);const z=U.useCallback((ne,pe)=>{const Se=E.find(q=>q.id===ne);return Se&&Se[pe]!=null?{existingScore:Se[pe],playerName:Se.name,drill:yd.find(q=>q.key===pe)}:null},[E]),H=async ne=>{if(ne.preventDefault(),!t||!c||!p)return;const pe=z(c,t);if(pe){F({...pe,newScore:parseFloat(p)}),M(!0);return}await V()},V=async(ne=!1)=>{_(!0);try{await Ft.post("/drill-results/",{player_id:c,type:t,value:parseFloat(p),event_id:n.id});const pe={id:Date.now(),playerNumber:i,playerName:s,drill:yd.find(Se=>Se.key===t),score:parseFloat(p),timestamp:new Date,overridden:ne};D(Se=>[pe,...Se.slice(0,9)]),a(""),m(""),M(!1),F(null),await L(),setTimeout(()=>{var Se;(Se=R.current)==null||Se.focus()},100)}catch(pe){console.error("Error submitting score:",pe),alert("Error submitting score. Please try again.")}finally{_(!1)}},ke=async()=>{if(N.length===0)return;const ne=N[0];confirm(`Undo entry for ${ne.playerName}?`)&&D(pe=>pe.slice(1))},Le=ne=>{a(ne.number.toString()),u(ne.name),h(ne.id),C([]),setTimeout(()=>{var pe;(pe=P.current)==null||pe.focus()},100)};if(!n)return v.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Event Selected"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Please select an event first."}),v.jsx(dt,{to:"/dashboard",className:"bg-blue-500 text-white px-6 py-3 rounded-lg",children:"Go to Dashboard"})]})});const te=yd.find(ne=>ne.key===t);return v.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[v.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(dt,{to:"/dashboard",className:"text-gray-600 hover:text-gray-900",children:v.jsx(G0,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Live Entry Mode"}),v.jsx("p",{className:"text-sm text-gray-600",children:n.name})]})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[v.jsx(mM,{className:"w-4 h-4"}),N.length," entries"]})]})}),v.jsx("div",{className:"max-w-lg mx-auto p-4 space-y-6",children:t?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-blue-500 text-white rounded-xl p-4 text-center",children:[v.jsx("h2",{className:"text-xl font-bold",children:te.label}),v.jsx("p",{className:"text-blue-100",children:"Entry Mode Active"}),v.jsx("button",{onClick:()=>r(""),className:"mt-2 text-blue-200 hover:text-white text-sm underline",children:"Change Drill"})]}),v.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:v.jsxs("form",{onSubmit:H,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Number"}),v.jsx("input",{ref:R,type:"number",value:i,onChange:ne=>a(ne.target.value),placeholder:"Enter player #",className:"w-full text-2xl p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-center",autoFocus:!0,required:!0}),S.length>0&&v.jsx("div",{className:"mt-2 bg-gray-50 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:S.slice(0,5).map(ne=>v.jsxs("button",{type:"button",onClick:()=>Le(ne),className:"w-full p-3 text-left hover:bg-blue-50 border-b border-gray-200 last:border-b-0",children:[v.jsxs("div",{className:"font-medium",children:["#",ne.number," - ",ne.name]}),v.jsx("div",{className:"text-sm text-gray-600",children:ne.age_group})]},ne.id))})]}),s&&v.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(dM,{className:"w-5 h-5 text-green-600"}),v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-green-900",children:s}),v.jsxs("div",{className:"text-sm text-green-700",children:["Player #",i]})]})]})}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Score (",te.unit,")"]}),v.jsx("input",{ref:P,type:"number",step:"0.1",value:p,onChange:ne=>m(ne.target.value),placeholder:`Enter ${te.unit}`,className:"w-full text-3xl p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-center",required:!0})]}),v.jsx("button",{type:"submit",disabled:y||!c||!p,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-bold text-xl py-4 rounded-lg transition",children:y?"Saving...":"Submit & Next"})]})}),N.length>0&&v.jsxs("button",{onClick:ke,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 rounded-lg flex items-center justify-center gap-2",children:[v.jsx(UM,{className:"w-5 h-5"}),"Undo Last Entry"]}),N.length>0&&v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[v.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[v.jsx(Pf,{className:"w-4 h-4"}),"Recent Entries"]}),v.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:N.map(ne=>v.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"font-medium",children:["#",ne.playerNumber," ",ne.playerName]}),v.jsxs("div",{className:"text-sm text-gray-600",children:[ne.drill.label,": ",ne.score," ",ne.drill.unit,ne.overridden&&v.jsx("span",{className:"text-orange-600 ml-1",children:"(Updated)"})]})]}),v.jsx("div",{className:"text-xs text-gray-500",children:ne.timestamp.toLocaleTimeString()})]},ne.id))})]})]}):v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Select Drill"}),v.jsx("div",{className:"grid grid-cols-1 gap-3",children:yd.map(ne=>v.jsxs("button",{onClick:()=>r(ne.key),className:"p-4 bg-blue-50 hover:bg-blue-100 border border-blue-200 rounded-lg text-left transition",children:[v.jsx("div",{className:"font-semibold text-gray-900",children:ne.label}),v.jsxs("div",{className:"text-sm text-gray-600",children:["Unit: ",ne.unit]})]},ne.key))})]})}),W&&B&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(BM,{className:"w-6 h-6 text-orange-500"}),v.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Existing Score Found"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsxs("p",{className:"text-gray-700 mb-2",children:[v.jsx("strong",{children:B.playerName})," already has a ",B.drill.label," score:"]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[v.jsxs("div",{className:"text-lg font-medium",children:["Current: ",B.existingScore," ",B.drill.unit]}),v.jsxs("div",{className:"text-lg font-medium text-blue-600",children:["New: ",B.newScore," ",B.drill.unit]})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>M(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 rounded-lg",children:"Keep Current"}),v.jsx("button",{onClick:()=>V(!0),className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 rounded-lg",children:"Replace Score"})]})]})})]})}function NV(){return v.jsx(DI,{children:v.jsx(Z9,{children:v.jsx(XM,{children:v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsxs(lI,{children:[v.jsx(Ln,{path:"/",element:v.jsx(xd,{to:"/welcome",replace:!0})}),v.jsx(Ln,{path:"/welcome",element:v.jsx(_V,{})}),v.jsx(Ln,{path:"/dashboard",element:v.jsx(fi,{children:v.jsxs(v.Fragment,{children:[v.jsx(ym,{}),v.jsx(WM,{})]})})}),v.jsx(Ln,{path:"/roster",element:v.jsx(fi,{children:v.jsx($M,{})})}),v.jsx(Ln,{path:"/schedule",element:v.jsx(fi,{children:v.jsx(YM,{})})}),v.jsx(Ln,{path:"/players",element:v.jsx(fi,{children:v.jsxs(v.Fragment,{children:[v.jsx(ym,{}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsx(ek,{})})]})})}),v.jsx(Ln,{path:"/admin",element:v.jsx(fi,{children:v.jsxs(v.Fragment,{children:[v.jsx(ym,{}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsx(mk,{})})]})})}),v.jsx(Ln,{path:"/live-entry",element:v.jsx(fi,{children:v.jsx(IV,{})})}),v.jsx(Ln,{path:"/login",element:v.jsx(vk,{})}),v.jsx(Ln,{path:"/signup",element:v.jsx(Ek,{})}),v.jsx(Ln,{path:"/claim",element:v.jsx(ri,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:v.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 text-center",children:[v.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-6",style:{objectFit:"contain"}}),v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Account Claim"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Account claiming feature coming soon."}),v.jsx(dt,{to:"/welcome",className:"text-cyan-600 hover:text-cyan-700 underline font-semibold",children:" Back to Welcome"})]})})}),v.jsx(Ln,{path:"/create-league",element:v.jsx(fi,{children:v.jsx(Ak,{})})}),v.jsx(Ln,{path:"/join",element:v.jsx(fi,{children:v.jsx(yV,{})})}),v.jsx(Ln,{path:"/verify-email",element:v.jsx(EV,{})}),v.jsx(Ln,{path:"/select-league",element:v.jsx(fi,{children:v.jsx(bV,{})})}),v.jsx(Ln,{path:"/select-role",element:v.jsx(fi,{children:v.jsx(SV,{})})}),v.jsx(Ln,{path:"/onboarding/event",element:v.jsx(fi,{children:v.jsx(CV,{})})})]})})})})})}g4.createRoot(document.getElementById("root")).render(v.jsx(U.StrictMode,{children:v.jsx(NV,{})}));
