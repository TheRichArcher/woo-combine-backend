(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function cA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hp={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function r3(){if(i_)return Tc;i_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Tc.Fragment=e,Tc.jsx=t,Tc.jsxs=t,Tc}var a_;function i3(){return a_||(a_=1,Hp.exports=r3()),Hp.exports}var x=i3(),zp={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function a3(){if(o_)return He;o_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function T(X,ce,ve){this.props=X,this.context=ce,this.refs=b,this.updater=ve||_}T.prototype.isReactComponent={},T.prototype.setState=function(X,ce){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ce,"setState")},T.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function I(){}I.prototype=T.prototype;function R(X,ce,ve){this.props=X,this.context=ce,this.refs=b,this.updater=ve||_}var P=R.prototype=new I;P.constructor=R,E(P,T.prototype),P.isPureReactComponent=!0;var j=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function O(X,ce,ve,de,Se,ze){return ve=ze.ref,{$$typeof:n,type:X,key:ce,ref:ve!==void 0?ve:null,props:ze}}function N(X,ce){return O(X.type,ce,void 0,void 0,void 0,X.props)}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function V(X){var ce={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(ve){return ce[ve]})}var G=/\/+/g;function H(X,ce){return typeof X=="object"&&X!==null&&X.key!=null?V(""+X.key):ce.toString(36)}function k(){}function xe(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(k,k):(X.status="pending",X.then(function(ce){X.status==="pending"&&(X.status="fulfilled",X.value=ce)},function(ce){X.status==="pending"&&(X.status="rejected",X.reason=ce)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function _e(X,ce,ve,de,Se){var ze=typeof X;(ze==="undefined"||ze==="boolean")&&(X=null);var ke=!1;if(X===null)ke=!0;else switch(ze){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(X.$$typeof){case n:case e:ke=!0;break;case p:return ke=X._init,_e(ke(X._payload),ce,ve,de,Se)}}if(ke)return Se=Se(X),ke=de===""?"."+H(X,0):de,j(Se)?(ve="",ke!=null&&(ve=ke.replace(G,"$&/")+"/"),_e(Se,ce,ve,"",function(hr){return hr})):Se!=null&&(M(Se)&&(Se=N(Se,ve+(Se.key==null||X&&X.key===Se.key?"":(""+Se.key).replace(G,"$&/")+"/")+ke)),ce.push(Se)),1;ke=0;var Gt=de===""?".":de+":";if(j(X))for(var st=0;st<X.length;st++)de=X[st],ze=Gt+H(de,st),ke+=_e(de,ce,ve,ze,Se);else if(st=y(X),typeof st=="function")for(X=st.call(X),st=0;!(de=X.next()).done;)de=de.value,ze=Gt+H(de,st++),ke+=_e(de,ce,ve,ze,Se);else if(ze==="object"){if(typeof X.then=="function")return _e(xe(X),ce,ve,de,Se);throw ce=String(X),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ee(X,ce,ve){if(X==null)return X;var de=[],Se=0;return _e(X,de,"","",function(ze){return ce.call(ve,ze,Se++)}),de}function le(X){if(X._status===-1){var ce=X._result;ce=ce(),ce.then(function(ve){(X._status===0||X._status===-1)&&(X._status=1,X._result=ve)},function(ve){(X._status===0||X._status===-1)&&(X._status=2,X._result=ve)}),X._status===-1&&(X._status=0,X._result=ce)}if(X._status===1)return X._result.default;throw X._result}var fe=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function Ae(){}return He.Children={map:ee,forEach:function(X,ce,ve){ee(X,function(){ce.apply(this,arguments)},ve)},count:function(X){var ce=0;return ee(X,function(){ce++}),ce},toArray:function(X){return ee(X,function(ce){return ce})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},He.Component=T,He.Fragment=t,He.Profiler=i,He.PureComponent=R,He.StrictMode=r,He.Suspense=c,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,He.__COMPILER_RUNTIME={__proto__:null,c:function(X){return U.H.useMemoCache(X)}},He.cache=function(X){return function(){return X.apply(null,arguments)}},He.cloneElement=function(X,ce,ve){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var de=E({},X.props),Se=X.key,ze=void 0;if(ce!=null)for(ke in ce.ref!==void 0&&(ze=void 0),ce.key!==void 0&&(Se=""+ce.key),ce)!q.call(ce,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ce.ref===void 0||(de[ke]=ce[ke]);var ke=arguments.length-2;if(ke===1)de.children=ve;else if(1<ke){for(var Gt=Array(ke),st=0;st<ke;st++)Gt[st]=arguments[st+2];de.children=Gt}return O(X.type,Se,void 0,void 0,ze,de)},He.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},He.createElement=function(X,ce,ve){var de,Se={},ze=null;if(ce!=null)for(de in ce.key!==void 0&&(ze=""+ce.key),ce)q.call(ce,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=ce[de]);var ke=arguments.length-2;if(ke===1)Se.children=ve;else if(1<ke){for(var Gt=Array(ke),st=0;st<ke;st++)Gt[st]=arguments[st+2];Se.children=Gt}if(X&&X.defaultProps)for(de in ke=X.defaultProps,ke)Se[de]===void 0&&(Se[de]=ke[de]);return O(X,ze,void 0,void 0,null,Se)},He.createRef=function(){return{current:null}},He.forwardRef=function(X){return{$$typeof:u,render:X}},He.isValidElement=M,He.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:le}},He.memo=function(X,ce){return{$$typeof:h,type:X,compare:ce===void 0?null:ce}},He.startTransition=function(X){var ce=U.T,ve={};U.T=ve;try{var de=X(),Se=U.S;Se!==null&&Se(ve,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Ae,fe)}catch(ze){fe(ze)}finally{U.T=ce}},He.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},He.use=function(X){return U.H.use(X)},He.useActionState=function(X,ce,ve){return U.H.useActionState(X,ce,ve)},He.useCallback=function(X,ce){return U.H.useCallback(X,ce)},He.useContext=function(X){return U.H.useContext(X)},He.useDebugValue=function(){},He.useDeferredValue=function(X,ce){return U.H.useDeferredValue(X,ce)},He.useEffect=function(X,ce,ve){var de=U.H;if(typeof ve=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(X,ce)},He.useId=function(){return U.H.useId()},He.useImperativeHandle=function(X,ce,ve){return U.H.useImperativeHandle(X,ce,ve)},He.useInsertionEffect=function(X,ce){return U.H.useInsertionEffect(X,ce)},He.useLayoutEffect=function(X,ce){return U.H.useLayoutEffect(X,ce)},He.useMemo=function(X,ce){return U.H.useMemo(X,ce)},He.useOptimistic=function(X,ce){return U.H.useOptimistic(X,ce)},He.useReducer=function(X,ce,ve){return U.H.useReducer(X,ce,ve)},He.useRef=function(X){return U.H.useRef(X)},He.useState=function(X){return U.H.useState(X)},He.useSyncExternalStore=function(X,ce,ve){return U.H.useSyncExternalStore(X,ce,ve)},He.useTransition=function(){return U.H.useTransition()},He.version="19.1.0",He}var s_;function vf(){return s_||(s_=1,zp.exports=a3()),zp.exports}var F=vf();const fA=cA(F);var Gp={exports:{}},Sc={},qp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function o3(){return l_||(l_=1,function(n){function e(ee,le){var fe=ee.length;ee.push(le);e:for(;0<fe;){var Ae=fe-1>>>1,X=ee[Ae];if(0<i(X,le))ee[Ae]=le,ee[fe]=X,fe=Ae;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var le=ee[0],fe=ee.pop();if(fe!==le){ee[0]=fe;e:for(var Ae=0,X=ee.length,ce=X>>>1;Ae<ce;){var ve=2*(Ae+1)-1,de=ee[ve],Se=ve+1,ze=ee[Se];if(0>i(de,fe))Se<X&&0>i(ze,de)?(ee[Ae]=ze,ee[Se]=fe,Ae=Se):(ee[Ae]=de,ee[ve]=fe,Ae=ve);else if(Se<X&&0>i(ze,fe))ee[Ae]=ze,ee[Se]=fe,Ae=Se;else break e}}return le}function i(ee,le){var fe=ee.sortIndex-le.sortIndex;return fe!==0?fe:ee.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],h=[],p=1,g=null,y=3,_=!1,E=!1,b=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function j(ee){for(var le=t(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=ee)r(h),le.sortIndex=le.expirationTime,e(c,le);else break;le=t(h)}}function U(ee){if(b=!1,j(ee),!E)if(t(c)!==null)E=!0,q||(q=!0,H());else{var le=t(h);le!==null&&_e(U,le.startTime-ee)}}var q=!1,O=-1,N=5,M=-1;function V(){return T?!0:!(n.unstable_now()-M<N)}function G(){if(T=!1,q){var ee=n.unstable_now();M=ee;var le=!0;try{e:{E=!1,b&&(b=!1,R(O),O=-1),_=!0;var fe=y;try{t:{for(j(ee),g=t(c);g!==null&&!(g.expirationTime>ee&&V());){var Ae=g.callback;if(typeof Ae=="function"){g.callback=null,y=g.priorityLevel;var X=Ae(g.expirationTime<=ee);if(ee=n.unstable_now(),typeof X=="function"){g.callback=X,j(ee),le=!0;break t}g===t(c)&&r(c),j(ee)}else r(c);g=t(c)}if(g!==null)le=!0;else{var ce=t(h);ce!==null&&_e(U,ce.startTime-ee),le=!1}}break e}finally{g=null,y=fe,_=!1}le=void 0}}finally{le?H():q=!1}}}var H;if(typeof P=="function")H=function(){P(G)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,xe=k.port2;k.port1.onmessage=G,H=function(){xe.postMessage(null)}}else H=function(){I(G,0)};function _e(ee,le){O=I(function(){ee(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(ee){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var fe=y;y=le;try{return ee()}finally{y=fe}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var fe=y;y=ee;try{return le()}finally{y=fe}},n.unstable_scheduleCallback=function(ee,le,fe){var Ae=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ae+fe:Ae):fe=Ae,ee){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=fe+X,ee={id:p++,callback:le,priorityLevel:ee,startTime:fe,expirationTime:X,sortIndex:-1},fe>Ae?(ee.sortIndex=fe,e(h,ee),t(c)===null&&ee===t(h)&&(b?(R(O),O=-1):b=!0,_e(U,fe-Ae))):(ee.sortIndex=X,e(c,ee),E||_||(E=!0,q||(q=!0,H()))),ee},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(ee){var le=y;return function(){var fe=y;y=le;try{return ee.apply(this,arguments)}finally{y=fe}}}}(Xp)),Xp}var u_;function s3(){return u_||(u_=1,qp.exports=o3()),qp.exports}var Wp={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function l3(){if(c_)return $n;c_=1;var n=vf();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:c,containerInfo:h,implementation:p}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$n.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(c,h,null,p)},$n.flushSync=function(c){var h=s.T,p=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=h,r.p=p,r.d.f()}},$n.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},$n.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},$n.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:_}):p==="script"&&r.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},$n.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},$n.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);r.d.L(c,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},$n.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},$n.requestFormReset=function(c){r.d.r(c)},$n.unstable_batchedUpdates=function(c,h){return c(h)},$n.useFormState=function(c,h,p){return s.H.useFormState(c,h,p)},$n.useFormStatus=function(){return s.H.useHostTransitionStatus()},$n.version="19.1.0",$n}var f_;function u3(){if(f_)return Wp.exports;f_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wp.exports=l3(),Wp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function c3(){if(h_)return Sc;h_=1;var n=s3(),e=vf(),t=u3();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function s(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(a(o)!==o)throw Error(r(188))}function c(o){var l=o.alternate;if(!l){if(l=a(o),l===null)throw Error(r(188));return l!==o?null:o}for(var f=o,d=l;;){var v=f.return;if(v===null)break;var w=v.alternate;if(w===null){if(d=v.return,d!==null){f=d;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===f)return u(v),o;if(w===d)return u(v),l;w=w.sibling}throw Error(r(188))}if(f.return!==d.return)f=v,d=w;else{for(var C=!1,D=v.child;D;){if(D===f){C=!0,f=v,d=w;break}if(D===d){C=!0,d=v,f=w;break}D=D.sibling}if(!C){for(D=w.child;D;){if(D===f){C=!0,f=w,d=v;break}if(D===d){C=!0,d=w,f=v;break}D=D.sibling}if(!C)throw Error(r(189))}}if(f.alternate!==d)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:l}function h(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=h(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var k=Symbol.for("react.client.reference");function xe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===k?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case U:return"Suspense";case q:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case _:return"Portal";case P:return(o.displayName||"Context")+".Provider";case R:return(o._context.displayName||"Context")+".Consumer";case j:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case N:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}var _e=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ae=[],X=-1;function ce(o){return{current:o}}function ve(o){0>X||(o.current=Ae[X],Ae[X]=null,X--)}function de(o,l){X++,Ae[X]=o.current,o.current=l}var Se=ce(null),ze=ce(null),ke=ce(null),Gt=ce(null);function st(o,l){switch(de(ke,l),de(ze,o),de(Se,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?Dx(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=Dx(l),o=Px(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ve(Se),de(Se,o)}function hr(){ve(Se),ve(ze),ve(ke)}function Gi(o){o.memoizedState!==null&&de(Gt,o);var l=Se.current,f=Px(l,o.type);l!==f&&(de(ze,o),de(Se,f))}function gi(o){ze.current===o&&(ve(Se),ve(ze)),Gt.current===o&&(ve(Gt),_c._currentValue=fe)}var qi=Object.prototype.hasOwnProperty,Xi=n.unstable_scheduleCallback,Wi=n.unstable_cancelCallback,Fa=n.unstable_shouldYield,Uo=n.unstable_requestPaint,dr=n.unstable_now,kr=n.unstable_getCurrentPriorityLevel,Fo=n.unstable_ImmediatePriority,Ha=n.unstable_UserBlockingPriority,Yi=n.unstable_NormalPriority,yu=n.unstable_LowPriority,br=n.unstable_IdlePriority,za=n.log,be=n.unstable_setDisableYieldValue,Te=null,Pe=null;function xt(o){if(typeof za=="function"&&be(o),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Te,o)}catch{}}var ft=Math.clz32?Math.clz32:mi,rr=Math.log,xu=Math.LN2;function mi(o){return o>>>=0,o===0?32:31-(rr(o)/xu|0)|0}var $i=256,ei=4194304;function Tr(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Vs(o,l,f){var d=o.pendingLanes;if(d===0)return 0;var v=0,w=o.suspendedLanes,C=o.pingedLanes;o=o.warmLanes;var D=d&134217727;return D!==0?(d=D&~w,d!==0?v=Tr(d):(C&=D,C!==0?v=Tr(C):f||(f=D&~o,f!==0&&(v=Tr(f))))):(D=d&~w,D!==0?v=Tr(D):C!==0?v=Tr(C):f||(f=d&~o,f!==0&&(v=Tr(f)))),v===0?0:l!==0&&l!==v&&(l&w)===0&&(w=v&-v,f=l&-l,w>=f||w===32&&(f&4194048)!==0)?l:v}function Ho(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function _u(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var o=$i;return $i<<=1,($i&4194048)===0&&($i=256),o}function Eu(){var o=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),o}function Ki(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function Qi(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Au(o,l,f,d,v,w){var C=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var D=o.entanglements,z=o.expirationTimes,Q=o.hiddenUpdates;for(f=C&~f;0<f;){var ae=31-ft(f),se=1<<ae;D[ae]=0,z[ae]=-1;var J=Q[ae];if(J!==null)for(Q[ae]=null,ae=0;ae<J.length;ae++){var te=J[ae];te!==null&&(te.lane&=-536870913)}f&=~se}d!==0&&vi(o,d,0),w!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=w&~(C&~l))}function vi(o,l,f){o.pendingLanes|=l,o.suspendedLanes&=~l;var d=31-ft(l);o.entangledLanes|=l,o.entanglements[d]=o.entanglements[d]|1073741824|f&4194090}function bu(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var d=31-ft(f),v=1<<d;v&l|o[d]&l&&(o[d]|=l),f&=~v}}function Ga(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Us(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function qa(){var o=le.p;return o!==0?o:(o=window.event,o===void 0?32:Zx(o.type))}function kf(o,l){var f=le.p;try{return le.p=o,l()}finally{le.p=f}}var kt=Math.random().toString(36).slice(2),fn="__reactFiber$"+kt,rn="__reactProps$"+kt,Lr="__reactContainer$"+kt,Tu="__reactEvents$"+kt,q0="__reactListeners$"+kt,Xa="__reactHandles$"+kt,Lf="__reactResources$"+kt,zo="__reactMarker$"+kt;function Wa(o){delete o[fn],delete o[rn],delete o[Tu],delete o[q0],delete o[Xa]}function Zi(o){var l=o[fn];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Lr]||f[fn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=Bx(o);o!==null;){if(f=o[fn])return f;o=Bx(o)}return l}o=f,f=o.parentNode}return null}function yi(o){if(o=o[fn]||o[Lr]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function xi(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ir(o){var l=o[Lf];return l||(l=o[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Kt(o){o[zo]=!0}var Su=new Set,Fs={};function ti(o,l){Ji(o,l),Ji(o+"Capture",l)}function Ji(o,l){for(Fs[o]=l,o=0;o<l.length;o++)Su.add(l[o])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jf={},Go={};function Vf(o){return qi.call(Go,o)?!0:qi.call(jf,o)?!1:Bf.test(o)?Go[o]=!0:(jf[o]=!0,!1)}function Ya(o,l,f){if(Vf(l))if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+f)}}function _i(o,l,f){if(f===null)o.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+f)}}function Ln(o,l,f,d){if(d===null)o.removeAttribute(f);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(l,f,""+d)}}var qo,Uf;function ea(o){if(qo===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);qo=l&&l[1]||"",Uf=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qo+o+Uf}var Hs=!1;function zs(o,l){if(!o||Hs)return"";Hs=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(te){var J=te}Reflect.construct(o,[],se)}else{try{se.call()}catch(te){J=te}o.call(se.prototype)}}else{try{throw Error()}catch(te){J=te}(se=o())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),C=w[0],D=w[1];if(C&&D){var z=C.split(`
`),Q=D.split(`
`);for(v=d=0;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;for(;v<Q.length&&!Q[v].includes("DetermineComponentFrameRoot");)v++;if(d===z.length||v===Q.length)for(d=z.length-1,v=Q.length-1;1<=d&&0<=v&&z[d]!==Q[v];)v--;for(;1<=d&&0<=v;d--,v--)if(z[d]!==Q[v]){if(d!==1||v!==1)do if(d--,v--,0>v||z[d]!==Q[v]){var ae=`
`+z[d].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=d&&0<=v);break}}}finally{Hs=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?ea(f):""}function Cu(o){switch(o.tag){case 26:case 27:case 5:return ea(o.type);case 16:return ea("Lazy");case 13:return ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return zs(o.type,!1);case 11:return zs(o.type.render,!1);case 1:return zs(o.type,!0);case 31:return ea("Activity");default:return""}}function Gs(o){try{var l="";do l+=Cu(o),o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ar(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Iu(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function X0(o){var l=Iu(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),d=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,w=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){d=""+C,w.call(this,C)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function qs(o){o._valueTracker||(o._valueTracker=X0(o))}function Ru(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),d="";return o&&(d=Iu(o)?o.checked?"true":"false":o.value),o=d,o!==f?(l.setValue(o),!0):!1}function Xo(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var W0=/[\n"\\]/g;function an(o){return o.replace(W0,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Sr(o,l,f,d,v,w,C,D){o.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?o.type=C:o.removeAttribute("type"),l!=null?C==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+ar(l)):o.value!==""+ar(l)&&(o.value=""+ar(l)):C!=="submit"&&C!=="reset"||o.removeAttribute("value"),l!=null?$a(o,C,ar(l)):f!=null?$a(o,C,ar(f)):d!=null&&o.removeAttribute("value"),v==null&&w!=null&&(o.defaultChecked=!!w),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.name=""+ar(D):o.removeAttribute("name")}function Wo(o,l,f,d,v,w,C,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),l!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;f=f!=null?""+ar(f):"",l=l!=null?""+ar(l):f,D||l===o.value||(o.value=l),o.defaultValue=l}d=d??v,d=typeof d!="function"&&typeof d!="symbol"&&!!d,o.checked=D?o.checked:!!d,o.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.name=C)}function $a(o,l,f){l==="number"&&Xo(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function ta(o,l,f,d){if(o=o.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<o.length;f++)v=l.hasOwnProperty("$"+o[f].value),o[f].selected!==v&&(o[f].selected=v),v&&d&&(o[f].defaultSelected=!0)}else{for(f=""+ar(f),l=null,v=0;v<o.length;v++){if(o[v].value===f){o[v].selected=!0,d&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function _t(o,l,f){if(l!=null&&(l=""+ar(l),l!==o.value&&(o.value=l),f==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=f!=null?""+ar(f):""}function Yo(o,l,f,d){if(l==null){if(d!=null){if(f!=null)throw Error(r(92));if(_e(d)){if(1<d.length)throw Error(r(93));d=d[0]}f=d}f==null&&(f=""),l=f}f=ar(l),o.defaultValue=f,d=o.textContent,d===f&&d!==""&&d!==null&&(o.value=d)}function Br(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var $o=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ff(o,l,f){var d=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?d?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":d?o.setProperty(l,f):typeof f!="number"||f===0||$o.has(l)?l==="float"?o.cssFloat=f:o[l]=(""+f).trim():o[l]=f+"px"}function Nu(o,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,f!=null){for(var d in f)!f.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?o.setProperty(d,""):d==="float"?o.cssFloat="":o[d]="");for(var v in l)d=l[v],l.hasOwnProperty(v)&&f[v]!==d&&Ff(o,v,d)}else for(var w in l)l.hasOwnProperty(w)&&Ff(o,w,l[w])}function Ou(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(o){return $0.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var na=null;function jr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ra=null,ia=null;function Du(o){var l=yi(o);if(l&&(o=l.stateNode)){var f=o[rn]||null;e:switch(o=l.stateNode,l.type){case"input":if(Sr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+an(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var d=f[l];if(d!==o&&d.form===o.form){var v=d[rn]||null;if(!v)throw Error(r(90));Sr(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<f.length;l++)d=f[l],d.form===o.form&&Ru(d)}break e;case"textarea":_t(o,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ta(o,!!f.multiple,l,!1)}}}var wi=!1;function Hf(o,l,f){if(wi)return o(l,f);wi=!0;try{var d=o(l);return d}finally{if(wi=!1,(ra!==null||ia!==null)&&(kh(),ra&&(l=ra,o=ia,ia=ra=null,Du(l),o)))for(l=0;l<o.length;l++)Du(o[l])}}function Ko(o,l){var f=o.stateNode;if(f===null)return null;var d=f[rn]||null;if(d===null)return null;f=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(o=o.type,d=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!d;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(ni)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Vr=!1}var Ei=null,Ka=null,aa=null;function Pu(){if(aa)return aa;var o,l=Ka,f=l.length,d,v="value"in Ei?Ei.value:Ei.textContent,w=v.length;for(o=0;o<f&&l[o]===v[o];o++);var C=f-o;for(d=1;d<=C&&l[f-d]===v[w-d];d++);return aa=v.slice(o,1<d?1-d:void 0)}function Ai(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function bi(){return!0}function Mu(){return!1}function Tn(o){function l(f,d,v,w,C){this._reactName=f,this._targetInst=v,this.type=d,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var D in o)o.hasOwnProperty(D)&&(f=o[D],this[D]=f?f(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?bi:Mu,this.isPropagationStopped=Mu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),l}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Tn(ht),Zo=p({},ht,{view:0,detail:0}),zf=Tn(Zo),Ys,$s,Ti,Jo=p({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ti&&(Ti&&o.type==="mousemove"?(Ys=o.screenX-Ti.screenX,$s=o.screenY-Ti.screenY):$s=Ys=0,Ti=o),Ys)},movementY:function(o){return"movementY"in o?o.movementY:$s}}),Ur=Tn(Jo),Gf=p({},Jo,{dataTransfer:0}),K0=Tn(Gf),es=p({},Zo,{relatedTarget:0}),Ks=Tn(es),ku=p({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=Tn(ku),qf=p({},ht,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Zs=Tn(qf),Q0=p({},ht,{data:0}),Lu=Tn(Q0),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Wf[o])?!!l[o]:!1}function ns(){return Bu}var Yf=p({},Zo,{key:function(o){if(o.key){var l=ts[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ai(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Xf[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(o){return o.type==="keypress"?Ai(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ai(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Js=Tn(Yf),$f=p({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Tn($f),oa=p({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),Kf=Tn(oa),Qf=p({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=Tn(Qf),Jf=p({},Jo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),el=Tn(Jf),or=p({},ht,{newState:0,oldState:0}),eh=Tn(or),th=[9,13,27,32],Si=ni&&"CompositionEvent"in window,m=null;ni&&"documentMode"in document&&(m=document.documentMode);var A=ni&&"TextEvent"in window&&!m,S=ni&&(!Si||m&&8<m&&11>=m),L=" ",$=!1;function ne(o,l){switch(o){case"keyup":return th.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Je=!1;function hn(o,l){switch(o){case"compositionend":return ge(l);case"keypress":return l.which!==32?null:($=!0,L);case"textInput":return o=l.data,o===L&&$?null:o;default:return null}}function et(o,l){if(Je)return o==="compositionend"||!Si&&ne(o,l)?(o=Pu(),aa=Ka=Ei=null,Je=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return S&&l.locale!=="ko"?null:l.data;default:return null}}var Sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Sn[o.type]:l==="textarea"}function sa(o,l,f,d){ra?ia?ia.push(d):ia=[d]:ra=d,l=Fh(l,"onChange"),0<l.length&&(f=new Ws("onChange","change",null,f,d),o.push({event:f,listeners:l}))}var Bn=null,Ci=null;function Vu(o){Cx(o,0)}function nh(o){var l=xi(o);if(Ru(l))return o}function Yv(o,l){if(o==="change")return l}var $v=!1;if(ni){var Z0;if(ni){var J0="oninput"in document;if(!J0){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),J0=typeof Kv.oninput=="function"}Z0=J0}else Z0=!1;$v=Z0&&(!document.documentMode||9<document.documentMode)}function Qv(){Bn&&(Bn.detachEvent("onpropertychange",Zv),Ci=Bn=null)}function Zv(o){if(o.propertyName==="value"&&nh(Ci)){var l=[];sa(l,Ci,o,jr(o)),Hf(Vu,l)}}function PC(o,l,f){o==="focusin"?(Qv(),Bn=l,Ci=f,Bn.attachEvent("onpropertychange",Zv)):o==="focusout"&&Qv()}function MC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nh(Ci)}function kC(o,l){if(o==="click")return nh(l)}function LC(o,l){if(o==="input"||o==="change")return nh(l)}function BC(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Cr=typeof Object.is=="function"?Object.is:BC;function Uu(o,l){if(Cr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),d=Object.keys(l);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var v=f[d];if(!qi.call(l,v)||!Cr(o[v],l[v]))return!1}return!0}function Jv(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ey(o,l){var f=Jv(o);o=0;for(var d;f;){if(f.nodeType===3){if(d=o+f.textContent.length,o<=l&&d>=l)return{node:f,offset:l-o};o=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Jv(f)}}function ty(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ty(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function ny(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Xo(o.document);l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=Xo(o.document)}return l}function e1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var jC=ni&&"documentMode"in document&&11>=document.documentMode,tl=null,t1=null,Fu=null,n1=!1;function ry(o,l,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;n1||tl==null||tl!==Xo(d)||(d=tl,"selectionStart"in d&&e1(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Fu&&Uu(Fu,d)||(Fu=d,d=Fh(t1,"onSelect"),0<d.length&&(l=new Ws("onSelect","select",null,l,f),o.push({event:l,listeners:d}),l.target=tl)))}function rs(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var nl={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},r1={},iy={};ni&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function is(o){if(r1[o])return r1[o];if(!nl[o])return o;var l=nl[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in iy)return r1[o]=l[f];return o}var ay=is("animationend"),oy=is("animationiteration"),sy=is("animationstart"),VC=is("transitionrun"),UC=is("transitionstart"),FC=is("transitioncancel"),ly=is("transitionend"),uy=new Map,i1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");i1.push("scrollEnd");function ri(o,l){uy.set(o,l),ti(l,[o])}var cy=new WeakMap;function Fr(o,l){if(typeof o=="object"&&o!==null){var f=cy.get(o);return f!==void 0?f:(l={value:o,source:l,stack:Gs(l)},cy.set(o,l),l)}return{value:o,source:l,stack:Gs(l)}}var Hr=[],rl=0,a1=0;function rh(){for(var o=rl,l=a1=rl=0;l<o;){var f=Hr[l];Hr[l++]=null;var d=Hr[l];Hr[l++]=null;var v=Hr[l];Hr[l++]=null;var w=Hr[l];if(Hr[l++]=null,d!==null&&v!==null){var C=d.pending;C===null?v.next=v:(v.next=C.next,C.next=v),d.pending=v}w!==0&&fy(f,v,w)}}function ih(o,l,f,d){Hr[rl++]=o,Hr[rl++]=l,Hr[rl++]=f,Hr[rl++]=d,a1|=d,o.lanes|=d,o=o.alternate,o!==null&&(o.lanes|=d)}function o1(o,l,f,d){return ih(o,l,f,d),ah(o)}function il(o,l){return ih(o,null,null,l),ah(o)}function fy(o,l,f){o.lanes|=f;var d=o.alternate;d!==null&&(d.lanes|=f);for(var v=!1,w=o.return;w!==null;)w.childLanes|=f,d=w.alternate,d!==null&&(d.childLanes|=f),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(v=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,v&&l!==null&&(v=31-ft(f),o=w.hiddenUpdates,d=o[v],d===null?o[v]=[l]:d.push(l),l.lane=f|536870912),w):null}function ah(o){if(50<hc)throw hc=0,hp=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var al={};function HC(o,l,f,d){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(o,l,f,d){return new HC(o,l,f,d)}function s1(o){return o=o.prototype,!(!o||!o.isReactComponent)}function la(o,l){var f=o.alternate;return f===null?(f=Ir(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function hy(o,l){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,l=f.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function oh(o,l,f,d,v,w){var C=0;if(d=o,typeof o=="function")s1(o)&&(C=1);else if(typeof o=="string")C=G4(o,f,Se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=Ir(31,f,l,v),o.elementType=M,o.lanes=w,o;case E:return as(f.children,v,w,l);case b:C=8,v|=24;break;case T:return o=Ir(12,f,l,v|2),o.elementType=T,o.lanes=w,o;case U:return o=Ir(13,f,l,v),o.elementType=U,o.lanes=w,o;case q:return o=Ir(19,f,l,v),o.elementType=q,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:case P:C=10;break e;case R:C=9;break e;case j:C=11;break e;case O:C=14;break e;case N:C=16,d=null;break e}C=29,f=Error(r(130,o===null?"null":typeof o,"")),d=null}return l=Ir(C,f,l,v),l.elementType=o,l.type=d,l.lanes=w,l}function as(o,l,f,d){return o=Ir(7,o,d,l),o.lanes=f,o}function l1(o,l,f){return o=Ir(6,o,null,l),o.lanes=f,o}function u1(o,l,f){return l=Ir(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var ol=[],sl=0,sh=null,lh=0,zr=[],Gr=0,os=null,ua=1,ca="";function ss(o,l){ol[sl++]=lh,ol[sl++]=sh,sh=o,lh=l}function dy(o,l,f){zr[Gr++]=ua,zr[Gr++]=ca,zr[Gr++]=os,os=o;var d=ua;o=ca;var v=32-ft(d)-1;d&=~(1<<v),f+=1;var w=32-ft(l)+v;if(30<w){var C=v-v%5;w=(d&(1<<C)-1).toString(32),d>>=C,v-=C,ua=1<<32-ft(l)+v|f<<v|d,ca=w+o}else ua=1<<w|f<<v|d,ca=o}function c1(o){o.return!==null&&(ss(o,1),dy(o,1,0))}function f1(o){for(;o===sh;)sh=ol[--sl],ol[sl]=null,lh=ol[--sl],ol[sl]=null;for(;o===os;)os=zr[--Gr],zr[Gr]=null,ca=zr[--Gr],zr[Gr]=null,ua=zr[--Gr],zr[Gr]=null}var sr=null,qt=null,lt=!1,ls=null,Ii=!1,h1=Error(r(519));function us(o){var l=Error(r(418,""));throw Gu(Fr(l,o)),h1}function py(o){var l=o.stateNode,f=o.type,d=o.memoizedProps;switch(l[fn]=o,l[rn]=d,f){case"dialog":Ke("cancel",l),Ke("close",l);break;case"iframe":case"object":case"embed":Ke("load",l);break;case"video":case"audio":for(f=0;f<pc.length;f++)Ke(pc[f],l);break;case"source":Ke("error",l);break;case"img":case"image":case"link":Ke("error",l),Ke("load",l);break;case"details":Ke("toggle",l);break;case"input":Ke("invalid",l),Wo(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),qs(l);break;case"select":Ke("invalid",l);break;case"textarea":Ke("invalid",l),Yo(l,d.value,d.defaultValue,d.children),qs(l)}f=d.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||d.suppressHydrationWarning===!0||Ox(l.textContent,f)?(d.popover!=null&&(Ke("beforetoggle",l),Ke("toggle",l)),d.onScroll!=null&&Ke("scroll",l),d.onScrollEnd!=null&&Ke("scrollend",l),d.onClick!=null&&(l.onclick=Hh),l=!0):l=!1,l||us(o)}function gy(o){for(sr=o.return;sr;)switch(sr.tag){case 5:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:sr=sr.return}}function Hu(o){if(o!==sr)return!1;if(!lt)return gy(o),lt=!0,!1;var l=o.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||Ip(o.type,o.memoizedProps)),f=!f),f&&qt&&us(o),gy(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(l===0){qt=ai(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;o=o.nextSibling}qt=null}}else l===27?(l=qt,ho(o.type)?(o=Dp,Dp=null,qt=o):qt=l):qt=sr?ai(o.stateNode.nextSibling):null;return!0}function zu(){qt=sr=null,lt=!1}function my(){var o=ls;return o!==null&&(mr===null?mr=o:mr.push.apply(mr,o),ls=null),o}function Gu(o){ls===null?ls=[o]:ls.push(o)}var d1=ce(null),cs=null,fa=null;function Qa(o,l,f){de(d1,l._currentValue),l._currentValue=f}function ha(o){o._currentValue=d1.current,ve(d1)}function p1(o,l,f){for(;o!==null;){var d=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),o===f)break;o=o.return}}function g1(o,l,f,d){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var w=v.dependencies;if(w!==null){var C=v.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=v;for(var z=0;z<l.length;z++)if(D.context===l[z]){w.lanes|=f,D=w.alternate,D!==null&&(D.lanes|=f),p1(w.return,f,o),d||(C=null);break e}w=D.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=f,w=C.alternate,w!==null&&(w.lanes|=f),p1(C,f,o),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===o){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function qu(o,l,f,d){o=null;for(var v=l,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var D=v.type;Cr(v.pendingProps.value,C.value)||(o!==null?o.push(D):o=[D])}}else if(v===Gt.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(_c):o=[_c])}v=v.return}o!==null&&g1(l,o,f,d),l.flags|=262144}function uh(o){for(o=o.firstContext;o!==null;){if(!Cr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function fs(o){cs=o,fa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Yn(o){return vy(cs,o)}function ch(o,l){return cs===null&&fs(o),vy(o,l)}function vy(o,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},fa===null){if(o===null)throw Error(r(308));fa=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else fa=fa.next=l;return f}var zC=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(f,d){o.push(d)}};this.abort=function(){l.aborted=!0,o.forEach(function(f){return f()})}},GC=n.unstable_scheduleCallback,qC=n.unstable_NormalPriority,pn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m1(){return{controller:new zC,data:new Map,refCount:0}}function Xu(o){o.refCount--,o.refCount===0&&GC(qC,function(){o.controller.abort()})}var Wu=null,v1=0,ll=0,ul=null;function XC(o,l){if(Wu===null){var f=Wu=[];v1=0,ll=xp(),ul={status:"pending",value:void 0,then:function(d){f.push(d)}}}return v1++,l.then(yy,yy),l}function yy(){if(--v1===0&&Wu!==null){ul!==null&&(ul.status="fulfilled");var o=Wu;Wu=null,ll=0,ul=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function WC(o,l){var f=[],d={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};return o.then(function(){d.status="fulfilled",d.value=l;for(var v=0;v<f.length;v++)(0,f[v])(l)},function(v){for(d.status="rejected",d.reason=v,v=0;v<f.length;v++)(0,f[v])(void 0)}),d}var xy=ee.S;ee.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&XC(o,l),xy!==null&&xy(o,l)};var hs=ce(null);function y1(){var o=hs.current;return o!==null?o:Ct.pooledCache}function fh(o,l){l===null?de(hs,hs.current):de(hs,l.pool)}function _y(){var o=y1();return o===null?null:{parent:pn._currentValue,pool:o}}var Yu=Error(r(460)),wy=Error(r(474)),hh=Error(r(542)),x1={then:function(){}};function Ey(o){return o=o.status,o==="fulfilled"||o==="rejected"}function dh(){}function Ay(o,l,f){switch(f=o[f],f===void 0?o.push(l):f!==l&&(l.then(dh,dh),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Ty(o),o;default:if(typeof l.status=="string")l.then(dh,dh);else{if(o=Ct,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(d){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=d}},function(d){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,Ty(o),o}throw $u=l,Yu}}var $u=null;function by(){if($u===null)throw Error(r(459));var o=$u;return $u=null,o}function Ty(o){if(o===Yu||o===hh)throw Error(r(483))}var Za=!1;function _1(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function w1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ja(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function eo(o,l,f){var d=o.updateQueue;if(d===null)return null;if(d=d.shared,(gt&2)!==0){var v=d.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),d.pending=l,l=ah(o),fy(o,null,f),l}return ih(o,d,l,f),ah(o)}function Ku(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,bu(o,f)}}function E1(o,l){var f=o.updateQueue,d=o.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var v=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var C={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?v=w=C:w=w.next=C,f=f.next}while(f!==null);w===null?v=w=l:w=w.next=l}else v=w=l;f={baseState:d.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}var A1=!1;function Qu(){if(A1){var o=ul;if(o!==null)throw o}}function Zu(o,l,f,d){A1=!1;var v=o.updateQueue;Za=!1;var w=v.firstBaseUpdate,C=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var z=D,Q=z.next;z.next=null,C===null?w=Q:C.next=Q,C=z;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,D=ae.lastBaseUpdate,D!==C&&(D===null?ae.firstBaseUpdate=Q:D.next=Q,ae.lastBaseUpdate=z))}if(w!==null){var se=v.baseState;C=0,ae=Q=z=null,D=w;do{var J=D.lane&-536870913,te=J!==D.lane;if(te?(tt&J)===J:(d&J)===J){J!==0&&J===ll&&(A1=!0),ae!==null&&(ae=ae.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Le=o,Ne=D;J=l;var At=f;switch(Ne.tag){case 1:if(Le=Ne.payload,typeof Le=="function"){se=Le.call(At,se,J);break e}se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Ne.payload,J=typeof Le=="function"?Le.call(At,se,J):Le,J==null)break e;se=p({},se,J);break e;case 2:Za=!0}}J=D.callback,J!==null&&(o.flags|=64,te&&(o.flags|=8192),te=v.callbacks,te===null?v.callbacks=[J]:te.push(J))}else te={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ae===null?(Q=ae=te,z=se):ae=ae.next=te,C|=J;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;te=D,D=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);ae===null&&(z=se),v.baseState=z,v.firstBaseUpdate=Q,v.lastBaseUpdate=ae,w===null&&(v.shared.lanes=0),lo|=C,o.lanes=C,o.memoizedState=se}}function Sy(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function Cy(o,l){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)Sy(f[o],l)}var cl=ce(null),ph=ce(0);function Iy(o,l){o=xa,de(ph,o),de(cl,l),xa=o|l.baseLanes}function b1(){de(ph,xa),de(cl,cl.current)}function T1(){xa=ph.current,ve(cl),ve(ph)}var to=0,Ge=null,wt=null,on=null,gh=!1,fl=!1,ds=!1,mh=0,Ju=0,hl=null,YC=0;function Qt(){throw Error(r(321))}function S1(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Cr(o[f],l[f]))return!1;return!0}function C1(o,l,f,d,v,w){return to=w,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ee.H=o===null||o.memoizedState===null?f2:h2,ds=!1,w=f(d,v),ds=!1,fl&&(w=Ny(l,f,d,v)),Ry(o),w}function Ry(o){ee.H=Eh;var l=wt!==null&&wt.next!==null;if(to=0,on=wt=Ge=null,gh=!1,Ju=0,hl=null,l)throw Error(r(300));o===null||Cn||(o=o.dependencies,o!==null&&uh(o)&&(Cn=!0))}function Ny(o,l,f,d){Ge=o;var v=0;do{if(fl&&(hl=null),Ju=0,fl=!1,25<=v)throw Error(r(301));if(v+=1,on=wt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ee.H=t4,w=l(f,d)}while(fl);return w}function $C(){var o=ee.H,l=o.useState()[0];return l=typeof l.then=="function"?ec(l):l,o=o.useState()[0],(wt!==null?wt.memoizedState:null)!==o&&(Ge.flags|=1024),l}function I1(){var o=mh!==0;return mh=0,o}function R1(o,l,f){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~f}function N1(o){if(gh){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}gh=!1}to=0,on=wt=Ge=null,fl=!1,Ju=mh=0,hl=null}function pr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ge.memoizedState=on=o:on=on.next=o,on}function sn(){if(wt===null){var o=Ge.alternate;o=o!==null?o.memoizedState:null}else o=wt.next;var l=on===null?Ge.memoizedState:on.next;if(l!==null)on=l,wt=o;else{if(o===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));wt=o,o={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},on===null?Ge.memoizedState=on=o:on=on.next=o}return on}function O1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(o){var l=Ju;return Ju+=1,hl===null&&(hl=[]),o=Ay(hl,o,l),l=Ge,(on===null?l.memoizedState:on.next)===null&&(l=l.alternate,ee.H=l===null||l.memoizedState===null?f2:h2),o}function vh(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ec(o);if(o.$$typeof===P)return Yn(o)}throw Error(r(438,String(o)))}function D1(o){var l=null,f=Ge.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var d=Ge.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=O1(),Ge.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(o),d=0;d<o;d++)f[d]=V;return l.index++,f}function da(o,l){return typeof l=="function"?l(o):l}function yh(o){var l=sn();return P1(l,wt,o)}function P1(o,l,f){var d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=f;var v=o.baseQueue,w=d.pending;if(w!==null){if(v!==null){var C=v.next;v.next=w.next,w.next=C}l.baseQueue=v=w,d.pending=null}if(w=o.baseState,v===null)o.memoizedState=w;else{l=v.next;var D=C=null,z=null,Q=l,ae=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(tt&se)===se:(to&se)===se){var J=Q.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===ll&&(ae=!0);else if((to&J)===J){Q=Q.next,J===ll&&(ae=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(D=z=se,C=w):z=z.next=se,Ge.lanes|=J,lo|=J;se=Q.action,ds&&f(w,se),w=Q.hasEagerState?Q.eagerState:f(w,se)}else J={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(D=z=J,C=w):z=z.next=J,Ge.lanes|=se,lo|=se;Q=Q.next}while(Q!==null&&Q!==l);if(z===null?C=w:z.next=D,!Cr(w,o.memoizedState)&&(Cn=!0,ae&&(f=ul,f!==null)))throw f;o.memoizedState=w,o.baseState=C,o.baseQueue=z,d.lastRenderedState=w}return v===null&&(d.lanes=0),[o.memoizedState,d.dispatch]}function M1(o){var l=sn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var d=f.dispatch,v=f.pending,w=l.memoizedState;if(v!==null){f.pending=null;var C=v=v.next;do w=o(w,C.action),C=C.next;while(C!==v);Cr(w,l.memoizedState)||(Cn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),f.lastRenderedState=w}return[w,d]}function Oy(o,l,f){var d=Ge,v=sn(),w=lt;if(w){if(f===void 0)throw Error(r(407));f=f()}else f=l();var C=!Cr((wt||v).memoizedState,f);C&&(v.memoizedState=f,Cn=!0),v=v.queue;var D=My.bind(null,d,v,o);if(tc(2048,8,D,[o]),v.getSnapshot!==l||C||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,dl(9,xh(),Py.bind(null,d,v,f,l),null),Ct===null)throw Error(r(349));w||(to&124)!==0||Dy(d,l,f)}return f}function Dy(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Ge.updateQueue,l===null?(l=O1(),Ge.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function Py(o,l,f,d){l.value=f,l.getSnapshot=d,ky(l)&&Ly(o)}function My(o,l,f){return f(function(){ky(l)&&Ly(o)})}function ky(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Cr(o,f)}catch{return!0}}function Ly(o){var l=il(o,2);l!==null&&Pr(l,o,2)}function k1(o){var l=pr();if(typeof o=="function"){var f=o;if(o=f(),ds){xt(!0);try{f()}finally{xt(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:o},l}function By(o,l,f,d){return o.baseState=f,P1(o,wt,typeof d=="function"?d:da)}function KC(o,l,f,d,v){if(wh(o))throw Error(r(485));if(o=l.action,o!==null){var w={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};ee.T!==null?f(!0):w.isTransition=!1,d(w),f=l.pending,f===null?(w.next=l.pending=w,jy(l,w)):(w.next=f.next,l.pending=f.next=w)}}function jy(o,l){var f=l.action,d=l.payload,v=o.state;if(l.isTransition){var w=ee.T,C={};ee.T=C;try{var D=f(v,d),z=ee.S;z!==null&&z(C,D),Vy(o,l,D)}catch(Q){L1(o,l,Q)}finally{ee.T=w}}else try{w=f(v,d),Vy(o,l,w)}catch(Q){L1(o,l,Q)}}function Vy(o,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(d){Uy(o,l,d)},function(d){return L1(o,l,d)}):Uy(o,l,f)}function Uy(o,l,f){l.status="fulfilled",l.value=f,Fy(l),o.state=f,l=o.pending,l!==null&&(f=l.next,f===l?o.pending=null:(f=f.next,l.next=f,jy(o,f)))}function L1(o,l,f){var d=o.pending;if(o.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=f,Fy(l),l=l.next;while(l!==d)}o.action=null}function Fy(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Hy(o,l){return l}function zy(o,l){if(lt){var f=Ct.formState;if(f!==null){e:{var d=Ge;if(lt){if(qt){t:{for(var v=qt,w=Ii;v.nodeType!==8;){if(!w){v=null;break t}if(v=ai(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){qt=ai(v.nextSibling),d=v.data==="F!";break e}}us(d)}d=!1}d&&(l=f[0])}}return f=pr(),f.memoizedState=f.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:l},f.queue=d,f=l2.bind(null,Ge,d),d.dispatch=f,d=k1(!1),w=F1.bind(null,Ge,!1,d.queue),d=pr(),v={state:l,dispatch:null,action:o,pending:null},d.queue=v,f=KC.bind(null,Ge,v,w,f),v.dispatch=f,d.memoizedState=o,[l,f,!1]}function Gy(o){var l=sn();return qy(l,wt,o)}function qy(o,l,f){if(l=P1(o,l,Hy)[0],o=yh(da)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=ec(l)}catch(C){throw C===Yu?hh:C}else d=l;l=sn();var v=l.queue,w=v.dispatch;return f!==l.memoizedState&&(Ge.flags|=2048,dl(9,xh(),QC.bind(null,v,f),null)),[d,w,o]}function QC(o,l){o.action=l}function Xy(o){var l=sn(),f=wt;if(f!==null)return qy(l,f,o);sn(),l=l.memoizedState,f=sn();var d=f.queue.dispatch;return f.memoizedState=o,[l,d,!1]}function dl(o,l,f,d){return o={tag:o,create:f,deps:d,inst:l,next:null},l=Ge.updateQueue,l===null&&(l=O1(),Ge.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=o.next=o:(d=f.next,f.next=o,o.next=d,l.lastEffect=o),o}function xh(){return{destroy:void 0,resource:void 0}}function Wy(){return sn().memoizedState}function _h(o,l,f,d){var v=pr();d=d===void 0?null:d,Ge.flags|=o,v.memoizedState=dl(1|l,xh(),f,d)}function tc(o,l,f,d){var v=sn();d=d===void 0?null:d;var w=v.memoizedState.inst;wt!==null&&d!==null&&S1(d,wt.memoizedState.deps)?v.memoizedState=dl(l,w,f,d):(Ge.flags|=o,v.memoizedState=dl(1|l,w,f,d))}function Yy(o,l){_h(8390656,8,o,l)}function $y(o,l){tc(2048,8,o,l)}function Ky(o,l){return tc(4,2,o,l)}function Qy(o,l){return tc(4,4,o,l)}function Zy(o,l){if(typeof l=="function"){o=o();var f=l(o);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Jy(o,l,f){f=f!=null?f.concat([o]):null,tc(4,4,Zy.bind(null,l,o),f)}function B1(){}function e2(o,l){var f=sn();l=l===void 0?null:l;var d=f.memoizedState;return l!==null&&S1(l,d[1])?d[0]:(f.memoizedState=[o,l],o)}function t2(o,l){var f=sn();l=l===void 0?null:l;var d=f.memoizedState;if(l!==null&&S1(l,d[1]))return d[0];if(d=o(),ds){xt(!0);try{o()}finally{xt(!1)}}return f.memoizedState=[d,l],d}function j1(o,l,f){return f===void 0||(to&1073741824)!==0?o.memoizedState=l:(o.memoizedState=f,o=ix(),Ge.lanes|=o,lo|=o,f)}function n2(o,l,f,d){return Cr(f,l)?f:cl.current!==null?(o=j1(o,f,d),Cr(o,l)||(Cn=!0),o):(to&42)===0?(Cn=!0,o.memoizedState=f):(o=ix(),Ge.lanes|=o,lo|=o,l)}function r2(o,l,f,d,v){var w=le.p;le.p=w!==0&&8>w?w:8;var C=ee.T,D={};ee.T=D,F1(o,!1,l,f);try{var z=v(),Q=ee.S;if(Q!==null&&Q(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ae=WC(z,d);nc(o,l,ae,Dr(o))}else nc(o,l,d,Dr(o))}catch(se){nc(o,l,{then:function(){},status:"rejected",reason:se},Dr())}finally{le.p=w,ee.T=C}}function ZC(){}function V1(o,l,f,d){if(o.tag!==5)throw Error(r(476));var v=i2(o).queue;r2(o,v,l,fe,f===null?ZC:function(){return a2(o),f(d)})}function i2(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:fe},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:da,lastRenderedState:f},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function a2(o){var l=i2(o).next.queue;nc(o,l,{},Dr())}function U1(){return Yn(_c)}function o2(){return sn().memoizedState}function s2(){return sn().memoizedState}function JC(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var f=Dr();o=Ja(f);var d=eo(l,o,f);d!==null&&(Pr(d,l,f),Ku(d,l,f)),l={cache:m1()},o.payload=l;return}l=l.return}}function e4(o,l,f){var d=Dr();f={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},wh(o)?u2(l,f):(f=o1(o,l,f,d),f!==null&&(Pr(f,o,d),c2(f,l,d)))}function l2(o,l,f){var d=Dr();nc(o,l,f,d)}function nc(o,l,f,d){var v={lane:d,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(wh(o))u2(l,v);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var C=l.lastRenderedState,D=w(C,f);if(v.hasEagerState=!0,v.eagerState=D,Cr(D,C))return ih(o,l,v,0),Ct===null&&rh(),!1}catch{}finally{}if(f=o1(o,l,v,d),f!==null)return Pr(f,o,d),c2(f,l,d),!0}return!1}function F1(o,l,f,d){if(d={lane:2,revertLane:xp(),action:d,hasEagerState:!1,eagerState:null,next:null},wh(o)){if(l)throw Error(r(479))}else l=o1(o,f,d,2),l!==null&&Pr(l,o,2)}function wh(o){var l=o.alternate;return o===Ge||l!==null&&l===Ge}function u2(o,l){fl=gh=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function c2(o,l,f){if((f&4194048)!==0){var d=l.lanes;d&=o.pendingLanes,f|=d,l.lanes=f,bu(o,f)}}var Eh={readContext:Yn,use:vh,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},f2={readContext:Yn,use:vh,useCallback:function(o,l){return pr().memoizedState=[o,l===void 0?null:l],o},useContext:Yn,useEffect:Yy,useImperativeHandle:function(o,l,f){f=f!=null?f.concat([o]):null,_h(4194308,4,Zy.bind(null,l,o),f)},useLayoutEffect:function(o,l){return _h(4194308,4,o,l)},useInsertionEffect:function(o,l){_h(4,2,o,l)},useMemo:function(o,l){var f=pr();l=l===void 0?null:l;var d=o();if(ds){xt(!0);try{o()}finally{xt(!1)}}return f.memoizedState=[d,l],d},useReducer:function(o,l,f){var d=pr();if(f!==void 0){var v=f(l);if(ds){xt(!0);try{f(l)}finally{xt(!1)}}}else v=l;return d.memoizedState=d.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},d.queue=o,o=o.dispatch=e4.bind(null,Ge,o),[d.memoizedState,o]},useRef:function(o){var l=pr();return o={current:o},l.memoizedState=o},useState:function(o){o=k1(o);var l=o.queue,f=l2.bind(null,Ge,l);return l.dispatch=f,[o.memoizedState,f]},useDebugValue:B1,useDeferredValue:function(o,l){var f=pr();return j1(f,o,l)},useTransition:function(){var o=k1(!1);return o=r2.bind(null,Ge,o.queue,!0,!1),pr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,f){var d=Ge,v=pr();if(lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Ct===null)throw Error(r(349));(tt&124)!==0||Dy(d,l,f)}v.memoizedState=f;var w={value:f,getSnapshot:l};return v.queue=w,Yy(My.bind(null,d,w,o),[o]),d.flags|=2048,dl(9,xh(),Py.bind(null,d,w,f,l),null),f},useId:function(){var o=pr(),l=Ct.identifierPrefix;if(lt){var f=ca,d=ua;f=(d&~(1<<32-ft(d)-1)).toString(32)+f,l="«"+l+"R"+f,f=mh++,0<f&&(l+="H"+f.toString(32)),l+="»"}else f=YC++,l="«"+l+"r"+f.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:U1,useFormState:zy,useActionState:zy,useOptimistic:function(o){var l=pr();l.memoizedState=l.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=F1.bind(null,Ge,!0,f),f.dispatch=l,[o,l]},useMemoCache:D1,useCacheRefresh:function(){return pr().memoizedState=JC.bind(null,Ge)}},h2={readContext:Yn,use:vh,useCallback:e2,useContext:Yn,useEffect:$y,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:t2,useReducer:yh,useRef:Wy,useState:function(){return yh(da)},useDebugValue:B1,useDeferredValue:function(o,l){var f=sn();return n2(f,wt.memoizedState,o,l)},useTransition:function(){var o=yh(da)[0],l=sn().memoizedState;return[typeof o=="boolean"?o:ec(o),l]},useSyncExternalStore:Oy,useId:o2,useHostTransitionStatus:U1,useFormState:Gy,useActionState:Gy,useOptimistic:function(o,l){var f=sn();return By(f,wt,o,l)},useMemoCache:D1,useCacheRefresh:s2},t4={readContext:Yn,use:vh,useCallback:e2,useContext:Yn,useEffect:$y,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Qy,useMemo:t2,useReducer:M1,useRef:Wy,useState:function(){return M1(da)},useDebugValue:B1,useDeferredValue:function(o,l){var f=sn();return wt===null?j1(f,o,l):n2(f,wt.memoizedState,o,l)},useTransition:function(){var o=M1(da)[0],l=sn().memoizedState;return[typeof o=="boolean"?o:ec(o),l]},useSyncExternalStore:Oy,useId:o2,useHostTransitionStatus:U1,useFormState:Xy,useActionState:Xy,useOptimistic:function(o,l){var f=sn();return wt!==null?By(f,wt,o,l):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:D1,useCacheRefresh:s2},pl=null,rc=0;function Ah(o){var l=rc;return rc+=1,pl===null&&(pl=[]),Ay(pl,o,l)}function ic(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function bh(o,l){throw l.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function d2(o){var l=o._init;return l(o._payload)}function p2(o){function l(Y,W){if(o){var K=Y.deletions;K===null?(Y.deletions=[W],Y.flags|=16):K.push(W)}}function f(Y,W){if(!o)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function v(Y,W){return Y=la(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,K){return Y.index=K,o?(K=Y.alternate,K!==null?(K=K.index,K<W?(Y.flags|=67108866,W):K):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function C(Y){return o&&Y.alternate===null&&(Y.flags|=67108866),Y}function D(Y,W,K,oe){return W===null||W.tag!==6?(W=l1(K,Y.mode,oe),W.return=Y,W):(W=v(W,K),W.return=Y,W)}function z(Y,W,K,oe){var we=K.type;return we===E?ae(Y,W,K.props.children,oe,K.key):W!==null&&(W.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&d2(we)===W.type)?(W=v(W,K.props),ic(W,K),W.return=Y,W):(W=oh(K.type,K.key,K.props,null,Y.mode,oe),ic(W,K),W.return=Y,W)}function Q(Y,W,K,oe){return W===null||W.tag!==4||W.stateNode.containerInfo!==K.containerInfo||W.stateNode.implementation!==K.implementation?(W=u1(K,Y.mode,oe),W.return=Y,W):(W=v(W,K.children||[]),W.return=Y,W)}function ae(Y,W,K,oe,we){return W===null||W.tag!==7?(W=as(K,Y.mode,oe,we),W.return=Y,W):(W=v(W,K),W.return=Y,W)}function se(Y,W,K){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=l1(""+W,Y.mode,K),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return K=oh(W.type,W.key,W.props,null,Y.mode,K),ic(K,W),K.return=Y,K;case _:return W=u1(W,Y.mode,K),W.return=Y,W;case N:var oe=W._init;return W=oe(W._payload),se(Y,W,K)}if(_e(W)||H(W))return W=as(W,Y.mode,K,null),W.return=Y,W;if(typeof W.then=="function")return se(Y,Ah(W),K);if(W.$$typeof===P)return se(Y,ch(Y,W),K);bh(Y,W)}return null}function J(Y,W,K,oe){var we=W!==null?W.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:D(Y,W,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return K.key===we?z(Y,W,K,oe):null;case _:return K.key===we?Q(Y,W,K,oe):null;case N:return we=K._init,K=we(K._payload),J(Y,W,K,oe)}if(_e(K)||H(K))return we!==null?null:ae(Y,W,K,oe,null);if(typeof K.then=="function")return J(Y,W,Ah(K),oe);if(K.$$typeof===P)return J(Y,W,ch(Y,K),oe);bh(Y,K)}return null}function te(Y,W,K,oe,we){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(K)||null,D(W,Y,""+oe,we);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return Y=Y.get(oe.key===null?K:oe.key)||null,z(W,Y,oe,we);case _:return Y=Y.get(oe.key===null?K:oe.key)||null,Q(W,Y,oe,we);case N:var We=oe._init;return oe=We(oe._payload),te(Y,W,K,oe,we)}if(_e(oe)||H(oe))return Y=Y.get(K)||null,ae(W,Y,oe,we,null);if(typeof oe.then=="function")return te(Y,W,K,Ah(oe),we);if(oe.$$typeof===P)return te(Y,W,K,ch(W,oe),we);bh(W,oe)}return null}function Le(Y,W,K,oe){for(var we=null,We=null,Ce=W,Me=W=0,Rn=null;Ce!==null&&Me<K.length;Me++){Ce.index>Me?(Rn=Ce,Ce=null):Rn=Ce.sibling;var at=J(Y,Ce,K[Me],oe);if(at===null){Ce===null&&(Ce=Rn);break}o&&Ce&&at.alternate===null&&l(Y,Ce),W=w(at,W,Me),We===null?we=at:We.sibling=at,We=at,Ce=Rn}if(Me===K.length)return f(Y,Ce),lt&&ss(Y,Me),we;if(Ce===null){for(;Me<K.length;Me++)Ce=se(Y,K[Me],oe),Ce!==null&&(W=w(Ce,W,Me),We===null?we=Ce:We.sibling=Ce,We=Ce);return lt&&ss(Y,Me),we}for(Ce=d(Ce);Me<K.length;Me++)Rn=te(Ce,Y,Me,K[Me],oe),Rn!==null&&(o&&Rn.alternate!==null&&Ce.delete(Rn.key===null?Me:Rn.key),W=w(Rn,W,Me),We===null?we=Rn:We.sibling=Rn,We=Rn);return o&&Ce.forEach(function(yo){return l(Y,yo)}),lt&&ss(Y,Me),we}function Ne(Y,W,K,oe){if(K==null)throw Error(r(151));for(var we=null,We=null,Ce=W,Me=W=0,Rn=null,at=K.next();Ce!==null&&!at.done;Me++,at=K.next()){Ce.index>Me?(Rn=Ce,Ce=null):Rn=Ce.sibling;var yo=J(Y,Ce,at.value,oe);if(yo===null){Ce===null&&(Ce=Rn);break}o&&Ce&&yo.alternate===null&&l(Y,Ce),W=w(yo,W,Me),We===null?we=yo:We.sibling=yo,We=yo,Ce=Rn}if(at.done)return f(Y,Ce),lt&&ss(Y,Me),we;if(Ce===null){for(;!at.done;Me++,at=K.next())at=se(Y,at.value,oe),at!==null&&(W=w(at,W,Me),We===null?we=at:We.sibling=at,We=at);return lt&&ss(Y,Me),we}for(Ce=d(Ce);!at.done;Me++,at=K.next())at=te(Ce,Y,Me,at.value,oe),at!==null&&(o&&at.alternate!==null&&Ce.delete(at.key===null?Me:at.key),W=w(at,W,Me),We===null?we=at:We.sibling=at,We=at);return o&&Ce.forEach(function(n3){return l(Y,n3)}),lt&&ss(Y,Me),we}function At(Y,W,K,oe){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case y:e:{for(var we=K.key;W!==null;){if(W.key===we){if(we=K.type,we===E){if(W.tag===7){f(Y,W.sibling),oe=v(W,K.props.children),oe.return=Y,Y=oe;break e}}else if(W.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===N&&d2(we)===W.type){f(Y,W.sibling),oe=v(W,K.props),ic(oe,K),oe.return=Y,Y=oe;break e}f(Y,W);break}else l(Y,W);W=W.sibling}K.type===E?(oe=as(K.props.children,Y.mode,oe,K.key),oe.return=Y,Y=oe):(oe=oh(K.type,K.key,K.props,null,Y.mode,oe),ic(oe,K),oe.return=Y,Y=oe)}return C(Y);case _:e:{for(we=K.key;W!==null;){if(W.key===we)if(W.tag===4&&W.stateNode.containerInfo===K.containerInfo&&W.stateNode.implementation===K.implementation){f(Y,W.sibling),oe=v(W,K.children||[]),oe.return=Y,Y=oe;break e}else{f(Y,W);break}else l(Y,W);W=W.sibling}oe=u1(K,Y.mode,oe),oe.return=Y,Y=oe}return C(Y);case N:return we=K._init,K=we(K._payload),At(Y,W,K,oe)}if(_e(K))return Le(Y,W,K,oe);if(H(K)){if(we=H(K),typeof we!="function")throw Error(r(150));return K=we.call(K),Ne(Y,W,K,oe)}if(typeof K.then=="function")return At(Y,W,Ah(K),oe);if(K.$$typeof===P)return At(Y,W,ch(Y,K),oe);bh(Y,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,W!==null&&W.tag===6?(f(Y,W.sibling),oe=v(W,K),oe.return=Y,Y=oe):(f(Y,W),oe=l1(K,Y.mode,oe),oe.return=Y,Y=oe),C(Y)):f(Y,W)}return function(Y,W,K,oe){try{rc=0;var we=At(Y,W,K,oe);return pl=null,we}catch(Ce){if(Ce===Yu||Ce===hh)throw Ce;var We=Ir(29,Ce,null,Y.mode);return We.lanes=oe,We.return=Y,We}finally{}}}var gl=p2(!0),g2=p2(!1),qr=ce(null),Ri=null;function no(o){var l=o.alternate;de(gn,gn.current&1),de(qr,o),Ri===null&&(l===null||cl.current!==null||l.memoizedState!==null)&&(Ri=o)}function m2(o){if(o.tag===22){if(de(gn,gn.current),de(qr,o),Ri===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ri=o)}}else ro()}function ro(){de(gn,gn.current),de(qr,qr.current)}function pa(o){ve(qr),Ri===o&&(Ri=null),ve(gn)}var gn=ce(0);function Th(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||Op(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function H1(o,l,f,d){l=o.memoizedState,f=f(d,l),f=f==null?l:p({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var z1={enqueueSetState:function(o,l,f){o=o._reactInternals;var d=Dr(),v=Ja(d);v.payload=l,f!=null&&(v.callback=f),l=eo(o,v,d),l!==null&&(Pr(l,o,d),Ku(l,o,d))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var d=Dr(),v=Ja(d);v.tag=1,v.payload=l,f!=null&&(v.callback=f),l=eo(o,v,d),l!==null&&(Pr(l,o,d),Ku(l,o,d))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=Dr(),d=Ja(f);d.tag=2,l!=null&&(d.callback=l),l=eo(o,d,f),l!==null&&(Pr(l,o,f),Ku(l,o,f))}};function v2(o,l,f,d,v,w,C){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(d,w,C):l.prototype&&l.prototype.isPureReactComponent?!Uu(f,d)||!Uu(v,w):!0}function y2(o,l,f,d){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,d),l.state!==o&&z1.enqueueReplaceState(l,l.state,null)}function ps(o,l){var f=l;if("ref"in l){f={};for(var d in l)d!=="ref"&&(f[d]=l[d])}if(o=o.defaultProps){f===l&&(f=p({},f));for(var v in o)f[v]===void 0&&(f[v]=o[v])}return f}var Sh=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function x2(o){Sh(o)}function _2(o){console.error(o)}function w2(o){Sh(o)}function Ch(o,l){try{var f=o.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function E2(o,l,f){try{var d=o.onCaughtError;d(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function G1(o,l,f){return f=Ja(f),f.tag=3,f.payload={element:null},f.callback=function(){Ch(o,l)},f}function A2(o){return o=Ja(o),o.tag=3,o}function b2(o,l,f,d){var v=f.type.getDerivedStateFromError;if(typeof v=="function"){var w=d.value;o.payload=function(){return v(w)},o.callback=function(){E2(l,f,d)}}var C=f.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(o.callback=function(){E2(l,f,d),typeof v!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var D=d.stack;this.componentDidCatch(d.value,{componentStack:D!==null?D:""})})}function n4(o,l,f,d,v){if(f.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=f.alternate,l!==null&&qu(l,f,v,!0),f=qr.current,f!==null){switch(f.tag){case 13:return Ri===null?pp():f.alternate===null&&Xt===0&&(Xt=3),f.flags&=-257,f.flags|=65536,f.lanes=v,d===x1?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([d]):l.add(d),mp(o,d,v)),!1;case 22:return f.flags|=65536,d===x1?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([d]):f.add(d)),mp(o,d,v)),!1}throw Error(r(435,f.tag))}return mp(o,d,v),pp(),!1}if(lt)return l=qr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,d!==h1&&(o=Error(r(422),{cause:d}),Gu(Fr(o,f)))):(d!==h1&&(l=Error(r(423),{cause:d}),Gu(Fr(l,f))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,d=Fr(d,f),v=G1(o.stateNode,d,v),E1(o,v),Xt!==4&&(Xt=2)),!1;var w=Error(r(520),{cause:d});if(w=Fr(w,f),fc===null?fc=[w]:fc.push(w),Xt!==4&&(Xt=2),l===null)return!0;d=Fr(d,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,o=v&-v,f.lanes|=o,o=G1(f.stateNode,d,o),E1(f,o),!1;case 1:if(l=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(uo===null||!uo.has(w))))return f.flags|=65536,v&=-v,f.lanes|=v,v=A2(v),b2(v,o,f,d),E1(f,v),!1}f=f.return}while(f!==null);return!1}var T2=Error(r(461)),Cn=!1;function jn(o,l,f,d){l.child=o===null?g2(l,null,f,d):gl(l,o.child,f,d)}function S2(o,l,f,d,v){f=f.render;var w=l.ref;if("ref"in d){var C={};for(var D in d)D!=="ref"&&(C[D]=d[D])}else C=d;return fs(l),d=C1(o,l,f,C,w,v),D=I1(),o!==null&&!Cn?(R1(o,l,v),ga(o,l,v)):(lt&&D&&c1(l),l.flags|=1,jn(o,l,d,v),l.child)}function C2(o,l,f,d,v){if(o===null){var w=f.type;return typeof w=="function"&&!s1(w)&&w.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=w,I2(o,l,w,d,v)):(o=oh(f.type,null,d,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(w=o.child,!Z1(o,v)){var C=w.memoizedProps;if(f=f.compare,f=f!==null?f:Uu,f(C,d)&&o.ref===l.ref)return ga(o,l,v)}return l.flags|=1,o=la(w,d),o.ref=l.ref,o.return=l,l.child=o}function I2(o,l,f,d,v){if(o!==null){var w=o.memoizedProps;if(Uu(w,d)&&o.ref===l.ref)if(Cn=!1,l.pendingProps=d=w,Z1(o,v))(o.flags&131072)!==0&&(Cn=!0);else return l.lanes=o.lanes,ga(o,l,v)}return q1(o,l,f,d,v)}function R2(o,l,f){var d=l.pendingProps,v=d.children,w=o!==null?o.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=w!==null?w.baseLanes|f:f,o!==null){for(v=l.child=o.child,w=0;v!==null;)w=w|v.lanes|v.childLanes,v=v.sibling;l.childLanes=w&~d}else l.childLanes=0,l.child=null;return N2(o,l,d,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&fh(l,w!==null?w.cachePool:null),w!==null?Iy(l,w):b1(),m2(l);else return l.lanes=l.childLanes=536870912,N2(o,l,w!==null?w.baseLanes|f:f,f)}else w!==null?(fh(l,w.cachePool),Iy(l,w),ro(),l.memoizedState=null):(o!==null&&fh(l,null),b1(),ro());return jn(o,l,v,f),l.child}function N2(o,l,f,d){var v=y1();return v=v===null?null:{parent:pn._currentValue,pool:v},l.memoizedState={baseLanes:f,cachePool:v},o!==null&&fh(l,null),b1(),m2(l),o!==null&&qu(o,l,d,!0),null}function Ih(o,l){var f=l.ref;if(f===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(o===null||o.ref!==f)&&(l.flags|=4194816)}}function q1(o,l,f,d,v){return fs(l),f=C1(o,l,f,d,void 0,v),d=I1(),o!==null&&!Cn?(R1(o,l,v),ga(o,l,v)):(lt&&d&&c1(l),l.flags|=1,jn(o,l,f,v),l.child)}function O2(o,l,f,d,v,w){return fs(l),l.updateQueue=null,f=Ny(l,d,f,v),Ry(o),d=I1(),o!==null&&!Cn?(R1(o,l,w),ga(o,l,w)):(lt&&d&&c1(l),l.flags|=1,jn(o,l,f,w),l.child)}function D2(o,l,f,d,v){if(fs(l),l.stateNode===null){var w=al,C=f.contextType;typeof C=="object"&&C!==null&&(w=Yn(C)),w=new f(d,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=z1,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=d,w.state=l.memoizedState,w.refs={},_1(l),C=f.contextType,w.context=typeof C=="object"&&C!==null?Yn(C):al,w.state=l.memoizedState,C=f.getDerivedStateFromProps,typeof C=="function"&&(H1(l,f,C,d),w.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&z1.enqueueReplaceState(w,w.state,null),Zu(l,d,w,v),Qu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(o===null){w=l.stateNode;var D=l.memoizedProps,z=ps(f,D);w.props=z;var Q=w.context,ae=f.contextType;C=al,typeof ae=="object"&&ae!==null&&(C=Yn(ae));var se=f.getDerivedStateFromProps;ae=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=l.pendingProps!==D,ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||Q!==C)&&y2(l,w,d,C),Za=!1;var J=l.memoizedState;w.state=J,Zu(l,d,w,v),Qu(),Q=l.memoizedState,D||J!==Q||Za?(typeof se=="function"&&(H1(l,f,se,d),Q=l.memoizedState),(z=Za||v2(l,f,z,d,J,Q,C))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Q),w.props=d,w.state=Q,w.context=C,d=z):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{w=l.stateNode,w1(o,l),C=l.memoizedProps,ae=ps(f,C),w.props=ae,se=l.pendingProps,J=w.context,Q=f.contextType,z=al,typeof Q=="object"&&Q!==null&&(z=Yn(Q)),D=f.getDerivedStateFromProps,(Q=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==se||J!==z)&&y2(l,w,d,z),Za=!1,J=l.memoizedState,w.state=J,Zu(l,d,w,v),Qu();var te=l.memoizedState;C!==se||J!==te||Za||o!==null&&o.dependencies!==null&&uh(o.dependencies)?(typeof D=="function"&&(H1(l,f,D,d),te=l.memoizedState),(ae=Za||v2(l,f,ae,d,J,te,z)||o!==null&&o.dependencies!==null&&uh(o.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,te,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,te,z)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=te),w.props=d,w.state=te,w.context=z,d=ae):(typeof w.componentDidUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),d=!1)}return w=d,Ih(o,l),d=(l.flags&128)!==0,w||d?(w=l.stateNode,f=d&&typeof f.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,o!==null&&d?(l.child=gl(l,o.child,null,v),l.child=gl(l,null,f,v)):jn(o,l,f,v),l.memoizedState=w.state,o=l.child):o=ga(o,l,v),o}function P2(o,l,f,d){return zu(),l.flags|=256,jn(o,l,f,d),l.child}var X1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W1(o){return{baseLanes:o,cachePool:_y()}}function Y1(o,l,f){return o=o!==null?o.childLanes&~f:0,l&&(o|=Xr),o}function M2(o,l,f){var d=l.pendingProps,v=!1,w=(l.flags&128)!==0,C;if((C=w)||(C=o!==null&&o.memoizedState===null?!1:(gn.current&2)!==0),C&&(v=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,o===null){if(lt){if(v?no(l):ro(),lt){var D=qt,z;if(z=D){e:{for(z=D,D=Ii;z.nodeType!==8;){if(!D){D=null;break e}if(z=ai(z.nextSibling),z===null){D=null;break e}}D=z}D!==null?(l.memoizedState={dehydrated:D,treeContext:os!==null?{id:ua,overflow:ca}:null,retryLane:536870912,hydrationErrors:null},z=Ir(18,null,null,0),z.stateNode=D,z.return=l,l.child=z,sr=l,qt=null,z=!0):z=!1}z||us(l)}if(D=l.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Op(D)?l.lanes=32:l.lanes=536870912,null;pa(l)}return D=d.children,d=d.fallback,v?(ro(),v=l.mode,D=Rh({mode:"hidden",children:D},v),d=as(d,v,f,null),D.return=l,d.return=l,D.sibling=d,l.child=D,v=l.child,v.memoizedState=W1(f),v.childLanes=Y1(o,C,f),l.memoizedState=X1,d):(no(l),$1(l,D))}if(z=o.memoizedState,z!==null&&(D=z.dehydrated,D!==null)){if(w)l.flags&256?(no(l),l.flags&=-257,l=K1(o,l,f)):l.memoizedState!==null?(ro(),l.child=o.child,l.flags|=128,l=null):(ro(),v=d.fallback,D=l.mode,d=Rh({mode:"visible",children:d.children},D),v=as(v,D,f,null),v.flags|=2,d.return=l,v.return=l,d.sibling=v,l.child=d,gl(l,o.child,null,f),d=l.child,d.memoizedState=W1(f),d.childLanes=Y1(o,C,f),l.memoizedState=X1,l=v);else if(no(l),Op(D)){if(C=D.nextSibling&&D.nextSibling.dataset,C)var Q=C.dgst;C=Q,d=Error(r(419)),d.stack="",d.digest=C,Gu({value:d,source:null,stack:null}),l=K1(o,l,f)}else if(Cn||qu(o,l,f,!1),C=(f&o.childLanes)!==0,Cn||C){if(C=Ct,C!==null&&(d=f&-f,d=(d&42)!==0?1:Ga(d),d=(d&(C.suspendedLanes|f))!==0?0:d,d!==0&&d!==z.retryLane))throw z.retryLane=d,il(o,d),Pr(C,o,d),T2;D.data==="$?"||pp(),l=K1(o,l,f)}else D.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=z.treeContext,qt=ai(D.nextSibling),sr=l,lt=!0,ls=null,Ii=!1,o!==null&&(zr[Gr++]=ua,zr[Gr++]=ca,zr[Gr++]=os,ua=o.id,ca=o.overflow,os=l),l=$1(l,d.children),l.flags|=4096);return l}return v?(ro(),v=d.fallback,D=l.mode,z=o.child,Q=z.sibling,d=la(z,{mode:"hidden",children:d.children}),d.subtreeFlags=z.subtreeFlags&65011712,Q!==null?v=la(Q,v):(v=as(v,D,f,null),v.flags|=2),v.return=l,d.return=l,d.sibling=v,l.child=d,d=v,v=l.child,D=o.child.memoizedState,D===null?D=W1(f):(z=D.cachePool,z!==null?(Q=pn._currentValue,z=z.parent!==Q?{parent:Q,pool:Q}:z):z=_y(),D={baseLanes:D.baseLanes|f,cachePool:z}),v.memoizedState=D,v.childLanes=Y1(o,C,f),l.memoizedState=X1,d):(no(l),f=o.child,o=f.sibling,f=la(f,{mode:"visible",children:d.children}),f.return=l,f.sibling=null,o!==null&&(C=l.deletions,C===null?(l.deletions=[o],l.flags|=16):C.push(o)),l.child=f,l.memoizedState=null,f)}function $1(o,l){return l=Rh({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Rh(o,l){return o=Ir(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function K1(o,l,f){return gl(l,o.child,null,f),o=$1(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function k2(o,l,f){o.lanes|=l;var d=o.alternate;d!==null&&(d.lanes|=l),p1(o.return,l,f)}function Q1(o,l,f,d,v){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:v}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=d,w.tail=f,w.tailMode=v)}function L2(o,l,f){var d=l.pendingProps,v=d.revealOrder,w=d.tail;if(jn(o,l,d.children,f),d=gn.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&k2(o,f,l);else if(o.tag===19)k2(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}d&=1}switch(de(gn,d),v){case"forwards":for(f=l.child,v=null;f!==null;)o=f.alternate,o!==null&&Th(o)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),Q1(l,!1,v,f,w);break;case"backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Th(o)===null){l.child=v;break}o=v.sibling,v.sibling=f,f=v,v=o}Q1(l,!0,f,null,w);break;case"together":Q1(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ga(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),lo|=l.lanes,(f&l.childLanes)===0)if(o!==null){if(qu(o,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,f=la(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=la(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function Z1(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&uh(o)))}function r4(o,l,f){switch(l.tag){case 3:st(l,l.stateNode.containerInfo),Qa(l,pn,o.memoizedState.cache),zu();break;case 27:case 5:Gi(l);break;case 4:st(l,l.stateNode.containerInfo);break;case 10:Qa(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(no(l),l.flags|=128,null):(f&l.child.childLanes)!==0?M2(o,l,f):(no(l),o=ga(o,l,f),o!==null?o.sibling:null);no(l);break;case 19:var v=(o.flags&128)!==0;if(d=(f&l.childLanes)!==0,d||(qu(o,l,f,!1),d=(f&l.childLanes)!==0),v){if(d)return L2(o,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),de(gn,gn.current),d)break;return null;case 22:case 23:return l.lanes=0,R2(o,l,f);case 24:Qa(l,pn,o.memoizedState.cache)}return ga(o,l,f)}function B2(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps)Cn=!0;else{if(!Z1(o,f)&&(l.flags&128)===0)return Cn=!1,r4(o,l,f);Cn=(o.flags&131072)!==0}else Cn=!1,lt&&(l.flags&1048576)!==0&&dy(l,lh,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var d=l.elementType,v=d._init;if(d=v(d._payload),l.type=d,typeof d=="function")s1(d)?(o=ps(d,o),l.tag=1,l=D2(null,l,d,o,f)):(l.tag=0,l=q1(null,l,d,o,f));else{if(d!=null){if(v=d.$$typeof,v===j){l.tag=11,l=S2(null,l,d,o,f);break e}else if(v===O){l.tag=14,l=C2(null,l,d,o,f);break e}}throw l=xe(d)||d,Error(r(306,l,""))}}return l;case 0:return q1(o,l,l.type,l.pendingProps,f);case 1:return d=l.type,v=ps(d,l.pendingProps),D2(o,l,d,v,f);case 3:e:{if(st(l,l.stateNode.containerInfo),o===null)throw Error(r(387));d=l.pendingProps;var w=l.memoizedState;v=w.element,w1(o,l),Zu(l,d,null,f);var C=l.memoizedState;if(d=C.cache,Qa(l,pn,d),d!==w.cache&&g1(l,[pn],f,!0),Qu(),d=C.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=P2(o,l,d,f);break e}else if(d!==v){v=Fr(Error(r(424)),l),Gu(v),l=P2(o,l,d,f);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(qt=ai(o.firstChild),sr=l,lt=!0,ls=null,Ii=!0,f=g2(l,null,d,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(zu(),d===v){l=ga(o,l,f);break e}jn(o,l,d,f)}l=l.child}return l;case 26:return Ih(o,l),o===null?(f=Fx(l.type,null,l.pendingProps,null))?l.memoizedState=f:lt||(f=l.type,o=l.pendingProps,d=zh(ke.current).createElement(f),d[fn]=l,d[rn]=o,Un(d,f,o),Kt(d),l.stateNode=d):l.memoizedState=Fx(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Gi(l),o===null&&lt&&(d=l.stateNode=jx(l.type,l.pendingProps,ke.current),sr=l,Ii=!0,v=qt,ho(l.type)?(Dp=v,qt=ai(d.firstChild)):qt=v),jn(o,l,l.pendingProps.children,f),Ih(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&lt&&((v=d=qt)&&(d=O4(d,l.type,l.pendingProps,Ii),d!==null?(l.stateNode=d,sr=l,qt=ai(d.firstChild),Ii=!1,v=!0):v=!1),v||us(l)),Gi(l),v=l.type,w=l.pendingProps,C=o!==null?o.memoizedProps:null,d=w.children,Ip(v,w)?d=null:C!==null&&Ip(v,C)&&(l.flags|=32),l.memoizedState!==null&&(v=C1(o,l,$C,null,null,f),_c._currentValue=v),Ih(o,l),jn(o,l,d,f),l.child;case 6:return o===null&&lt&&((o=f=qt)&&(f=D4(f,l.pendingProps,Ii),f!==null?(l.stateNode=f,sr=l,qt=null,o=!0):o=!1),o||us(l)),null;case 13:return M2(o,l,f);case 4:return st(l,l.stateNode.containerInfo),d=l.pendingProps,o===null?l.child=gl(l,null,d,f):jn(o,l,d,f),l.child;case 11:return S2(o,l,l.type,l.pendingProps,f);case 7:return jn(o,l,l.pendingProps,f),l.child;case 8:return jn(o,l,l.pendingProps.children,f),l.child;case 12:return jn(o,l,l.pendingProps.children,f),l.child;case 10:return d=l.pendingProps,Qa(l,l.type,d.value),jn(o,l,d.children,f),l.child;case 9:return v=l.type._context,d=l.pendingProps.children,fs(l),v=Yn(v),d=d(v),l.flags|=1,jn(o,l,d,f),l.child;case 14:return C2(o,l,l.type,l.pendingProps,f);case 15:return I2(o,l,l.type,l.pendingProps,f);case 19:return L2(o,l,f);case 31:return d=l.pendingProps,f=l.mode,d={mode:d.mode,children:d.children},o===null?(f=Rh(d,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=la(o.child,d),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return R2(o,l,f);case 24:return fs(l),d=Yn(pn),o===null?(v=y1(),v===null&&(v=Ct,w=m1(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=f),v=w),l.memoizedState={parent:d,cache:v},_1(l),Qa(l,pn,v)):((o.lanes&f)!==0&&(w1(o,l),Zu(l,null,null,f),Qu()),v=o.memoizedState,w=l.memoizedState,v.parent!==d?(v={parent:d,cache:d},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Qa(l,pn,d)):(d=w.cache,Qa(l,pn,d),d!==v.cache&&g1(l,[pn],f,!0))),jn(o,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ma(o){o.flags|=4}function j2(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Xx(l)){if(l=qr.current,l!==null&&((tt&4194048)===tt?Ri!==null:(tt&62914560)!==tt&&(tt&536870912)===0||l!==Ri))throw $u=x1,wy;o.flags|=8192}}function Nh(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Eu():536870912,o.lanes|=l,xl|=l)}function ac(o,l){if(!lt)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:d.sibling=null}}function jt(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,d=0;if(l)for(var v=o.child;v!==null;)f|=v.lanes|v.childLanes,d|=v.subtreeFlags&65011712,d|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)f|=v.lanes|v.childLanes,d|=v.subtreeFlags,d|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=d,o.childLanes=f,l}function i4(o,l,f){var d=l.pendingProps;switch(f1(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(l),null;case 1:return jt(l),null;case 3:return f=l.stateNode,d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ha(pn),hr(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(Hu(l)?ma(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,my())),jt(l),null;case 26:return f=l.memoizedState,o===null?(ma(l),f!==null?(jt(l),j2(l,f)):(jt(l),l.flags&=-16777217)):f?f!==o.memoizedState?(ma(l),jt(l),j2(l,f)):(jt(l),l.flags&=-16777217):(o.memoizedProps!==d&&ma(l),jt(l),l.flags&=-16777217),null;case 27:gi(l),f=ke.current;var v=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ma(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return jt(l),null}o=Se.current,Hu(l)?py(l):(o=jx(v,d,f),l.stateNode=o,ma(l))}return jt(l),null;case 5:if(gi(l),f=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==d&&ma(l);else{if(!d){if(l.stateNode===null)throw Error(r(166));return jt(l),null}if(o=Se.current,Hu(l))py(l);else{switch(v=zh(ke.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof d.is=="string"?v.createElement("select",{is:d.is}):v.createElement("select"),d.multiple?o.multiple=!0:d.size&&(o.size=d.size);break;default:o=typeof d.is=="string"?v.createElement(f,{is:d.is}):v.createElement(f)}}o[fn]=l,o[rn]=d;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=o;e:switch(Un(o,f,d),f){case"button":case"input":case"select":case"textarea":o=!!d.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ma(l)}}return jt(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==d&&ma(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(r(166));if(o=ke.current,Hu(l)){if(o=l.stateNode,f=l.memoizedProps,d=null,v=sr,v!==null)switch(v.tag){case 27:case 5:d=v.memoizedProps}o[fn]=l,o=!!(o.nodeValue===f||d!==null&&d.suppressHydrationWarning===!0||Ox(o.nodeValue,f)),o||us(l)}else o=zh(o).createTextNode(d),o[fn]=l,l.stateNode=o}return jt(l),null;case 13:if(d=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Hu(l),d!==null&&d.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[fn]=l}else zu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),v=!1}else v=my(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(pa(l),l):(pa(l),null)}if(pa(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=d!==null,o=o!==null&&o.memoizedState!==null,f){d=l.child,v=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(v=d.alternate.memoizedState.cachePool.pool);var w=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==v&&(d.flags|=2048)}return f!==o&&f&&(l.child.flags|=8192),Nh(l,l.updateQueue),jt(l),null;case 4:return hr(),o===null&&Ap(l.stateNode.containerInfo),jt(l),null;case 10:return ha(l.type),jt(l),null;case 19:if(ve(gn),v=l.memoizedState,v===null)return jt(l),null;if(d=(l.flags&128)!==0,w=v.rendering,w===null)if(d)ac(v,!1);else{if(Xt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(w=Th(o),w!==null){for(l.flags|=128,ac(v,!1),o=w.updateQueue,l.updateQueue=o,Nh(l,o),l.subtreeFlags=0,o=f,f=l.child;f!==null;)hy(f,o),f=f.sibling;return de(gn,gn.current&1|2),l.child}o=o.sibling}v.tail!==null&&dr()>Ph&&(l.flags|=128,d=!0,ac(v,!1),l.lanes=4194304)}else{if(!d)if(o=Th(w),o!==null){if(l.flags|=128,d=!0,o=o.updateQueue,l.updateQueue=o,Nh(l,o),ac(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!lt)return jt(l),null}else 2*dr()-v.renderingStartTime>Ph&&f!==536870912&&(l.flags|=128,d=!0,ac(v,!1),l.lanes=4194304);v.isBackwards?(w.sibling=l.child,l.child=w):(o=v.last,o!==null?o.sibling=w:l.child=w,v.last=w)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=dr(),l.sibling=null,o=gn.current,de(gn,d?o&1|2:o&1),l):(jt(l),null);case 22:case 23:return pa(l),T1(),d=l.memoizedState!==null,o!==null?o.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(f&536870912)!==0&&(l.flags&128)===0&&(jt(l),l.subtreeFlags&6&&(l.flags|=8192)):jt(l),f=l.updateQueue,f!==null&&Nh(l,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048),o!==null&&ve(hs),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ha(pn),jt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function a4(o,l){switch(f1(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ha(pn),hr(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return gi(l),null;case 13:if(pa(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));zu()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return ve(gn),null;case 4:return hr(),null;case 10:return ha(l.type),null;case 22:case 23:return pa(l),T1(),o!==null&&ve(hs),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return ha(pn),null;case 25:return null;default:return null}}function V2(o,l){switch(f1(l),l.tag){case 3:ha(pn),hr();break;case 26:case 27:case 5:gi(l);break;case 4:hr();break;case 13:pa(l);break;case 19:ve(gn);break;case 10:ha(l.type);break;case 22:case 23:pa(l),T1(),o!==null&&ve(hs);break;case 24:ha(pn)}}function oc(o,l){try{var f=l.updateQueue,d=f!==null?f.lastEffect:null;if(d!==null){var v=d.next;f=v;do{if((f.tag&o)===o){d=void 0;var w=f.create,C=f.inst;d=w(),C.destroy=d}f=f.next}while(f!==v)}}catch(D){Tt(l,l.return,D)}}function io(o,l,f){try{var d=l.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var w=v.next;d=w;do{if((d.tag&o)===o){var C=d.inst,D=C.destroy;if(D!==void 0){C.destroy=void 0,v=l;var z=f,Q=D;try{Q()}catch(ae){Tt(v,z,ae)}}}d=d.next}while(d!==w)}}catch(ae){Tt(l,l.return,ae)}}function U2(o){var l=o.updateQueue;if(l!==null){var f=o.stateNode;try{Cy(l,f)}catch(d){Tt(o,o.return,d)}}}function F2(o,l,f){f.props=ps(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(d){Tt(o,l,d)}}function sc(o,l){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var d=o.stateNode;break;case 30:d=o.stateNode;break;default:d=o.stateNode}typeof f=="function"?o.refCleanup=f(d):f.current=d}}catch(v){Tt(o,l,v)}}function Ni(o,l){var f=o.ref,d=o.refCleanup;if(f!==null)if(typeof d=="function")try{d()}catch(v){Tt(o,l,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(v){Tt(o,l,v)}else f.current=null}function H2(o){var l=o.type,f=o.memoizedProps,d=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&d.focus();break e;case"img":f.src?d.src=f.src:f.srcSet&&(d.srcset=f.srcSet)}}catch(v){Tt(o,o.return,v)}}function J1(o,l,f){try{var d=o.stateNode;S4(d,o.type,f,l),d[rn]=l}catch(v){Tt(o,o.return,v)}}function z2(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ho(o.type)||o.tag===4}function ep(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||z2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ho(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function tp(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(o),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Hh));else if(d!==4&&(d===27&&ho(o.type)&&(f=o.stateNode,l=null),o=o.child,o!==null))for(tp(o,l,f),o=o.sibling;o!==null;)tp(o,l,f),o=o.sibling}function Oh(o,l,f){var d=o.tag;if(d===5||d===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(d!==4&&(d===27&&ho(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Oh(o,l,f),o=o.sibling;o!==null;)Oh(o,l,f),o=o.sibling}function G2(o){var l=o.stateNode,f=o.memoizedProps;try{for(var d=o.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Un(l,d,f),l[fn]=o,l[rn]=f}catch(w){Tt(o,o.return,w)}}var va=!1,Zt=!1,np=!1,q2=typeof WeakSet=="function"?WeakSet:Set,In=null;function o4(o,l){if(o=o.containerInfo,Sp=$h,o=ny(o),e1(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var v=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break e}var C=0,D=-1,z=-1,Q=0,ae=0,se=o,J=null;t:for(;;){for(var te;se!==f||v!==0&&se.nodeType!==3||(D=C+v),se!==w||d!==0&&se.nodeType!==3||(z=C+d),se.nodeType===3&&(C+=se.nodeValue.length),(te=se.firstChild)!==null;)J=se,se=te;for(;;){if(se===o)break t;if(J===f&&++Q===v&&(D=C),J===w&&++ae===d&&(z=C),(te=se.nextSibling)!==null)break;se=J,J=se.parentNode}se=te}f=D===-1||z===-1?null:{start:D,end:z}}else f=null}f=f||{start:0,end:0}}else f=null;for(Cp={focusedElem:o,selectionRange:f},$h=!1,In=l;In!==null;)if(l=In,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,In=o;else for(;In!==null;){switch(l=In,w=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,f=l,v=w.memoizedProps,w=w.memoizedState,d=f.stateNode;try{var Le=ps(f.type,v,f.elementType===f.type);o=d.getSnapshotBeforeUpdate(Le,w),d.__reactInternalSnapshotBeforeUpdate=o}catch(Ne){Tt(f,f.return,Ne)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,f=o.nodeType,f===9)Np(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Np(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,In=o;break}In=l.return}}function X2(o,l,f){var d=f.flags;switch(f.tag){case 0:case 11:case 15:ao(o,f),d&4&&oc(5,f);break;case 1:if(ao(o,f),d&4)if(o=f.stateNode,l===null)try{o.componentDidMount()}catch(C){Tt(f,f.return,C)}else{var v=ps(f.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(v,l,o.__reactInternalSnapshotBeforeUpdate)}catch(C){Tt(f,f.return,C)}}d&64&&U2(f),d&512&&sc(f,f.return);break;case 3:if(ao(o,f),d&64&&(o=f.updateQueue,o!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{Cy(o,l)}catch(C){Tt(f,f.return,C)}}break;case 27:l===null&&d&4&&G2(f);case 26:case 5:ao(o,f),l===null&&d&4&&H2(f),d&512&&sc(f,f.return);break;case 12:ao(o,f);break;case 13:ao(o,f),d&4&&$2(o,f),d&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=g4.bind(null,f),P4(o,f))));break;case 22:if(d=f.memoizedState!==null||va,!d){l=l!==null&&l.memoizedState!==null||Zt,v=va;var w=Zt;va=d,(Zt=l)&&!w?oo(o,f,(f.subtreeFlags&8772)!==0):ao(o,f),va=v,Zt=w}break;case 30:break;default:ao(o,f)}}function W2(o){var l=o.alternate;l!==null&&(o.alternate=null,W2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Wa(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Lt=null,gr=!1;function ya(o,l,f){for(f=f.child;f!==null;)Y2(o,l,f),f=f.sibling}function Y2(o,l,f){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Te,f)}catch{}switch(f.tag){case 26:Zt||Ni(f,l),ya(o,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Zt||Ni(f,l);var d=Lt,v=gr;ho(f.type)&&(Lt=f.stateNode,gr=!1),ya(o,l,f),mc(f.stateNode),Lt=d,gr=v;break;case 5:Zt||Ni(f,l);case 6:if(d=Lt,v=gr,Lt=null,ya(o,l,f),Lt=d,gr=v,Lt!==null)if(gr)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(f.stateNode)}catch(w){Tt(f,l,w)}else try{Lt.removeChild(f.stateNode)}catch(w){Tt(f,l,w)}break;case 18:Lt!==null&&(gr?(o=Lt,Lx(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),bc(o)):Lx(Lt,f.stateNode));break;case 4:d=Lt,v=gr,Lt=f.stateNode.containerInfo,gr=!0,ya(o,l,f),Lt=d,gr=v;break;case 0:case 11:case 14:case 15:Zt||io(2,f,l),Zt||io(4,f,l),ya(o,l,f);break;case 1:Zt||(Ni(f,l),d=f.stateNode,typeof d.componentWillUnmount=="function"&&F2(f,l,d)),ya(o,l,f);break;case 21:ya(o,l,f);break;case 22:Zt=(d=Zt)||f.memoizedState!==null,ya(o,l,f),Zt=d;break;default:ya(o,l,f)}}function $2(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{bc(o)}catch(f){Tt(l,l.return,f)}}function s4(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new q2),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new q2),l;default:throw Error(r(435,o.tag))}}function rp(o,l){var f=s4(o);l.forEach(function(d){var v=m4.bind(null,o,d);f.has(d)||(f.add(d),d.then(v,v))})}function Rr(o,l){var f=l.deletions;if(f!==null)for(var d=0;d<f.length;d++){var v=f[d],w=o,C=l,D=C;e:for(;D!==null;){switch(D.tag){case 27:if(ho(D.type)){Lt=D.stateNode,gr=!1;break e}break;case 5:Lt=D.stateNode,gr=!1;break e;case 3:case 4:Lt=D.stateNode.containerInfo,gr=!0;break e}D=D.return}if(Lt===null)throw Error(r(160));Y2(w,C,v),Lt=null,gr=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)K2(l,o),l=l.sibling}var ii=null;function K2(o,l){var f=o.alternate,d=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Rr(l,o),Nr(o),d&4&&(io(3,o,o.return),oc(3,o),io(5,o,o.return));break;case 1:Rr(l,o),Nr(o),d&512&&(Zt||f===null||Ni(f,f.return)),d&64&&va&&(o=o.updateQueue,o!==null&&(d=o.callbacks,d!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?d:f.concat(d))));break;case 26:var v=ii;if(Rr(l,o),Nr(o),d&512&&(Zt||f===null||Ni(f,f.return)),d&4){var w=f!==null?f.memoizedState:null;if(d=o.memoizedState,f===null)if(d===null)if(o.stateNode===null){e:{d=o.type,f=o.memoizedProps,v=v.ownerDocument||v;t:switch(d){case"title":w=v.getElementsByTagName("title")[0],(!w||w[zo]||w[fn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(d),v.head.insertBefore(w,v.querySelector("head > title"))),Un(w,d,f),w[fn]=o,Kt(w),d=w;break e;case"link":var C=Gx("link","href",v).get(d+(f.href||""));if(C){for(var D=0;D<C.length;D++)if(w=C[D],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){C.splice(D,1);break t}}w=v.createElement(d),Un(w,d,f),v.head.appendChild(w);break;case"meta":if(C=Gx("meta","content",v).get(d+(f.content||""))){for(D=0;D<C.length;D++)if(w=C[D],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){C.splice(D,1);break t}}w=v.createElement(d),Un(w,d,f),v.head.appendChild(w);break;default:throw Error(r(468,d))}w[fn]=o,Kt(w),d=w}o.stateNode=d}else qx(v,o.type,o.stateNode);else o.stateNode=zx(v,d,o.memoizedProps);else w!==d?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,d===null?qx(v,o.type,o.stateNode):zx(v,d,o.memoizedProps)):d===null&&o.stateNode!==null&&J1(o,o.memoizedProps,f.memoizedProps)}break;case 27:Rr(l,o),Nr(o),d&512&&(Zt||f===null||Ni(f,f.return)),f!==null&&d&4&&J1(o,o.memoizedProps,f.memoizedProps);break;case 5:if(Rr(l,o),Nr(o),d&512&&(Zt||f===null||Ni(f,f.return)),o.flags&32){v=o.stateNode;try{Br(v,"")}catch(te){Tt(o,o.return,te)}}d&4&&o.stateNode!=null&&(v=o.memoizedProps,J1(o,v,f!==null?f.memoizedProps:v)),d&1024&&(np=!0);break;case 6:if(Rr(l,o),Nr(o),d&4){if(o.stateNode===null)throw Error(r(162));d=o.memoizedProps,f=o.stateNode;try{f.nodeValue=d}catch(te){Tt(o,o.return,te)}}break;case 3:if(Xh=null,v=ii,ii=Gh(l.containerInfo),Rr(l,o),ii=v,Nr(o),d&4&&f!==null&&f.memoizedState.isDehydrated)try{bc(l.containerInfo)}catch(te){Tt(o,o.return,te)}np&&(np=!1,Q2(o));break;case 4:d=ii,ii=Gh(o.stateNode.containerInfo),Rr(l,o),Nr(o),ii=d;break;case 12:Rr(l,o),Nr(o);break;case 13:Rr(l,o),Nr(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(up=dr()),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,rp(o,d)));break;case 22:v=o.memoizedState!==null;var z=f!==null&&f.memoizedState!==null,Q=va,ae=Zt;if(va=Q||v,Zt=ae||z,Rr(l,o),Zt=ae,va=Q,Nr(o),d&8192)e:for(l=o.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(f===null||z||va||Zt||gs(o)),f=null,l=o;;){if(l.tag===5||l.tag===26){if(f===null){z=f=l;try{if(w=z.stateNode,v)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{D=z.stateNode;var se=z.memoizedProps.style,J=se!=null&&se.hasOwnProperty("display")?se.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(te){Tt(z,z.return,te)}}}else if(l.tag===6){if(f===null){z=l;try{z.stateNode.nodeValue=v?"":z.memoizedProps}catch(te){Tt(z,z.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=o.updateQueue,d!==null&&(f=d.retryQueue,f!==null&&(d.retryQueue=null,rp(o,f))));break;case 19:Rr(l,o),Nr(o),d&4&&(d=o.updateQueue,d!==null&&(o.updateQueue=null,rp(o,d)));break;case 30:break;case 21:break;default:Rr(l,o),Nr(o)}}function Nr(o){var l=o.flags;if(l&2){try{for(var f,d=o.return;d!==null;){if(z2(d)){f=d;break}d=d.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var v=f.stateNode,w=ep(o);Oh(o,w,v);break;case 5:var C=f.stateNode;f.flags&32&&(Br(C,""),f.flags&=-33);var D=ep(o);Oh(o,D,C);break;case 3:case 4:var z=f.stateNode.containerInfo,Q=ep(o);tp(o,Q,z);break;default:throw Error(r(161))}}catch(ae){Tt(o,o.return,ae)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function Q2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;Q2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function ao(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)X2(o,l.alternate,l),l=l.sibling}function gs(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:io(4,l,l.return),gs(l);break;case 1:Ni(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&F2(l,l.return,f),gs(l);break;case 27:mc(l.stateNode);case 26:case 5:Ni(l,l.return),gs(l);break;case 22:l.memoizedState===null&&gs(l);break;case 30:gs(l);break;default:gs(l)}o=o.sibling}}function oo(o,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,v=o,w=l,C=w.flags;switch(w.tag){case 0:case 11:case 15:oo(v,w,f),oc(4,w);break;case 1:if(oo(v,w,f),d=w,v=d.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Q){Tt(d,d.return,Q)}if(d=w,v=d.updateQueue,v!==null){var D=d.stateNode;try{var z=v.shared.hiddenCallbacks;if(z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<z.length;v++)Sy(z[v],D)}catch(Q){Tt(d,d.return,Q)}}f&&C&64&&U2(w),sc(w,w.return);break;case 27:G2(w);case 26:case 5:oo(v,w,f),f&&d===null&&C&4&&H2(w),sc(w,w.return);break;case 12:oo(v,w,f);break;case 13:oo(v,w,f),f&&C&4&&$2(v,w);break;case 22:w.memoizedState===null&&oo(v,w,f),sc(w,w.return);break;case 30:break;default:oo(v,w,f)}l=l.sibling}}function ip(o,l){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&Xu(f))}function ap(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Xu(o))}function Oi(o,l,f,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Z2(o,l,f,d),l=l.sibling}function Z2(o,l,f,d){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Oi(o,l,f,d),v&2048&&oc(9,l);break;case 1:Oi(o,l,f,d);break;case 3:Oi(o,l,f,d),v&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Xu(o)));break;case 12:if(v&2048){Oi(o,l,f,d),o=l.stateNode;try{var w=l.memoizedProps,C=w.id,D=w.onPostCommit;typeof D=="function"&&D(C,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(z){Tt(l,l.return,z)}}else Oi(o,l,f,d);break;case 13:Oi(o,l,f,d);break;case 23:break;case 22:w=l.stateNode,C=l.alternate,l.memoizedState!==null?w._visibility&2?Oi(o,l,f,d):lc(o,l):w._visibility&2?Oi(o,l,f,d):(w._visibility|=2,ml(o,l,f,d,(l.subtreeFlags&10256)!==0)),v&2048&&ip(C,l);break;case 24:Oi(o,l,f,d),v&2048&&ap(l.alternate,l);break;default:Oi(o,l,f,d)}}function ml(o,l,f,d,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=o,C=l,D=f,z=d,Q=C.flags;switch(C.tag){case 0:case 11:case 15:ml(w,C,D,z,v),oc(8,C);break;case 23:break;case 22:var ae=C.stateNode;C.memoizedState!==null?ae._visibility&2?ml(w,C,D,z,v):lc(w,C):(ae._visibility|=2,ml(w,C,D,z,v)),v&&Q&2048&&ip(C.alternate,C);break;case 24:ml(w,C,D,z,v),v&&Q&2048&&ap(C.alternate,C);break;default:ml(w,C,D,z,v)}l=l.sibling}}function lc(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=o,d=l,v=d.flags;switch(d.tag){case 22:lc(f,d),v&2048&&ip(d.alternate,d);break;case 24:lc(f,d),v&2048&&ap(d.alternate,d);break;default:lc(f,d)}l=l.sibling}}var uc=8192;function vl(o){if(o.subtreeFlags&uc)for(o=o.child;o!==null;)J2(o),o=o.sibling}function J2(o){switch(o.tag){case 26:vl(o),o.flags&uc&&o.memoizedState!==null&&X4(ii,o.memoizedState,o.memoizedProps);break;case 5:vl(o);break;case 3:case 4:var l=ii;ii=Gh(o.stateNode.containerInfo),vl(o),ii=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=uc,uc=16777216,vl(o),uc=l):vl(o));break;default:vl(o)}}function ex(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function cc(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];In=d,nx(d,o)}ex(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tx(o),o=o.sibling}function tx(o){switch(o.tag){case 0:case 11:case 15:cc(o),o.flags&2048&&io(9,o,o.return);break;case 3:cc(o);break;case 12:cc(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Dh(o)):cc(o);break;default:cc(o)}}function Dh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var d=l[f];In=d,nx(d,o)}ex(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:io(8,l,l.return),Dh(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Dh(l));break;default:Dh(l)}o=o.sibling}}function nx(o,l){for(;In!==null;){var f=In;switch(f.tag){case 0:case 11:case 15:io(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var d=f.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Xu(f.memoizedState.cache)}if(d=f.child,d!==null)d.return=f,In=d;else e:for(f=o;In!==null;){d=In;var v=d.sibling,w=d.return;if(W2(d),d===f){In=null;break e}if(v!==null){v.return=w,In=v;break e}In=w}}}var l4={getCacheForType:function(o){var l=Yn(pn),f=l.data.get(o);return f===void 0&&(f=o(),l.data.set(o,f)),f}},u4=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ct=null,$e=null,tt=0,mt=0,Or=null,so=!1,yl=!1,op=!1,xa=0,Xt=0,lo=0,ms=0,sp=0,Xr=0,xl=0,fc=null,mr=null,lp=!1,up=0,Ph=1/0,Mh=null,uo=null,Vn=0,co=null,_l=null,wl=0,cp=0,fp=null,rx=null,hc=0,hp=null;function Dr(){if((gt&2)!==0&&tt!==0)return tt&-tt;if(ee.T!==null){var o=ll;return o!==0?o:xp()}return qa()}function ix(){Xr===0&&(Xr=(tt&536870912)===0||lt?wu():536870912);var o=qr.current;return o!==null&&(o.flags|=32),Xr}function Pr(o,l,f){(o===Ct&&(mt===2||mt===9)||o.cancelPendingCommit!==null)&&(El(o,0),fo(o,tt,Xr,!1)),Qi(o,f),((gt&2)===0||o!==Ct)&&(o===Ct&&((gt&2)===0&&(ms|=f),Xt===4&&fo(o,tt,Xr,!1)),Di(o))}function ax(o,l,f){if((gt&6)!==0)throw Error(r(327));var d=!f&&(l&124)===0&&(l&o.expiredLanes)===0||Ho(o,l),v=d?h4(o,l):gp(o,l,!0),w=d;do{if(v===0){yl&&!d&&fo(o,l,0,!1);break}else{if(f=o.current.alternate,w&&!c4(f)){v=gp(o,l,!1),w=!1;continue}if(v===2){if(w=l,o.errorRecoveryDisabledLanes&w)var C=0;else C=o.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var D=o;v=fc;var z=D.current.memoizedState.isDehydrated;if(z&&(El(D,C).flags|=256),C=gp(D,C,!1),C!==2){if(op&&!z){D.errorRecoveryDisabledLanes|=w,ms|=w,v=4;break e}w=mr,mr=v,w!==null&&(mr===null?mr=w:mr.push.apply(mr,w))}v=C}if(w=!1,v!==2)continue}}if(v===1){El(o,0),fo(o,l,0,!0);break}e:{switch(d=o,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:fo(d,l,Xr,!so);break e;case 2:mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=up+300-dr(),10<v)){if(fo(d,l,Xr,!so),Vs(d,0,!0)!==0)break e;d.timeoutHandle=Mx(ox.bind(null,d,f,mr,Mh,lp,l,Xr,ms,xl,so,w,2,-0,0),v);break e}ox(d,f,mr,Mh,lp,l,Xr,ms,xl,so,w,0,-0,0)}}break}while(!0);Di(o)}function ox(o,l,f,d,v,w,C,D,z,Q,ae,se,J,te){if(o.timeoutHandle=-1,se=l.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(xc={stylesheets:null,count:0,unsuspend:q4},J2(l),se=W4(),se!==null)){o.cancelPendingCommit=se(dx.bind(null,o,l,w,f,d,v,C,D,z,ae,1,J,te)),fo(o,w,C,!Q);return}dx(o,l,w,f,d,v,C,D,z)}function c4(o){for(var l=o;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var d=0;d<f.length;d++){var v=f[d],w=v.getSnapshot;v=v.value;try{if(!Cr(w(),v))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fo(o,l,f,d){l&=~sp,l&=~ms,o.suspendedLanes|=l,o.pingedLanes&=~l,d&&(o.warmLanes|=l),d=o.expirationTimes;for(var v=l;0<v;){var w=31-ft(v),C=1<<w;d[w]=-1,v&=~C}f!==0&&vi(o,f,l)}function kh(){return(gt&6)===0?(dc(0),!1):!0}function dp(){if($e!==null){if(mt===0)var o=$e.return;else o=$e,fa=cs=null,N1(o),pl=null,rc=0,o=$e;for(;o!==null;)V2(o.alternate,o),o=o.return;$e=null}}function El(o,l){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,I4(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),dp(),Ct=o,$e=f=la(o.current,null),tt=l,mt=0,Or=null,so=!1,yl=Ho(o,l),op=!1,xl=Xr=sp=ms=lo=Xt=0,mr=fc=null,lp=!1,(l&8)!==0&&(l|=l&32);var d=o.entangledLanes;if(d!==0)for(o=o.entanglements,d&=l;0<d;){var v=31-ft(d),w=1<<v;l|=o[v],d&=~w}return xa=l,rh(),f}function sx(o,l){Ge=null,ee.H=Eh,l===Yu||l===hh?(l=by(),mt=3):l===wy?(l=by(),mt=4):mt=l===T2?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Or=l,$e===null&&(Xt=1,Ch(o,Fr(l,o.current)))}function lx(){var o=ee.H;return ee.H=Eh,o===null?Eh:o}function ux(){var o=ee.A;return ee.A=l4,o}function pp(){Xt=4,so||(tt&4194048)!==tt&&qr.current!==null||(yl=!0),(lo&134217727)===0&&(ms&134217727)===0||Ct===null||fo(Ct,tt,Xr,!1)}function gp(o,l,f){var d=gt;gt|=2;var v=lx(),w=ux();(Ct!==o||tt!==l)&&(Mh=null,El(o,l)),l=!1;var C=Xt;e:do try{if(mt!==0&&$e!==null){var D=$e,z=Or;switch(mt){case 8:dp(),C=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(l=!0);var Q=mt;if(mt=0,Or=null,Al(o,D,z,Q),f&&yl){C=0;break e}break;default:Q=mt,mt=0,Or=null,Al(o,D,z,Q)}}f4(),C=Xt;break}catch(ae){sx(o,ae)}while(!0);return l&&o.shellSuspendCounter++,fa=cs=null,gt=d,ee.H=v,ee.A=w,$e===null&&(Ct=null,tt=0,rh()),C}function f4(){for(;$e!==null;)cx($e)}function h4(o,l){var f=gt;gt|=2;var d=lx(),v=ux();Ct!==o||tt!==l?(Mh=null,Ph=dr()+500,El(o,l)):yl=Ho(o,l);e:do try{if(mt!==0&&$e!==null){l=$e;var w=Or;t:switch(mt){case 1:mt=0,Or=null,Al(o,l,w,1);break;case 2:case 9:if(Ey(w)){mt=0,Or=null,fx(l);break}l=function(){mt!==2&&mt!==9||Ct!==o||(mt=7),Di(o)},w.then(l,l);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Ey(w)?(mt=0,Or=null,fx(l)):(mt=0,Or=null,Al(o,l,w,7));break;case 5:var C=null;switch($e.tag){case 26:C=$e.memoizedState;case 5:case 27:var D=$e;if(!C||Xx(C)){mt=0,Or=null;var z=D.sibling;if(z!==null)$e=z;else{var Q=D.return;Q!==null?($e=Q,Lh(Q)):$e=null}break t}}mt=0,Or=null,Al(o,l,w,5);break;case 6:mt=0,Or=null,Al(o,l,w,6);break;case 8:dp(),Xt=6;break e;default:throw Error(r(462))}}d4();break}catch(ae){sx(o,ae)}while(!0);return fa=cs=null,ee.H=d,ee.A=v,gt=f,$e!==null?0:(Ct=null,tt=0,rh(),Xt)}function d4(){for(;$e!==null&&!Fa();)cx($e)}function cx(o){var l=B2(o.alternate,o,xa);o.memoizedProps=o.pendingProps,l===null?Lh(o):$e=l}function fx(o){var l=o,f=l.alternate;switch(l.tag){case 15:case 0:l=O2(f,l,l.pendingProps,l.type,void 0,tt);break;case 11:l=O2(f,l,l.pendingProps,l.type.render,l.ref,tt);break;case 5:N1(l);default:V2(f,l),l=$e=hy(l,xa),l=B2(f,l,xa)}o.memoizedProps=o.pendingProps,l===null?Lh(o):$e=l}function Al(o,l,f,d){fa=cs=null,N1(l),pl=null,rc=0;var v=l.return;try{if(n4(o,v,l,f,tt)){Xt=1,Ch(o,Fr(f,o.current)),$e=null;return}}catch(w){if(v!==null)throw $e=v,w;Xt=1,Ch(o,Fr(f,o.current)),$e=null;return}l.flags&32768?(lt||d===1?o=!0:yl||(tt&536870912)!==0?o=!1:(so=o=!0,(d===2||d===9||d===3||d===6)&&(d=qr.current,d!==null&&d.tag===13&&(d.flags|=16384))),hx(l,o)):Lh(l)}function Lh(o){var l=o;do{if((l.flags&32768)!==0){hx(l,so);return}o=l.return;var f=i4(l.alternate,l,xa);if(f!==null){$e=f;return}if(l=l.sibling,l!==null){$e=l;return}$e=l=o}while(l!==null);Xt===0&&(Xt=5)}function hx(o,l){do{var f=a4(o.alternate,o);if(f!==null){f.flags&=32767,$e=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(o=o.sibling,o!==null)){$e=o;return}$e=o=f}while(o!==null);Xt=6,$e=null}function dx(o,l,f,d,v,w,C,D,z){o.cancelPendingCommit=null;do Bh();while(Vn!==0);if((gt&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=a1,Au(o,f,w,C,D,z),o===Ct&&($e=Ct=null,tt=0),_l=l,co=o,wl=f,cp=w,fp=v,rx=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,v4(Yi,function(){return yx(),null})):(o.callbackNode=null,o.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=ee.T,ee.T=null,v=le.p,le.p=2,C=gt,gt|=4;try{o4(o,l,f)}finally{gt=C,le.p=v,ee.T=d}}Vn=1,px(),gx(),mx()}}function px(){if(Vn===1){Vn=0;var o=co,l=_l,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=ee.T,ee.T=null;var d=le.p;le.p=2;var v=gt;gt|=4;try{K2(l,o);var w=Cp,C=ny(o.containerInfo),D=w.focusedElem,z=w.selectionRange;if(C!==D&&D&&D.ownerDocument&&ty(D.ownerDocument.documentElement,D)){if(z!==null&&e1(D)){var Q=z.start,ae=z.end;if(ae===void 0&&(ae=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(ae,D.value.length);else{var se=D.ownerDocument||document,J=se&&se.defaultView||window;if(J.getSelection){var te=J.getSelection(),Le=D.textContent.length,Ne=Math.min(z.start,Le),At=z.end===void 0?Ne:Math.min(z.end,Le);!te.extend&&Ne>At&&(C=At,At=Ne,Ne=C);var Y=ey(D,Ne),W=ey(D,At);if(Y&&W&&(te.rangeCount!==1||te.anchorNode!==Y.node||te.anchorOffset!==Y.offset||te.focusNode!==W.node||te.focusOffset!==W.offset)){var K=se.createRange();K.setStart(Y.node,Y.offset),te.removeAllRanges(),Ne>At?(te.addRange(K),te.extend(W.node,W.offset)):(K.setEnd(W.node,W.offset),te.addRange(K))}}}}for(se=[],te=D;te=te.parentNode;)te.nodeType===1&&se.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<se.length;D++){var oe=se[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}$h=!!Sp,Cp=Sp=null}finally{gt=v,le.p=d,ee.T=f}}o.current=l,Vn=2}}function gx(){if(Vn===2){Vn=0;var o=co,l=_l,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=ee.T,ee.T=null;var d=le.p;le.p=2;var v=gt;gt|=4;try{X2(o,l.alternate,l)}finally{gt=v,le.p=d,ee.T=f}}Vn=3}}function mx(){if(Vn===4||Vn===3){Vn=0,Uo();var o=co,l=_l,f=wl,d=rx;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Vn=5:(Vn=0,_l=co=null,vx(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(uo=null),Us(f),l=l.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Te,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=ee.T,v=le.p,le.p=2,ee.T=null;try{for(var w=o.onRecoverableError,C=0;C<d.length;C++){var D=d[C];w(D.value,{componentStack:D.stack})}}finally{ee.T=l,le.p=v}}(wl&3)!==0&&Bh(),Di(o),v=o.pendingLanes,(f&4194090)!==0&&(v&42)!==0?o===hp?hc++:(hc=0,hp=o):hc=0,dc(0)}}function vx(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Xu(l)))}function Bh(o){return px(),gx(),mx(),yx()}function yx(){if(Vn!==5)return!1;var o=co,l=cp;cp=0;var f=Us(wl),d=ee.T,v=le.p;try{le.p=32>f?32:f,ee.T=null,f=fp,fp=null;var w=co,C=wl;if(Vn=0,_l=co=null,wl=0,(gt&6)!==0)throw Error(r(331));var D=gt;if(gt|=4,tx(w.current),Z2(w,w.current,C,f),gt=D,dc(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Te,w)}catch{}return!0}finally{le.p=v,ee.T=d,vx(o,l)}}function xx(o,l,f){l=Fr(f,l),l=G1(o.stateNode,l,2),o=eo(o,l,2),o!==null&&(Qi(o,2),Di(o))}function Tt(o,l,f){if(o.tag===3)xx(o,o,f);else for(;l!==null;){if(l.tag===3){xx(l,o,f);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(uo===null||!uo.has(d))){o=Fr(f,o),f=A2(2),d=eo(l,f,2),d!==null&&(b2(f,d,l,o),Qi(d,2),Di(d));break}}l=l.return}}function mp(o,l,f){var d=o.pingCache;if(d===null){d=o.pingCache=new u4;var v=new Set;d.set(l,v)}else v=d.get(l),v===void 0&&(v=new Set,d.set(l,v));v.has(f)||(op=!0,v.add(f),o=p4.bind(null,o,l,f),l.then(o,o))}function p4(o,l,f){var d=o.pingCache;d!==null&&d.delete(l),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ct===o&&(tt&f)===f&&(Xt===4||Xt===3&&(tt&62914560)===tt&&300>dr()-up?(gt&2)===0&&El(o,0):sp|=f,xl===tt&&(xl=0)),Di(o)}function _x(o,l){l===0&&(l=Eu()),o=il(o,l),o!==null&&(Qi(o,l),Di(o))}function g4(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),_x(o,f)}function m4(o,l){var f=0;switch(o.tag){case 13:var d=o.stateNode,v=o.memoizedState;v!==null&&(f=v.retryLane);break;case 19:d=o.stateNode;break;case 22:d=o.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(l),_x(o,f)}function v4(o,l){return Xi(o,l)}var jh=null,bl=null,vp=!1,Vh=!1,yp=!1,vs=0;function Di(o){o!==bl&&o.next===null&&(bl===null?jh=bl=o:bl=bl.next=o),Vh=!0,vp||(vp=!0,x4())}function dc(o,l){if(!yp&&Vh){yp=!0;do for(var f=!1,d=jh;d!==null;){if(o!==0){var v=d.pendingLanes;if(v===0)var w=0;else{var C=d.suspendedLanes,D=d.pingedLanes;w=(1<<31-ft(42|o)+1)-1,w&=v&~(C&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,bx(d,w))}else w=tt,w=Vs(d,d===Ct?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Ho(d,w)||(f=!0,bx(d,w));d=d.next}while(f);yp=!1}}function y4(){wx()}function wx(){Vh=vp=!1;var o=0;vs!==0&&(C4()&&(o=vs),vs=0);for(var l=dr(),f=null,d=jh;d!==null;){var v=d.next,w=Ex(d,l);w===0?(d.next=null,f===null?jh=v:f.next=v,v===null&&(bl=f)):(f=d,(o!==0||(w&3)!==0)&&(Vh=!0)),d=v}dc(o)}function Ex(o,l){for(var f=o.suspendedLanes,d=o.pingedLanes,v=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var C=31-ft(w),D=1<<C,z=v[C];z===-1?((D&f)===0||(D&d)!==0)&&(v[C]=_u(D,l)):z<=l&&(o.expiredLanes|=D),w&=~D}if(l=Ct,f=tt,f=Vs(o,o===l?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d=o.callbackNode,f===0||o===l&&(mt===2||mt===9)||o.cancelPendingCommit!==null)return d!==null&&d!==null&&Wi(d),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ho(o,f)){if(l=f&-f,l===o.callbackPriority)return l;switch(d!==null&&Wi(d),Us(f)){case 2:case 8:f=Ha;break;case 32:f=Yi;break;case 268435456:f=br;break;default:f=Yi}return d=Ax.bind(null,o),f=Xi(f,d),o.callbackPriority=l,o.callbackNode=f,l}return d!==null&&d!==null&&Wi(d),o.callbackPriority=2,o.callbackNode=null,2}function Ax(o,l){if(Vn!==0&&Vn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Bh()&&o.callbackNode!==f)return null;var d=tt;return d=Vs(o,o===Ct?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),d===0?null:(ax(o,d,l),Ex(o,dr()),o.callbackNode!=null&&o.callbackNode===f?Ax.bind(null,o):null)}function bx(o,l){if(Bh())return null;ax(o,l,!0)}function x4(){R4(function(){(gt&6)!==0?Xi(Fo,y4):wx()})}function xp(){return vs===0&&(vs=wu()),vs}function Tx(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Xs(""+o)}function Sx(o,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,o.id&&f.setAttribute("form",o.id),l.parentNode.insertBefore(f,l),o=new FormData(o),f.parentNode.removeChild(f),o}function _4(o,l,f,d,v){if(l==="submit"&&f&&f.stateNode===v){var w=Tx((v[rn]||null).action),C=d.submitter;C&&(l=(l=C[rn]||null)?Tx(l.formAction):C.getAttribute("formAction"),l!==null&&(w=l,C=null));var D=new Ws("action","action",null,d,v);o.push({event:D,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(vs!==0){var z=C?Sx(v,C):new FormData(v);V1(f,{pending:!0,data:z,method:v.method,action:w},null,z)}}else typeof w=="function"&&(D.preventDefault(),z=C?Sx(v,C):new FormData(v),V1(f,{pending:!0,data:z,method:v.method,action:w},w,z))},currentTarget:v}]})}}for(var _p=0;_p<i1.length;_p++){var wp=i1[_p],w4=wp.toLowerCase(),E4=wp[0].toUpperCase()+wp.slice(1);ri(w4,"on"+E4)}ri(ay,"onAnimationEnd"),ri(oy,"onAnimationIteration"),ri(sy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(VC,"onTransitionRun"),ri(UC,"onTransitionStart"),ri(FC,"onTransitionCancel"),ri(ly,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function Cx(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var d=o[f],v=d.event;d=d.listeners;e:{var w=void 0;if(l)for(var C=d.length-1;0<=C;C--){var D=d[C],z=D.instance,Q=D.currentTarget;if(D=D.listener,z!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=Q;try{w(v)}catch(ae){Sh(ae)}v.currentTarget=null,w=z}else for(C=0;C<d.length;C++){if(D=d[C],z=D.instance,Q=D.currentTarget,D=D.listener,z!==w&&v.isPropagationStopped())break e;w=D,v.currentTarget=Q;try{w(v)}catch(ae){Sh(ae)}v.currentTarget=null,w=z}}}}function Ke(o,l){var f=l[Tu];f===void 0&&(f=l[Tu]=new Set);var d=o+"__bubble";f.has(d)||(Ix(l,o,2,!1),f.add(d))}function Ep(o,l,f){var d=0;l&&(d|=4),Ix(f,o,d,l)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Ap(o){if(!o[Uh]){o[Uh]=!0,Su.forEach(function(f){f!=="selectionchange"&&(A4.has(f)||Ep(f,!1,o),Ep(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Uh]||(l[Uh]=!0,Ep("selectionchange",!1,l))}}function Ix(o,l,f,d){switch(Zx(l)){case 2:var v=K4;break;case 8:v=Q4;break;default:v=Bp}f=v.bind(null,l,f,o),v=void 0,!Vr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),d?v!==void 0?o.addEventListener(l,f,{capture:!0,passive:v}):o.addEventListener(l,f,!0):v!==void 0?o.addEventListener(l,f,{passive:v}):o.addEventListener(l,f,!1)}function bp(o,l,f,d,v){var w=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var D=d.stateNode.containerInfo;if(D===v)break;if(C===4)for(C=d.return;C!==null;){var z=C.tag;if((z===3||z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;D!==null;){if(C=Zi(D),C===null)return;if(z=C.tag,z===5||z===6||z===26||z===27){d=w=C;continue e}D=D.parentNode}}d=d.return}Hf(function(){var Q=w,ae=jr(f),se=[];e:{var J=uy.get(o);if(J!==void 0){var te=Ws,Le=o;switch(o){case"keypress":if(Ai(f)===0)break e;case"keydown":case"keyup":te=Js;break;case"focusin":Le="focus",te=Ks;break;case"focusout":Le="blur",te=Ks;break;case"beforeblur":case"afterblur":te=Ks;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=Ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=K0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Kf;break;case ay:case oy:case sy:te=Qs;break;case ly:te=Zf;break;case"scroll":case"scrollend":te=zf;break;case"wheel":te=el;break;case"copy":case"cut":case"paste":te=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ju;break;case"toggle":case"beforetoggle":te=eh}var Ne=(l&4)!==0,At=!Ne&&(o==="scroll"||o==="scrollend"),Y=Ne?J!==null?J+"Capture":null:J;Ne=[];for(var W=Q,K;W!==null;){var oe=W;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||Y===null||(oe=Ko(W,Y),oe!=null&&Ne.push(gc(W,oe,K))),At)break;W=W.return}0<Ne.length&&(J=new te(J,Le,null,f,ae),se.push({event:J,listeners:Ne}))}}if((l&7)===0){e:{if(J=o==="mouseover"||o==="pointerover",te=o==="mouseout"||o==="pointerout",J&&f!==na&&(Le=f.relatedTarget||f.fromElement)&&(Zi(Le)||Le[Lr]))break e;if((te||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,te?(Le=f.relatedTarget||f.toElement,te=Q,Le=Le?Zi(Le):null,Le!==null&&(At=a(Le),Ne=Le.tag,Le!==At||Ne!==5&&Ne!==27&&Ne!==6)&&(Le=null)):(te=null,Le=Q),te!==Le)){if(Ne=Ur,oe="onMouseLeave",Y="onMouseEnter",W="mouse",(o==="pointerout"||o==="pointerover")&&(Ne=ju,oe="onPointerLeave",Y="onPointerEnter",W="pointer"),At=te==null?J:xi(te),K=Le==null?J:xi(Le),J=new Ne(oe,W+"leave",te,f,ae),J.target=At,J.relatedTarget=K,oe=null,Zi(ae)===Q&&(Ne=new Ne(Y,W+"enter",Le,f,ae),Ne.target=K,Ne.relatedTarget=At,oe=Ne),At=oe,te&&Le)t:{for(Ne=te,Y=Le,W=0,K=Ne;K;K=Tl(K))W++;for(K=0,oe=Y;oe;oe=Tl(oe))K++;for(;0<W-K;)Ne=Tl(Ne),W--;for(;0<K-W;)Y=Tl(Y),K--;for(;W--;){if(Ne===Y||Y!==null&&Ne===Y.alternate)break t;Ne=Tl(Ne),Y=Tl(Y)}Ne=null}else Ne=null;te!==null&&Rx(se,J,te,Ne,!1),Le!==null&&At!==null&&Rx(se,At,Le,Ne,!0)}}e:{if(J=Q?xi(Q):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var we=Yv;else if(dn(J))if($v)we=LC;else{we=MC;var We=PC}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Ou(Q.elementType)&&(we=Yv):we=kC;if(we&&(we=we(o,Q))){sa(se,we,f,ae);break e}We&&We(o,J,Q),o==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&$a(J,"number",J.value)}switch(We=Q?xi(Q):window,o){case"focusin":(dn(We)||We.contentEditable==="true")&&(tl=We,t1=Q,Fu=null);break;case"focusout":Fu=t1=tl=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,ry(se,f,ae);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":ry(se,f,ae)}var Ce;if(Si)e:{switch(o){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Je?ne(o,f)&&(Me="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Me="onCompositionStart");Me&&(S&&f.locale!=="ko"&&(Je||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Je&&(Ce=Pu()):(Ei=ae,Ka="value"in Ei?Ei.value:Ei.textContent,Je=!0)),We=Fh(Q,Me),0<We.length&&(Me=new Lu(Me,o,null,f,ae),se.push({event:Me,listeners:We}),Ce?Me.data=Ce:(Ce=ge(f),Ce!==null&&(Me.data=Ce)))),(Ce=A?hn(o,f):et(o,f))&&(Me=Fh(Q,"onBeforeInput"),0<Me.length&&(We=new Lu("onBeforeInput","beforeinput",null,f,ae),se.push({event:We,listeners:Me}),We.data=Ce)),_4(se,o,Q,f,ae)}Cx(se,l)})}function gc(o,l,f){return{instance:o,listener:l,currentTarget:f}}function Fh(o,l){for(var f=l+"Capture",d=[];o!==null;){var v=o,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=Ko(o,f),v!=null&&d.unshift(gc(o,v,w)),v=Ko(o,l),v!=null&&d.push(gc(o,v,w))),o.tag===3)return d;o=o.return}return[]}function Tl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Rx(o,l,f,d,v){for(var w=l._reactName,C=[];f!==null&&f!==d;){var D=f,z=D.alternate,Q=D.stateNode;if(D=D.tag,z!==null&&z===d)break;D!==5&&D!==26&&D!==27||Q===null||(z=Q,v?(Q=Ko(f,w),Q!=null&&C.unshift(gc(f,Q,z))):v||(Q=Ko(f,w),Q!=null&&C.push(gc(f,Q,z)))),f=f.return}C.length!==0&&o.push({event:l,listeners:C})}var b4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function Nx(o){return(typeof o=="string"?o:""+o).replace(b4,`
`).replace(T4,"")}function Ox(o,l){return l=Nx(l),Nx(o)===l}function Hh(){}function Et(o,l,f,d,v,w){switch(f){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Br(o,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Br(o,""+d);break;case"className":_i(o,"class",d);break;case"tabIndex":_i(o,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(o,f,d);break;case"style":Nu(o,d,w);break;case"data":if(l!=="object"){_i(o,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||f!=="href")){o.removeAttribute(f);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Xs(""+d),o.setAttribute(f,d);break;case"action":case"formAction":if(typeof d=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(l!=="input"&&Et(o,l,"name",v.name,v,null),Et(o,l,"formEncType",v.formEncType,v,null),Et(o,l,"formMethod",v.formMethod,v,null),Et(o,l,"formTarget",v.formTarget,v,null)):(Et(o,l,"encType",v.encType,v,null),Et(o,l,"method",v.method,v,null),Et(o,l,"target",v.target,v,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){o.removeAttribute(f);break}d=Xs(""+d),o.setAttribute(f,d);break;case"onClick":d!=null&&(o.onclick=Hh);break;case"onScroll":d!=null&&Ke("scroll",o);break;case"onScrollEnd":d!=null&&Ke("scrollend",o);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"multiple":o.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":o.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){o.removeAttribute("xlink:href");break}f=Xs(""+d),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""+d):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":d===!0?o.setAttribute(f,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?o.setAttribute(f,d):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?o.setAttribute(f,d):o.removeAttribute(f);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?o.removeAttribute(f):o.setAttribute(f,d);break;case"popover":Ke("beforetoggle",o),Ke("toggle",o),Ya(o,"popover",d);break;case"xlinkActuate":Ln(o,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ln(o,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ln(o,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ln(o,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ln(o,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ln(o,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ln(o,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ln(o,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ln(o,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Ya(o,"is",d);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Y0.get(f)||f,Ya(o,f,d))}}function Tp(o,l,f,d,v,w){switch(f){case"style":Nu(o,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(f=d.__html,f!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=f}}break;case"children":typeof d=="string"?Br(o,d):(typeof d=="number"||typeof d=="bigint")&&Br(o,""+d);break;case"onScroll":d!=null&&Ke("scroll",o);break;case"onScrollEnd":d!=null&&Ke("scrollend",o);break;case"onClick":d!=null&&(o.onclick=Hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(v=f.endsWith("Capture"),l=f.slice(2,v?f.length-7:void 0),w=o[rn]||null,w=w!=null?w[f]:null,typeof w=="function"&&o.removeEventListener(l,w,v),typeof d=="function")){typeof w!="function"&&w!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(l,d,v);break e}f in o?o[f]=d:d===!0?o.setAttribute(f,""):Ya(o,f,d)}}}function Un(o,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",o),Ke("load",o);var d=!1,v=!1,w;for(w in f)if(f.hasOwnProperty(w)){var C=f[w];if(C!=null)switch(w){case"src":d=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Et(o,l,w,C,f,null)}}v&&Et(o,l,"srcSet",f.srcSet,f,null),d&&Et(o,l,"src",f.src,f,null);return;case"input":Ke("invalid",o);var D=w=C=v=null,z=null,Q=null;for(d in f)if(f.hasOwnProperty(d)){var ae=f[d];if(ae!=null)switch(d){case"name":v=ae;break;case"type":C=ae;break;case"checked":z=ae;break;case"defaultChecked":Q=ae;break;case"value":w=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:Et(o,l,d,ae,f,null)}}Wo(o,w,D,z,Q,C,v,!1),qs(o);return;case"select":Ke("invalid",o),d=C=w=null;for(v in f)if(f.hasOwnProperty(v)&&(D=f[v],D!=null))switch(v){case"value":w=D;break;case"defaultValue":C=D;break;case"multiple":d=D;default:Et(o,l,v,D,f,null)}l=w,f=C,o.multiple=!!d,l!=null?ta(o,!!d,l,!1):f!=null&&ta(o,!!d,f,!0);return;case"textarea":Ke("invalid",o),w=v=d=null;for(C in f)if(f.hasOwnProperty(C)&&(D=f[C],D!=null))switch(C){case"value":d=D;break;case"defaultValue":v=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Et(o,l,C,D,f,null)}Yo(o,d,v,w),qs(o);return;case"option":for(z in f)if(f.hasOwnProperty(z)&&(d=f[z],d!=null))switch(z){case"selected":o.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Et(o,l,z,d,f,null)}return;case"dialog":Ke("beforetoggle",o),Ke("toggle",o),Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":Ke("load",o);break;case"video":case"audio":for(d=0;d<pc.length;d++)Ke(pc[d],o);break;case"image":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"embed":case"source":case"link":Ke("error",o),Ke("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in f)if(f.hasOwnProperty(Q)&&(d=f[Q],d!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Et(o,l,Q,d,f,null)}return;default:if(Ou(l)){for(ae in f)f.hasOwnProperty(ae)&&(d=f[ae],d!==void 0&&Tp(o,l,ae,d,f,void 0));return}}for(D in f)f.hasOwnProperty(D)&&(d=f[D],d!=null&&Et(o,l,D,d,f,null))}function S4(o,l,f,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,C=null,D=null,z=null,Q=null,ae=null;for(te in f){var se=f[te];if(f.hasOwnProperty(te)&&se!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=se;default:d.hasOwnProperty(te)||Et(o,l,te,null,d,se)}}for(var J in d){var te=d[J];if(se=f[J],d.hasOwnProperty(J)&&(te!=null||se!=null))switch(J){case"type":w=te;break;case"name":v=te;break;case"checked":Q=te;break;case"defaultChecked":ae=te;break;case"value":C=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==se&&Et(o,l,J,te,d,se)}}Sr(o,C,D,z,Q,ae,w,v);return;case"select":te=C=D=J=null;for(w in f)if(z=f[w],f.hasOwnProperty(w)&&z!=null)switch(w){case"value":break;case"multiple":te=z;default:d.hasOwnProperty(w)||Et(o,l,w,null,d,z)}for(v in d)if(w=d[v],z=f[v],d.hasOwnProperty(v)&&(w!=null||z!=null))switch(v){case"value":J=w;break;case"defaultValue":D=w;break;case"multiple":C=w;default:w!==z&&Et(o,l,v,w,d,z)}l=D,f=C,d=te,J!=null?ta(o,!!f,J,!1):!!d!=!!f&&(l!=null?ta(o,!!f,l,!0):ta(o,!!f,f?[]:"",!1));return;case"textarea":te=J=null;for(D in f)if(v=f[D],f.hasOwnProperty(D)&&v!=null&&!d.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Et(o,l,D,null,d,v)}for(C in d)if(v=d[C],w=f[C],d.hasOwnProperty(C)&&(v!=null||w!=null))switch(C){case"value":J=v;break;case"defaultValue":te=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&Et(o,l,C,v,d,w)}_t(o,J,te);return;case"option":for(var Le in f)if(J=f[Le],f.hasOwnProperty(Le)&&J!=null&&!d.hasOwnProperty(Le))switch(Le){case"selected":o.selected=!1;break;default:Et(o,l,Le,null,d,J)}for(z in d)if(J=d[z],te=f[z],d.hasOwnProperty(z)&&J!==te&&(J!=null||te!=null))switch(z){case"selected":o.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Et(o,l,z,J,d,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in f)J=f[Ne],f.hasOwnProperty(Ne)&&J!=null&&!d.hasOwnProperty(Ne)&&Et(o,l,Ne,null,d,J);for(Q in d)if(J=d[Q],te=f[Q],d.hasOwnProperty(Q)&&J!==te&&(J!=null||te!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,l));break;default:Et(o,l,Q,J,d,te)}return;default:if(Ou(l)){for(var At in f)J=f[At],f.hasOwnProperty(At)&&J!==void 0&&!d.hasOwnProperty(At)&&Tp(o,l,At,void 0,d,J);for(ae in d)J=d[ae],te=f[ae],!d.hasOwnProperty(ae)||J===te||J===void 0&&te===void 0||Tp(o,l,ae,J,d,te);return}}for(var Y in f)J=f[Y],f.hasOwnProperty(Y)&&J!=null&&!d.hasOwnProperty(Y)&&Et(o,l,Y,null,d,J);for(se in d)J=d[se],te=f[se],!d.hasOwnProperty(se)||J===te||J==null&&te==null||Et(o,l,se,J,d,te)}var Sp=null,Cp=null;function zh(o){return o.nodeType===9?o:o.ownerDocument}function Dx(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Px(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function Ip(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Rp=null;function C4(){var o=window.event;return o&&o.type==="popstate"?o===Rp?!1:(Rp=o,!0):(Rp=null,!1)}var Mx=typeof setTimeout=="function"?setTimeout:void 0,I4=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,R4=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(o){return kx.resolve(null).then(o).catch(N4)}:Mx;function N4(o){setTimeout(function(){throw o})}function ho(o){return o==="head"}function Lx(o,l){var f=l,d=0,v=0;do{var w=f.nextSibling;if(o.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<d&&8>d){f=d;var C=o.ownerDocument;if(f&1&&mc(C.documentElement),f&2&&mc(C.body),f&4)for(f=C.head,mc(f),C=f.firstChild;C;){var D=C.nextSibling,z=C.nodeName;C[zo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=D}}if(v===0){o.removeChild(w),bc(l);return}v--}else f==="$"||f==="$?"||f==="$!"?v++:d=f.charCodeAt(0)-48;else d=0;f=w}while(f);bc(l)}function Np(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Np(f),Wa(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function O4(o,l,f,d){for(;o.nodeType===1;){var v=f;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(d){if(!o[zo])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=ai(o.nextSibling),o===null)break}return null}function D4(o,l,f){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=ai(o.nextSibling),o===null))return null;return o}function Op(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function P4(o,l){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")l();else{var d=function(){l(),f.removeEventListener("DOMContentLoaded",d)};f.addEventListener("DOMContentLoaded",d),o._reactRetry=d}}function ai(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var Dp=null;function Bx(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}function jx(o,l,f){switch(l=zh(f),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function mc(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Wa(o)}var Wr=new Map,Vx=new Set;function Gh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var _a=le.d;le.d={f:M4,r:k4,D:L4,C:B4,L:j4,m:V4,X:F4,S:U4,M:H4};function M4(){var o=_a.f(),l=kh();return o||l}function k4(o){var l=yi(o);l!==null&&l.tag===5&&l.type==="form"?a2(l):_a.r(o)}var Sl=typeof document>"u"?null:document;function Ux(o,l,f){var d=Sl;if(d&&typeof l=="string"&&l){var v=an(l);v='link[rel="'+o+'"][href="'+v+'"]',typeof f=="string"&&(v+='[crossorigin="'+f+'"]'),Vx.has(v)||(Vx.add(v),o={rel:o,crossOrigin:f,href:l},d.querySelector(v)===null&&(l=d.createElement("link"),Un(l,"link",o),Kt(l),d.head.appendChild(l)))}}function L4(o){_a.D(o),Ux("dns-prefetch",o,null)}function B4(o,l){_a.C(o,l),Ux("preconnect",o,l)}function j4(o,l,f){_a.L(o,l,f);var d=Sl;if(d&&o&&l){var v='link[rel="preload"][as="'+an(l)+'"]';l==="image"&&f&&f.imageSrcSet?(v+='[imagesrcset="'+an(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(v+='[imagesizes="'+an(f.imageSizes)+'"]')):v+='[href="'+an(o)+'"]';var w=v;switch(l){case"style":w=Cl(o);break;case"script":w=Il(o)}Wr.has(w)||(o=p({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:o,as:l},f),Wr.set(w,o),d.querySelector(v)!==null||l==="style"&&d.querySelector(vc(w))||l==="script"&&d.querySelector(yc(w))||(l=d.createElement("link"),Un(l,"link",o),Kt(l),d.head.appendChild(l)))}}function V4(o,l){_a.m(o,l);var f=Sl;if(f&&o){var d=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+an(d)+'"][href="'+an(o)+'"]',w=v;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Il(o)}if(!Wr.has(w)&&(o=p({rel:"modulepreload",href:o},l),Wr.set(w,o),f.querySelector(v)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(yc(w)))return}d=f.createElement("link"),Un(d,"link",o),Kt(d),f.head.appendChild(d)}}}function U4(o,l,f){_a.S(o,l,f);var d=Sl;if(d&&o){var v=ir(d).hoistableStyles,w=Cl(o);l=l||"default";var C=v.get(w);if(!C){var D={loading:0,preload:null};if(C=d.querySelector(vc(w)))D.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},f),(f=Wr.get(w))&&Pp(o,f);var z=C=d.createElement("link");Kt(z),Un(z,"link",o),z._p=new Promise(function(Q,ae){z.onload=Q,z.onerror=ae}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,qh(C,l,d)}C={type:"stylesheet",instance:C,count:1,state:D},v.set(w,C)}}}function F4(o,l){_a.X(o,l);var f=Sl;if(f&&o){var d=ir(f).hoistableScripts,v=Il(o),w=d.get(v);w||(w=f.querySelector(yc(v)),w||(o=p({src:o,async:!0},l),(l=Wr.get(v))&&Mp(o,l),w=f.createElement("script"),Kt(w),Un(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(v,w))}}function H4(o,l){_a.M(o,l);var f=Sl;if(f&&o){var d=ir(f).hoistableScripts,v=Il(o),w=d.get(v);w||(w=f.querySelector(yc(v)),w||(o=p({src:o,async:!0,type:"module"},l),(l=Wr.get(v))&&Mp(o,l),w=f.createElement("script"),Kt(w),Un(w,"link",o),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(v,w))}}function Fx(o,l,f,d){var v=(v=ke.current)?Gh(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=Cl(f.href),f=ir(v).hoistableStyles,d=f.get(l),d||(d={type:"style",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=Cl(f.href);var w=ir(v).hoistableStyles,C=w.get(o);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,C),(w=v.querySelector(vc(o)))&&!w._p&&(C.instance=w,C.state.loading=5),Wr.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Wr.set(o,f),w||z4(v,o,f,C.state))),l&&d===null)throw Error(r(528,""));return C}if(l&&d!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Il(f),f=ir(v).hoistableScripts,d=f.get(l),d||(d={type:"script",instance:null,count:0,state:null},f.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Cl(o){return'href="'+an(o)+'"'}function vc(o){return'link[rel="stylesheet"]['+o+"]"}function Hx(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function z4(o,l,f,d){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=o.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Un(l,"link",f),Kt(l),o.head.appendChild(l))}function Il(o){return'[src="'+an(o)+'"]'}function yc(o){return"script[async]"+o}function zx(o,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var d=o.querySelector('style[data-href~="'+an(f.href)+'"]');if(d)return l.instance=d,Kt(d),d;var v=p({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return d=(o.ownerDocument||o).createElement("style"),Kt(d),Un(d,"style",v),qh(d,f.precedence,o),l.instance=d;case"stylesheet":v=Cl(f.href);var w=o.querySelector(vc(v));if(w)return l.state.loading|=4,l.instance=w,Kt(w),w;d=Hx(f),(v=Wr.get(v))&&Pp(d,v),w=(o.ownerDocument||o).createElement("link"),Kt(w);var C=w;return C._p=new Promise(function(D,z){C.onload=D,C.onerror=z}),Un(w,"link",d),l.state.loading|=4,qh(w,f.precedence,o),l.instance=w;case"script":return w=Il(f.src),(v=o.querySelector(yc(w)))?(l.instance=v,Kt(v),v):(d=f,(v=Wr.get(w))&&(d=p({},f),Mp(d,v)),o=o.ownerDocument||o,v=o.createElement("script"),Kt(v),Un(v,"link",d),o.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,qh(d,f.precedence,o));return l.instance}function qh(o,l,f){for(var d=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=d.length?d[d.length-1]:null,w=v,C=0;C<d.length;C++){var D=d[C];if(D.dataset.precedence===l)w=D;else if(w!==v)break}w?w.parentNode.insertBefore(o,w.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(o,l.firstChild))}function Pp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Mp(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Xh=null;function Gx(o,l,f){if(Xh===null){var d=new Map,v=Xh=new Map;v.set(f,d)}else v=Xh,d=v.get(f),d||(d=new Map,v.set(f,d));if(d.has(o))return d;for(d.set(o,null),f=f.getElementsByTagName(o),v=0;v<f.length;v++){var w=f[v];if(!(w[zo]||w[fn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(l)||"";C=o+C;var D=d.get(C);D?D.push(w):d.set(C,[w])}}return d}function qx(o,l,f){o=o.ownerDocument||o,o.head.insertBefore(f,l==="title"?o.querySelector("head > title"):null)}function G4(o,l,f){if(f===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Xx(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var xc=null;function q4(){}function X4(o,l,f){if(xc===null)throw Error(r(475));var d=xc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=Cl(f.href),w=o.querySelector(vc(v));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(d.count++,d=Wh.bind(d),o.then(d,d)),l.state.loading|=4,l.instance=w,Kt(w);return}w=o.ownerDocument||o,f=Hx(f),(v=Wr.get(v))&&Pp(f,v),w=w.createElement("link"),Kt(w);var C=w;C._p=new Promise(function(D,z){C.onload=D,C.onerror=z}),Un(w,"link",f),l.instance=w}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Wh.bind(d),o.addEventListener("load",l),o.addEventListener("error",l))}}function W4(){if(xc===null)throw Error(r(475));var o=xc;return o.stylesheets&&o.count===0&&kp(o,o.stylesheets),0<o.count?function(l){var f=setTimeout(function(){if(o.stylesheets&&kp(o,o.stylesheets),o.unsuspend){var d=o.unsuspend;o.unsuspend=null,d()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(f)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Yh=null;function kp(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Yh=new Map,l.forEach(Y4,o),Yh=null,Wh.call(o))}function Y4(o,l){if(!(l.state.loading&4)){var f=Yh.get(o);if(f)var d=f.get(null);else{f=new Map,Yh.set(o,f);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var C=v[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(f.set(C.dataset.precedence,C),d=C)}d&&f.set(null,d)}v=l.instance,C=v.getAttribute("data-precedence"),w=f.get(C)||d,w===d&&f.set(null,v),f.set(C,v),this.count++,d=Wh.bind(this),v.addEventListener("load",d),v.addEventListener("error",d),w?w.parentNode.insertBefore(v,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),l.state.loading|=4}}var _c={$$typeof:P,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function $4(o,l,f,d,v,w,C,D){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=d,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Wx(o,l,f,d,v,w,C,D,z,Q,ae,se){return o=new $4(o,l,f,C,D,z,Q,se),l=1,w===!0&&(l|=24),w=Ir(3,null,null,l),o.current=w,w.stateNode=o,l=m1(),l.refCount++,o.pooledCache=l,l.refCount++,w.memoizedState={element:d,isDehydrated:f,cache:l},_1(w),o}function Yx(o){return o?(o=al,o):al}function $x(o,l,f,d,v,w){v=Yx(v),d.context===null?d.context=v:d.pendingContext=v,d=Ja(l),d.payload={element:f},w=w===void 0?null:w,w!==null&&(d.callback=w),f=eo(o,d,l),f!==null&&(Pr(f,o,l),Ku(f,o,l))}function Kx(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Lp(o,l){Kx(o,l),(o=o.alternate)&&Kx(o,l)}function Qx(o){if(o.tag===13){var l=il(o,67108864);l!==null&&Pr(l,o,67108864),Lp(o,67108864)}}var $h=!0;function K4(o,l,f,d){var v=ee.T;ee.T=null;var w=le.p;try{le.p=2,Bp(o,l,f,d)}finally{le.p=w,ee.T=v}}function Q4(o,l,f,d){var v=ee.T;ee.T=null;var w=le.p;try{le.p=8,Bp(o,l,f,d)}finally{le.p=w,ee.T=v}}function Bp(o,l,f,d){if($h){var v=jp(d);if(v===null)bp(o,l,d,Kh,f),Jx(o,d);else if(J4(v,o,l,f,d))d.stopPropagation();else if(Jx(o,d),l&4&&-1<Z4.indexOf(o)){for(;v!==null;){var w=yi(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=Tr(w.pendingLanes);if(C!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;C;){var z=1<<31-ft(C);D.entanglements[1]|=z,C&=~z}Di(w),(gt&6)===0&&(Ph=dr()+500,dc(0))}}break;case 13:D=il(w,2),D!==null&&Pr(D,w,2),kh(),Lp(w,2)}if(w=jp(d),w===null&&bp(o,l,d,Kh,f),w===v)break;v=w}v!==null&&d.stopPropagation()}else bp(o,l,d,null,f)}}function jp(o){return o=jr(o),Vp(o)}var Kh=null;function Vp(o){if(Kh=null,o=Zi(o),o!==null){var l=a(o);if(l===null)o=null;else{var f=l.tag;if(f===13){if(o=s(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Kh=o,null}function Zx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kr()){case Fo:return 2;case Ha:return 8;case Yi:case yu:return 32;case br:return 268435456;default:return 32}default:return 32}}var Up=!1,po=null,go=null,mo=null,wc=new Map,Ec=new Map,vo=[],Z4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(o,l){switch(o){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":wc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(l.pointerId)}}function Ac(o,l,f,d,v,w){return o===null||o.nativeEvent!==w?(o={blockedOn:l,domEventName:f,eventSystemFlags:d,nativeEvent:w,targetContainers:[v]},l!==null&&(l=yi(l),l!==null&&Qx(l)),o):(o.eventSystemFlags|=d,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function J4(o,l,f,d,v){switch(l){case"focusin":return po=Ac(po,o,l,f,d,v),!0;case"dragenter":return go=Ac(go,o,l,f,d,v),!0;case"mouseover":return mo=Ac(mo,o,l,f,d,v),!0;case"pointerover":var w=v.pointerId;return wc.set(w,Ac(wc.get(w)||null,o,l,f,d,v)),!0;case"gotpointercapture":return w=v.pointerId,Ec.set(w,Ac(Ec.get(w)||null,o,l,f,d,v)),!0}return!1}function e_(o){var l=Zi(o.target);if(l!==null){var f=a(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){o.blockedOn=l,kf(o.priority,function(){if(f.tag===13){var d=Dr();d=Ga(d);var v=il(f,d);v!==null&&Pr(v,f,d),Lp(f,d)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Qh(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=jp(o.nativeEvent);if(f===null){f=o.nativeEvent;var d=new f.constructor(f.type,f);na=d,f.target.dispatchEvent(d),na=null}else return l=yi(f),l!==null&&Qx(l),o.blockedOn=f,!1;l.shift()}return!0}function t_(o,l,f){Qh(o)&&f.delete(l)}function e3(){Up=!1,po!==null&&Qh(po)&&(po=null),go!==null&&Qh(go)&&(go=null),mo!==null&&Qh(mo)&&(mo=null),wc.forEach(t_),Ec.forEach(t_)}function Zh(o,l){o.blockedOn===l&&(o.blockedOn=null,Up||(Up=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,e3)))}var Jh=null;function n_(o){Jh!==o&&(Jh=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Jh===o&&(Jh=null);for(var l=0;l<o.length;l+=3){var f=o[l],d=o[l+1],v=o[l+2];if(typeof d!="function"){if(Vp(d||f)===null)continue;break}var w=yi(f);w!==null&&(o.splice(l,3),l-=3,V1(w,{pending:!0,data:v,method:f.method,action:d},d,v))}}))}function bc(o){function l(z){return Zh(z,o)}po!==null&&Zh(po,o),go!==null&&Zh(go,o),mo!==null&&Zh(mo,o),wc.forEach(l),Ec.forEach(l);for(var f=0;f<vo.length;f++){var d=vo[f];d.blockedOn===o&&(d.blockedOn=null)}for(;0<vo.length&&(f=vo[0],f.blockedOn===null);)e_(f),f.blockedOn===null&&vo.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(d=0;d<f.length;d+=3){var v=f[d],w=f[d+1],C=v[rn]||null;if(typeof w=="function")C||n_(f);else if(C){var D=null;if(w&&w.hasAttribute("formAction")){if(v=w,C=w[rn]||null)D=C.formAction;else if(Vp(v)!==null)continue}else D=C.action;typeof D=="function"?f[d+1]=D:(f.splice(d,3),d-=3),n_(f)}}}function Fp(o){this._internalRoot=o}ed.prototype.render=Fp.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,d=Dr();$x(f,d,o,l,null,null)},ed.prototype.unmount=Fp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;$x(o.current,2,null,o,null,null),kh(),l[Lr]=null}};function ed(o){this._internalRoot=o}ed.prototype.unstable_scheduleHydration=function(o){if(o){var l=qa();o={blockedOn:null,target:o,priority:l};for(var f=0;f<vo.length&&l!==0&&l<vo[f].priority;f++);vo.splice(f,0,o),f===0&&e_(o)}};var r_=e.version;if(r_!=="19.1.0")throw Error(r(527,r_,"19.1.0"));le.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(l),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var t3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Te=td.inject(t3),Pe=td}catch{}}return Sc.createRoot=function(o,l){if(!i(o))throw Error(r(299));var f=!1,d="",v=x2,w=_2,C=w2,D=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks)),l=Wx(o,1,!1,null,null,f,d,v,w,C,D,null),o[Lr]=l.current,Ap(o),new Fp(l)},Sc.hydrateRoot=function(o,l,f){if(!i(o))throw Error(r(299));var d=!1,v="",w=x2,C=_2,D=w2,z=null,Q=null;return f!=null&&(f.unstable_strictMode===!0&&(d=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(D=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(z=f.unstable_transitionCallbacks),f.formState!==void 0&&(Q=f.formState)),l=Wx(o,1,!0,l,f??null,d,v,w,C,D,z,Q),l.context=Yx(null),f=l.current,d=Dr(),d=Ga(d),v=Ja(d),v.callback=null,eo(f,v,d),f=d,l.current.lanes=f,Qi(l,f),Di(l),o[Lr]=l.current,Ap(o),new ed(l)},Sc.version="19.1.0",Sc}var d_;function f3(){if(d_)return Gp.exports;d_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gp.exports=c3(),Gp.exports}var h3=f3(),Cc={},p_;function d3(){if(p_)return Cc;p_=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.parse=s,Cc.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function s(y,_){const E=new a,b=y.length;if(b<2)return E;const T=(_==null?void 0:_.decode)||p;let I=0;do{const R=y.indexOf("=",I);if(R===-1)break;const P=y.indexOf(";",I),j=P===-1?b:P;if(R>j){I=y.lastIndexOf(";",R-1)+1;continue}const U=u(y,I,R),q=c(y,R,U),O=y.slice(U,q);if(E[O]===void 0){let N=u(y,R+1,j),M=c(y,j,N);const V=T(y.slice(N,M));E[O]=V}I=j+1}while(I<b);return E}function u(y,_,E){do{const b=y.charCodeAt(_);if(b!==32&&b!==9)return _}while(++_<E);return E}function c(y,_,E){for(;_>E;){const b=y.charCodeAt(--_);if(b!==32&&b!==9)return _+1}return E}function h(y,_,E){const b=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const T=b(_);if(!e.test(T))throw new TypeError(`argument val is invalid: ${_}`);let I=y+"="+T;if(!E)return I;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);I+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);I+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);I+="; Path="+E.path}if(E.expires){if(!g(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);I+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(I+="; HttpOnly"),E.secure&&(I+="; Secure"),E.partitioned&&(I+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return I}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return Cc}d3();var g_="popstate";function p3(n={}){function e(r,i){let{pathname:a,search:s,hash:u}=r.location;return jg("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Jc(i)}return m3(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function fi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g3(){return Math.random().toString(36).substring(2,10)}function m_(n,e){return{usr:n.state,key:n.key,idx:e}}function jg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:t,key:e&&e.key||r||g3()}}function Jc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function m3(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u="POP",c=null,h=p();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function p(){return(s.state||{idx:null}).idx}function g(){u="POP";let T=p(),I=T==null?null:T-h;h=T,c&&c({action:u,location:b.location,delta:I})}function y(T,I){u="PUSH";let R=jg(b.location,T,I);h=p()+1;let P=m_(R,h),j=b.createHref(R);try{s.pushState(P,"",j)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(j)}a&&c&&c({action:u,location:b.location,delta:1})}function _(T,I){u="REPLACE";let R=jg(b.location,T,I);h=p();let P=m_(R,h),j=b.createHref(R);s.replaceState(P,"",j),a&&c&&c({action:u,location:b.location,delta:0})}function E(T){return v3(T)}let b={get action(){return u},get location(){return n(i,s)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(g_,g),c=T,()=>{i.removeEventListener(g_,g),c=null}},createHref(T){return e(i,T)},createURL:E,encodeLocation(T){let I=E(T);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:y,replace:_,go(T){return s.go(T)}};return b}function v3(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function hA(n,e,t="/"){return y3(n,e,t,!1)}function y3(n,e,t,r){let i=typeof e=="string"?tu(e):e,a=Na(i.pathname||"/",t);if(a==null)return null;let s=dA(n);x3(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let h=N3(a);u=I3(s[c],h,r)}return u}function dA(n,e=[],t=[],r=""){let i=(a,s,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Bt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let h=Ca([r,c.relativePath]),p=t.concat(c);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),dA(a.children,e,p,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:S3(h,a.index),routesMeta:p})};return n.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let c of pA(a.path))i(a,s,c)}),e}function pA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=pA(r.join("/")),u=[];return u.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&u.push(...s),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function x3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:C3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var _3=/^:[\w-]+$/,w3=3,E3=2,A3=1,b3=10,T3=-2,v_=n=>n==="*";function S3(n,e){let t=n.split("/"),r=t.length;return t.some(v_)&&(r+=T3),e&&(r+=E3),t.filter(i=>!v_(i)).reduce((i,a)=>i+(_3.test(a)?w3:a===""?A3:b3),r)}function C3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function I3(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=kd({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),y=c.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=kd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:Ca([a,g.pathname]),pathnameBase:M3(Ca([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Ca([a,g.pathnameBase]))}return s}function kd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=R3(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let E=u[y]||"";s=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=u[y];return g&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:s,pattern:n}}function R3(n,e=!1,t=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Na(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function O3(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?tu(n):n;return{pathname:t?t.startsWith("/")?t:D3(t,e):e,search:k3(r),hash:L3(i)}}function D3(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Yp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cm(n){let e=P3(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Im(n,e,t,r=!1){let i;typeof n=="string"?i=tu(n):(i={...n},Bt(!i.pathname||!i.pathname.includes("?"),Yp("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Yp("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Yp("#","search","hash",i)));let a=n===""||i.pathname==="",s=a?"/":i.pathname,u;if(s==null)u=t;else{let g=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let c=O3(i,u),h=s&&s!=="/"&&s.endsWith("/"),p=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}var Ca=n=>n.join("/").replace(/\/\/+/g,"/"),M3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),k3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,L3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function B3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var gA=["POST","PUT","PATCH","DELETE"];new Set(gA);var j3=["GET",...gA];new Set(j3);var nu=F.createContext(null);nu.displayName="DataRouter";var u0=F.createContext(null);u0.displayName="DataRouterState";var mA=F.createContext({isTransitioning:!1});mA.displayName="ViewTransition";var V3=F.createContext(new Map);V3.displayName="Fetchers";var U3=F.createContext(null);U3.displayName="Await";var hi=F.createContext(null);hi.displayName="Navigation";var yf=F.createContext(null);yf.displayName="Location";var di=F.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Rm=F.createContext(null);Rm.displayName="RouteError";function F3(n,{relative:e}={}){Bt(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(hi),{hash:i,pathname:a,search:s}=xf(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Ca([t,a])),r.createHref({pathname:u,search:s,hash:i})}function ru(){return F.useContext(yf)!=null}function La(){return Bt(ru(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(yf).location}var vA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(n){F.useContext(hi).static||F.useLayoutEffect(n)}function Wn(){let{isDataRoute:n}=F.useContext(di);return n?tI():H3()}function H3(){Bt(ru(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(nu),{basename:e,navigator:t}=F.useContext(hi),{matches:r}=F.useContext(di),{pathname:i}=La(),a=JSON.stringify(Cm(r)),s=F.useRef(!1);return yA(()=>{s.current=!0}),F.useCallback((c,h={})=>{if(fi(s.current,vA),!s.current)return;if(typeof c=="number"){t.go(c);return}let p=Im(c,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ca([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,a,i,n])}F.createContext(null);function z3(){let{matches:n}=F.useContext(di),e=n[n.length-1];return e?e.params:{}}function xf(n,{relative:e}={}){let{matches:t}=F.useContext(di),{pathname:r}=La(),i=JSON.stringify(Cm(t));return F.useMemo(()=>Im(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function G3(n,e){return xA(n,e)}function xA(n,e,t,r){var I;Bt(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(hi),{matches:a}=F.useContext(di),s=a[a.length-1],u=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",p=s&&s.route;{let R=p&&p.path||"";_A(c,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=La(),y;if(e){let R=typeof e=="string"?tu(e):e;Bt(h==="/"||((I=R.pathname)==null?void 0:I.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${R.pathname}" was given in the \`location\` prop.`),y=R}else y=g;let _=y.pathname||"/",E=_;if(h!=="/"){let R=h.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=hA(n,{pathname:E});fi(p||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),fi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=$3(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:Ca([h,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?h:Ca([h,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,t,r);return e&&T?F.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function q3(){let n=eI(),e=B3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,s)}var X3=F.createElement(q3,null),W3=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(di.Provider,{value:this.props.routeContext},F.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Y3({routeContext:n,match:e,children:t}){let r=F.useContext(nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(di.Provider,{value:n},t)}function $3(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let c=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);Bt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:p,errors:g}=t,y=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,h,p)=>{let g,y=!1,_=null,E=null;t&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||X3,s&&(u<0&&p===0?(_A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,E=null):u===p&&(y=!0,E=h.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,p+1)),T=()=>{let I;return g?I=_:y?I=E:h.route.Component?I=F.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=c,F.createElement(Y3,{match:h,routeContext:{outlet:c,matches:b,isDataRoute:t!=null},children:I})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?F.createElement(W3,{location:t.location,revalidation:t.revalidation,component:_,error:g,children:T(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):T()},null)}function Nm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K3(n){let e=F.useContext(nu);return Bt(e,Nm(n)),e}function Q3(n){let e=F.useContext(u0);return Bt(e,Nm(n)),e}function Z3(n){let e=F.useContext(di);return Bt(e,Nm(n)),e}function Om(n){let e=Z3(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function J3(){return Om("useRouteId")}function eI(){var r;let n=F.useContext(Rm),e=Q3("useRouteError"),t=Om("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function tI(){let{router:n}=K3("useNavigate"),e=Om("useNavigate"),t=F.useRef(!1);return yA(()=>{t.current=!0}),F.useCallback(async(i,a={})=>{fi(t.current,vA),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var y_={};function _A(n,e,t){!e&&!y_[n]&&(y_[n]=!0,fi(!1,t))}F.memo(nI);function nI({routes:n,future:e,state:t}){return xA(n,void 0,t,e)}function Vg({to:n,replace:e,state:t,relative:r}){Bt(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(hi);fi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(di),{pathname:s}=La(),u=Wn(),c=Im(n,Cm(a),s,r==="path"),h=JSON.stringify(c);return F.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function Nn(n){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Bt(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof t=="string"&&(t=tu(t));let{pathname:c="/",search:h="",hash:p="",state:g=null,key:y="default"}=t,_=F.useMemo(()=>{let E=Na(c,s);return E==null?null:{location:{pathname:E,search:h,hash:p,state:g,key:y},navigationType:r}},[s,c,h,p,g,y,r]);return fi(_!=null,`<Router basename="${s}"> is not able to match the URL "${c}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:F.createElement(hi.Provider,{value:u},F.createElement(yf.Provider,{children:e,value:_}))}function iI({children:n,location:e}){return G3(Ug(n),e)}function Ug(n,e=[]){let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let a=[...e,i];if(r.type===F.Fragment){t.push.apply(t,Ug(r.props.children,a));return}Bt(r.type===Nn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Ug(r.props.children,a)),t.push(s)}),t}var yd="get",xd="application/x-www-form-urlencoded";function c0(n){return n!=null&&typeof n.tagName=="string"}function aI(n){return c0(n)&&n.tagName.toLowerCase()==="button"}function oI(n){return c0(n)&&n.tagName.toLowerCase()==="form"}function sI(n){return c0(n)&&n.tagName.toLowerCase()==="input"}function lI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uI(n,e){return n.button===0&&(!e||e==="_self")&&!lI(n)}var nd=null;function cI(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $p(n){return n!=null&&!fI.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):n}function hI(n,e){let t,r,i,a,s;if(oI(n)){let u=n.getAttribute("action");r=u?Na(u,e):null,t=n.getAttribute("method")||yd,i=$p(n.getAttribute("enctype"))||xd,a=new FormData(n)}else if(aI(n)||sI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?Na(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||yd,i=$p(n.getAttribute("formenctype"))||$p(u.getAttribute("enctype"))||xd,a=new FormData(u,n),!cI()){let{name:h,type:p,value:g}=n;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(c0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yd,r=null,i=xd,s=n}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:s}}function Dm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function dI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gI(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await dI(a,t);return s.links?s.links():[]}return[]}));return xI(r.flat(1).filter(pI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x_(n,e,t,r,i,a){let s=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,u=(c,h)=>{var p;return t[h].pathname!==c.pathname||((p=t[h].route.path)==null?void 0:p.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return a==="assets"?e.filter((c,h)=>s(c,h)||u(c,h)):a==="data"?e.filter((c,h)=>{var g;let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(s(c,h)||u(c,h))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function mI(n,e,{includeHydrateFallback:t}={}){return vI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function vI(n){return[...new Set(n)]}function yI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(yI(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _I=new Set([100,101,204,205]);function wI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Na(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function wA(){let n=F.useContext(nu);return Dm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function EI(){let n=F.useContext(u0);return Dm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pm=F.createContext(void 0);Pm.displayName="FrameworkContext";function EA(){let n=F.useContext(Pm);return Dm(n,"You must render this element inside a <HydratedRouter> element"),n}function AI(n,e){let t=F.useContext(Pm),[r,i]=F.useState(!1),[a,s]=F.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=F.useRef(null);F.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let b=I=>{I.forEach(R=>{s(R.isIntersecting)})},T=new IntersectionObserver(b,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[n]),F.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let _=()=>{i(!0)},E=()=>{i(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:Ic(u,_),onBlur:Ic(c,E),onMouseEnter:Ic(h,_),onMouseLeave:Ic(p,E),onTouchStart:Ic(g,_)}]:[!1,y,{}]}function Ic(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bI({page:n,...e}){let{router:t}=wA(),r=F.useMemo(()=>hA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(SI,{page:n,matches:r,...e}):null}function TI(n){let{manifest:e,routeModules:t}=EA(),[r,i]=F.useState([]);return F.useEffect(()=>{let a=!1;return gI(n,e,t).then(s=>{a||i(s)}),()=>{a=!0}},[n,e,t]),r}function SI({page:n,matches:e,...t}){let r=La(),{manifest:i,routeModules:a}=EA(),{basename:s}=wA(),{loaderData:u,matches:c}=EI(),h=F.useMemo(()=>x_(n,e,c,i,r,"data"),[n,e,c,i,r]),p=F.useMemo(()=>x_(n,e,c,i,r,"assets"),[n,e,c,i,r]),g=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,b=!1;if(e.forEach(I=>{var P;let R=i.routes[I.route.id];!R||!R.hasLoader||(!h.some(j=>j.route.id===I.route.id)&&I.route.id in u&&((P=a[I.route.id])!=null&&P.shouldRevalidate)||R.hasClientLoader?b=!0:E.add(I.route.id))}),E.size===0)return[];let T=wI(n,s);return b&&E.size>0&&T.searchParams.set("_routes",e.filter(I=>E.has(I.route.id)).map(I=>I.route.id).join(",")),[T.pathname+T.search]},[s,u,r,i,h,e,n,a]),y=F.useMemo(()=>mI(p,i),[p,i]),_=TI(p);return F.createElement(F.Fragment,null,g.map(E=>F.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>F.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),_.map(({key:E,link:b})=>F.createElement("link",{key:E,...b})))}function CI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AA&&(window.__reactRouterVersion="7.6.1")}catch{}function II({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=p3({window:t,v5Compat:!0}));let i=r.current,[a,s]=F.useState({action:i.action,location:i.location}),u=F.useCallback(c=>{F.startTransition(()=>s(c))},[s]);return F.useLayoutEffect(()=>i.listen(u),[i,u]),F.createElement(rI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var bA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:u,target:c,to:h,preventScrollReset:p,viewTransition:g,...y},_){let{basename:E}=F.useContext(hi),b=typeof h=="string"&&bA.test(h),T,I=!1;if(typeof h=="string"&&b&&(T=h,AA))try{let M=new URL(window.location.href),V=h.startsWith("//")?new URL(M.protocol+h):new URL(h),G=Na(V.pathname,E);V.origin===M.origin&&G!=null?h=G+V.search+V.hash:I=!0}catch{fi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=F3(h,{relative:i}),[P,j,U]=AI(r,y),q=DI(h,{replace:s,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:g});function O(M){e&&e(M),M.defaultPrevented||q(M)}let N=F.createElement("a",{...y,...U,href:T||R,onClick:I||a?e:O,ref:CI(_,j),target:c,"data-discover":!b&&t==="render"?"true":void 0});return P&&!b?F.createElement(F.Fragment,null,N,F.createElement(bI,{page:R})):N});St.displayName="Link";var RI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:u,children:c,...h},p){let g=xf(s,{relative:h.relative}),y=La(),_=F.useContext(u0),{navigator:E,basename:b}=F.useContext(hi),T=_!=null&&BI(g)&&u===!0,I=E.encodeLocation?E.encodeLocation(g).pathname:g.pathname,R=y.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(R=R.toLowerCase(),P=P?P.toLowerCase():null,I=I.toLowerCase()),P&&b&&(P=Na(P,b)||P);const j=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let U=R===I||!i&&R.startsWith(I)&&R.charAt(j)==="/",q=P!=null&&(P===I||!i&&P.startsWith(I)&&P.charAt(I.length)==="/"),O={isActive:U,isPending:q,isTransitioning:T},N=U?e:void 0,M;typeof r=="function"?M=r(O):M=[r,U?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(O):a;return F.createElement(St,{...h,"aria-current":N,className:M,ref:p,style:V,to:s,viewTransition:u},typeof c=="function"?c(O):c)});RI.displayName="NavLink";var NI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:s=yd,action:u,onSubmit:c,relative:h,preventScrollReset:p,viewTransition:g,...y},_)=>{let E=kI(),b=LI(u,{relative:h}),T=s.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&bA.test(u),R=P=>{if(c&&c(P),P.defaultPrevented)return;P.preventDefault();let j=P.nativeEvent.submitter,U=(j==null?void 0:j.getAttribute("formmethod"))||s;E(j||P.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return F.createElement("form",{ref:_,method:T,action:b,onSubmit:r?c:R,...y,"data-discover":!I&&n==="render"?"true":void 0})});NI.displayName="Form";function OI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(n){let e=F.useContext(nu);return Bt(e,OI(n)),e}function DI(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let u=Wn(),c=La(),h=xf(n,{relative:a});return F.useCallback(p=>{if(uI(p,e)){p.preventDefault();let g=t!==void 0?t:Jc(c)===Jc(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[c,u,h,t,r,e,n,i,a,s])}var PI=0,MI=()=>`__${String(++PI)}__`;function kI(){let{router:n}=TA("useSubmit"),{basename:e}=F.useContext(hi),t=J3();return F.useCallback(async(r,i={})=>{let{action:a,method:s,encType:u,formData:c,body:h}=hI(r,e);if(i.navigate===!1){let p=i.fetcherKey||MI();await n.fetch(p,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:h,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function LI(n,{relative:e}={}){let{basename:t}=F.useContext(hi),r=F.useContext(di);Bt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...xf(n||".",{relative:e})},s=La();if(n==null){a.search=s.search;let u=new URLSearchParams(a.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ca([t,a.pathname])),Jc(a)}function BI(n,e={}){let t=F.useContext(mA);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TA("useViewTransitionState"),i=xf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Na(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=Na(t.nextLocation.pathname,r)||t.nextLocation.pathname;return kd(i.pathname,s)!=null||kd(i.pathname,a)!=null}[..._I];const jI=()=>{};var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},VI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],s=n[t++],u=n[t++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},CA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],s=i+1<n.length,u=s?n[i+1]:0,c=i+2<n.length,h=c?n[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,_=h&63;c||(_=64,s||(y=64)),r.push(t[p],t[g],t[y],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||g==null)throw new UI;const y=a<<2|u>>4;if(r.push(y),h!==64){const _=u<<4&240|h>>2;if(r.push(_),g!==64){const E=h<<6&192|g;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class UI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FI=function(n){const e=SA(n);return CA.encodeByteArray(e,!0)},Ld=function(n){return FI(n).replace(/\./g,"")},IA=function(n){try{return CA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=()=>HI().__FIREBASE_DEFAULTS__,GI=()=>{if(typeof process>"u"||typeof __>"u")return;const n=__.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&IA(n[1]);return e&&JSON.parse(e)},f0=()=>{try{return jI()||zI()||GI()||qI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RA=n=>{var e,t;return(t=(e=f0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XI=n=>{const e=RA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},NA=()=>{var n;return(n=f0())===null||n===void 0?void 0:n.config},OA=n=>{var e;return(e=f0())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){return n.endsWith(".cloudworkstations.dev")}async function DA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ld(JSON.stringify(t)),Ld(JSON.stringify(s)),""].join(".")}const Gc={};function $I(){const n={prod:[],emulator:[]};for(const e of Object.keys(Gc))Gc[e]?n.emulator.push(e):n.prod.push(e);return n}function KI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let w_=!1;function PA(n,e){if(typeof window>"u"||typeof document>"u"||!_f(window.location.host)||Gc[n]===e||Gc[n]||w_)return;Gc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=$I().prod.length>0;function s(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{w_=!0,s()},y}function p(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=KI(r),_=t("text"),E=document.getElementById(_)||document.createElement("span"),b=t("learnmore"),T=document.getElementById(b)||document.createElement("a"),I=t("preprendIcon"),R=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;u(P),p(T,b);const j=h();c(R,I),P.append(R,E,T,j),document.body.appendChild(P)}a?(E.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function ZI(){var n;const e=(n=f0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const n=tr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rR(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iR(){try{return typeof indexedDB=="object"}catch{return!1}}function aR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="FirebaseError";class Ba extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oR,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?sR(a,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Ba(i,u,r)}}function sR(n,e){return n.replace(lR,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lR=/\{\$([^}]+)}/g;function uR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],s=e[i];if(E_(a)&&E_(s)){if(!Rs(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function E_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function cR(n,e){const t=new fR(n,e);return t.subscribe.bind(t)}class fR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Kp),i.error===void 0&&(i.error=Kp),i.complete===void 0&&(i.complete=Kp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n){return n&&n._delegate?n._delegate:n}class Ns{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new WI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&s.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(n){return n===_s?void 0:n}function gR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const vR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},yR=Qe.INFO,xR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},_R=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=xR[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=yR,this._logHandler=_R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const wR=(n,e)=>e.some(t=>n instanceof t);let A_,b_;function ER(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return b_||(b_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MA=new WeakMap,Fg=new WeakMap,kA=new WeakMap,Qp=new WeakMap,km=new WeakMap;function bR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",s)},a=()=>{t(bo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&MA.set(t,n)}).catch(()=>{}),km.set(e,n),e}function TR(n){if(Fg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",s),n.removeEventListener("abort",s)},a=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",s),n.addEventListener("abort",s)});Fg.set(n,e)}let Hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SR(n){Hg=n(Hg)}function CR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Zp(this),e,...t);return kA.set(r,e.sort?e.sort():[e]),bo(r)}:AR().includes(n)?function(...e){return n.apply(Zp(this),e),bo(MA.get(this))}:function(...e){return bo(n.apply(Zp(this),e))}}function IR(n){return typeof n=="function"?CR(n):(n instanceof IDBTransaction&&TR(n),wR(n,ER())?new Proxy(n,Hg):n)}function bo(n){if(n instanceof IDBRequest)return bR(n);if(Qp.has(n))return Qp.get(n);const e=IR(n);return e!==n&&(Qp.set(n,e),km.set(e,n)),e}const Zp=n=>km.get(n);function RR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(n,e),u=bo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(bo(s.result),c.oldVersion,c.newVersion,bo(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Jp=new Map;function T_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jp.get(e))return Jp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=OR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NR.includes(t)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&c.done]))[0]};return Jp.set(e,a),a}SR(n=>({...n,get:(e,t,r)=>T_(e,t)||n.get(e,t,r),has:(e,t)=>!!T_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function PR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zg="@firebase/app",S_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Mm("@firebase/app"),MR="@firebase/app-compat",kR="@firebase/analytics-compat",LR="@firebase/analytics",BR="@firebase/app-check-compat",jR="@firebase/app-check",VR="@firebase/auth",UR="@firebase/auth-compat",FR="@firebase/database",HR="@firebase/data-connect",zR="@firebase/database-compat",GR="@firebase/functions",qR="@firebase/functions-compat",XR="@firebase/installations",WR="@firebase/installations-compat",YR="@firebase/messaging",$R="@firebase/messaging-compat",KR="@firebase/performance",QR="@firebase/performance-compat",ZR="@firebase/remote-config",JR="@firebase/remote-config-compat",e6="@firebase/storage",t6="@firebase/storage-compat",n6="@firebase/firestore",r6="@firebase/ai",i6="@firebase/firestore-compat",a6="firebase",o6="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="[DEFAULT]",s6={[zg]:"fire-core",[MR]:"fire-core-compat",[LR]:"fire-analytics",[kR]:"fire-analytics-compat",[jR]:"fire-app-check",[BR]:"fire-app-check-compat",[VR]:"fire-auth",[UR]:"fire-auth-compat",[FR]:"fire-rtdb",[HR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[GR]:"fire-fn",[qR]:"fire-fn-compat",[XR]:"fire-iid",[WR]:"fire-iid-compat",[YR]:"fire-fcm",[$R]:"fire-fcm-compat",[KR]:"fire-perf",[QR]:"fire-perf-compat",[ZR]:"fire-rc",[JR]:"fire-rc-compat",[e6]:"fire-gcs",[t6]:"fire-gcs-compat",[n6]:"fire-fst",[i6]:"fire-fst-compat",[r6]:"fire-vertex","fire-js":"fire-js",[a6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,l6=new Map,qg=new Map;function C_(n,e){try{n.container.addComponent(e)}catch(t){Oa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gl(n){const e=n.name;if(qg.has(e))return Oa.debug(`There were multiple attempts to register component ${e}.`),!1;qg.set(e,n);for(const t of Bd.values())C_(t,n);for(const t of l6.values())C_(t,n);return!0}function Lm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ht(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new wf("app","Firebase",u6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=o6;function LA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw To.create("bad-app-name",{appName:String(i)});if(t||(t=NA()),!t)throw To.create("no-options");const a=Bd.get(i);if(a){if(Rs(t,a.options)&&Rs(r,a.config))return a;throw To.create("duplicate-app",{appName:i})}const s=new mR(i);for(const c of qg.values())s.addComponent(c);const u=new c6(t,r,s);return Bd.set(i,u),u}function BA(n=Gg){const e=Bd.get(n);if(!e&&n===Gg&&NA())return LA();if(!e)throw To.create("no-app",{appName:n});return e}function So(n,e,t){var r;let i=(r=s6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oa.warn(u.join(" "));return}Gl(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="firebase-heartbeat-database",h6=1,ef="firebase-heartbeat-store";let eg=null;function jA(){return eg||(eg=RR(f6,h6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ef)}catch(t){console.warn(t)}}}}).catch(n=>{throw To.create("idb-open",{originalErrorMessage:n.message})})),eg}async function d6(n){try{const t=(await jA()).transaction(ef),r=await t.objectStore(ef).get(VA(n));return await t.done,r}catch(e){if(e instanceof Ba)Oa.warn(e.message);else{const t=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oa.warn(t.message)}}}async function I_(n,e){try{const r=(await jA()).transaction(ef,"readwrite");await r.objectStore(ef).put(e,VA(n)),await r.done}catch(t){if(t instanceof Ba)Oa.warn(t.message);else{const r=To.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Oa.warn(r.message)}}}function VA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=1024,g6=30;class m6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=R_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>g6){const s=x6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Oa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R_(),{heartbeatsToSend:r,unsentEntries:i}=v6(this._heartbeatsCache.heartbeats),a=Ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Oa.warn(t),""}}}function R_(){return new Date().toISOString().substring(0,10)}function v6(n,e=p6){const t=[];let r=n.slice();for(const i of n){const a=t.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),N_(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),N_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class y6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iR()?aR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d6(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return I_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return I_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N_(n){return Ld(JSON.stringify({version:2,heartbeats:n})).length}function x6(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(n){Gl(new Ns("platform-logger",e=>new DR(e),"PRIVATE")),Gl(new Ns("heartbeat",e=>new m6(e),"PRIVATE")),So(zg,S_,n),So(zg,S_,"esm2017"),So("fire-js","")}_6("");var w6="firebase",E6="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(w6,E6,"app");function Bm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6={PHONE:"phone",TOTP:"totp"},b6={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},T6={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},S6={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},C6={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function UA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R6=I6,FA=UA,HA=new wf("auth","Firebase",UA()),N6={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Mm("@firebase/auth");function O6(n,...e){jd.logLevel<=Qe.WARN&&jd.warn(`Auth (${au}): ${n}`,...e)}function _d(n,...e){jd.logLevel<=Qe.ERROR&&jd.error(`Auth (${au}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(n,...e){throw Vm(n,...e)}function fr(n,...e){return Vm(n,...e)}function jm(n,e,t){const r=Object.assign(Object.assign({},FA()),{[e]:t});return new wf("auth","Firebase",r).create(e,{appName:n.name})}function kn(n){return jm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ou(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(n,"argument-error"),jm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return HA.create(n,...e)}function pe(n,e,...t){if(!n)throw Vm(e,...t)}function Li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _d(e),new Error(e)}function Da(n,e){n||Li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Um(){return O_()==="http:"||O_()==="https:"}function O_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Um()||eR()||"connection"in navigator)?navigator.onLine:!0}function P6(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,Da(t>e,"Short delay should be less than long delay!"),this.isMobile=QI()||tR()}get(){return D6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n,e){Da(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L6=new Ef(3e4,6e4);function Dt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Pt(n,e,t,r,i={}){return GA(n,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const u=iu(Object.assign({key:n.config.apiKey},s)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},a);return JI()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&_f(n.emulatorConfig.host)&&(h.credentials="include"),zA.fetch()(await qA(n,n.config.apiHost,t,u),h)})}async function GA(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},M6),e);try{const i=new j6(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Bc(n,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Bc(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Bc(n,"user-disabled",s);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw jm(n,p,h);Er(n,p)}}catch(i){if(i instanceof Ba)throw i;Er(n,"network-request-failed",{message:String(i)})}}async function ja(n,e,t,r,i={}){const a=await Pt(n,e,t,r,i);return"mfaPendingCredential"in a&&Er(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function qA(n,e,t,r){const i=`${e}${t}?${r}`,a=n,s=a.config.emulator?Fm(n.config,i):`${n.config.apiScheme}://${i}`;return k6.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function B6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),L6.get())})}}function Bc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=fr(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n){return n!==void 0&&n.getResponse!==void 0}function P_(n){return n!==void 0&&n.enterprise!==void 0}class XA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return B6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(n){return(await Pt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function WA(n,e){return Pt(n,"GET","/v2/recaptchaConfig",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(n,e){return Pt(n,"POST","/v1/accounts:delete",e)}async function F6(n,e){return Pt(n,"POST","/v1/accounts:update",e)}async function Vd(n,e){return Pt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(n,e=!1){return Ve(n).getIdToken(e)}async function YA(n,e=!1){const t=Ve(n),r=await t.getIdToken(e),i=h0(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:qc(tg(i.auth_time)),issuedAtTime:qc(tg(i.iat)),expirationTime:qc(tg(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function tg(n){return Number(n)*1e3}function h0(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const i=IA(t);return i?JSON.parse(i):(_d("Failed to decode base64 JWT payload"),null)}catch(i){return _d("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function M_(n){const e=h0(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ba&&z6(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function z6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Pa(n,Vd(t,{idToken:r}));pe(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?KA(a.providerUserInfo):[],u=q6(n.providerData,s),c=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),p=c?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function $A(n){const e=Ve(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KA(n){return n.map(e=>{var{providerId:t}=e,r=Bm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(n,e){const t=await GA(n,{},async()=>{const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,s=await qA(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",zA.fetch()(s,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function W6(n,e){return Pt(n,"POST","/v2/accounts:revokeToken",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=M_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await X6(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,s=new Ul;return r&&(pe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=Bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Pa(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YA(this,e)}reload(){return $A(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ht(this.auth.app))return Promise.reject(kn(this.auth));const e=await this.getIdToken();return await Pa(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,s,u,c,h,p;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,_=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=t.photoURL)!==null&&s!==void 0?s:void 0,b=(u=t.tenantId)!==null&&u!==void 0?u:void 0,T=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(h=t.createdAt)!==null&&h!==void 0?h:void 0,R=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:j,isAnonymous:U,providerData:q,stsTokenManager:O}=t;pe(P&&O,e,"internal-error");const N=Ul.fromJSON(this.name,O);pe(typeof P=="string",e,"internal-error"),xo(g,e.name),xo(y,e.name),pe(typeof j=="boolean",e,"internal-error"),pe(typeof U=="boolean",e,"internal-error"),xo(_,e.name),xo(E,e.name),xo(b,e.name),xo(T,e.name),xo(I,e.name),xo(R,e.name);const M=new ui({uid:P,auth:e,email:y,emailVerified:j,displayName:g,isAnonymous:U,photoURL:E,phoneNumber:_,tenantId:b,stsTokenManager:N,createdAt:I,lastLoginAt:R});return q&&Array.isArray(q)&&(M.providerData=q.map(V=>Object.assign({},V))),T&&(M._redirectEventId=T),M}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ul;i.updateFromServerResponse(t);const a=new ui({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?KA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Ul;u.updateFromIdToken(r);const c=new ui({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Ta(n){Da(n instanceof Function,"Expected a class definition");let e=k_.get(n);return e?(Da(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,k_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}QA.type="NONE";const Wg=QA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n,e,t){return`firebase:${n}:${e}:${t}`}class Fl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=wd(this.userKey,i.apiKey,a),this.fullPersistenceKey=wd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vd(this.auth,{idToken:e}).catch(()=>{});return t?ui._fromGetAccountInfoResponse(this.auth,t,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fl(Ta(Wg),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Ta(Wg);const s=wd(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const p=await h._get(s);if(p){let g;if(typeof p=="string"){const y=await Vd(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ui._fromGetAccountInfoResponse(e,y,p)}else g=ui._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Fl(a,e,r):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==a)try{await h._remove(s)}catch{}})),new Fl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rb(e))return"Blackberry";if(ib(e))return"Webos";if(JA(e))return"Safari";if((e.includes("chrome/")||eb(e))&&!e.includes("edge/"))return"Chrome";if(nb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZA(n=tr()){return/firefox\//i.test(n)}function JA(n=tr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eb(n=tr()){return/crios\//i.test(n)}function tb(n=tr()){return/iemobile/i.test(n)}function nb(n=tr()){return/android/i.test(n)}function rb(n=tr()){return/blackberry/i.test(n)}function ib(n=tr()){return/webos/i.test(n)}function Hm(n=tr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Y6(n=tr()){var e;return Hm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $6(){return nR()&&document.documentMode===10}function ab(n=tr()){return Hm(n)||nb(n)||ib(n)||rb(n)||/windows phone/i.test(n)||tb(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e=[]){let t;switch(n){case"Browser":t=L_(tr());break;case"Worker":t=`${L_(tr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${au}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(n,e={}){return Pt(n,"GET","/v2/passwordPolicy",Dt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=6;class J6{constructor(e){var t,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Z6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new K6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ta(t)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vd(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ht(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ht(this.app))return Promise.reject(kn(this));const t=e?Ve(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ht(this.app)?Promise.reject(kn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ht(this.app)?Promise.reject(kn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ta(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q6(this),t=new J6(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await W6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ta(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Ta(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(t);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&O6(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $t(n){return Ve(n)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tN(n){Af=n}function zm(n){return Af.loadJS(n)}function nN(){return Af.recaptchaV2Script}function rN(){return Af.recaptchaEnterpriseScript}function iN(){return Af.gapiScript}function sb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=500,oN=6e4,rd=1e12;class sN{constructor(e){this.auth=e,this.counter=rd,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new cN(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||rd;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||rd;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||rd;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class lN{constructor(){this.enterprise=new uN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class cN{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pe(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=fN(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},oN)},aN))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function fN(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const hN="recaptcha-enterprise",Xc="NO_RECAPTCHA";class lb{constructor(e){this.type=hN,this.auth=$t(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{WA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new XA(c);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,s(h.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;P_(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(h=>{s(h)}).catch(()=>{s(Xc)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lN().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(u=>{if(!t&&P_(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=rN();c.length!==0&&(c+=u),zm(c).then(()=>{i(u,a,s)}).catch(h=>{s(h)})}}).catch(u=>{s(u)})})}}async function Rc(n,e,t,r=!1,i=!1){const a=new lb(n);let s;if(i)s=Xc;else try{s=await a.verify(t)}catch{s=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Co(n,e,t,r,i){var a,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Rc(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Rc(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){const u=await Rc(n,e,t);return r(n,u).catch(async c=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const p=await Rc(n,e,t,!1,!0);return r(n,p)}return Promise.reject(c)})}else{const u=await Rc(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function ub(n){const e=$t(n),t=await WA(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new XA(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new lb(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n,e){const t=Lm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Rs(a,e??{}))return i;Er(i,"already-initialized")}return t.initialize({options:e})}function dN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ta);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fb(n,e,t){const r=$t(n);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),a=hb(e),{host:s,port:u}=pN(e),c=u===null?"":`:${u}`,h={url:`${a}//${s}${c}/`},p=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(Rs(h,r.config.emulator)&&Rs(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,_f(s)?(DA(`${a}//${s}${c}`),PA("Auth",!0)):i||gN()}function hb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pN(n){const e=hb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:j_(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:j_(s)}}}function j_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function gN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,t){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(n,e){return Pt(n,"POST","/v1/accounts:resetPassword",Dt(n,e))}async function mN(n,e){return Pt(n,"POST","/v1/accounts:update",e)}async function vN(n,e){return Pt(n,"POST","/v1/accounts:signUp",e)}async function yN(n,e){return Pt(n,"POST","/v1/accounts:update",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,e){return ja(n,"POST","/v1/accounts:signInWithPassword",Dt(n,e))}async function d0(n,e){return Pt(n,"POST","/v1/accounts:sendOobCode",Dt(n,e))}async function _N(n,e){return d0(n,e)}async function wN(n,e){return d0(n,e)}async function EN(n,e){return d0(n,e)}async function AN(n,e){return d0(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(n,e){return ja(n,"POST","/v1/accounts:signInWithEmailLink",Dt(n,e))}async function TN(n,e){return ja(n,"POST","/v1/accounts:signInWithEmailLink",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends su{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ql(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ql(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(e,t,"signInWithPassword",xN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return bN(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(e,r,"signUpPassword",vN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return TN(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n,e){return ja(n,"POST","/v1/accounts:signInWithIdp",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="http://localhost";class Ui extends su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=Bm(t,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ui(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Ia(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ia(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=iu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_(n,e){return Pt(n,"POST","/v1/accounts:sendVerificationCode",Dt(n,e))}async function CN(n,e){return ja(n,"POST","/v1/accounts:signInWithPhoneNumber",Dt(n,e))}async function IN(n,e){const t=await ja(n,"POST","/v1/accounts:signInWithPhoneNumber",Dt(n,e));if(t.temporaryProof)throw Bc(n,"account-exists-with-different-credential",t);return t}const RN={USER_NOT_FOUND:"user-not-found"};async function NN(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ja(n,"POST","/v1/accounts:signInWithPhoneNumber",Dt(n,t),RN)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends su{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Io({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Io({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return CN(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return IN(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return NN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!t&&!i&&!a?null:new Io({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DN(n){const e=kc(Lc(n)).link,t=e?kc(Lc(e)).deep_link_id:null,r=kc(Lc(n)).deep_link_id;return(r?kc(Lc(r)).link:null)||r||t||e||n}class lu{constructor(e){var t,r,i,a,s,u;const c=kc(Lc(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,g=ON((i=c.mode)!==null&&i!==void 0?i:null);pe(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.lang)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=DN(e);try{return new lu(t)}catch{return null}}}function PN(n){return lu.parseLink(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return ql._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=lu.parseLink(t);return pe(r,"argument-error"),ql._fromEmailAndCode(e,r.code,r.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Va{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wc extends uu{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return pe("providerId"in t&&"signInMethod"in t,"argument-error"),Ui._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return pe(e.idToken||e.accessToken,"argument-error"),Ui._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Wc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Wc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:u}=e;if(!r&&!i&&!t&&!a||!u)return null;try{return new Wc(u)._credential({idToken:t,accessToken:r,nonce:s,pendingToken:a})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends uu{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ui._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ea.credential(t,r)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends uu{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="http://localhost";class rf extends su{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ia(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ia(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:a}=t;return!r||!i||!a||r!==i?null:new rf(r,a)}static _create(e,t){return new rf(e,t)}buildRequest(){return{requestUri:MN,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="saml.";class Ud extends Va{constructor(e){pe(e.startsWith(kN),"argument-error"),super(e)}static credentialFromResult(e){return Ud.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ud.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=rf.fromJSON(e);return pe(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return rf._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends uu{constructor(){super("twitter.com")}static credential(e,t){return Ui._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ba.credential(t,r)}catch{return null}}}ba.TWITTER_SIGN_IN_METHOD="twitter.com";ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e){return ja(n,"POST","/v1/accounts:signUp",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ui._fromIdTokenResponse(e,r,i),s=U_(r);return new Jr({user:a,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=U_(r);return new Jr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function U_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n){var e;if(Ht(n.app))return Promise.reject(kn(n));const t=$t(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Jr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await pb(t,{returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Ba{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Fd(e,t,r,i)}}function gb(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(n,a,e,r):a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(n,e){const t=Ve(n);await p0(!0,t,e);const{providerUserInfo:r}=await F6(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=mb(r||[]);return t.providerData=t.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Gm(n,e,t=!1){const r=await Pa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jr._forOperation(n,"link",r)}async function p0(n,e,t){await nf(e);const r=mb(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";pe(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(n,e,t=!1){const{auth:r}=n;if(Ht(r.app))return Promise.reject(kn(r));const i="reauthenticate";try{const a=await Pa(n,gb(r,i,e,n),t);pe(a.idToken,r,"internal-error");const s=h0(a.idToken);pe(s,r,"internal-error");const{sub:u}=s;return pe(n.uid===u,r,"user-mismatch"),Jr._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(n,e,t=!1){if(Ht(n.app))return Promise.reject(kn(n));const r="signIn",i=await gb(n,r,e),a=await Jr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function g0(n,e){return yb($t(n),e)}async function xb(n,e){const t=Ve(n);return await p0(!1,t,e.providerId),Gm(t,e)}async function _b(n,e){return vb(Ve(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(n,e){return ja(n,"POST","/v1/accounts:signInWithCustomToken",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e){if(Ht(n.app))return Promise.reject(kn(n));const t=$t(n),r=await jN(t,{token:e,returnSecureToken:!0}),i=await Jr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?qm._fromServerResponse(e,t):"totpInfo"in t?Xm._fromServerResponse(e,t):Er(e,"internal-error")}}class qm extends bf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new qm(t)}}class Xm extends bf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Xm(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(n,e,t){var r;pe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(n){const e=$t(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UN(n,e,t){const r=$t(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&m0(r,i,t),await Co(r,i,"getOobCode",wN,"EMAIL_PASSWORD_PROVIDER")}async function FN(n,e,t){await db(Ve(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wm(n),r})}async function HN(n,e){await yN(Ve(n),{oobCode:e})}async function wb(n,e){const t=Ve(n),r=await db(t,{oobCode:e}),i=r.requestType;switch(pe(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(r.mfaInfo,t,"internal-error");default:pe(r.email,t,"internal-error")}let a=null;return r.mfaInfo&&(a=bf._fromServerResponse($t(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:a},operation:i}}async function zN(n,e){const{data:t}=await wb(Ve(n),e);return t.email}async function Eb(n,e,t){if(Ht(n.app))return Promise.reject(kn(n));const r=$t(n),s=await Co(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pb,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Wm(n),c}),u=await Jr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function Ab(n,e,t){return Ht(n.app)?Promise.reject(kn(n)):g0(Ve(n),Vo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wm(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e,t){const r=$t(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,u){pe(u.handleCodeInApp,r,"argument-error"),u&&m0(r,s,u)}a(i,t),await Co(r,i,"getOobCode",EN,"EMAIL_PASSWORD_PROVIDER")}function qN(n,e){const t=lu.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function XN(n,e,t){if(Ht(n.app))return Promise.reject(kn(n));const r=Ve(n),i=Vo.credentialWithLink(e,t||tf());return pe(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),g0(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(n,e){return Pt(n,"POST","/v1/accounts:createAuthUri",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(n,e){const t=Um()?tf():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await WN(Ve(n),r);return i||[]}async function bb(n,e){const t=Ve(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&m0(t.auth,i,e);const{email:a}=await _N(t.auth,i);a!==n.email&&await n.reload()}async function $N(n,e,t){const r=Ve(n),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&m0(r.auth,a,t);const{email:s}=await AN(r.auth,a);s!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(n,e){return Pt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ve(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=await Pa(r,KN(r.auth,a));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function ZN(n,e){const t=Ve(n);return Ht(t.auth.app)?Promise.reject(kn(t.auth)):Tb(t,e,null)}function JN(n,e){return Tb(Ve(n),null,e)}async function Tb(n,e,t){const{auth:r}=n,a={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(a.email=e),t&&(a.password=t);const s=await Pa(n,mN(r,a));await n._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},a=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const s=(t=(e=h0(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(s){const u=s!=="anonymous"&&s!=="custom"?s:null;return new Hl(a,u)}}if(!r)return null;switch(r){case"facebook.com":return new t8(a,i);case"github.com":return new n8(a,i);case"google.com":return new r8(a,i);case"twitter.com":return new i8(a,i,n.screenName||null);case"custom":case"anonymous":return new Hl(a,null);default:return new Hl(a,r,i)}}class Hl{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Sb extends Hl{constructor(e,t,r,i){super(e,t,r),this.username=i}}class t8 extends Hl{constructor(e,t){super(e,"facebook.com",t)}}class n8 extends Sb{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class r8 extends Hl{constructor(e,t){super(e,"google.com",t)}}class i8 extends Sb{constructor(e,t,r){super(e,"twitter.com",t,r)}}function a8(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:e8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(n,e){return Ve(n).setPersistence(e)}function s8(n){return ub(n)}async function l8(n,e){return $t(n).validatePassword(e)}function Cb(n,e,t,r){return Ve(n).onIdTokenChanged(e,t,r)}function Ib(n,e,t){return Ve(n).beforeAuthStateChanged(e,t)}function Rb(n,e,t,r){return Ve(n).onAuthStateChanged(e,t,r)}function u8(n){Ve(n).useDeviceLanguage()}function c8(n,e){return Ve(n).updateCurrentUser(e)}function Nb(n){return Ve(n).signOut()}function f8(n,e){return $t(n).revokeAccessToken(e)}async function h8(n){return Ve(n).delete()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Es("enroll",e,t)}static _fromMfaPendingCredential(e){return new Es("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Es._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Es._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=$t(e),i=t.customData._serverResponse,a=(i.mfaInfo||[]).map(u=>bf._fromServerResponse(r,u));pe(i.mfaPendingCredential,r,"internal-error");const s=Es._fromMfaPendingCredential(i.mfaPendingCredential);return new Ym(s,a,async u=>{const c=await u._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":const p=await Jr._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(p.user),p;case"reauthenticate":return pe(t.user,r,"internal-error"),Jr._forOperation(t.user,t.operationType,h);default:Er(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function d8(n,e){var t;const r=Ve(n),i=e;return pe(e.customData.operationType,r,"argument-error"),pe((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Ym._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e){return Pt(n,"POST","/v2/accounts/mfaEnrollment:start",Dt(n,e))}function p8(n,e){return Pt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Dt(n,e))}function g8(n,e){return Pt(n,"POST","/v2/accounts/mfaEnrollment:start",Dt(n,e))}function m8(n,e){return Pt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Dt(n,e))}function v8(n,e){return Pt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Dt(n,e))}class $m{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>bf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new $m(e)}async getSession(){return Es._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),a=await Pa(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Pa(this.user,v8(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const ng=new WeakMap;function y8(n){const e=Ve(n);return ng.has(e)||ng.set(e,$m._fromUser(e)),ng.get(e)}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=1e3,_8=10;class Db extends Ob{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!t&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);$6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_8):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},x8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const Pb=Db;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=1e3;function rg(n){var e,t;const r=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return(t=(e=document.cookie.match(i))===null||e===void 0?void 0:e[1])!==null&&t!==void 0?t:null}function ig(n){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${n.split(":")[3]}`}class Mb{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:(e=navigator.cookieEnabled)!==null&&e!==void 0?e:!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=ig(e);if(window.cookieStore){const r=await window.cookieStore.get(t);return r==null?void 0:r.value}return rg(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const r=ig(e);document.cookie=`${r}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const r=ig(e);if(window.cookieStore){const u=h=>{const p=h.changed.find(y=>y.name===r);p&&t(p.value),h.deleted.find(y=>y.name===r)&&t(null)},c=()=>window.cookieStore.removeEventListener("change",u);return this.listenerUnsubscribes.set(t,c),window.cookieStore.addEventListener("change",u)}let i=rg(r);const a=setInterval(()=>{const u=rg(r);u!==i&&(t(u),i=u)},w8),s=()=>clearInterval(a);this.listenerUnsubscribes.set(t,s)}_removeListener(e,t){const r=this.listenerUnsubscribes.get(t);r&&(r(),this.listenerUnsubscribes.delete(t))}}Mb.type="COOKIE";const E8=Mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Ob{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kb.type="SESSION";const Km=kb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new v0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async h=>h(t.origin,a)),c=await A8(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}v0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const h=y0("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return window}function T8(n){un().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){return typeof un().WorkerGlobalScope<"u"&&typeof un().importScripts=="function"}async function S8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function I8(){return Qm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebaseLocalStorageDb",R8=1,zd="firebaseLocalStorage",Bb="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function x0(n,e){return n.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function N8(){const n=indexedDB.deleteDatabase(Lb);return new Tf(n).toPromise()}function Yg(){const n=indexedDB.open(Lb,R8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(zd,{keyPath:Bb})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(zd)?e(r):(r.close(),await N8(),e(await Yg()))})})}async function H_(n,e,t){const r=x0(n,!0).put({[Bb]:e,value:t});return new Tf(r).toPromise()}async function O8(n,e){const t=x0(n,!1).get(e),r=await new Tf(t).toPromise();return r===void 0?null:r.value}function z_(n,e){const t=x0(n,!0).delete(e);return new Tf(t).toPromise()}const D8=800,P8=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>P8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=v0._getInstance(I8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await S8(),!this.activeServiceWorker)return;this.sender=new b8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yg();return await H_(e,Hd,"1"),await z_(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>H_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>O8(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>z_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=x0(i,!1).getAll();return new Tf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const Vb=jb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n,e){return Pt(n,"POST","/v2/accounts/mfaSignIn:start",Dt(n,e))}function M8(n,e){return Pt(n,"POST","/v2/accounts/mfaSignIn:finalize",Dt(n,e))}function k8(n,e){return Pt(n,"POST","/v2/accounts/mfaSignIn:finalize",Dt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=sb("rcb"),L8=new Ef(3e4,6e4);class B8{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=un().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return pe(j8(t),e,"argument-error"),this.shouldResolveImmediately(t)&&D_(un().grecaptcha)?Promise.resolve(un().grecaptcha):new Promise((r,i)=>{const a=un().setTimeout(()=>{i(fr(e,"network-request-failed"))},L8.get());un()[ag]=()=>{un().clearTimeout(a),delete un()[ag];const u=un().grecaptcha;if(!u||!D_(u)){i(fr(e,"internal-error"));return}const c=u.render;u.render=(h,p)=>{const g=c(h,p);return this.counter++,g},this.hostLanguage=t,r(u)};const s=`${nN()}?${iu({onload:ag,render:"explicit",hl:t})}`;zm(s).catch(()=>{clearTimeout(a),i(fr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=un().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function j8(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class V8{async load(e){return new sN(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="recaptcha",U8={theme:"light",type:"image"};class F8{constructor(e,t,r=Object.assign({},U8)){this.parameters=r,this.type=Yc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$t(e),this.isInvisible=this.parameters.size==="invisible",pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;pe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new V8:new B8,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=un()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pe(Um()&&!Qm(),this.auth,"internal-error"),await H8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await V6(this.auth);pe(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function H8(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Io._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function z8(n,e,t){if(Ht(n.app))return Promise.reject(kn(n));const r=$t(n),i=await _0(r,e,Ve(t));return new Zm(i,a=>g0(r,a))}async function G8(n,e,t){const r=Ve(n);await p0(!1,r,"phone");const i=await _0(r.auth,e,Ve(t));return new Zm(i,a=>xb(r,a))}async function q8(n,e,t){const r=Ve(n);if(Ht(r.auth.app))return Promise.reject(kn(r.auth));const i=await _0(r.auth,e,Ve(t));return new Zm(i,a=>_b(r,a))}async function _0(n,e,t){var r;if(!n._getRecaptchaConfig())try{await ub(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i){pe(a.type==="enroll",n,"internal-error");const s={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Co(n,s,"mfaSmsEnrollment",async(p,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===Xc){pe((t==null?void 0:t.type)===Yc,p,"argument-error");const y=await og(p,g,t);return F_(p,y)}return F_(p,g)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{pe(a.type==="signin",n,"internal-error");const s=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;pe(s,n,"missing-multi-factor-info");const u={mfaPendingCredential:a.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Co(n,u,"mfaSmsSignIn",async(g,y)=>{if(y.phoneSignInInfo.captchaResponse===Xc){pe((t==null?void 0:t.type)===Yc,g,"argument-error");const _=await og(g,y,t);return G_(g,_)}return G_(g,y)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Co(n,a,"sendVerificationCode",async(h,p)=>{if(p.captchaResponse===Xc){pe((t==null?void 0:t.type)===Yc,h,"argument-error");const g=await og(h,p,t);return V_(h,g)}return V_(h,p)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function X8(n,e){const t=Ve(n);if(Ht(t.auth.app))return Promise.reject(kn(t.auth));await Gm(t,e)}async function og(n,e,t){pe(t.type===Yc,n,"argument-error");const r=await t.verify();pe(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:s,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:s,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.providerId=Ss.PROVIDER_ID,this.auth=$t(e)}verifyPhoneNumber(e,t){return _0(this.auth,e,Ve(t))}static credential(e,t){return Io._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ss.credentialFromTaggedObject(t)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Io._fromTokenResponse(t,r):null}}Ss.PROVIDER_ID="phone";Ss.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n,e){return e?Ta(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W8(n){return yb(n.auth,new Jm(n),n.bypassAuthState)}function Y8(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),vb(t,new Jm(n),n.bypassAuthState)}async function $8(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),Gm(t,new Jm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W8;case"linkViaPopup":case"linkViaRedirect":return $8;case"reauthViaPopup":case"reauthViaRedirect":return Y8;default:Er(this.auth,"internal-error")}}resolve(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=new Ef(2e3,1e4);async function Q8(n,e,t){if(Ht(n.app))return Promise.reject(fr(n,"operation-not-supported-in-this-environment"));const r=$t(n);ou(n,e,Va);const i=Ms(r,t);return new Sa(r,"signInViaPopup",e,i).executeNotNull()}async function Z8(n,e,t){const r=Ve(n);if(Ht(r.auth.app))return Promise.reject(fr(r.auth,"operation-not-supported-in-this-environment"));ou(r.auth,e,Va);const i=Ms(r.auth,t);return new Sa(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function J8(n,e,t){const r=Ve(n);ou(r.auth,e,Va);const i=Ms(r.auth,t);return new Sa(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Sa extends Ub{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Da(this.filter.length===1,"Popup operations only handle one event");const e=y0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K8.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="pendingRedirect",Ed=new Map;class tO extends Ub{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const r=await nO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nO(n,e){const t=Hb(e),r=Fb(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function ev(n,e){return Fb(n)._set(Hb(e),"true")}function rO(n,e){Ed.set(n._key(),e)}function Fb(n){return Ta(n._redirectPersistence)}function Hb(n){return wd(eO,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n,e,t){return aO(n,e,t)}async function aO(n,e,t){if(Ht(n.app))return Promise.reject(kn(n));const r=$t(n);ou(n,e,Va),await r._initializationPromise;const i=Ms(r,t);return await ev(i,r),i._openRedirect(r,e,"signInViaRedirect")}function oO(n,e,t){return sO(n,e,t)}async function sO(n,e,t){const r=Ve(n);if(ou(r.auth,e,Va),Ht(r.auth.app))return Promise.reject(kn(r.auth));await r.auth._initializationPromise;const i=Ms(r.auth,t);await ev(i,r.auth);const a=await Gb(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",a)}function lO(n,e,t){return uO(n,e,t)}async function uO(n,e,t){const r=Ve(n);ou(r.auth,e,Va),await r.auth._initializationPromise;const i=Ms(r.auth,t);await p0(!1,r,e.providerId),await ev(i,r.auth);const a=await Gb(r);return i._openRedirect(r.auth,e,"linkViaRedirect",a)}async function cO(n,e){return await $t(n)._initializationPromise,zb(n,e,!1)}async function zb(n,e,t=!1){if(Ht(n.app))return Promise.reject(kn(n));const r=$t(n),i=Ms(r,e),s=await new tO(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function Gb(n){const e=y0(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=10*60*1e3;class hO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!qb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(fr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fO&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(n,e={}){return Pt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mO=/^https?/;async function vO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pO(n);for(const t of e)try{if(yO(t))return}catch{}Er(n,"unauthorized-domain")}function yO(n){const e=tf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!mO.test(t))return!1;if(gO.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Ef(3e4,6e4);function X_(){const n=un().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _O(n){return new Promise((e,t)=>{var r,i,a;function s(){X_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X_(),t(fr(n,"network-request-failed"))},timeout:xO.get()})}if(!((i=(r=un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=un().gapi)===null||a===void 0)&&a.load)s();else{const u=sb("iframefcb");return un()[u]=()=>{gapi.load?s():t(fr(n,"network-request-failed"))},zm(`${iN()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Ad=null,e})}let Ad=null;function wO(n){return Ad=Ad||_O(n),Ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Ef(5e3,15e3),AO="__/auth/iframe",bO="emulator/auth/iframe",TO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CO(n){const e=n.config;pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Fm(e,bO):`https://${n.config.authDomain}/${AO}`,r={apiKey:e.apiKey,appName:n.name,v:au},i=SO.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${iu(r).slice(1)}`}async function IO(n){const e=await wO(n),t=un().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:CO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=fr(n,"network-request-failed"),u=un().setTimeout(()=>{a(s)},EO.get());function c(){un().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NO=500,OO=600,DO="_blank",PO="http://localhost";class W_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MO(n,e,t,r=NO,i=OO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},RO),{width:r.toString(),height:i.toString(),top:a,left:s}),h=tr().toLowerCase();t&&(u=eb(h)?DO:t),ZA(h)&&(e=e||PO,c.scrollbars="yes");const p=Object.entries(c).reduce((y,[_,E])=>`${y}${_}=${E},`,"");if(Y6(h)&&u!=="_self")return kO(e||"",u),new W_(null);const g=window.open(e||"",u,p);pe(g,n,"popup-blocked");try{g.focus()}catch{}return new W_(g)}function kO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="__/auth/handler",BO="emulator/auth/handler",jO=encodeURIComponent("fac");async function Y_(n,e,t,r,i,a){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:au,eventId:i};if(e instanceof Va){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",uR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))s[p]=g}if(e instanceof uu){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);const u=s;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),h=c?`#${jO}=${encodeURIComponent(c)}`:"";return`${VO(n)}?${iu(u).slice(1)}${h}`}function VO({config:n}){return n.emulator?Fm(n,BO):`https://${n.authDomain}/${LO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class UO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Km,this._completeRedirectFn=zb,this._overrideRedirectResult=rO}async _openPopup(e,t,r,i){var a;Da((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Y_(e,t,r,tf(),i);return MO(e,s,y0())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await Y_(e,t,r,tf(),i);return T8(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Da(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await IO(e),r=new hO(e);return t.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sg,{type:sg},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[sg];s!==void 0&&t(!!s),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ab()||JA()||Hm()}}const Xb=UO;class Wb{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Li("unexpected MultiFactorSessionType")}}}class tv extends Wb{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new tv(e)}_finalizeEnroll(e,t,r){return p8(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return M8(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Yb{constructor(){}static assertion(e){return tv._fromCredential(e)}}Yb.FACTOR_ID="phone";class $b{static assertionForEnrollment(e,t){return af._fromSecret(e,t)}static assertionForSignIn(e,t){return af._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const r=e;pe(typeof((t=r.user)===null||t===void 0?void 0:t.auth)<"u","internal-error");const i=await g8(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return w0._fromStartTotpMfaEnrollmentResponse(i,r.user.auth)}}$b.FACTOR_ID="totp";class af extends Wb{constructor(e,t,r){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=r}static _fromSecret(e,t){return new af(t,void 0,e)}static _fromEnrollmentId(e,t){return new af(t,e)}async _finalizeEnroll(e,t,r){return pe(typeof this.secret<"u",e,"argument-error"),m8(e,{idToken:t,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){pe(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const r={verificationCode:this.otp};return k8(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r})}}class w0{constructor(e,t,r,i,a,s,u){this.sessionInfo=s,this.auth=u,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,t){return new w0(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var r;let i=!1;return(id(e)||id(t))&&(i=!0),i&&(id(e)&&(e=((r=this.auth.currentUser)===null||r===void 0?void 0:r.email)||"unknownuser"),id(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function id(n){return typeof n>"u"||(n==null?void 0:n.length)===0}var $_="@firebase/auth",K_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zO(n){Gl(new Ns("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(n)},h=new eN(r,i,a,c);return dN(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Gl(new Ns("auth-internal",e=>{const t=$t(e.getProvider("auth").getImmediate());return(r=>new FO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),So($_,K_,HO(n)),So($_,K_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=5*60,qO=OA("authIdTokenMaxAge")||GO;let Q_=null;const XO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qO)return;const i=t==null?void 0:t.token;Q_!==i&&(Q_=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kl(n=BA()){const e=Lm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cb(n,{popupRedirectResolver:Xb,persistence:[Vb,Pb,Km]}),r=OA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=XO(a.toString());Ib(t,s,()=>s(t.currentUser)),Cb(t,u=>s(u))}}const i=RA("auth");return i&&fb(t,`http://${i}`),t}function WO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=fr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",WO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zO("Browser");const YO=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:C6,ActionCodeURL:lu,AuthCredential:su,AuthErrorCodes:N6,EmailAuthCredential:ql,EmailAuthProvider:Vo,FacebookAuthProvider:wa,FactorId:A6,GithubAuthProvider:Aa,GoogleAuthProvider:Ea,OAuthCredential:Ui,OAuthProvider:Wc,OperationType:S6,PhoneAuthCredential:Io,PhoneAuthProvider:Ss,PhoneMultiFactorGenerator:Yb,ProviderId:b6,RecaptchaVerifier:F8,SAMLAuthProvider:Ud,SignInMethod:T6,TotpMultiFactorGenerator:$b,TotpSecret:w0,TwitterAuthProvider:ba,applyActionCode:HN,beforeAuthStateChanged:Ib,browserCookiePersistence:E8,browserLocalPersistence:Pb,browserPopupRedirectResolver:Xb,browserSessionPersistence:Km,checkActionCode:wb,confirmPasswordReset:FN,connectAuthEmulator:fb,createUserWithEmailAndPassword:Eb,debugErrorMap:R6,deleteUser:h8,fetchSignInMethodsForEmail:YN,getAdditionalUserInfo:a8,getAuth:kl,getIdToken:H6,getIdTokenResult:YA,getMultiFactorResolver:d8,getRedirectResult:cO,inMemoryPersistence:Wg,indexedDBLocalPersistence:Vb,initializeAuth:cb,initializeRecaptchaConfig:s8,isSignInWithEmailLink:qN,linkWithCredential:xb,linkWithPhoneNumber:G8,linkWithPopup:J8,linkWithRedirect:lO,multiFactor:y8,onAuthStateChanged:Rb,onIdTokenChanged:Cb,parseActionCodeURL:PN,prodErrorMap:FA,reauthenticateWithCredential:_b,reauthenticateWithPhoneNumber:q8,reauthenticateWithPopup:Z8,reauthenticateWithRedirect:oO,reload:$A,revokeAccessToken:f8,sendEmailVerification:bb,sendPasswordResetEmail:UN,sendSignInLinkToEmail:GN,setPersistence:o8,signInAnonymously:LN,signInWithCredential:g0,signInWithCustomToken:VN,signInWithEmailAndPassword:Ab,signInWithEmailLink:XN,signInWithPhoneNumber:z8,signInWithPopup:Q8,signInWithRedirect:iO,signOut:Nb,unlink:BN,updateCurrentUser:c8,updateEmail:ZN,updatePassword:JN,updatePhoneNumber:X8,updateProfile:QN,useDeviceLanguage:u8,validatePassword:l8,verifyBeforeUpdateEmail:$N,verifyPasswordResetCode:zN},Symbol.toStringTag,{value:"Module"})),$O={apiKey:void 0,authDomain:void 0,projectId:"woo-combine",storageBucket:"woo-combine.appspot.com",messagingSenderId:"94939411053",appId:"1:94939411053:web:9441e73b88c1985e5c8564"},KO=LA($O),Ft=kl(KO);function Kb(n,e){return function(){return n.apply(e,arguments)}}const{toString:QO}=Object.prototype,{getPrototypeOf:nv}=Object,{iterator:E0,toStringTag:Qb}=Symbol,A0=(n=>e=>{const t=QO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pi=n=>(n=n.toLowerCase(),e=>A0(e)===n),b0=n=>e=>typeof e===n,{isArray:cu}=Array,of=b0("undefined");function ZO(n){return n!==null&&!of(n)&&n.constructor!==null&&!of(n.constructor)&&_r(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Zb=pi("ArrayBuffer");function JO(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Zb(n.buffer),e}const e5=b0("string"),_r=b0("function"),Jb=b0("number"),T0=n=>n!==null&&typeof n=="object",t5=n=>n===!0||n===!1,bd=n=>{if(A0(n)!=="object")return!1;const e=nv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Qb in n)&&!(E0 in n)},n5=pi("Date"),r5=pi("File"),i5=pi("Blob"),a5=pi("FileList"),o5=n=>T0(n)&&_r(n.pipe),s5=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_r(n.append)&&((e=A0(n))==="formdata"||e==="object"&&_r(n.toString)&&n.toString()==="[object FormData]"))},l5=pi("URLSearchParams"),[u5,c5,f5,h5]=["ReadableStream","Request","Response","Headers"].map(pi),d5=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),cu(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),s=a.length;let u;for(r=0;r<s;r++)u=a[r],e.call(null,n[u],u,n)}}function eT(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const As=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tT=n=>!of(n)&&n!==As;function $g(){const{caseless:n}=tT(this)&&this||{},e={},t=(r,i)=>{const a=n&&eT(e,i)||i;bd(e[a])&&bd(r)?e[a]=$g(e[a],r):bd(r)?e[a]=$g({},r):cu(r)?e[a]=r.slice():e[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Sf(arguments[r],t);return e}const p5=(n,e,t,{allOwnKeys:r}={})=>(Sf(e,(i,a)=>{t&&_r(i)?n[a]=Kb(i,t):n[a]=i},{allOwnKeys:r}),n),g5=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),m5=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},v5=(n,e,t,r)=>{let i,a,s;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)s=i[a],(!r||r(s,n,e))&&!u[s]&&(e[s]=n[s],u[s]=!0);n=t!==!1&&nv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},y5=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},x5=n=>{if(!n)return null;if(cu(n))return n;let e=n.length;if(!Jb(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},_5=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&nv(Uint8Array)),w5=(n,e)=>{const r=(n&&n[E0]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},E5=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},A5=pi("HTMLFormElement"),b5=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Z_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),T5=pi("RegExp"),nT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Sf(t,(i,a)=>{let s;(s=e(i,a,n))!==!1&&(r[a]=s||i)}),Object.defineProperties(n,r)},S5=n=>{nT(n,(e,t)=>{if(_r(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_r(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},C5=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return cu(n)?r(n):r(String(n).split(e)),t},I5=()=>{},R5=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function N5(n){return!!(n&&_r(n.append)&&n[Qb]==="FormData"&&n[E0])}const O5=n=>{const e=new Array(10),t=(r,i)=>{if(T0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const a=cu(r)?[]:{};return Sf(r,(s,u)=>{const c=t(s,i+1);!of(c)&&(a[u]=c)}),e[i]=void 0,a}}return r};return t(n,0)},D5=pi("AsyncFunction"),P5=n=>n&&(T0(n)||_r(n))&&_r(n.then)&&_r(n.catch),rT=((n,e)=>n?setImmediate:e?((t,r)=>(As.addEventListener("message",({source:i,data:a})=>{i===As&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),As.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_r(As.postMessage)),M5=typeof queueMicrotask<"u"?queueMicrotask.bind(As):typeof process<"u"&&process.nextTick||rT,k5=n=>n!=null&&_r(n[E0]),re={isArray:cu,isArrayBuffer:Zb,isBuffer:ZO,isFormData:s5,isArrayBufferView:JO,isString:e5,isNumber:Jb,isBoolean:t5,isObject:T0,isPlainObject:bd,isReadableStream:u5,isRequest:c5,isResponse:f5,isHeaders:h5,isUndefined:of,isDate:n5,isFile:r5,isBlob:i5,isRegExp:T5,isFunction:_r,isStream:o5,isURLSearchParams:l5,isTypedArray:_5,isFileList:a5,forEach:Sf,merge:$g,extend:p5,trim:d5,stripBOM:g5,inherits:m5,toFlatObject:v5,kindOf:A0,kindOfTest:pi,endsWith:y5,toArray:x5,forEachEntry:w5,matchAll:E5,isHTMLForm:A5,hasOwnProperty:Z_,hasOwnProp:Z_,reduceDescriptors:nT,freezeMethods:S5,toObjectSet:C5,toCamelCase:b5,noop:I5,toFiniteNumber:R5,findKey:eT,global:As,isContextDefined:tT,isSpecCompliantForm:N5,toJSONObject:O5,isAsyncFn:D5,isThenable:P5,setImmediate:rT,asap:M5,isIterable:k5};function Fe(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const iT=Fe.prototype,aT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{aT[n]={value:n}});Object.defineProperties(Fe,aT);Object.defineProperty(iT,"isAxiosError",{value:!0});Fe.from=(n,e,t,r,i,a)=>{const s=Object.create(iT);return re.toFlatObject(n,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Fe.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,a&&Object.assign(s,a),s};const L5=null;function Kg(n){return re.isPlainObject(n)||re.isArray(n)}function oT(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function J_(n,e,t){return n?n.concat(e).map(function(i,a){return i=oT(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function B5(n){return re.isArray(n)&&!n.some(Kg)}const j5=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function S0(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,T){return!re.isUndefined(T[b])});const r=t.metaTokens,i=t.visitor||p,a=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(E){if(E===null)return"";if(re.isDate(E))return E.toISOString();if(!c&&re.isBlob(E))throw new Fe("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(E)||re.isTypedArray(E)?c&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,b,T){let I=E;if(E&&!T&&typeof E=="object"){if(re.endsWith(b,"{}"))b=r?b:b.slice(0,-2),E=JSON.stringify(E);else if(re.isArray(E)&&B5(E)||(re.isFileList(E)||re.endsWith(b,"[]"))&&(I=re.toArray(E)))return b=oT(b),I.forEach(function(P,j){!(re.isUndefined(P)||P===null)&&e.append(s===!0?J_([b],j,a):s===null?b:b+"[]",h(P))}),!1}return Kg(E)?!0:(e.append(J_(T,b,a),h(E)),!1)}const g=[],y=Object.assign(j5,{defaultVisitor:p,convertValue:h,isVisitable:Kg});function _(E,b){if(!re.isUndefined(E)){if(g.indexOf(E)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(E),re.forEach(E,function(I,R){(!(re.isUndefined(I)||I===null)&&i.call(e,I,re.isString(R)?R.trim():R,b,y))===!0&&_(I,b?b.concat(R):[R])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return _(n),e}function ew(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rv(n,e){this._pairs=[],n&&S0(n,this,e)}const sT=rv.prototype;sT.append=function(e,t){this._pairs.push([e,t])};sT.toString=function(e){const t=e?function(r){return e.call(this,r,ew)}:ew;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function V5(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lT(n,e,t){if(!e)return n;const r=t&&t.encode||V5;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=re.isURLSearchParams(e)?e.toString():new rv(e,t).toString(r),a){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class tw{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U5=typeof URLSearchParams<"u"?URLSearchParams:rv,F5=typeof FormData<"u"?FormData:null,H5=typeof Blob<"u"?Blob:null,z5={isBrowser:!0,classes:{URLSearchParams:U5,FormData:F5,Blob:H5},protocols:["http","https","file","blob","url","data"]},iv=typeof window<"u"&&typeof document<"u",Qg=typeof navigator=="object"&&navigator||void 0,G5=iv&&(!Qg||["ReactNative","NativeScript","NS"].indexOf(Qg.product)<0),q5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",X5=iv&&window.location.href||"http://localhost",W5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iv,hasStandardBrowserEnv:G5,hasStandardBrowserWebWorkerEnv:q5,navigator:Qg,origin:X5},Symbol.toStringTag,{value:"Module"})),er={...W5,...z5};function Y5(n,e){return S0(n,new er.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return er.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function $5(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function K5(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function cT(n){function e(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),c=a>=t.length;return s=!s&&re.isArray(i)?i.length:s,c?(re.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!u):((!i[s]||!re.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],a)&&re.isArray(i[s])&&(i[s]=K5(i[s])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e($5(r),i,t,0)}),t}return null}function Q5(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Cf={transitional:uT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=re.isObject(e);if(a&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(cT(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Y5(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return S0(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),Q5(e)):e}],transformResponse:[function(e){const t=this.transitional||Cf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(s)throw u.name==="SyntaxError"?Fe.from(u,Fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Cf.headers[n]={}});const Z5=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),J5=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&Z5[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},nw=Symbol("internals");function Nc(n){return n&&String(n).trim().toLowerCase()}function Td(n){return n===!1||n==null?n:re.isArray(n)?n.map(Td):String(n)}function eD(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const tD=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function lg(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function nD(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function rD(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,s){return this[r].call(this,e,i,a,s)},configurable:!0})})}let wr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(u,c,h){const p=Nc(c);if(!p)throw new Error("header name must be a non-empty string");const g=re.findKey(i,p);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||c]=Td(u))}const s=(u,c)=>re.forEach(u,(h,p)=>a(h,p,c));if(re.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(re.isString(e)&&(e=e.trim())&&!tD(e))s(J5(e),t);else if(re.isObject(e)&&re.isIterable(e)){let u={},c,h;for(const p of e){if(!re.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(c=u[h])?re.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}s(u,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Nc(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return eD(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Nc(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||lg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(s){if(s=Nc(s),s){const u=re.findKey(r,s);u&&(!t||lg(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||lg(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,a)=>{const s=re.findKey(r,a);if(s){t[s]=Td(i),delete t[a];return}const u=e?nD(a):String(a).trim();u!==a&&delete t[a],t[u]=Td(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[nw]=this[nw]={accessors:{}}).accessors,i=this.prototype;function a(s){const u=Nc(s);r[u]||(rD(i,s),r[u]=!0)}return re.isArray(e)?e.forEach(a):a(e),this}};wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(wr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(wr);function ug(n,e){const t=this||Cf,r=e||t,i=wr.from(r.headers);let a=r.data;return re.forEach(n,function(u){a=u.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function fT(n){return!!(n&&n.__CANCEL__)}function fu(n,e,t){Fe.call(this,n??"canceled",Fe.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(fu,Fe,{__CANCEL__:!0});function hT(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Fe("Request failed with status code "+t.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function iD(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function aD(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),p=r[a];s||(s=h),t[i]=c,r[i]=h;let g=a,y=0;for(;g!==i;)y+=t[g++],g=g%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),h-s<e)return;const _=p&&h-p;return _?Math.round(y*1e3/_):void 0}}function oD(n,e){let t=0,r=1e3/e,i,a;const s=(h,p=Date.now())=>{t=p,i=null,a&&(clearTimeout(a),a=null),n.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-t;g>=r?s(h,p):(i=h,a||(a=setTimeout(()=>{a=null,s(i)},r-g)))},()=>i&&s(i)]}const Gd=(n,e,t=3)=>{let r=0;const i=aD(50,250);return oD(a=>{const s=a.loaded,u=a.lengthComputable?a.total:void 0,c=s-r,h=i(c),p=s<=u;r=s;const g={loaded:s,total:u,progress:u?s/u:void 0,bytes:c,rate:h||void 0,estimated:h&&u&&p?(u-s)/h:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},rw=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},iw=n=>(...e)=>re.asap(()=>n(...e)),sD=er.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,er.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,lD=er.hasStandardBrowserEnv?{write(n,e,t,r,i,a){const s=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),re.isString(r)&&s.push("path="+r),re.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uD(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function cD(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function dT(n,e,t){let r=!uD(e);return n&&(r||t==!1)?cD(n,e):e}const aw=n=>n instanceof wr?{...n}:n;function Os(n,e){e=e||{};const t={};function r(h,p,g,y){return re.isPlainObject(h)&&re.isPlainObject(p)?re.merge.call({caseless:y},h,p):re.isPlainObject(p)?re.merge({},p):re.isArray(p)?p.slice():p}function i(h,p,g,y){if(re.isUndefined(p)){if(!re.isUndefined(h))return r(void 0,h,g,y)}else return r(h,p,g,y)}function a(h,p){if(!re.isUndefined(p))return r(void 0,p)}function s(h,p){if(re.isUndefined(p)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,p)}function u(h,p,g){if(g in e)return r(h,p);if(g in n)return r(void 0,h)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(h,p,g)=>i(aw(h),aw(p),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(p){const g=c[p]||i,y=g(n[p],e[p],p);re.isUndefined(y)&&g!==u||(t[p]=y)}),t}const pT=n=>{const e=Os({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:u}=e;e.headers=s=wr.from(s),e.url=lT(dT(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(re.isFormData(t)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[h,...p]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([h||"multipart/form-data",...p].join("; "))}}if(er.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&sD(e.url))){const h=i&&a&&lD.read(a);h&&s.set(i,h)}return e},fD=typeof XMLHttpRequest<"u",hD=fD&&function(n){return new Promise(function(t,r){const i=pT(n);let a=i.data;const s=wr.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:h}=i,p,g,y,_,E;function b(){_&&_(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function I(){if(!T)return;const P=wr.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:P,config:n,request:T};hT(function(O){t(O),b()},function(O){r(O),b()},U),T=null}"onloadend"in T?T.onloadend=I:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(I)},T.onabort=function(){T&&(r(new Fe("Request aborted",Fe.ECONNABORTED,n,T)),T=null)},T.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,n,T)),T=null},T.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||uT;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new Fe(j,U.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,n,T)),T=null},a===void 0&&s.setContentType(null),"setRequestHeader"in T&&re.forEach(s.toJSON(),function(j,U){T.setRequestHeader(U,j)}),re.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),u&&u!=="json"&&(T.responseType=i.responseType),h&&([y,E]=Gd(h,!0),T.addEventListener("progress",y)),c&&T.upload&&([g,_]=Gd(c),T.upload.addEventListener("progress",g),T.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(p=P=>{T&&(r(!P||P.type?new fu(null,n,T):P),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const R=iD(i.url);if(R&&er.protocols.indexOf(R)===-1){r(new Fe("Unsupported protocol "+R+":",Fe.ERR_BAD_REQUEST,n));return}T.send(a||null)})},dD=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(h){if(!i){i=!0,u();const p=h instanceof Error?h:this.reason;r.abort(p instanceof Fe?p:new fu(p instanceof Error?p.message:p))}};let s=e&&setTimeout(()=>{s=null,a(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const u=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>re.asap(u),c}},pD=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},gD=async function*(n,e){for await(const t of mD(n))yield*pD(t,e)},mD=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},ow=(n,e,t,r)=>{const i=gD(n,e);let a=0,s,u=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:p}=await i.next();if(h){u(),c.close();return}let g=p.byteLength;if(t){let y=a+=g;t(y)}c.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},C0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gT=C0&&typeof ReadableStream=="function",vD=C0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),mT=(n,...e)=>{try{return!!n(...e)}catch{return!1}},yD=gT&&mT(()=>{let n=!1;const e=new Request(er.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),sw=64*1024,Zg=gT&&mT(()=>re.isReadableStream(new Response("").body)),qd={stream:Zg&&(n=>n.body)};C0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qd[e]&&(qd[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const xD=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(er.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await vD(n)).byteLength},_D=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??xD(e)},wD=C0&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:u,onUploadProgress:c,responseType:h,headers:p,withCredentials:g="same-origin",fetchOptions:y}=pT(n);h=h?(h+"").toLowerCase():"text";let _=dD([i,a&&a.toAbortSignal()],s),E;const b=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let T;try{if(c&&yD&&t!=="get"&&t!=="head"&&(T=await _D(p,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(re.isFormData(r)&&(q=U.headers.get("content-type"))&&p.setContentType(q),U.body){const[O,N]=rw(T,Gd(iw(c)));r=ow(U.body,sw,O,N)}}re.isString(g)||(g=g?"include":"omit");const I="credentials"in Request.prototype;E=new Request(e,{...y,signal:_,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:I?g:void 0});let R=await fetch(E);const P=Zg&&(h==="stream"||h==="response");if(Zg&&(u||P&&b)){const U={};["status","statusText","headers"].forEach(M=>{U[M]=R[M]});const q=re.toFiniteNumber(R.headers.get("content-length")),[O,N]=u&&rw(q,Gd(iw(u),!0))||[];R=new Response(ow(R.body,sw,O,()=>{N&&N(),b&&b()}),U)}h=h||"text";let j=await qd[re.findKey(qd,h)||"text"](R,n);return!P&&b&&b(),await new Promise((U,q)=>{hT(U,q,{data:j,headers:wr.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:E})})}catch(I){throw b&&b(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,n,E),{cause:I.cause||I}):Fe.from(I,I&&I.code,n,E)}}),Jg={http:L5,xhr:hD,fetch:wD};re.forEach(Jg,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const lw=n=>`- ${n}`,ED=n=>re.isFunction(n)||n===null||n===!1,vT={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let a=0;a<e;a++){t=n[a];let s;if(r=t,!ED(t)&&(r=Jg[(s=String(t)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?a.length>1?`since :
`+a.map(lw).join(`
`):" "+lw(a[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Jg};function cg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fu(null,n)}function uw(n){return cg(n),n.headers=wr.from(n.headers),n.data=ug.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),vT.getAdapter(n.adapter||Cf.adapter)(n).then(function(r){return cg(n),r.data=ug.call(n,n.transformResponse,r),r.headers=wr.from(r.headers),r},function(r){return fT(r)||(cg(n),r&&r.response&&(r.response.data=ug.call(n,n.transformResponse,r.response),r.response.headers=wr.from(r.response.headers))),Promise.reject(r)})}const yT="1.9.0",I0={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{I0[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const cw={};I0.transitional=function(e,t,r){function i(a,s){return"[Axios v"+yT+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,u)=>{if(e===!1)throw new Fe(i(s," has been removed"+(t?" in "+t:"")),Fe.ERR_DEPRECATED);return t&&!cw[s]&&(cw[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,s,u):!0}};I0.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function AD(n,e,t){if(typeof n!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],s=e[a];if(s){const u=n[a],c=u===void 0||s(u,a,n);if(c!==!0)throw new Fe("option "+a+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Fe("Unknown option "+a,Fe.ERR_BAD_OPTION)}}const Sd={assertOptions:AD,validators:I0},Pi=Sd.validators;let Cs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new tw,response:new tw}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Os(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&Sd.assertOptions(r,{silentJSONParsing:Pi.transitional(Pi.boolean),forcedJSONParsing:Pi.transitional(Pi.boolean),clarifyTimeoutError:Pi.transitional(Pi.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:Sd.assertOptions(i,{encode:Pi.function,serialize:Pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Sd.assertOptions(t,{baseUrl:Pi.spelling("baseURL"),withXsrfToken:Pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&re.merge(a.common,a[t.method]);a&&re.forEach(["delete","get","head","post","put","patch","common"],E=>{delete a[E]}),t.headers=wr.concat(s,a);const u=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(c=c&&b.synchronous,u.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let p,g=0,y;if(!c){const E=[uw.bind(this),void 0];for(E.unshift.apply(E,u),E.push.apply(E,h),y=E.length,p=Promise.resolve(t);g<y;)p=p.then(E[g++],E[g++]);return p}y=u.length;let _=t;for(g=0;g<y;){const E=u[g++],b=u[g++];try{_=E(_)}catch(T){b.call(this,T);break}}try{p=uw.call(this,_)}catch(E){return Promise.reject(E)}for(g=0,y=h.length;g<y;)p=p.then(h[g++],h[g++]);return p}getUri(e){e=Os(this.defaults,e);const t=dT(e.baseURL,e.url,e.allowAbsoluteUrls);return lT(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Cs.prototype[e]=function(t,r){return this.request(Os(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(a,s,u){return this.request(Os(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Cs.prototype[e]=t(),Cs.prototype[e+"Form"]=t(!0)});let bD=class xT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(u=>{r.subscribe(u),a=u}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},e(function(a,s,u){r.reason||(r.reason=new fu(a,s,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xT(function(i){e=i}),cancel:e}}};function TD(n){return function(t){return n.apply(null,t)}}function SD(n){return re.isObject(n)&&n.isAxiosError===!0}const em={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(em).forEach(([n,e])=>{em[e]=n});function _T(n){const e=new Cs(n),t=Kb(Cs.prototype.request,e);return re.extend(t,Cs.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return _T(Os(n,i))},t}const tn=_T(Cf);tn.Axios=Cs;tn.CanceledError=fu;tn.CancelToken=bD;tn.isCancel=fT;tn.VERSION=yT;tn.toFormData=S0;tn.AxiosError=Fe;tn.Cancel=tn.CanceledError;tn.all=function(e){return Promise.all(e)};tn.spread=TD;tn.isAxiosError=SD;tn.mergeConfig=Os;tn.AxiosHeaders=wr;tn.formToJSON=n=>cT(re.isHTMLForm(n)?new FormData(n):n);tn.getAdapter=vT.getAdapter;tn.HttpStatusCode=em;tn.default=tn;const{Axios:wV,AxiosError:EV,CanceledError:AV,isCancel:bV,CancelToken:TV,VERSION:SV,all:CV,Cancel:IV,isAxiosError:RV,spread:NV,toFormData:OV,AxiosHeaders:DV,HttpStatusCode:PV,formToJSON:MV,getAdapter:kV,mergeConfig:LV}=tn,Yt=tn.create({baseURL:"https://woo-combine-backend.onrender.com",withCredentials:!1,timeout:3e4});Yt.interceptors.response.use(n=>n,async n=>{const e=n.config;if(!e||!e.retry||(e.retryCount=e.retryCount||0,e.retryCount>=e.retry))return Promise.reject(n);e.retryCount+=1;const t=Math.pow(2,e.retryCount)*1e3;return await new Promise(r=>setTimeout(r,t)),Yt(e)});Yt.interceptors.request.use(async n=>{const e=Ft.currentUser;if(e){const t=await e.getIdToken();n.headers=n.headers||{},n.headers.Authorization=`Bearer ${t}`}return n},n=>Promise.reject(n));Yt.interceptors.response.use(n=>n,n=>(n.response&&n.response.data&&n.response.data.detail?console.error("API Error:",n.response.data.detail):console.error("API Error:",n.message),Promise.reject(n)));var fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ro,wT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,N){function M(){}M.prototype=N.prototype,O.D=N.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(V,G,H){for(var k=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)k[xe-2]=arguments[xe];return N.prototype[G].apply(V,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,N,M){M||(M=0);var V=Array(16);if(typeof N=="string")for(var G=0;16>G;++G)V[G]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(G=0;16>G;++G)V[G]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=O.g[0],M=O.g[1],G=O.g[2];var H=O.g[3],k=N+(H^M&(G^H))+V[0]+3614090360&4294967295;N=M+(k<<7&4294967295|k>>>25),k=H+(G^N&(M^G))+V[1]+3905402710&4294967295,H=N+(k<<12&4294967295|k>>>20),k=G+(M^H&(N^M))+V[2]+606105819&4294967295,G=H+(k<<17&4294967295|k>>>15),k=M+(N^G&(H^N))+V[3]+3250441966&4294967295,M=G+(k<<22&4294967295|k>>>10),k=N+(H^M&(G^H))+V[4]+4118548399&4294967295,N=M+(k<<7&4294967295|k>>>25),k=H+(G^N&(M^G))+V[5]+1200080426&4294967295,H=N+(k<<12&4294967295|k>>>20),k=G+(M^H&(N^M))+V[6]+2821735955&4294967295,G=H+(k<<17&4294967295|k>>>15),k=M+(N^G&(H^N))+V[7]+4249261313&4294967295,M=G+(k<<22&4294967295|k>>>10),k=N+(H^M&(G^H))+V[8]+1770035416&4294967295,N=M+(k<<7&4294967295|k>>>25),k=H+(G^N&(M^G))+V[9]+2336552879&4294967295,H=N+(k<<12&4294967295|k>>>20),k=G+(M^H&(N^M))+V[10]+4294925233&4294967295,G=H+(k<<17&4294967295|k>>>15),k=M+(N^G&(H^N))+V[11]+2304563134&4294967295,M=G+(k<<22&4294967295|k>>>10),k=N+(H^M&(G^H))+V[12]+1804603682&4294967295,N=M+(k<<7&4294967295|k>>>25),k=H+(G^N&(M^G))+V[13]+4254626195&4294967295,H=N+(k<<12&4294967295|k>>>20),k=G+(M^H&(N^M))+V[14]+2792965006&4294967295,G=H+(k<<17&4294967295|k>>>15),k=M+(N^G&(H^N))+V[15]+1236535329&4294967295,M=G+(k<<22&4294967295|k>>>10),k=N+(G^H&(M^G))+V[1]+4129170786&4294967295,N=M+(k<<5&4294967295|k>>>27),k=H+(M^G&(N^M))+V[6]+3225465664&4294967295,H=N+(k<<9&4294967295|k>>>23),k=G+(N^M&(H^N))+V[11]+643717713&4294967295,G=H+(k<<14&4294967295|k>>>18),k=M+(H^N&(G^H))+V[0]+3921069994&4294967295,M=G+(k<<20&4294967295|k>>>12),k=N+(G^H&(M^G))+V[5]+3593408605&4294967295,N=M+(k<<5&4294967295|k>>>27),k=H+(M^G&(N^M))+V[10]+38016083&4294967295,H=N+(k<<9&4294967295|k>>>23),k=G+(N^M&(H^N))+V[15]+3634488961&4294967295,G=H+(k<<14&4294967295|k>>>18),k=M+(H^N&(G^H))+V[4]+3889429448&4294967295,M=G+(k<<20&4294967295|k>>>12),k=N+(G^H&(M^G))+V[9]+568446438&4294967295,N=M+(k<<5&4294967295|k>>>27),k=H+(M^G&(N^M))+V[14]+3275163606&4294967295,H=N+(k<<9&4294967295|k>>>23),k=G+(N^M&(H^N))+V[3]+4107603335&4294967295,G=H+(k<<14&4294967295|k>>>18),k=M+(H^N&(G^H))+V[8]+1163531501&4294967295,M=G+(k<<20&4294967295|k>>>12),k=N+(G^H&(M^G))+V[13]+2850285829&4294967295,N=M+(k<<5&4294967295|k>>>27),k=H+(M^G&(N^M))+V[2]+4243563512&4294967295,H=N+(k<<9&4294967295|k>>>23),k=G+(N^M&(H^N))+V[7]+1735328473&4294967295,G=H+(k<<14&4294967295|k>>>18),k=M+(H^N&(G^H))+V[12]+2368359562&4294967295,M=G+(k<<20&4294967295|k>>>12),k=N+(M^G^H)+V[5]+4294588738&4294967295,N=M+(k<<4&4294967295|k>>>28),k=H+(N^M^G)+V[8]+2272392833&4294967295,H=N+(k<<11&4294967295|k>>>21),k=G+(H^N^M)+V[11]+1839030562&4294967295,G=H+(k<<16&4294967295|k>>>16),k=M+(G^H^N)+V[14]+4259657740&4294967295,M=G+(k<<23&4294967295|k>>>9),k=N+(M^G^H)+V[1]+2763975236&4294967295,N=M+(k<<4&4294967295|k>>>28),k=H+(N^M^G)+V[4]+1272893353&4294967295,H=N+(k<<11&4294967295|k>>>21),k=G+(H^N^M)+V[7]+4139469664&4294967295,G=H+(k<<16&4294967295|k>>>16),k=M+(G^H^N)+V[10]+3200236656&4294967295,M=G+(k<<23&4294967295|k>>>9),k=N+(M^G^H)+V[13]+681279174&4294967295,N=M+(k<<4&4294967295|k>>>28),k=H+(N^M^G)+V[0]+3936430074&4294967295,H=N+(k<<11&4294967295|k>>>21),k=G+(H^N^M)+V[3]+3572445317&4294967295,G=H+(k<<16&4294967295|k>>>16),k=M+(G^H^N)+V[6]+76029189&4294967295,M=G+(k<<23&4294967295|k>>>9),k=N+(M^G^H)+V[9]+3654602809&4294967295,N=M+(k<<4&4294967295|k>>>28),k=H+(N^M^G)+V[12]+3873151461&4294967295,H=N+(k<<11&4294967295|k>>>21),k=G+(H^N^M)+V[15]+530742520&4294967295,G=H+(k<<16&4294967295|k>>>16),k=M+(G^H^N)+V[2]+3299628645&4294967295,M=G+(k<<23&4294967295|k>>>9),k=N+(G^(M|~H))+V[0]+4096336452&4294967295,N=M+(k<<6&4294967295|k>>>26),k=H+(M^(N|~G))+V[7]+1126891415&4294967295,H=N+(k<<10&4294967295|k>>>22),k=G+(N^(H|~M))+V[14]+2878612391&4294967295,G=H+(k<<15&4294967295|k>>>17),k=M+(H^(G|~N))+V[5]+4237533241&4294967295,M=G+(k<<21&4294967295|k>>>11),k=N+(G^(M|~H))+V[12]+1700485571&4294967295,N=M+(k<<6&4294967295|k>>>26),k=H+(M^(N|~G))+V[3]+2399980690&4294967295,H=N+(k<<10&4294967295|k>>>22),k=G+(N^(H|~M))+V[10]+4293915773&4294967295,G=H+(k<<15&4294967295|k>>>17),k=M+(H^(G|~N))+V[1]+2240044497&4294967295,M=G+(k<<21&4294967295|k>>>11),k=N+(G^(M|~H))+V[8]+1873313359&4294967295,N=M+(k<<6&4294967295|k>>>26),k=H+(M^(N|~G))+V[15]+4264355552&4294967295,H=N+(k<<10&4294967295|k>>>22),k=G+(N^(H|~M))+V[6]+2734768916&4294967295,G=H+(k<<15&4294967295|k>>>17),k=M+(H^(G|~N))+V[13]+1309151649&4294967295,M=G+(k<<21&4294967295|k>>>11),k=N+(G^(M|~H))+V[4]+4149444226&4294967295,N=M+(k<<6&4294967295|k>>>26),k=H+(M^(N|~G))+V[11]+3174756917&4294967295,H=N+(k<<10&4294967295|k>>>22),k=G+(N^(H|~M))+V[2]+718787259&4294967295,G=H+(k<<15&4294967295|k>>>17),k=M+(H^(G|~N))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+N&4294967295,O.g[1]=O.g[1]+(G+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+G&4294967295,O.g[3]=O.g[3]+H&4294967295}r.prototype.u=function(O,N){N===void 0&&(N=O.length);for(var M=N-this.blockSize,V=this.B,G=this.h,H=0;H<N;){if(G==0)for(;H<=M;)i(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<N;)if(V[G++]=O.charCodeAt(H++),G==this.blockSize){i(this,V),G=0;break}}else for(;H<N;)if(V[G++]=O[H++],G==this.blockSize){i(this,V),G=0;break}}this.h=G,this.o+=N},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var N=1;N<O.length-8;++N)O[N]=0;var M=8*this.o;for(N=O.length-8;N<O.length;++N)O[N]=M&255,M/=256;for(this.u(O),O=Array(16),N=M=0;4>N;++N)for(var V=0;32>V;V+=8)O[M++]=this.g[N]>>>V&255;return O};function a(O,N){var M=u;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=N(O)}function s(O,N){this.h=N;for(var M=[],V=!0,G=O.length-1;0<=G;G--){var H=O[G]|0;V&&H==N||(M[G]=H,V=!1)}this.g=M}var u={};function c(O){return-128<=O&&128>O?a(O,function(N){return new s([N|0],0>N?-1:0)}):new s([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return T(h(-O));for(var N=[],M=1,V=0;O>=M;V++)N[V]=O/M|0,M*=4294967296;return new s(N,0)}function p(O,N){if(O.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(O.charAt(0)=="-")return T(p(O.substring(1),N));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(N,8)),V=g,G=0;G<O.length;G+=8){var H=Math.min(8,O.length-G),k=parseInt(O.substring(G,G+H),N);8>H?(H=h(Math.pow(N,H)),V=V.j(H).add(h(k))):(V=V.j(M),V=V.add(h(k)))}return V}var g=c(0),y=c(1),_=c(16777216);n=s.prototype,n.m=function(){if(b(this))return-T(this).m();for(var O=0,N=1,M=0;M<this.g.length;M++){var V=this.i(M);O+=(0<=V?V:4294967296+V)*N,N*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(b(this))return"-"+T(this).toString(O);for(var N=h(Math.pow(O,6)),M=this,V="";;){var G=j(M,N).g;M=I(M,G.j(N));var H=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=G,E(M))return H+V;for(;6>H.length;)H="0"+H;V=H+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var N=0;N<O.g.length;N++)if(O.g[N]!=0)return!1;return!0}function b(O){return O.h==-1}n.l=function(O){return O=I(this,O),b(O)?-1:E(O)?0:1};function T(O){for(var N=O.g.length,M=[],V=0;V<N;V++)M[V]=~O.g[V];return new s(M,~O.h).add(y)}n.abs=function(){return b(this)?T(this):this},n.add=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0,G=0;G<=N;G++){var H=V+(this.i(G)&65535)+(O.i(G)&65535),k=(H>>>16)+(this.i(G)>>>16)+(O.i(G)>>>16);V=k>>>16,H&=65535,k&=65535,M[G]=k<<16|H}return new s(M,M[M.length-1]&-2147483648?-1:0)};function I(O,N){return O.add(T(N))}n.j=function(O){if(E(this)||E(O))return g;if(b(this))return b(O)?T(this).j(T(O)):T(T(this).j(O));if(b(O))return T(this.j(T(O)));if(0>this.l(_)&&0>O.l(_))return h(this.m()*O.m());for(var N=this.g.length+O.g.length,M=[],V=0;V<2*N;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var G=0;G<O.g.length;G++){var H=this.i(V)>>>16,k=this.i(V)&65535,xe=O.i(G)>>>16,_e=O.i(G)&65535;M[2*V+2*G]+=k*_e,R(M,2*V+2*G),M[2*V+2*G+1]+=H*_e,R(M,2*V+2*G+1),M[2*V+2*G+1]+=k*xe,R(M,2*V+2*G+1),M[2*V+2*G+2]+=H*xe,R(M,2*V+2*G+2)}for(V=0;V<N;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=N;V<2*N;V++)M[V]=0;return new s(M,0)};function R(O,N){for(;(O[N]&65535)!=O[N];)O[N+1]+=O[N]>>>16,O[N]&=65535,N++}function P(O,N){this.g=O,this.h=N}function j(O,N){if(E(N))throw Error("division by zero");if(E(O))return new P(g,g);if(b(O))return N=j(T(O),N),new P(T(N.g),T(N.h));if(b(N))return N=j(O,T(N)),new P(T(N.g),N.h);if(30<O.g.length){if(b(O)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var M=y,V=N;0>=V.l(O);)M=U(M),V=U(V);var G=q(M,1),H=q(V,1);for(V=q(V,2),M=q(M,2);!E(V);){var k=H.add(V);0>=k.l(O)&&(G=G.add(M),H=k),V=q(V,1),M=q(M,1)}return N=I(O,G.j(N)),new P(G,N)}for(G=g;0<=O.l(N);){for(M=Math.max(1,Math.floor(O.m()/N.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),H=h(M),k=H.j(N);b(k)||0<k.l(O);)M-=V,H=h(M),k=H.j(N);E(H)&&(H=y),G=G.add(H),O=I(O,k)}return new P(G,O)}n.A=function(O){return j(this,O).h},n.and=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)&O.i(V);return new s(M,this.h&O.h)},n.or=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)|O.i(V);return new s(M,this.h|O.h)},n.xor=function(O){for(var N=Math.max(this.g.length,O.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)^O.i(V);return new s(M,this.h^O.h)};function U(O){for(var N=O.g.length+1,M=[],V=0;V<N;V++)M[V]=O.i(V)<<1|O.i(V-1)>>>31;return new s(M,O.h)}function q(O,N){var M=N>>5;N%=32;for(var V=O.g.length-M,G=[],H=0;H<V;H++)G[H]=0<N?O.i(H+M)>>>N|O.i(H+M+1)<<32-N:O.i(H+M);return new s(G,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=p,Ro=s}).apply(typeof fw<"u"?fw:typeof self<"u"?self:typeof window<"u"?window:{});var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,jc,AT,Cd,tm,bT,TT,ST;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,S){return m==Array.prototype||m==Object.prototype||(m[A]=S.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof ad=="object"&&ad];for(var A=0;A<m.length;++A){var S=m[A];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(m,A){if(A)e:{var S=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var $=m[L];if(!($ in S))break e;S=S[$]}m=m[m.length-1],L=S[m],A=A(L),A!=L&&A!=null&&e(S,m,{configurable:!0,writable:!0,value:A})}}function a(m,A){m instanceof String&&(m+="");var S=0,L=!1,$={next:function(){if(!L&&S<m.length){var ne=S++;return{value:A(ne,m[ne]),done:!1}}return L=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(m){return m||function(){return a(this,function(A,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function h(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function p(m,A,S){return m.call.apply(m.bind,arguments)}function g(m,A,S){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,L),m.apply(A,$)}}return function(){return m.apply(A,arguments)}}function y(m,A,S){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function _(m,A){var S=Array.prototype.slice.call(arguments,1);return function(){var L=S.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function E(m,A){function S(){}S.prototype=A.prototype,m.aa=A.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(L,$,ne){for(var ge=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ge[Je-2]=arguments[Je];return A.prototype[$].apply(L,ge)}}function b(m){const A=m.length;if(0<A){const S=Array(A);for(let L=0;L<A;L++)S[L]=m[L];return S}return[]}function T(m,A){for(let S=1;S<arguments.length;S++){const L=arguments[S];if(c(L)){const $=m.length||0,ne=L.length||0;m.length=$+ne;for(let ge=0;ge<ne;ge++)m[$+ge]=L[ge]}else m.push(L)}}class I{constructor(A,S){this.i=A,this.j=S,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function R(m){return/^[\s\xa0]*$/.test(m)}function P(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function j(m){return j[" "](m),m}j[" "]=function(){};var U=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function q(m,A,S){for(const L in m)A.call(S,m[L],L,m)}function O(m,A){for(const S in m)A.call(void 0,m[S],S,m)}function N(m){const A={};for(const S in m)A[S]=m[S];return A}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,A){let S,L;for(let $=1;$<arguments.length;$++){L=arguments[$];for(S in L)m[S]=L[S];for(let ne=0;ne<M.length;ne++)S=M[ne],Object.prototype.hasOwnProperty.call(L,S)&&(m[S]=L[S])}}function G(m){var A=1;m=m.split(":");const S=[];for(;0<A&&m.length;)S.push(m.shift()),A--;return m.length&&S.push(m.join(":")),S}function H(m){u.setTimeout(()=>{throw m},0)}function k(){var m=Ae;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class xe{constructor(){this.h=this.g=null}add(A,S){const L=_e.get();L.set(A,S),this.h?this.h.next=L:this.g=L,this.h=L}}var _e=new I(()=>new ee,m=>m.reset());class ee{constructor(){this.next=this.g=this.h=null}set(A,S){this.h=A,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,fe=!1,Ae=new xe,X=()=>{const m=u.Promise.resolve(void 0);le=()=>{m.then(ce)}};var ce=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(S){H(S)}var A=_e;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}fe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};u.addEventListener("test",S,A),u.removeEventListener("test",S,A)}catch{}return m}();function ze(m,A){if(de.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(U){e:{try{j(A.nodeName);var $=!0;break e}catch{}$=!1}$||(A=null)}}else S=="mouseover"?A=m.fromElement:S=="mouseout"&&(A=m.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ke[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ze.aa.h.call(this)}}E(ze,de);var ke={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Gt="closure_listenable_"+(1e6*Math.random()|0),st=0;function hr(m,A,S,L,$){this.listener=m,this.proxy=null,this.src=A,this.type=S,this.capture=!!L,this.ha=$,this.key=++st,this.da=this.fa=!1}function Gi(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function gi(m){this.src=m,this.g={},this.h=0}gi.prototype.add=function(m,A,S,L,$){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var ge=Xi(m,A,L,$);return-1<ge?(A=m[ge],S||(A.fa=!1)):(A=new hr(A,this.src,ne,!!L,$),A.fa=S,m.push(A)),A};function qi(m,A){var S=A.type;if(S in m.g){var L=m.g[S],$=Array.prototype.indexOf.call(L,A,void 0),ne;(ne=0<=$)&&Array.prototype.splice.call(L,$,1),ne&&(Gi(A),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Xi(m,A,S,L){for(var $=0;$<m.length;++$){var ne=m[$];if(!ne.da&&ne.listener==A&&ne.capture==!!S&&ne.ha==L)return $}return-1}var Wi="closure_lm_"+(1e6*Math.random()|0),Fa={};function Uo(m,A,S,L,$){if(Array.isArray(A)){for(var ne=0;ne<A.length;ne++)Uo(m,A[ne],S,L,$);return null}return S=be(S),m&&m[Gt]?m.K(A,S,h(L)?!!L.capture:!1,$):dr(m,A,S,!1,L,$)}function dr(m,A,S,L,$,ne){if(!A)throw Error("Invalid event type");var ge=h($)?!!$.capture:!!$,Je=br(m);if(Je||(m[Wi]=Je=new gi(m)),S=Je.add(A,S,L,ge,ne),S.proxy)return S;if(L=kr(),S.proxy=L,L.src=m,L.listener=S,m.addEventListener)Se||($=ge),$===void 0&&($=!1),m.addEventListener(A.toString(),L,$);else if(m.attachEvent)m.attachEvent(Yi(A.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return S}function kr(){function m(S){return A.call(m.src,m.listener,S)}const A=yu;return m}function Fo(m,A,S,L,$){if(Array.isArray(A))for(var ne=0;ne<A.length;ne++)Fo(m,A[ne],S,L,$);else L=h(L)?!!L.capture:!!L,S=be(S),m&&m[Gt]?(m=m.i,A=String(A).toString(),A in m.g&&(ne=m.g[A],S=Xi(ne,S,L,$),-1<S&&(Gi(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete m.g[A],m.h--)))):m&&(m=br(m))&&(A=m.g[A.toString()],m=-1,A&&(m=Xi(A,S,L,$)),(S=-1<m?A[m]:null)&&Ha(S))}function Ha(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[Gt])qi(A.i,m);else{var S=m.type,L=m.proxy;A.removeEventListener?A.removeEventListener(S,L,m.capture):A.detachEvent?A.detachEvent(Yi(S),L):A.addListener&&A.removeListener&&A.removeListener(L),(S=br(A))?(qi(S,m),S.h==0&&(S.src=null,A[Wi]=null)):Gi(m)}}}function Yi(m){return m in Fa?Fa[m]:Fa[m]="on"+m}function yu(m,A){if(m.da)m=!0;else{A=new ze(A,this);var S=m.listener,L=m.ha||m.src;m.fa&&Ha(m),m=S.call(L,A)}return m}function br(m){return m=m[Wi],m instanceof gi?m:null}var za="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(m){return typeof m=="function"?m:(m[za]||(m[za]=function(A){return m.handleEvent(A)}),m[za])}function Te(){ve.call(this),this.i=new gi(this),this.M=this,this.F=null}E(Te,ve),Te.prototype[Gt]=!0,Te.prototype.removeEventListener=function(m,A,S,L){Fo(this,m,A,S,L)};function Pe(m,A){var S,L=m.F;if(L)for(S=[];L;L=L.F)S.push(L);if(m=m.M,L=A.type||A,typeof A=="string")A=new de(A,m);else if(A instanceof de)A.target=A.target||m;else{var $=A;A=new de(L,m),V(A,$)}if($=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ge=A.g=S[ne];$=xt(ge,L,!0,A)&&$}if(ge=A.g=m,$=xt(ge,L,!0,A)&&$,$=xt(ge,L,!1,A)&&$,S)for(ne=0;ne<S.length;ne++)ge=A.g=S[ne],$=xt(ge,L,!1,A)&&$}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var S=m.g[A],L=0;L<S.length;L++)Gi(S[L]);delete m.g[A],m.h--}}this.F=null},Te.prototype.K=function(m,A,S,L){return this.i.add(String(m),A,!1,S,L)},Te.prototype.L=function(m,A,S,L){return this.i.add(String(m),A,!0,S,L)};function xt(m,A,S,L){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var $=!0,ne=0;ne<A.length;++ne){var ge=A[ne];if(ge&&!ge.da&&ge.capture==S){var Je=ge.listener,hn=ge.ha||ge.src;ge.fa&&qi(m.i,ge),$=Je.call(hn,L)!==!1&&$}}return $&&!L.defaultPrevented}function ft(m,A,S){if(typeof m=="function")S&&(m=y(m,S));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:u.setTimeout(m,A||0)}function rr(m){m.g=ft(()=>{m.g=null,m.i&&(m.i=!1,rr(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class xu extends ve{constructor(A,S){super(),this.m=A,this.l=S,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:rr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(m){ve.call(this),this.h=m,this.g={}}E(mi,ve);var $i=[];function ei(m){q(m.g,function(A,S){this.g.hasOwnProperty(S)&&Ha(A)},m),m.g={}}mi.prototype.N=function(){mi.aa.N.call(this),ei(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=u.JSON.stringify,Vs=u.JSON.parse,Ho=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function _u(){}_u.prototype.h=null;function wu(m){return m.h||(m.h=m.i())}function Eu(){}var Ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qi(){de.call(this,"d")}E(Qi,de);function Au(){de.call(this,"c")}E(Au,de);var vi={},bu=null;function Ga(){return bu=bu||new Te}vi.La="serverreachability";function Us(m){de.call(this,vi.La,m)}E(Us,de);function qa(m){const A=Ga();Pe(A,new Us(A))}vi.STAT_EVENT="statevent";function kf(m,A){de.call(this,vi.STAT_EVENT,m),this.stat=A}E(kf,de);function kt(m){const A=Ga();Pe(A,new kf(A,m))}vi.Ma="timingevent";function fn(m,A){de.call(this,vi.Ma,m),this.size=A}E(fn,de);function rn(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},A)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function Tu(m,A,S,L,$,ne){m.info(function(){if(m.g)if(ne)for(var ge="",Je=ne.split("&"),hn=0;hn<Je.length;hn++){var et=Je[hn].split("=");if(1<et.length){var Sn=et[0];et=et[1];var dn=Sn.split("_");ge=2<=dn.length&&dn[1]=="type"?ge+(Sn+"="+et+"&"):ge+(Sn+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+L+") [attempt "+$+"]: "+A+`
`+S+`
`+ge})}function q0(m,A,S,L,$,ne,ge){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+$+"]: "+A+`
`+S+`
`+ne+" "+ge})}function Xa(m,A,S,L){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+zo(m,S)+(L?" "+L:"")})}function Lf(m,A){m.info(function(){return"TIMEOUT: "+A})}Lr.prototype.info=function(){};function zo(m,A){if(!m.g)return A;if(!A)return null;try{var S=JSON.parse(A);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var L=S[m];if(!(2>L.length)){var $=L[1];if(Array.isArray($)&&!(1>$.length)){var ne=$[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ge=1;ge<$.length;ge++)$[ge]=""}}}}return Tr(S)}catch{return A}}var Wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yi;function xi(){}E(xi,_u),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},yi=new xi;function ir(m,A,S,L){this.j=m,this.i=A,this.l=S,this.R=L||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Su={},Fs={};function ti(m,A,S){m.L=1,m.v=Yo(Sr(A)),m.m=S,m.P=!0,Ji(m,null)}function Ji(m,A){m.F=Date.now(),Go(m),m.A=Sr(m.v);var S=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),Du(S.i,"t",L),m.C=0,S=m.j.J,m.h=new Kt,m.g=Zf(m.j,S?A:null,!m.m),0<m.O&&(m.M=new xu(y(m.Y,m,m.g),m.O)),A=m.U,S=m.g,L=m.ca;var $="readystatechange";Array.isArray($)||($&&($i[0]=$.toString()),$=$i);for(var ne=0;ne<$.length;ne++){var ge=Uo(S,$[ne],L||A.handleEvent,!1,A.h||A);if(!ge)break;A.g[ge.key]=ge}A=m.H?N(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),qa(),Tu(m.i,m.u,m.A,m.l,m.R,m.m)}ir.prototype.ca=function(m){m=m.target;const A=this.M;A&&Ur(m)==3?A.j():this.Y(m)},ir.prototype.Y=function(m){try{if(m==this.g)e:{const dn=Ur(this.g);var A=this.g.Ba();const sa=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||Gf(this.g)))){this.J||dn!=4||A==7||(A==8||0>=sa?qa(3):qa(2)),Ya(this);var S=this.g.Z();this.X=S;t:if(Bf(this)){var L=Gf(this.g);m="";var $=L.length,ne=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),_i(this);var ge="";break t}this.h.i=new u.TextDecoder}for(A=0;A<$;A++)this.h.h=!0,m+=this.h.i.decode(L[A],{stream:!(ne&&A==$-1)});L.length=0,this.h.g+=m,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,q0(this.i,this.u,this.A,this.l,this.R,dn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,hn=this.g;if((Je=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Je)){var et=Je;break t}}et=null}if(S=et)Xa(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qo(this,S);else{this.o=!1,this.s=3,kt(12),Ln(this),_i(this);break e}}if(this.P){S=!0;let Bn;for(;!this.J&&this.C<ge.length;)if(Bn=jf(this,ge),Bn==Fs){dn==4&&(this.s=4,kt(14),S=!1),Xa(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Su){this.s=4,kt(15),Xa(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else Xa(this.i,this.l,Bn,null),qo(this,Bn);if(Bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||ge.length!=0||this.h.h||(this.s=1,kt(16),S=!1),this.o=this.o&&S,!S)Xa(this.i,this.l,ge,"[Invalid Chunked Response]"),Ln(this),_i(this);else if(0<ge.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ns(Sn),Sn.M=!0,kt(11))}}else Xa(this.i,this.l,ge,null),qo(this,ge);dn==4&&Ln(this),this.o&&!this.J&&(dn==4?$f(this.j,this):(this.o=!1,Go(this)))}else K0(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Ln(this),_i(this)}}}catch{}finally{}};function Bf(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function jf(m,A){var S=m.C,L=A.indexOf(`
`,S);return L==-1?Fs:(S=Number(A.substring(S,L)),isNaN(S)?Su:(L+=1,L+S>A.length?Fs:(A=A.slice(L,L+S),m.C=L+S,A)))}ir.prototype.cancel=function(){this.J=!0,Ln(this)};function Go(m){m.S=Date.now()+m.I,Vf(m,m.I)}function Vf(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=rn(y(m.ba,m),A)}function Ya(m){m.B&&(u.clearTimeout(m.B),m.B=null)}ir.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Lf(this.i,this.A),this.L!=2&&(qa(),kt(17)),Ln(this),this.s=2,_i(this)):Vf(this,this.S-m)};function _i(m){m.j.G==0||m.J||$f(m.j,m)}function Ln(m){Ya(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,ei(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function qo(m,A){try{var S=m.j;if(S.G!=0&&(S.g==m||Cu(S.h,m))){if(!m.K&&Cu(S.h,m)&&S.G==3){try{var L=S.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var $=L;if($[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)Js(S),Qs(S);else break e;Bu(S),kt(18)}}else S.za=$[1],0<S.za-S.T&&37500>$[2]&&S.F&&S.v==0&&!S.C&&(S.C=rn(y(S.Za,S),6e3));if(1>=zs(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else oa(S,11)}else if((m.K||S.g==m)&&Js(S),!R(A))for($=S.Da.g.parse(A),A=0;A<$.length;A++){let et=$[A];if(S.T=et[0],et=et[1],S.G==2)if(et[0]=="c"){S.K=et[1],S.ia=et[2];const Sn=et[3];Sn!=null&&(S.la=Sn,S.j.info("VER="+S.la));const dn=et[4];dn!=null&&(S.Aa=dn,S.j.info("SVER="+S.Aa));const sa=et[5];sa!=null&&typeof sa=="number"&&0<sa&&(L=1.5*sa,S.L=L,S.j.info("backChannelRequestTimeoutMs_="+L)),L=S;const Bn=m.g;if(Bn){const Ci=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var ne=L.h;ne.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Gs(ne,ne.h),ne.h=null))}if(L.D){const Vu=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(L.ya=Vu,_t(L.I,L.D,Vu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),L=S;var ge=m;if(L.qa=Qf(L,L.J?L.ia:null,L.W),ge.K){ar(L.h,ge);var Je=ge,hn=L.L;hn&&(Je.I=hn),Je.B&&(Ya(Je),Go(Je)),L.g=ge}else Wf(L);0<S.i.length&&Zs(S)}else et[0]!="stop"&&et[0]!="close"||oa(S,7);else S.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?oa(S,7):ku(S):et[0]!="noop"&&S.l&&S.l.ta(et),S.v=0)}}qa(4)}catch{}}var Uf=class{constructor(m,A){this.g=m,this.map=A}};function ea(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hs(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function zs(m){return m.h?1:m.g?m.g.size:0}function Cu(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Gs(m,A){m.g?m.g.add(A):m.h=A}function ar(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}ea.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Iu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const S of m.g.values())A=A.concat(S.D);return A}return b(m.i)}function X0(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var A=[],S=m.length,L=0;L<S;L++)A.push(m[L]);return A}A=[],S=0;for(L in m)A[S++]=m[L];return A}function qs(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var A=[];m=m.length;for(var S=0;S<m;S++)A.push(S);return A}A=[],S=0;for(const L in m)A[S++]=L;return A}}}function Ru(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var S=qs(m),L=X0(m),$=L.length,ne=0;ne<$;ne++)A.call(void 0,L[ne],S&&S[ne],m)}var Xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function W0(m,A){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var L=m[S].indexOf("="),$=null;if(0<=L){var ne=m[S].substring(0,L);$=m[S].substring(L+1)}else ne=m[S];A(ne,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function an(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof an){this.h=m.h,Wo(this,m.j),this.o=m.o,this.g=m.g,$a(this,m.s),this.l=m.l;var A=m.i,S=new na;S.i=A.i,A.g&&(S.g=new Map(A.g),S.h=A.h),ta(this,S),this.m=m.m}else m&&(A=String(m).match(Xo))?(this.h=!1,Wo(this,A[1]||"",!0),this.o=Br(A[2]||""),this.g=Br(A[3]||"",!0),$a(this,A[4]),this.l=Br(A[5]||"",!0),ta(this,A[6]||"",!0),this.m=Br(A[7]||"")):(this.h=!1,this.i=new na(null,this.h))}an.prototype.toString=function(){var m=[],A=this.j;A&&m.push($o(A,Nu,!0),":");var S=this.g;return(S||A=="file")&&(m.push("//"),(A=this.o)&&m.push($o(A,Nu,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push($o(S,S.charAt(0)=="/"?Y0:Ou,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",$o(S,Xs)),m.join("")};function Sr(m){return new an(m)}function Wo(m,A,S){m.j=S?Br(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function $a(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function ta(m,A,S){A instanceof na?(m.i=A,Hf(m.i,m.h)):(S||(A=$o(A,$0)),m.i=new na(A,m.h))}function _t(m,A,S){m.i.set(A,S)}function Yo(m){return _t(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Br(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function $o(m,A,S){return typeof m=="string"?(m=encodeURI(m).replace(A,Ff),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ff(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Nu=/[#\/\?@]/g,Ou=/[#\?:]/g,Y0=/[#\?]/g,$0=/[#\?@]/g,Xs=/#/g;function na(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function jr(m){m.g||(m.g=new Map,m.h=0,m.i&&W0(m.i,function(A,S){m.add(decodeURIComponent(A.replace(/\+/g," ")),S)}))}n=na.prototype,n.add=function(m,A){jr(this),this.i=null,m=wi(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(A),this.h+=1,this};function ra(m,A){jr(m),A=wi(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function ia(m,A){return jr(m),A=wi(m,A),m.g.has(A)}n.forEach=function(m,A){jr(this),this.g.forEach(function(S,L){S.forEach(function($){m.call(A,$,L,this)},this)},this)},n.na=function(){jr(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),S=[];for(let L=0;L<A.length;L++){const $=m[L];for(let ne=0;ne<$.length;ne++)S.push(A[L])}return S},n.V=function(m){jr(this);let A=[];if(typeof m=="string")ia(this,m)&&(A=A.concat(this.g.get(wi(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)A=A.concat(m[S])}return A},n.set=function(m,A){return jr(this),this.i=null,m=wi(this,m),ia(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},n.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function Du(m,A,S){ra(m,A),0<S.length&&(m.i=null,m.g.set(wi(m,A),b(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var S=0;S<A.length;S++){var L=A[S];const ne=encodeURIComponent(String(L)),ge=this.V(L);for(L=0;L<ge.length;L++){var $=ne;ge[L]!==""&&($+="="+encodeURIComponent(String(ge[L]))),m.push($)}}return this.i=m.join("&")};function wi(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function Hf(m,A){A&&!m.j&&(jr(m),m.i=null,m.g.forEach(function(S,L){var $=L.toLowerCase();L!=$&&(ra(this,L),Du(this,$,S))},m)),m.j=A}function Ko(m,A){const S=new Lr;if(u.Image){const L=new Image;L.onload=_(Vr,S,"TestLoadImage: loaded",!0,A,L),L.onerror=_(Vr,S,"TestLoadImage: error",!1,A,L),L.onabort=_(Vr,S,"TestLoadImage: abort",!1,A,L),L.ontimeout=_(Vr,S,"TestLoadImage: timeout",!1,A,L),u.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else A(!1)}function ni(m,A){const S=new Lr,L=new AbortController,$=setTimeout(()=>{L.abort(),Vr(S,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:L.signal}).then(ne=>{clearTimeout($),ne.ok?Vr(S,"TestPingServer: ok",!0,A):Vr(S,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout($),Vr(S,"TestPingServer: error",!1,A)})}function Vr(m,A,S,L,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),L(S)}catch{}}function Qo(){this.g=new Ho}function Ei(m,A,S){const L=S||"";try{Ru(m,function($,ne){let ge=$;h($)&&(ge=Tr($)),A.push(L+ne+"="+encodeURIComponent(ge))})}catch($){throw A.push(L+"type="+encodeURIComponent("_badmap")),$}}function Ka(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Ka,_u),Ka.prototype.g=function(){return new aa(this.l,this.j)},Ka.prototype.i=function(m){return function(){return m}}({});function aa(m,A){Te.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(aa,Te),n=aa.prototype,n.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,bi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||u).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Ai(this):bi(this),this.readyState==3&&Pu(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Ai(this))},n.Qa=function(m){this.g&&(this.response=m,Ai(this))},n.ga=function(){this.g&&Ai(this)};function Ai(m){m.readyState=4,m.l=null,m.j=null,m.v=null,bi(m)}n.setRequestHeader=function(m,A){this.u.append(m,A)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var S=A.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=A.next();return m.join(`\r
`)};function bi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Mu(m){let A="";return q(m,function(S,L){A+=L,A+=":",A+=S,A+=`\r
`}),A}function Tn(m,A,S){e:{for(L in S){var L=!1;break e}L=!0}L||(S=Mu(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):_t(m,A,S))}function ht(m){Te.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ht,Te);var Ws=/^https?$/i,Zo=["POST","PUT"];n=ht.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,A,S,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yi.g(),this.v=this.o?wu(this.o):wu(yi),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(ne){zf(this,ne);return}if(m=S||"",S=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var $ in L)S.set($,L[$]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const ne of L.keys())S.set(ne,L.get(ne));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),$=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Zo,A,void 0))||L||$||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of S)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){zf(this,ne)}};function zf(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,Ys(m),Ti(m)}function Ys(m){m.A||(m.A=!0,Pe(m,"complete"),Pe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Pe(this,"complete"),Pe(this,"abort"),Ti(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},n.bb=function(){$s(this)};function $s(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ur(m)!=4||m.Z()!=2)){if(m.u&&Ur(m)==4)ft(m.Ea,0,m);else if(Pe(m,"readystatechange"),Ur(m)==4){m.h=!1;try{const ge=m.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var S;if(!(S=A)){var L;if(L=ge===0){var $=String(m.D).match(Xo)[1]||null;!$&&u.self&&u.self.location&&($=u.self.location.protocol.slice(0,-1)),L=!Ws.test($?$.toLowerCase():"")}S=L}if(S)Pe(m,"complete"),Pe(m,"success");else{m.m=6;try{var ne=2<Ur(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",Ys(m)}}finally{Ti(m)}}}}function Ti(m,A){if(m.g){Jo(m);const S=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Pe(m,"ready");try{S.onreadystatechange=L}catch{}}}function Jo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ur(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),Vs(A)}};function Gf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function K0(m){const A={};m=(m.g&&2<=Ur(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(R(m[L]))continue;var S=G(m[L]);const $=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=A[$]||[];A[$]=ne,ne.push(S)}O(A,function(L){return L.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(m,A,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||A}function Ks(m){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,m),this.cb=es("retryDelaySeedMs",1e4,m),this.Wa=es("forwardChannelMaxRetries",2,m),this.wa=es("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ea(m&&m.concurrentRequestLimit),this.Da=new Qo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ks.prototype,n.la=8,n.G=1,n.connect=function(m,A,S,L){kt(0),this.W=m,this.H=A||{},S&&L!==void 0&&(this.H.OSID=S,this.H.OAID=L),this.F=this.X,this.I=Qf(this,null,this.W),Zs(this)};function ku(m){if(qf(m),m.G==3){var A=m.U++,S=Sr(m.I);if(_t(S,"SID",m.K),_t(S,"RID",A),_t(S,"TYPE","terminate"),ts(m,S),A=new ir(m,m.j,A),A.L=2,A.v=Yo(Sr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(A.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=A.v,S=!0),S||(A.g=Zf(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Go(A)}Kf(m)}function Qs(m){m.g&&(ns(m),m.g.cancel(),m.g=null)}function qf(m){Qs(m),m.u&&(u.clearTimeout(m.u),m.u=null),Js(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Zs(m){if(!Hs(m.h)&&!m.s){m.s=!0;var A=m.Ga;le||X(),fe||(le(),fe=!0),Ae.add(A,m),m.B=0}}function Q0(m,A){return zs(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=rn(y(m.Ga,m,A),ju(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const $=new ir(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=N(ne),V(ne,this.S)):ne=this.S),this.m!==null||this.O||($.H=ne,ne=null),this.P)e:{for(var A=0,S=0;S<this.i.length;S++){t:{var L=this.i[S];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=S;break e}if(A===4096||S===this.i.length-1){A=S+1;break e}}A=1e3}else A=1e3;A=Xf(this,$,A),S=Sr(this.I),_t(S,"RID",m),_t(S,"CVER",22),this.D&&_t(S,"X-HTTP-Session-Id",this.D),ts(this,S),ne&&(this.O?A="headers="+encodeURIComponent(String(Mu(ne)))+"&"+A:this.m&&Tn(S,this.m,ne)),Gs(this.h,$),this.Ua&&_t(S,"TYPE","init"),this.P?(_t(S,"$req",A),_t(S,"SID","null"),$.T=!0,ti($,S,null)):ti($,S,A),this.G=2}}else this.G==3&&(m?Lu(this,m):this.i.length==0||Hs(this.h)||Lu(this))};function Lu(m,A){var S;A?S=A.l:S=m.U++;const L=Sr(m.I);_t(L,"SID",m.K),_t(L,"RID",S),_t(L,"AID",m.T),ts(m,L),m.m&&m.o&&Tn(L,m.m,m.o),S=new ir(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),A&&(m.i=A.D.concat(m.i)),A=Xf(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Gs(m.h,S),ti(S,L,A)}function ts(m,A){m.H&&q(m.H,function(S,L){_t(A,L,S)}),m.l&&Ru({},function(S,L){_t(A,L,S)})}function Xf(m,A,S){S=Math.min(m.i.length,S);var L=m.l?y(m.l.Na,m.l,m):null;e:{var $=m.i;let ne=-1;for(;;){const ge=["count="+S];ne==-1?0<S?(ne=$[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let Je=!0;for(let hn=0;hn<S;hn++){let et=$[hn].g;const Sn=$[hn].map;if(et-=ne,0>et)ne=Math.max(0,$[hn].g-100),Je=!1;else try{Ei(Sn,ge,"req"+et+"_")}catch{L&&L(Sn)}}if(Je){L=ge.join("&");break e}}}return m=m.i.splice(0,S),A.D=m,L}function Wf(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;le||X(),fe||(le(),fe=!0),Ae.add(A,m),m.v=0}}function Bu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=rn(y(m.Fa,m),ju(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Yf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=rn(y(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Qs(this),Yf(this))};function ns(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Yf(m){m.g=new ir(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=Sr(m.qa);_t(A,"RID","rpc"),_t(A,"SID",m.K),_t(A,"AID",m.T),_t(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&_t(A,"TO",m.ja),_t(A,"TYPE","xmlhttp"),ts(m,A),m.m&&m.o&&Tn(A,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=Yo(Sr(A)),S.m=null,S.P=!0,Ji(S,m)}n.Za=function(){this.C!=null&&(this.C=null,Qs(this),Bu(this),kt(19))};function Js(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function $f(m,A){var S=null;if(m.g==A){Js(m),ns(m),m.g=null;var L=2}else if(Cu(m.h,A))S=A.D,ar(m.h,A),L=1;else return;if(m.G!=0){if(A.o)if(L==1){S=A.m?A.m.length:0,A=Date.now()-A.F;var $=m.B;L=Ga(),Pe(L,new fn(L,S)),Zs(m)}else Wf(m);else if($=A.s,$==3||$==0&&0<A.X||!(L==1&&Q0(m,A)||L==2&&Bu(m)))switch(S&&0<S.length&&(A=m.h,A.i=A.i.concat(S)),$){case 1:oa(m,5);break;case 4:oa(m,10);break;case 3:oa(m,6);break;default:oa(m,2)}}}function ju(m,A){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*A}function oa(m,A){if(m.j.info("Error code "+A),A==2){var S=y(m.fb,m),L=m.Xa;const $=!L;L=new an(L||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Wo(L,"https"),Yo(L),$?Ko(L.toString(),S):ni(L.toString(),S)}else kt(2);m.G=0,m.l&&m.l.sa(A),Kf(m),qf(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Kf(m){if(m.G=0,m.ka=[],m.l){const A=Iu(m.h);(A.length!=0||m.i.length!=0)&&(T(m.ka,A),T(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function Qf(m,A,S){var L=S instanceof an?Sr(S):new an(S);if(L.g!="")A&&(L.g=A+"."+L.g),$a(L,L.s);else{var $=u.location;L=$.protocol,A=A?A+"."+$.hostname:$.hostname,$=+$.port;var ne=new an(null);L&&Wo(ne,L),A&&(ne.g=A),$&&$a(ne,$),S&&(ne.l=S),L=ne}return S=m.D,A=m.ya,S&&A&&_t(L,S,A),_t(L,"VER",m.la),ts(m,L),L}function Zf(m,A,S){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new ht(new Ka({eb:S})):new ht(m.pa),A.Ha(m.J),A}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}n=Jf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function el(){}el.prototype.g=function(m,A){return new or(m,A)};function or(m,A){Te.call(this),this.g=new Ks(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!R(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!R(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Si(this)}E(or,Te),or.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){ku(this.g)},or.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=Tr(m),m=S);A.i.push(new Uf(A.Ya++,m)),A.G==3&&Zs(A)},or.prototype.N=function(){this.g.l=null,delete this.j,ku(this.g),delete this.g,or.aa.N.call(this)};function eh(m){Qi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const S in A){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}E(eh,Qi);function th(){Au.call(this),this.status=1}E(th,Au);function Si(m){this.g=m}E(Si,Jf),Si.prototype.ua=function(){Pe(this.g,"a")},Si.prototype.ta=function(m){Pe(this.g,new eh(m))},Si.prototype.sa=function(m){Pe(this.g,new th)},Si.prototype.ra=function(){Pe(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,ST=function(){return new el},TT=function(){return Ga()},bT=vi,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wa.NO_ERROR=0,Wa.TIMEOUT=8,Wa.HTTP_ERROR=6,Cd=Wa,Zi.COMPLETE="complete",AT=Zi,Eu.EventType=Ki,Ki.OPEN="a",Ki.CLOSE="b",Ki.ERROR="c",Ki.MESSAGE="d",Te.prototype.listen=Te.prototype.K,jc=Eu,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,ET=ht}).apply(typeof ad<"u"?ad:typeof self<"u"?self:typeof window<"u"?window:{});const hw="@firebase/firestore",dw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Mm("@firebase/firestore");function Ol(){return Ds.logLevel}function ye(n,...e){if(Ds.logLevel<=Qe.DEBUG){const t=e.map(av);Ds.debug(`Firestore (${hu}): ${n}`,...t)}}function Ma(n,...e){if(Ds.logLevel<=Qe.ERROR){const t=e.map(av);Ds.error(`Firestore (${hu}): ${n}`,...t)}}function Xl(n,...e){if(Ds.logLevel<=Qe.WARN){const t=e.map(av);Ds.warn(`Firestore (${hu}): ${n}`,...t)}}function av(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CT(n,r,t)}function CT(n,e,t){let r=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ma(r),new Error(r)}function pt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||CT(e,i,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ba{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zn.UNAUTHENTICATED))}shutdown(){}}class ID{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RD{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let a=new No;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new No,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new No)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class ND{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ht(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new pw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=PD(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function nm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Xe(r,i);{const a=RT(),s=MD(a.encode(gw(n,t)),a.encode(gw(e,t)));return s!==0?s:Xe(r,i)}}t+=r>65535?2:1}return Xe(n.length,e.length)}function gw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function MD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Xe(n[t],e[t]);return Xe(n.length,e.length)}function Wl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=-62135596800,vw=1e6;class An{static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vw);return new An(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mw)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vw}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new An(0,0))}static max(){return new je(new An(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="__name__";class ki{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=ki.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const r=ki.isNumericId(e),i=ki.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ki.extractNumericId(e).compare(ki.extractNumericId(t)):nm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ro.fromString(e.substring(4,e.length-2))}}class Wt extends ki{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends ki{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return kD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yw}static keyField(){return new Gn([yw])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Oe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Oe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Oe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(a(),i++)}if(a(),s)throw new Oe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Wt.fromString(e))}static fromName(e){return new De(Wt.fromString(e).popFirst(5))}static empty(){return new De(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=-1;function LD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new An(t+1,0):new An(t,r));return new Po(i,De.empty(),e)}function BD(n){return new Po(n.readTime,n.key,sf)}class Po{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Po(je.min(),De.empty(),sf)}static max(){return new Po(je.max(),De.empty(),sf)}}function jD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==VD)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&t()},c=>r(c))}),s=!0,a===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const h=c;t(e[h]).next(p=>{s[h]=p,++u,u===a&&r(s)},p=>i(p))}})}static doWhile(e,t){return new ue((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function FD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}R0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=-1;function N0(n){return n==null}function Xd(n){return n===0&&1/n==-1/0}function HD(n){return typeof n=="number"&&Number.isInteger(n)&&!Xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="";function zD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xw(e)),e=GD(n.get(t),e);return xw(e)}function GD(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case OT:t+="";break;default:t+=a}}return t}function xw(n){return n+OT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??zn.RED,this.left=i??zn.EMPTY,this.right=a??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new zn(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ww(this.data.getIterator())}getIteratorFrom(e){return new ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new ci([])}unionWith(e){let t=new bn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PT("Invalid base64 string: "+a):a}}(e);return new Xn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const qD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mo(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const t=qD.exec(n);if(pt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ko(n){return typeof n=="string"?Xn.fromBase64String(n):Xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="server_timestamp",kT="__type__",LT="__previous_value__",BT="__local_write_time__";function sv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[kT])===null||t===void 0?void 0:t.stringValue)===MT}function O0(n){const e=n.mapValue.fields[LT];return sv(e)?O0(e):e}function lf(n){const e=Mo(n.mapValue.fields[BT].timestampValue);return new An(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t,r,i,a,s,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=p}}const Wd="(default)";class uf{constructor(e,t){this.projectId=e,this.database=t||Wd}static empty(){return new uf("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof uf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="__type__",WD="__max__",sd={mapValue:{}},VT="__vector__",Yd="value";function Lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sv(n)?4:$D(n)?9007199254740991:YD(n)?10:11:Be(28295,{value:n})}function Fi(n,e){if(n===e)return!0;const t=Lo(n);if(t!==Lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lf(n).isEqual(lf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Mo(i.timestampValue),u=Mo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ko(i.bytesValue).isEqual(ko(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return en(i.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(i.geoPointValue.longitude)===en(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return en(i.integerValue)===en(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=en(i.doubleValue),u=en(a.doubleValue);return s===u?Xd(s)===Xd(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Wl(n.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(_w(s)!==_w(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Fi(s[c],u[c])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function cf(n,e){return(n.values||[]).find(t=>Fi(t,e))!==void 0}function Yl(n,e){if(n===e)return 0;const t=Lo(n),r=Lo(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(a,s){const u=en(a.integerValue||a.doubleValue),c=en(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return Ew(n.timestampValue,e.timestampValue);case 4:return Ew(lf(n),lf(e));case 5:return nm(n.stringValue,e.stringValue);case 6:return function(a,s){const u=ko(a),c=ko(s);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let h=0;h<u.length&&h<c.length;h++){const p=Xe(u[h],c[h]);if(p!==0)return p}return Xe(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,s){const u=Xe(en(a.latitude),en(s.latitude));return u!==0?u:Xe(en(a.longitude),en(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Aw(n.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,h,p;const g=a.fields||{},y=s.fields||{},_=(u=g[Yd])===null||u===void 0?void 0:u.arrayValue,E=(c=y[Yd])===null||c===void 0?void 0:c.arrayValue,b=Xe(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0);return b!==0?b:Aw(_,E)}(n.mapValue,e.mapValue);case 11:return function(a,s){if(a===sd.mapValue&&s===sd.mapValue)return 0;if(a===sd.mapValue)return 1;if(s===sd.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),h=s.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const y=nm(c[g],p[g]);if(y!==0)return y;const _=Yl(u[c[g]],h[p[g]]);if(_!==0)return _}return Xe(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{Pe:t})}}function Ew(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=Mo(n),r=Mo(e),i=Xe(t.seconds,r.seconds);return i!==0?i:Xe(t.nanos,r.nanos)}function Aw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=Yl(t[i],r[i]);if(a)return a}return Xe(t.length,r.length)}function $l(n){return rm(n)}function rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Mo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ko(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=rm(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${rm(t.fields[s])}`;return i+"}"}(n.mapValue):Be(61005,{value:n})}function Id(n){switch(Lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=O0(n);return e?16+Id(e):16;case 5:return 2*n.stringValue.length;case 6:return ko(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Id(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ks(r.fields,(a,s)=>{i+=a.length+Id(s)}),i}(n.mapValue);default:throw Be(13486,{value:n})}}function im(n){return!!n&&"integerValue"in n}function lv(n){return!!n&&"arrayValue"in n}function bw(n){return!!n&&"nullValue"in n}function Tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rd(n){return!!n&&"mapValue"in n}function YD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[jT])===null||t===void 0?void 0:t.stringValue)===VT}function $c(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ks(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$c(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$c(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $D(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach((s,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=u.popLast()}s?r[u.lastSegment()]=$c(s):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ks(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new $r($c(this.value))}}function UT(n){const e=[];return ks(n.fields,(t,r)=>{const i=new Gn([t]);if(Rd(r)){const a=UT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t,r,i,a,s,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Jn(e,0,je.min(),je.min(),je.min(),$r.empty(),0)}static newFoundDocument(e,t,r,i){return new Jn(e,1,t,je.min(),r,i,0)}static newNoDocument(e,t){return new Jn(e,2,t,je.min(),je.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,je.min(),je.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.position=e,this.inclusive=t}}function Sw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],s=n.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(s.referenceValue),t.key):r=Yl(s,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t="asc"){this.field=e,this.dir=t}}function KD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class _n extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZD(e,t,r):t==="array-contains"?new t7(e,r):t==="in"?new n7(e,r):t==="not-in"?new r7(e,r):t==="array-contains-any"?new i7(e,r):new _n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JD(e,r):new e7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Yl(t,this.value)):t!==null&&Lo(this.value)===Lo(t)&&this.matchesComparison(Yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Hi(e,t)}matches(e){return HT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function HT(n){return n.op==="and"}function zT(n){return QD(n)&&HT(n)}function QD(n){for(const e of n.filters)if(e instanceof Hi)return!1;return!0}function am(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+$l(n.value);if(zT(n))return n.filters.map(e=>am(e)).join(",");{const e=n.filters.map(t=>am(t)).join(",");return`${n.op}(${e})`}}function GT(n,e){return n instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(n,e):n instanceof Hi?function(r,i){return i instanceof Hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,u)=>a&&GT(s,i.filters[u]),!0):!1}(n,e):void Be(19439)}function qT(n){return n instanceof _n?function(t){return`${t.field.canonicalString()} ${t.op} ${$l(t.value)}`}(n):n instanceof Hi?function(t){return t.op.toString()+" {"+t.getFilters().map(qT).join(" ,")+"}"}(n):"Filter"}class ZD extends _n{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class JD extends _n{constructor(e,t){super(e,"in",t),this.keys=XT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class e7 extends _n{constructor(e,t){super(e,"not-in",t),this.keys=XT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class t7 extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lv(t)&&cf(t.arrayValue,this.value)}}class n7 extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cf(this.value.arrayValue,t)}}class r7 extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cf(this.value.arrayValue,t)}}class i7 extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t=null,r=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.Ie=null}}function Iw(n,e=null,t=[],r=[],i=null,a=null,s=null){return new a7(n,e,t,r,i,a,s)}function uv(n){const e=Ue(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>am(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),N0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$l(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$l(r)).join(",")),e.Ie=t}return e.Ie}function cv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cw(n.startAt,e.startAt)&&Cw(n.endAt,e.endAt)}function om(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t=null,r=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function o7(n,e,t,r,i,a,s,u){return new D0(n,e,t,r,i,a,s,u)}function fv(n){return new D0(n)}function Rw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function s7(n){return n.collectionGroup!==null}function Kc(n){const e=Ue(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new bn(Gn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Kd(a,r))}),t.has(Gn.keyField().canonicalString())||e.Ee.push(new Kd(Gn.keyField(),r))}return e.Ee}function ji(n){const e=Ue(n);return e.de||(e.de=l7(e,Kc(n))),e.de}function l7(n,e){if(n.limitType==="F")return Iw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Kd(i.field,a)});const t=n.endAt?new $d(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $d(n.startAt.position,n.startAt.inclusive):null;return Iw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sm(n,e,t){return new D0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function P0(n,e){return cv(ji(n),ji(e))&&n.limitType===e.limitType}function WT(n){return`${uv(ji(n))}|lt:${n.limitType}`}function Dl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>qT(i)).join(", ")}]`),N0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$l(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$l(i)).join(",")),`Target(${r})`}(ji(n))}; limitType=${n.limitType})`}function M0(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Kc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,u,c){const h=Sw(s,u,c);return s.inclusive?h<=0:h<0}(r.startAt,Kc(r),i)||r.endAt&&!function(s,u,c){const h=Sw(s,u,c);return s.inclusive?h>=0:h>0}(r.endAt,Kc(r),i))}(n,e)}function u7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YT(n){return(e,t)=>{let r=!1;for(const i of Kc(n)){const a=c7(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function c7(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,s,u){const c=s.data.field(a),h=u.data.field(a);return c!==null&&h!==null?Yl(c,h):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return DT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new zt(De.comparator);function ka(){return f7}const $T=new zt(De.comparator);function Vc(...n){let e=$T;for(const t of n)e=e.insert(t.key,t);return e}function KT(n){let e=$T;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bs(){return Qc()}function QT(){return Qc()}function Qc(){return new Ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const h7=new zt(De.comparator),d7=new bn(De.comparator);function Ze(...n){let e=d7;for(const t of n)e=e.add(t);return e}const p7=new bn(Xe);function g7(){return p7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function ZT(n){return{integerValue:""+n}}function m7(n,e){return HD(e)?ZT(e):hv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this._=void 0}}function v7(n,e,t){return n instanceof ff?function(i,a){const s={fields:{[kT]:{stringValue:MT},[BT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sv(a)&&(a=O0(a)),a&&(s.fields[LT]=a),{mapValue:s}}(t,e):n instanceof hf?eS(n,e):n instanceof df?tS(n,e):function(i,a){const s=JT(i,a),u=Nw(s)+Nw(i.Re);return im(s)&&im(i.Re)?ZT(u):hv(i.serializer,u)}(n,e)}function y7(n,e,t){return n instanceof hf?eS(n,e):n instanceof df?tS(n,e):t}function JT(n,e){return n instanceof Qd?function(r){return im(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ff extends k0{}class hf extends k0{constructor(e){super(),this.elements=e}}function eS(n,e){const t=nS(e);for(const r of n.elements)t.some(i=>Fi(i,r))||t.push(r);return{arrayValue:{values:t}}}class df extends k0{constructor(e){super(),this.elements=e}}function tS(n,e){let t=nS(e);for(const r of n.elements)t=t.filter(i=>!Fi(i,r));return{arrayValue:{values:t}}}class Qd extends k0{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Nw(n){return en(n.integerValue||n.doubleValue)}function nS(n){return lv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,t){this.field=e,this.transform=t}}function _7(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof hf&&i instanceof hf||r instanceof df&&i instanceof df?Wl(r.elements,i.elements,Fi):r instanceof Qd&&i instanceof Qd?Fi(r.Re,i.Re):r instanceof ff&&i instanceof ff}(n.transform,e.transform)}class w7{constructor(e,t){this.version=e,this.transformResults=t}}class Ra{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ra}static exists(e){return new Ra(void 0,e)}static updateTime(e){return new Ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class L0{}function rS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new aS(n.key,Ra.none()):new If(n.key,n.data,Ra.none());{const t=n.data,r=$r.empty();let i=new bn(Gn.comparator);for(let a of e.fields)if(!i.has(a)){let s=t.field(a);s===null&&a.length>1&&(a=a.popLast(),s=t.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Bs(n.key,r,new ci(i.toArray()),Ra.none())}}function E7(n,e,t){n instanceof If?function(i,a,s){const u=i.value.clone(),c=Dw(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Bs?function(i,a,s){if(!Nd(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=Dw(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(iS(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Zc(n,e,t,r){return n instanceof If?function(a,s,u,c){if(!Nd(a.precondition,s))return u;const h=a.value.clone(),p=Pw(a.fieldTransforms,c,s);return h.setAll(p),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bs?function(a,s,u,c){if(!Nd(a.precondition,s))return u;const h=Pw(a.fieldTransforms,c,s),p=s.data;return p.setAll(iS(a)),p.setAll(h),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(a,s,u){return Nd(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(n,e,t)}function A7(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=JT(r.transform,i||null);a!=null&&(t===null&&(t=$r.empty()),t.set(r.field,a))}return t||null}function Ow(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wl(r,i,(a,s)=>_7(a,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class If extends L0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bs extends L0{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Dw(n,e,t){const r=new Map;pt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],s=a.transform,u=e.data.field(a.field);r.set(a.field,y7(s,u,t[i]))}return r}function Pw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,s=t.data.field(i.field);r.set(i.field,v7(a,s,e))}return r}class aS extends L0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b7 extends L0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&E7(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QT();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=t.has(i.key)?null:u;const c=rS(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(t,r)=>Ow(t,r))&&Wl(this.baseMutations,e.baseMutations,(t,r)=>Ow(t,r))}}class dv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return h7}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new dv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,nt;function I7(n){switch(n){case he.OK:return Be(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function oS(n){if(n===void 0)return Ma("GRPC error has no .code"),he.UNKNOWN;switch(n){case ln.OK:return he.OK;case ln.CANCELLED:return he.CANCELLED;case ln.UNKNOWN:return he.UNKNOWN;case ln.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ln.INTERNAL:return he.INTERNAL;case ln.UNAVAILABLE:return he.UNAVAILABLE;case ln.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ln.NOT_FOUND:return he.NOT_FOUND;case ln.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ln.ABORTED:return he.ABORTED;case ln.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ln.DATA_LOSS:return he.DATA_LOSS;default:return Be(39323,{code:n})}}(nt=ln||(ln={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=new Ro([4294967295,4294967295],0);function Mw(n){const e=RT().encode(n),t=new wT;return t.update(e),new Uint8Array(t.digest())}function kw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ro([t,r],0),new Ro([i,a],0)]}class pv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Uc(`Invalid padding: ${t}`);if(r<0)throw new Uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Uc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ro.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Ro.fromNumber(r)));return i.compare(R7)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Mw(e),[r,i]=kw(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.Se(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new pv(a,i,t);return r.forEach(u=>s.insert(u)),s}insert(e){if(this.pe===0)return;const t=Mw(e),[r,i]=kw(t);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.be(s)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new B0(je.min(),i,new zt(Xe),ka(),Ze())}}class Rf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rf(r,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class sS{constructor(e,t){this.targetId=e,this.Ce=t}}class lS{constructor(e,t,r=Xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Lw{constructor(){this.Fe=0,this.Me=Bw(),this.xe=Xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ze(),t=Ze(),r=Ze();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:a})}}),new Rf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Bw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class N7{constructor(e){this.ze=e,this.je=new Map,this.He=ka(),this.Je=ld(),this.Ye=ld(),this.Ze=new zt(Xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(om(a))if(r===0){const s=new De(a.path);this.tt(t,s,Jn.newNoDocument(s,je.min()))}else pt(r===1,20013,{expectedCount:r});else{const s=this.ut(t);if(s!==r){const u=this.ct(e),c=u?this.lt(u,e,s):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let s,u;try{s=ko(r).toUint8Array()}catch(c){if(c instanceof PT)return Xl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new pv(s,i,a)}catch(c){return Xl(c instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,s)=>{const u=this._t(s);if(u){if(a.current&&om(u.target)){const c=new De(u.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Jn.newNoDocument(c,e))}a.Le&&(t.set(s,a.qe()),a.Qe())}});let r=Ze();this.Ye.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new B0(e,t,this.Ze,this.He,r);return this.He=ka(),this.Je=ld(),this.Ye=ld(),this.Ze=new zt(Xe),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Lw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new bn(Xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new bn(Xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Lw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ld(){return new zt(De.comparator)}function Bw(){return new zt(De.comparator)}const O7={asc:"ASCENDING",desc:"DESCENDING"},D7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P7={and:"AND",or:"OR"};class M7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lm(n,e){return n.useProto3Json||N0(e)?e:{value:e}}function Zd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function k7(n,e){return Zd(n,e.toTimestamp())}function Vi(n){return pt(!!n,49232),je.fromTimestamp(function(t){const r=Mo(t);return new An(r.seconds,r.nanos)}(n))}function gv(n,e){return um(n,e).canonicalString()}function um(n,e){const t=function(i){return new Wt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cS(n){const e=Wt.fromString(n);return pt(gS(e),10190,{key:e.toString()}),e}function cm(n,e){return gv(n.databaseId,e.path)}function fg(n,e){const t=cS(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(hS(t))}function fS(n,e){return gv(n.databaseId,e)}function L7(n){const e=cS(n);return e.length===4?Wt.emptyPath():hS(e)}function fm(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hS(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jw(n,e,t){return{name:cm(n,e),fields:t.value.mapValue.fields}}function B7(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,p){return h.useProto3Json?(pt(p===void 0||typeof p=="string",58123),Xn.fromBase64String(p||"")):(pt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Xn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(h){const p=h.code===void 0?he.UNKNOWN:oS(h.code);return new Oe(p,h.message||"")}(s);t=new lS(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fg(n,r.document.name),a=Vi(r.document.updateTime),s=r.document.createTime?Vi(r.document.createTime):je.min(),u=new $r({mapValue:{fields:r.document.fields}}),c=Jn.newFoundDocument(i,a,s,u),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Od(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fg(n,r.document),a=r.readTime?Vi(r.readTime):je.min(),s=Jn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new Od([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fg(n,r.document),a=r.removedTargetIds||[];t=new Od([],a,i,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new C7(i,a),u=r.targetId;t=new sS(u,s)}}return t}function j7(n,e){let t;if(e instanceof If)t={update:jw(n,e.key,e.value)};else if(e instanceof aS)t={delete:cm(n,e.key)};else if(e instanceof Bs)t={update:jw(n,e.key,e.data),updateMask:W7(e.fieldMask)};else{if(!(e instanceof b7))return Be(16599,{ft:e.type});t={verify:cm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const u=s.transform;if(u instanceof ff)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof hf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof df)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qd)return{fieldPath:s.field.canonicalString(),increment:u.Re};throw Be(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:k7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(n,e.precondition)),t}function V7(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map(t=>function(i,a){let s=i.updateTime?Vi(i.updateTime):Vi(a);return s.isEqual(je.min())&&(s=Vi(a)),new w7(s,i.transformResults||[])}(t,e))):[]}function U7(n,e){return{documents:[fS(n,e.path)]}}function F7(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fS(n,i);const a=function(h){if(h.length!==0)return pS(Hi.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const s=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:Pl(y.field),direction:G7(y.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=lm(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function H7(n){let e=L7(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pt(r===1,65062);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=function(g){const y=dS(g);return y instanceof Hi&&zT(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(y=>function(E){return new Kd(Ml(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,N0(y)?null:y}(t.limit));let c=null;t.startAt&&(c=function(g){const y=!!g.before,_=g.values||[];return new $d(_,y)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const y=!g.before,_=g.values||[];return new $d(_,y)}(t.endAt)),o7(e,i,s,a,u,"F",c,h)}function z7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ml(t.unaryFilter.field);return _n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ml(t.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ml(t.unaryFilter.field);return _n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ml(t.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return _n.create(Ml(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hi.create(t.compositeFilter.filters.map(r=>dS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function G7(n){return O7[n]}function q7(n){return D7[n]}function X7(n){return P7[n]}function Pl(n){return{fieldPath:n.canonicalString()}}function Ml(n){return Gn.fromServerFormat(n.fieldPath)}function pS(n){return n instanceof _n?function(t){if(t.op==="=="){if(Tw(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NAN"}};if(bw(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Tw(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NAN"}};if(bw(t.value))return{unaryFilter:{field:Pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(t.field),op:q7(t.op),value:t.value}}}(n):n instanceof Hi?function(t){const r=t.getFilters().map(i=>pS(i));return r.length===1?r[0]:{compositeFilter:{op:X7(t.op),filters:r}}}(n):Be(54877,{filter:n})}function W7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,t,r,i,a=je.min(),s=je.min(),u=Xn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e){this.wt=e}}function $7(n){const e=H7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.Cn=new Q7}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Po.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Po.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Q7{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new bn(Wt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mS=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(mS,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Kl(0)}static lr(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LruGarbageCollector",Z7=1048576;function Fw([n,e],[t,r]){const i=Xe(n,t);return i===0?Xe(e,r):i}class J7{constructor(e){this.Er=e,this.buffer=new bn(Fw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Fw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(Uw,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pu(t)?ye(Uw,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.mr(3e5)})}}class tP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(R0.le);const r=new J7(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Vw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,s,u,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(a=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Ol()<=Qe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${g} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function nP(n,e){return new tP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Zc(r.mutation,i,ci.empty(),An.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ze()){const i=bs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let s=Vc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=bs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ze()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{t.set(s,u)})})}computeViews(e,t,r,i){let a=ka();const s=Qc(),u=function(){return Qc()}();return t.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Bs)?a=a.insert(h.key,h):p!==void 0?(s.set(h.key,p.mutation.getFieldMask()),Zc(p.mutation,h,p.mutation.getFieldMask(),An.now())):s.set(h.key,ci.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((h,p)=>s.set(h,p)),t.forEach((h,p)=>{var g;return u.set(h,new iP(p,(g=s.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Qc();let i=new zt((s,u)=>s-u),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const u of s)u.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let p=r.get(c)||ci.empty();p=u.applyToLocalView(h,p),r.set(c,p);const g=(i.get(u.batchId)||Ze()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,p=c.value,g=QT();p.forEach(y=>{if(!a.has(y)){const _=rS(t.get(y),r.get(y));_!==null&&g.set(y,_),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,g))}return ue.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return De.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):s7(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ue.resolve(bs());let u=sf,c=a;return s.next(h=>ue.forEach(h,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?ue.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,c,h,Ze())).next(p=>({batchId:u,changes:KT(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let i=Vc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let s=Vc();return this.indexManager.getCollectionParents(e,a).next(u=>ue.forEach(u,c=>{const h=function(g,y){return new D0(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,y)=>{s=s.insert(g,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(s=>{a.forEach((c,h)=>{const p=h.getKey();s.get(p)===null&&(s=s.insert(p,Jn.newInvalidDocument(p)))});let u=Vc();return s.forEach((c,h)=>{const p=a.get(c);p!==void 0&&Zc(p.mutation,h,ci.empty(),An.now()),M0(t,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ue.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Vi(i.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:$7(i.bundledQuery),readTime:Vi(i.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.overlays=new zt(De.comparator),this.Qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bs();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.bt(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=bs(),a=t.length+1,s=new De(t.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new zt((h,p)=>h-p);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=bs(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=bs(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>u.set(h,p)),!(u.size()>=i)););return ue.resolve(u)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new S7(t,r));let a=this.Qr.get(t);a===void 0&&(a=Ze(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.$r=new bn(Pn.Ur),this.Kr=new bn(Pn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Pn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Pn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new De(new Wt([])),r=new Pn(t,e),i=new Pn(t,e+1),a=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),a.push(s.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new De(new Wt([])),r=new Pn(t,e),i=new Pn(t,e+1);let a=Ze();return this.Kr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const t=new Pn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Pn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return De.comparator(e.key,t.key)||Xe(e.Zr,t.Zr)}static Wr(e,t){return Xe(e.Zr,t.Zr)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new bn(Pn.Ur)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new T7(a,t,r,i);this.mutationQueue.push(s);for(const u of i)this.Xr=this.Xr.add(new Pn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ue.resolve(s)}lookupMutationBatch(e,t){return ue.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?ov:this.nr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pn(t,0),i=new Pn(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],s=>{const u=this.ei(s.Zr);a.push(u)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bn(Xe);return t.forEach(i=>{const a=new Pn(i,0),s=new Pn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,s],u=>{r=r.add(u.Zr)})}),ue.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const s=new Pn(new De(a),0);let u=new bn(Xe);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.Zr)),!0)},s),ue.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ue.forEach(t.mutations,i=>{const a=new Pn(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Pn(t,0),i=this.Xr.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.ii=e,this.docs=function(){return new zt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=ka();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Jn.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ka();const s=t.path,u=new De(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||jD(BD(p),r)<=0||(i.has(p.key)||M0(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Be(9500)}si(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fP(this)}getSize(e){return ue.resolve(this.size)}}class fP extends rP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.persistence=e,this.oi=new Ls(t=>uv(t),cv),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new mv,this.targetCount=0,this.ui=Kl.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ue.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Kl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Tr(t),ue.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((s,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ue.waitFor(a).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.ci={},this.overlays={},this.li=new R0(0),this.hi=!1,this.hi=!0,this.Pi=new lP,this.referenceDelegate=e(this),this.Ti=new hP(this),this.indexManager=new K7,this.remoteDocumentCache=function(i){return new cP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Y7(t),this.Ei=new oP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new uP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const i=new dP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return ue.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class dP extends UD{constructor(e){super(),this.currentSequenceNumber=e}}class vv{constructor(e){this.persistence=e,this.Vi=new mv,this.mi=null}static fi(e){return new vv(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.gi,r=>{const i=De.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,je.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ue.or([()=>ue.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Jd{constructor(e,t){this.persistence=e,this.yi=new Ls(r=>zD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nP(this,t)}static fi(e,t){return new Jd(e,t)}di(){}Ai(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ue.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ue.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(u=>{u||(r++,a.removeEntry(s,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ue.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Id(e.data.value)),t}Dr(e,t,r){return ue.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Ze(),i=Ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rR()?8:FD(tr())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Ss(e,t,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new pP;return this.bs(e,t,s).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,s,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Ol()<=Qe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Dl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ue.resolve()):(Ol()<=Qe.DEBUG&&ye("QueryEngine","Query:",Dl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ol()<=Qe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Dl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(t))):ue.resolve())}ws(e,t){if(Rw(t))return ue.resolve(null);let r=ji(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sm(t,null,"F"),r=ji(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Ze(...a);return this.ys.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.vs(t,u);return this.Cs(t,h,s,c.readTime)?this.ws(e,sm(t,null,"F")):this.Fs(e,h,t,c)}))})))}Ss(e,t,r,i){return Rw(t)||i.isEqual(je.min())?ue.resolve(null):this.ys.getDocuments(e,r).next(a=>{const s=this.vs(t,a);return this.Cs(t,s,r,i)?ue.resolve(null):(Ol()<=Qe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dl(t)),this.Fs(e,s,t,LD(i,sf)).next(u=>u))})}vs(e,t){let r=new bn(YT(e));return t.forEach((i,a)=>{M0(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,r){return Ol()<=Qe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Dl(t)),this.ys.getDocumentsMatchingQuery(e,t,Po.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LocalStore",mP=3e8;class vP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new zt(Xe),this.Os=new Ls(a=>uv(a),cv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function yP(n,e,t,r){return new vP(n,e,t,r)}async function yS(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],u=[];let c=Ze();for(const h of i){s.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(r,c).next(h=>({ks:h,removedBatchIds:s,addedBatchIds:u}))})})}function xP(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,h,p){const g=h.batch,y=g.keys();let _=ue.resolve();return y.forEach(E=>{_=_.next(()=>p.getEntry(c,E)).next(b=>{const T=h.docVersions.get(E);pt(T!==null,48541),b.version.compareTo(T)<0&&(g.applyToRemoteDocument(b,h),b.isValidDocument()&&(b.setReadTime(h.commitVersion),p.addEntry(b)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Ze();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function xS(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function _P(n,e){const t=Ue(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(t.Ti.removeMatchingKeys(a,p.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(a,p.addedDocuments,g)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Xn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(b,T,I){return b.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=mP?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(y,_,p)&&u.push(t.Ti.updateTargetData(a,_))});let c=ka(),h=Ze();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(wP(a,s,e.documentUpdates).next(p=>{c=p.qs,h=p.Qs})),!r.isEqual(je.min())){const p=t.Ti.getLastRemoteSnapshotVersion(a).next(g=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(p)}return ue.waitFor(u).next(()=>s.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,c,h)).next(()=>c)}).then(a=>(t.xs=i,a))}function wP(n,e,t){let r=Ze(),i=Ze();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let s=ka();return t.forEach((u,c)=>{const h=a.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(je.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):ye(xv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function EP(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ov),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AP(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,ue.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Ao(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function hm(n,e,t){const r=Ue(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pu(s))throw s;ye(xv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Hw(n,e,t){const r=Ue(n);let i=je.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,p){const g=Ue(c),y=g.Os.get(p);return y!==void 0?ue.resolve(g.xs.get(y)):g.Ti.getTargetData(h,p)}(r,s,ji(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:je.min(),t?a:Ze())).next(u=>(bP(r,u7(e),u),{documents:u,$s:a})))}function bP(n,e,t){let r=n.Ns.get(e)||je.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class zw{constructor(){this.activeTargetIds=g7()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TP{constructor(){this.xo=new zw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="ConnectivityMonitor";class qw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(Gw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(Gw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function dm(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",CP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Wd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const s=dm(),u=this.jo(e,t.toUriEncodedString());ye(hg,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:h}=new URL(u),p=_f(h);return this.Jo(e,u,c,r,p).then(g=>(ye(hg,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Xl(hg,`RPC '${e}' ${s} failed with error: `,g,"url: ",u,"request:",r),g})}Yo(e,t,r,i,a,s){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=CP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class NP extends IP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const s=dm();return new Promise((u,c)=>{const h=new ET;h.setWithCredentials(!0),h.listenOnce(AT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Cd.NO_ERROR:const g=h.getResponseJson();ye(Kn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),u(g);break;case Cd.TIMEOUT:ye(Kn,`RPC '${e}' ${s} timed out`),c(new Oe(he.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const y=h.getStatus();if(ye(Kn,`RPC '${e}' ${s} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const b=function(I){const R=I.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN}(E.status);c(new Oe(b,E.message))}else c(new Oe(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Oe(he.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ye(Kn,`RPC '${e}' ${s} completed.`)}});const p=JSON.stringify(i);ye(Kn,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",p,r,15)})}T_(e,t,r){const i=dm(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ST(),u=TT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");ye(Kn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const g=s.createWebChannel(p,c);let y=!1,_=!1;const E=new RP({Zo:T=>{_?ye(Kn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(ye(Kn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),ye(Kn,`RPC '${e}' stream ${i} sending:`,T),g.send(T))},Xo:()=>g.close()}),b=(T,I,R)=>{T.listen(I,P=>{try{R(P)}catch(j){setTimeout(()=>{throw j},0)}})};return b(g,jc.EventType.OPEN,()=>{_||(ye(Kn,`RPC '${e}' stream ${i} transport opened.`),E.__())}),b(g,jc.EventType.CLOSE,()=>{_||(_=!0,ye(Kn,`RPC '${e}' stream ${i} transport closed`),E.u_())}),b(g,jc.EventType.ERROR,T=>{_||(_=!0,Xl(Kn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),E.u_(new Oe(he.UNAVAILABLE,"The operation could not be completed")))}),b(g,jc.EventType.MESSAGE,T=>{var I;if(!_){const R=T.data[0];pt(!!R,16349);const P=R,j=(P==null?void 0:P.error)||((I=P[0])===null||I===void 0?void 0:I.error);if(j){ye(Kn,`RPC '${e}' stream ${i} received error:`,j);const U=j.status;let q=function(M){const V=ln[M];if(V!==void 0)return oS(V)}(U),O=j.message;q===void 0&&(q=he.INTERNAL,O="Unknown error status: "+U+" with message "+j.message),_=!0,E.u_(new Oe(q,O)),g.close()}else ye(Kn,`RPC '${e}' stream ${i} received:`,R),E.c_(R)}}),b(u,bT.STAT_EVENT,T=>{T.stat===tm.PROXY?ye(Kn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===tm.NOPROXY&&ye(Kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n){return new M7(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="PersistentStream";class wS{constructor(e,t,r,i,a,s,u,c){this.xi=e,this.y_=r,this.w_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new _S(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Ma(t.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{const i=new Oe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ye(Xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ye(Xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OP extends wS{constructor(e,t,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=B7(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?je.min():s.readTime?Vi(s.readTime):je.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=fm(this.serializer),t.addTarget=function(a,s){let u;const c=s.target;if(u=om(c)?{documents:U7(a,c)}:{query:F7(a,c).gt},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=uS(a,s.resumeToken);const h=lm(a,s.expectedCount);h!==null&&(u.expectedCount=h)}else if(s.snapshotVersion.compareTo(je.min())>0){u.readTime=Zd(a,s.snapshotVersion.toTimestamp());const h=lm(a,s.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=z7(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=fm(this.serializer),t.removeTarget=e,this.L_(t)}}class DP extends wS{constructor(e,t,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=V7(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=fm(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>j7(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{}class MP extends PP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.zo(e,um(t,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(he.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Yo(e,um(t,r),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(he.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class kP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ma(t),this.oa=!1):ye("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class LP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(s=>{r.enqueueAndForget(async()=>{js(this)&&(ye(Ps,"Restarting streams for network reachability change."),await async function(c){const h=Ue(c);h.Ta.add(4),await Nf(h),h.da.set("Unknown"),h.Ta.delete(4),await V0(h)}(this))})}),this.da=new kP(r,i)}}async function V0(n){if(js(n))for(const e of n.Ia)await e(!0)}async function Nf(n){for(const e of n.Ia)await e(!1)}function ES(n,e){const t=Ue(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Av(t)?Ev(t):gu(t).M_()&&wv(t,e))}function _v(n,e){const t=Ue(n),r=gu(t);t.Pa.delete(e),r.M_()&&AS(t,e),t.Pa.size===0&&(r.M_()?r.N_():js(t)&&t.da.set("Unknown"))}function wv(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gu(n).H_(e)}function AS(n,e){n.Aa.Ke(e),gu(n).J_(e)}function Ev(n){n.Aa=new N7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),gu(n).start(),n.da._a()}function Av(n){return js(n)&&!gu(n).F_()&&n.Pa.size>0}function js(n){return Ue(n).Ta.size===0}function bS(n){n.Aa=void 0}async function BP(n){n.da.set("Online")}async function jP(n){n.Pa.forEach((e,t)=>{wv(n,e)})}async function VP(n,e){bS(n),Av(n)?(n.da.ca(e),Ev(n)):n.da.set("Unknown")}async function UP(n,e,t){if(n.da.set("Online"),e instanceof lS&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.Pa.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Pa.delete(u),i.Aa.removeTarget(u))}(n,e)}catch(r){ye(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await e0(n,r)}else if(e instanceof Od?n.Aa.Xe(e):e instanceof sS?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(je.min()))try{const r=await xS(n.localStore);t.compareTo(r)>=0&&await function(a,s){const u=a.Aa.It(s);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=a.Pa.get(h);p&&a.Pa.set(h,p.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,h)=>{const p=a.Pa.get(c);if(!p)return;a.Pa.set(c,p.withResumeToken(Xn.EMPTY_BYTE_STRING,p.snapshotVersion)),AS(a,c);const g=new Ao(p.target,c,h,p.sequenceNumber);wv(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ye(Ps,"Failed to raise snapshot:",r),await e0(n,r)}}async function e0(n,e,t){if(!pu(e))throw e;n.Ta.add(1),await Nf(n),n.da.set("Offline"),t||(t=()=>xS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(Ps,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await V0(n)})}function TS(n,e){return e().catch(t=>e0(n,t,e))}async function U0(n){const e=Ue(n),t=Bo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ov;for(;FP(e);)try{const i=await EP(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,HP(e,i)}catch(i){await e0(e,i)}SS(e)&&CS(e)}function FP(n){return js(n)&&n.ha.length<10}function HP(n,e){n.ha.push(e);const t=Bo(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function SS(n){return js(n)&&!Bo(n).F_()&&n.ha.length>0}function CS(n){Bo(n).start()}async function zP(n){Bo(n).ta()}async function GP(n){const e=Bo(n);for(const t of n.ha)e.Z_(t.mutations)}async function qP(n,e,t){const r=n.ha.shift(),i=dv.from(r,e,t);await TS(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await U0(n)}async function XP(n,e){e&&Bo(n).Y_&&await async function(r,i){if(function(s){return I7(s)&&s!==he.ABORTED}(i.code)){const a=r.ha.shift();Bo(r).O_(),await TS(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await U0(r)}}(n,e),SS(n)&&CS(n)}async function Ww(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ye(Ps,"RemoteStore received new credentials");const r=js(t);t.Ta.add(3),await Nf(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await V0(t)}async function WP(n,e){const t=Ue(n);e?(t.Ta.delete(2),await V0(t)):e||(t.Ta.add(2),await Nf(t),t.da.set("Unknown"))}function gu(n){return n.Ra||(n.Ra=function(t,r,i){const a=Ue(t);return a.ra(),new OP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:BP.bind(null,n),n_:jP.bind(null,n),i_:VP.bind(null,n),j_:UP.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Av(n)?Ev(n):n.da.set("Unknown")):(await n.Ra.stop(),bS(n))})),n.Ra}function Bo(n){return n.Va||(n.Va=function(t,r,i){const a=Ue(t);return a.ra(),new DP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:zP.bind(null,n),i_:XP.bind(null,n),X_:GP.bind(null,n),ea:qP.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await U0(n)):(await n.Va.stop(),n.ha.length>0&&(ye(Ps,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const s=Date.now()+r,u=new bv(e,t,s,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(n,e){if(Ma("AsyncQueue",`${e}: ${n}`),pu(n))return new Oe(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{static emptySet(e){return new zl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Vc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.ma=new zt(De.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ql{constructor(e,t,r,i,a,s,u,c,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const s=[];return t.forEach(u=>{s.push({type:0,doc:u})}),new Ql(e,t,zl.emptySet(t),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class $P{constructor(){this.queries=$w(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const i=Ue(t),a=i.queries;i.queries=$w(),a.forEach((s,u)=>{for(const c of u.ya)c.onError(r)})})(this,new Oe(he.ABORTED,"Firestore shutting down"))}}function $w(){return new Ls(n=>WT(n),P0)}async function KP(n,e){const t=Ue(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(r=2):(a=new YP,r=e.Sa()?0:1);try{switch(r){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){const u=Tv(s,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&Sv(t)}async function QP(n,e){const t=Ue(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const s=a.ya.indexOf(e);s>=0&&(a.ya.splice(s,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ZP(n,e){const t=Ue(n);let r=!1;for(const i of e){const a=i.query,s=t.queries.get(a);if(s){for(const u of s.ya)u.va(i)&&(r=!0);s.pa=i}}r&&Sv(t)}function JP(n,e,t){const r=Ue(n),i=r.queries.get(e);if(i)for(const a of i.ya)a.onError(t);r.queries.delete(e)}function Sv(n){n.ba.forEach(e=>{e.next()})}var pm,Kw;(Kw=pm||(pm={})).Ca="default",Kw.Cache="cache";class e9{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.key=e}}class RS{constructor(e){this.key=e}}class t9{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ze(),this.mutatedKeys=Ze(),this.Ha=YT(e),this.Ja=new zl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new Yw,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),_=M0(this.query,g)?g:null,E=!!y&&this.mutatedKeys.has(y.key),b=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;y&&_?y.data.isEqual(_.data)?E!==b&&(r.track({type:3,doc:_}),T=!0):this.eu(y,_)||(r.track({type:2,doc:_}),T=!0,(c&&this.Ha(_,c)>0||h&&this.Ha(_,h)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),T=!0):y&&!_&&(r.track({type:1,doc:y}),T=!0,(c||h)&&(u=!0)),T&&(_?(s=s.add(_),a=b?a.add(p):a.delete(p)):(s=s.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ja:s,Xa:r,Cs:u,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort((p,g)=>function(_,E){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:T})}};return b(_)-b(E)}(p.type,g.type)||this.Ha(p.doc,g.doc)),this.tu(r),i=i!=null&&i;const u=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,h=c!==this.za;return this.za=c,s.length!==0||h?{snapshot:new Ql(this.query,e.Ja,a,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:u}:{ru:u}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Yw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ze(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new RS(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new IS(r))}),t}su(e){this.Ga=e.$s,this.ja=Ze();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Ql.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Cv="SyncEngine";class n9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class r9{constructor(e){this.key=e,this._u=!1}}class i9{constructor(e,t,r,i,a,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Ls(u=>WT(u),P0),this.cu=new Map,this.lu=new Set,this.hu=new zt(De.comparator),this.Pu=new Map,this.Tu=new mv,this.Iu={},this.Eu=new Map,this.du=Kl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function a9(n,e,t=!0){const r=kS(n);let i;const a=r.uu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await NS(r,e,t,!0),i}async function o9(n,e){const t=kS(n);await NS(t,e,!0,!1)}async function NS(n,e,t,r){const i=await AP(n.localStore,ji(e)),a=i.targetId,s=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await s9(n,e,a,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&ES(n.remoteStore,i),u}async function s9(n,e,t,r,i){n.Ru=(g,y,_)=>async function(b,T,I,R){let P=T.view.Za(I);P.Cs&&(P=await Hw(b.localStore,T.query,!1).then(({documents:O})=>T.view.Za(O,P)));const j=R&&R.targetChanges.get(T.targetId),U=R&&R.targetMismatches.get(T.targetId)!=null,q=T.view.applyChanges(P,b.isPrimaryClient,j,U);return Zw(b,T.targetId,q.ru),q.snapshot}(n,g,y,_);const a=await Hw(n.localStore,e,!0),s=new t9(e,a.$s),u=s.Za(a.documents),c=Rf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=s.applyChanges(u,n.isPrimaryClient,c);Zw(n,t,h.ru);const p=new n9(e,t,s);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function l9(n,e,t){const r=Ue(n),i=r.uu.get(e),a=r.cu.get(i.targetId);if(a.length>1)return r.cu.set(i.targetId,a.filter(s=>!P0(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_v(r.remoteStore,i.targetId),gm(r,i.targetId)}).catch(du)):(gm(r,i.targetId),await hm(r.localStore,i.targetId,!0))}async function u9(n,e){const t=Ue(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_v(t.remoteStore,r.targetId))}async function c9(n,e,t){const r=v9(n);try{const i=await function(s,u){const c=Ue(s),h=An.now(),p=u.reduce((_,E)=>_.add(E.key),Ze());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=ka(),b=Ze();return c.Bs.getEntries(_,p).next(T=>{E=T,E.forEach((I,R)=>{R.isValidDocument()||(b=b.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(T=>{g=T;const I=[];for(const R of u){const P=A7(R,g.get(R.key).overlayedDocument);P!=null&&I.push(new Bs(R.key,P,UT(P.value.mapValue),Ra.exists(!0)))}return c.mutationQueue.addMutationBatch(_,h,I,u)}).next(T=>{y=T;const I=T.applyToLocalDocumentSet(g,b);return c.documentOverlayCache.saveOverlays(_,T.batchId,I)})}).then(()=>({batchId:y.batchId,changes:KT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let h=s.Iu[s.currentUser.toKey()];h||(h=new zt(Xe)),h=h.insert(u,c),s.Iu[s.currentUser.toKey()]=h}(r,i.batchId,t),await Of(r,i.changes),await U0(r.remoteStore)}catch(i){const a=Tv(i,"Failed to persist write");t.reject(a)}}async function OS(n,e){const t=Ue(n);try{const r=await _P(t.localStore,e);e.targetChanges.forEach((i,a)=>{const s=t.Pu.get(a);s&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?pt(s._u,14607):i.removedDocuments.size>0&&(pt(s._u,42227),s._u=!1))}),await Of(t,r,e)}catch(r){await du(r)}}function Qw(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.uu.forEach((a,s)=>{const u=s.view.Da(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ue(s);c.onlineState=u;let h=!1;c.queries.forEach((p,g)=>{for(const y of g.ya)y.Da(u)&&(h=!0)}),h&&Sv(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f9(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Pu.get(e),a=i&&i.key;if(a){let s=new zt(De.comparator);s=s.insert(a,Jn.newNoDocument(a,je.min()));const u=Ze().add(a),c=new B0(je.min(),new Map,new zt(Xe),s,u);await OS(r,c),r.hu=r.hu.remove(a),r.Pu.delete(e),Iv(r)}else await hm(r.localStore,e,!1).then(()=>gm(r,e,t)).catch(du)}async function h9(n,e){const t=Ue(n),r=e.batch.batchId;try{const i=await xP(t.localStore,e);PS(t,r,null),DS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Of(t,i)}catch(i){await du(i)}}async function d9(n,e,t){const r=Ue(n);try{const i=await function(s,u){const c=Ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(pt(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);PS(r,e,t),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Of(r,i)}catch(i){await du(i)}}function DS(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function PS(n,e,t){const r=Ue(n);let i=r.Iu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function gm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||MS(n,r)})}function MS(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(_v(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Iv(n))}function Zw(n,e,t){for(const r of t)r instanceof IS?(n.Tu.addReference(r.key,e),p9(n,r)):r instanceof RS?(ye(Cv,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||MS(n,r.key)):Be(19791,{mu:r})}function p9(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(ye(Cv,"New document in limbo: "+t),n.lu.add(r),Iv(n))}function Iv(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new De(Wt.fromString(e)),r=n.du.next();n.Pu.set(r,new r9(t)),n.hu=n.hu.insert(t,r),ES(n.remoteStore,new Ao(ji(fv(t.path)),r,"TargetPurposeLimboResolution",R0.le))}}async function Of(n,e,t){const r=Ue(n),i=[],a=[],s=[];r.uu.isEmpty()||(r.uu.forEach((u,c)=>{s.push(r.Ru(c,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(h){i.push(h);const g=yv.Rs(c.targetId,h);a.push(g)}}))}),await Promise.all(s),r.au.j_(i),await async function(c,h){const p=Ue(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>ue.forEach(h,y=>ue.forEach(y.ds,_=>p.persistence.referenceDelegate.addReference(g,y.targetId,_)).next(()=>ue.forEach(y.As,_=>p.persistence.referenceDelegate.removeReference(g,y.targetId,_)))))}catch(g){if(!pu(g))throw g;ye(xv,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const _=p.xs.get(y),E=_.snapshotVersion,b=_.withLastLimboFreeSnapshotVersion(E);p.xs=p.xs.insert(y,b)}}}(r.localStore,a))}async function g9(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ye(Cv,"User change. New user:",e.toKey());const r=await yS(t.localStore,e);t.currentUser=e,function(a,s){a.Eu.forEach(u=>{u.forEach(c=>{c.reject(new Oe(he.CANCELLED,s))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Of(t,r.ks)}}function m9(n,e){const t=Ue(n),r=t.Pu.get(e);if(r&&r._u)return Ze().add(r.key);{let i=Ze();const a=t.cu.get(e);if(!a)return i;for(const s of a){const u=t.uu.get(s);i=i.unionWith(u.view.Ya)}return i}}function kS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f9.bind(null,e),e.au.j_=ZP.bind(null,e.eventManager),e.au.Vu=JP.bind(null,e.eventManager),e}function v9(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d9.bind(null,e),e}class t0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=j0(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return yP(this.persistence,new gP,e.initialUser,this.serializer)}yu(e){return new vS(vv.fi,this.serializer)}pu(e){return new TP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}t0.provider={build:()=>new t0};class y9 extends t0{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){pt(this.persistence.referenceDelegate instanceof Jd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new eP(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new vS(r=>Jd.fi(r,t),this.serializer)}}class mm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g9.bind(null,this.syncEngine),await WP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $P}()}createDatastore(e){const t=j0(e.databaseInfo.databaseId),r=function(a){return new NP(a)}(e.databaseInfo);return function(a,s,u,c){return new MP(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,s,u){return new LP(r,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Qw(this.syncEngine,t,0),function(){return qw.C()?new qw:new SP}())}createSyncEngine(e,t){return function(i,a,s,u,c,h,p){const g=new i9(i,a,s,u,c,h);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ue(i);ye(Ps,"RemoteStore shutting down."),a.Ta.add(5),await Nf(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="FirestoreClient";class _9{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zn.UNAUTHENTICATED,this.clientId=NT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{ye(jo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ye(jo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Tv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pg(n,e){n.asyncQueue.verifyOperationInProgress(),ye(jo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Jw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await w9(n);ye(jo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ww(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Ww(e.remoteStore,i)),n._onlineComponents=e}async function w9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(jo,"Using user provided OfflineComponentProvider");try{await pg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xl("Error using user provided cache. Falling back to memory cache: "+t),await pg(n,new t0)}}else ye(jo,"Using default OfflineComponentProvider"),await pg(n,new y9(void 0));return n._offlineComponents}async function LS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(jo,"Using user provided OnlineComponentProvider"),await Jw(n,n._uninitializedComponentsProvider._online)):(ye(jo,"Using default OnlineComponentProvider"),await Jw(n,new mm))),n._onlineComponents}function E9(n){return LS(n).then(e=>e.syncEngine)}async function A9(n){const e=await LS(n),t=e.eventManager;return t.onListen=a9.bind(null,e.syncEngine),t.onUnlisten=l9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=o9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u9.bind(null,e.syncEngine),t}function b9(n,e,t={}){const r=new No;return n.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,h){const p=new x9({next:y=>{p.Cu(),s.enqueueAndForget(()=>QP(a,g));const _=y.docs.has(u);!_&&y.fromCache?h.reject(new Oe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?h.reject(new Oe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new e9(fv(u.path),p,{includeMetadataChanges:!0,La:!0});return KP(a,g)}(await A9(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(n,e,t){if(!t)throw new Oe(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S9(n,e,t,r){if(e===!0&&r===!0)throw new Oe(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tE(n){if(!De.isDocumentKey(n))throw new Oe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Rv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function pf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rv(n);throw new Oe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firestore.googleapis.com",nE=!0;class rE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jS,this.ssl=nE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z7)throw new Oe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CD;switch(r.type){case"firstParty":return new OD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Oe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=eE.get(t);r&&(ye("ComponentProvider","Removing Datastore"),eE.delete(t),r.terminate())}(this),Promise.resolve()}}function C9(n,e,t,r={}){var i;n=pf(n,Nv);const a=_f(e),s=n._getSettings(),u=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a&&(DA(`https://${c}`),PA("Firestore",!0)),s.host!==jS&&s.host!==c&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},s),{host:c,ssl:a,emulatorOptions:r});if(!Rs(h,u)&&(n._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Zn.MOCK_USER;else{p=YI(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Oe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Zn(y)}n._authCredentials=new ID(new IT(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ov(this.firestore,e,this._query)}}class Qr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qr(this.firestore,e,this._key)}}class gf extends Ov{constructor(e,t,r){super(e,t,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qr(this.firestore,null,new De(e))}withConverter(e){return new gf(this.firestore,e,this._path)}}function VS(n,e,...t){if(n=Ve(n),arguments.length===1&&(e=NT.newId()),T9("doc","path",e),n instanceof Nv){const r=Wt.fromString(e,...t);return tE(r),new Qr(n,null,new De(r))}{if(!(n instanceof Qr||n instanceof gf))throw new Oe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return tE(r),new Qr(n.firestore,n instanceof gf?n.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class aE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new _S(this,"async_queue_retry"),this.ec=()=>{const r=dg();r&&ye(iE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new No;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!pu(e))throw e;ye(iE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Ma("INTERNAL UNHANDLED ERROR: ",oE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=bv.createAndSchedule(this,e,t,r,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&Be(47125,{_c:oE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function oE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Dv extends Nv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new aE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aE(e),this._firestoreClient=void 0,await e}}}function US(n,e){const t=BA(),r=Wd,i=Lm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=XI("firestore");a&&C9(i,...a)}return i}function FS(n){if(n._terminated)throw new Oe(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||I9(n),n._firestoreClient}function I9(n){var e,t,r;const i=n._freezeSettings(),a=function(u,c,h,p){return new XD(u,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new _9(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Xn.fromBase64String(e))}catch(t){throw new Oe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zl(Xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^__.*__$/;class N9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new If(e,this.data,t,this.fieldTransforms)}}function HS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:n})}}class Bv{constructor(e,t,r,i,a,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return n0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(HS(this.hc)&&R9.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class O9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||j0(e)}gc(e,t,r,i=!1){return new Bv({hc:e,methodName:t,fc:r,path:Gn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D9(n){const e=n._freezeSettings(),t=j0(n._databaseId);return new O9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P9(n,e,t,r,i,a={}){const s=n.gc(a.merge||a.mergeFields?2:0,e,t,i);XS("Data must be an object, but it was:",s,r);const u=GS(r,s);let c,h;if(a.merge)c=new ci(s.fieldMask),h=s.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=M9(e,g,t);if(!s.contains(y))throw new Oe(he.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);L9(p,y)||p.push(y)}c=new ci(p),h=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,h=s.fieldTransforms;return new N9(new $r(u),c,h)}class jv extends Mv{_toFieldTransform(e){return new x7(e.path,new ff)}isEqual(e){return e instanceof jv}}function zS(n,e){if(qS(n=Ve(n)))return XS("Unsupported field value:",e,n),GS(n,e);if(n instanceof Mv)return function(r,i){if(!HS(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const u of r){let c=zS(u,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=An.fromDate(r);return{timestampValue:Zd(i.serializer,a)}}if(r instanceof An){const a=new An(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zd(i.serializer,a)}}if(r instanceof kv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zl)return{bytesValue:uS(i.serializer,r._byteString)};if(r instanceof Qr){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Lv)return function(s,u){return{mapValue:{fields:{[jT]:{stringValue:VT},[Yd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw u.Vc("VectorValues must only contain numeric values.");return hv(u.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Rv(r)}`)}(n,e)}function GS(n,e){const t={};return DT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(n,(r,i)=>{const a=zS(i,e.Ic(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function qS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof An||n instanceof kv||n instanceof Zl||n instanceof Qr||n instanceof Mv||n instanceof Lv)}function XS(n,e,t){if(!qS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Rv(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function M9(n,e,t){if((e=Ve(e))instanceof Pv)return e._internalPath;if(typeof e=="string")return WS(n,e);throw n0("Field path arguments must be of type string or ",n,!1,void 0,t)}const k9=new RegExp("[~\\*/\\[\\]]");function WS(n,e,t){if(e.search(k9)>=0)throw n0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pv(...e.split("."))._internalPath}catch{throw n0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function n0(n,e,t,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Oe(he.INVALID_ARGUMENT,u+n+c)}function L9(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($S("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class B9 extends YS{data(){return super.data()}}function $S(n,e){return typeof e=="string"?WS(n,e):e instanceof Pv?e._internalPath:e._delegate._internalPath}class j9{convertValue(e,t="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ks(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Yd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>en(s.doubleValue));return new Lv(a)}convertGeoPoint(e){return new kv(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=O0(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(lf(e));default:return null}}convertTimestamp(e){const t=Mo(e);return new An(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);pt(gS(r),9688,{name:e});const i=new uf(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(t)||Ma(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KS extends YS{constructor(e,t,r,i,a,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new F9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($S("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class F9 extends KS{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(n){n=pf(n,Qr);const e=pf(n.firestore,Dv);return b9(FS(e),n._key).then(t=>X9(e,n,t))}class z9 extends j9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qr(this.firestore,null,t)}}function G9(n,e,t){n=pf(n,Qr);const r=pf(n.firestore,Dv),i=V9(n.converter,e,t);return q9(r,[P9(D9(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ra.none())])}function q9(n,e){return function(r,i){const a=new No;return r.asyncQueue.enqueueAndForget(async()=>c9(await E9(r),i,a)),a.promise}(FS(n),e)}function X9(n,e,t){const r=t.docs.get(e._key),i=new z9(n);return new KS(n,i,e._key,r,new U9(t.hasPendingWrites,t.fromCache),e.converter)}function W9(){return new jv("serverTimestamp")}(function(e,t=!0){(function(i){hu=i})(au),Gl(new Ns("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),u=new Dv(new RD(r.getProvider("auth-internal")),new DD(s,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uf(h.options.projectId,p)}(s,i),s);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),So(hw,dw,e),So(hw,dw,"esm2017")})();function Df(){const{setUser:n}=nn();return async function(){await Nb(Ft),n(null)}}const QS=F.createContext();function Y9({children:n}){const[e,t]=F.useState(null),[r,i]=F.useState(!0),[a,s]=F.useState(!1),[u,c]=F.useState(null),[h,p]=F.useState([]),[g,y]=F.useState(()=>localStorage.getItem("selectedLeagueId")||""),[_,E]=F.useState(null),[b,T]=F.useState(null),I=Wn(),R=async q=>(console.log("[AuthContext] Quick auth check for:",q==null?void 0:q.email),q?(t(q),s(!0),q.emailVerified?!0:(console.log("[AuthContext] User not verified, redirecting quickly"),window.location.pathname!=="/verify-email"&&I("/verify-email"),!1)):(console.log("[AuthContext] No user, quick clear"),t(null),s(!0),!1)),P=async q=>{var O,N;console.log("[AuthContext] Starting background initialization...");try{console.log("[AuthContext] Checking role in Firestore...");const M=US(),V=VS(M,"users",q.uid),G=await H9(V);if(!G.exists()||!G.data().role){console.log("[AuthContext] No role found, redirecting to select-role"),T(null),p([]),E(null),I("/select-role");return}const H=G.data().role;T(H),console.log("[AuthContext] Role found:",H),console.log("[AuthContext] Fetching leagues in background...");let k=[];try{k=(await Yt.get("/leagues/me")).data.leagues||[],p(k)}catch(le){if(((O=le.response)==null?void 0:O.status)===404){console.log("[AuthContext] League fetch returned 404, retrying after delay (possible race condition)...");try{await new Promise(Ae=>setTimeout(Ae,3e3)),k=(await Yt.get("/leagues/me")).data.leagues||[],p(k),console.log("[AuthContext] Retry successful, found leagues:",k.length)}catch(fe){((N=fe.response)==null?void 0:N.status)===404?(console.log("[AuthContext] User confirmed to have no leagues after retry"),k=[],p([])):(console.error("[AuthContext] Retry error:",fe),k=[],p([]))}}else console.error("[AuthContext] Non-404 error:",le),k=[],p([])}let xe=g;if(k.length>0){(!xe||!k.some(fe=>fe.id===xe))&&(xe=k[0].id),y(xe),localStorage.setItem("selectedLeagueId",xe);const le=k.find(fe=>fe.id===xe);E((le==null?void 0:le.role)||null)}else console.log("[AuthContext] User has no leagues yet (normal for new users)"),y(""),E(null),localStorage.removeItem("selectedLeagueId");const _e=window.location.pathname;["/login","/signup","/verify-email","/select-role","/"].includes(_e)?(console.log("[AuthContext] On onboarding route, navigating to dashboard"),I("/dashboard")):console.log("[AuthContext] Staying on current route:",_e)}catch(M){console.error("[AuthContext] Background initialization failed:",M),c(M),I("/select-role")}};F.useEffect(()=>{console.log("[AuthContext] Setting up optimized auth state listener");const q=Rb(Ft,async O=>{if(console.log("[AuthContext] Auth state changed:",O==null?void 0:O.email,"verified:",O==null?void 0:O.emailVerified),!await R(O)){i(!1);return}try{await P(O)}catch(M){console.error("[AuthContext] Initialization error:",M),c(M)}finally{i(!1)}},O=>{console.error("[AuthContext] Auth state change error:",O),c(O),i(!1),s(!0)});return()=>q()},[I]),F.useEffect(()=>{g?localStorage.setItem("selectedLeagueId",g):localStorage.removeItem("selectedLeagueId")},[g]);const j=q=>{p(O=>O.some(N=>N.id===q.id)?O:[...O,q]),y(q.id),localStorage.setItem("selectedLeagueId",q.id),E(q.role)},U=()=>{var q;return((q=h.find(O=>O.id===g))==null?void 0:q.role)==="organizer"};return r&&!a?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-gray-300 border-t-cyan-600 rounded-full"}),x.jsx("div",{className:"mt-4 text-gray-600",children:"Loading WooCombine..."}),x.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Checking authentication"})]})}):r&&a&&e&&e.emailVerified?x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin inline-block w-6 h-6 border-4 border-gray-300 border-t-cyan-600 rounded-full"}),x.jsx("div",{className:"mt-3 text-gray-600",children:"Loading your data..."})]})}):x.jsx(QS.Provider,{value:{user:e,loading:r,roleChecking:!1,error:u,leagues:h,selectedLeagueId:g,setSelectedLeagueId:y,role:_,addLeague:j,isOrganizer:U,userRole:b},children:n})}function nn(){return F.useContext(QS)}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),sE=n=>{const e=K9(n);return e.charAt(0).toUpperCase()+e.slice(1)},ZS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Q9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...u},c)=>F.createElement("svg",{ref:c,...Z9,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:ZS("lucide",i),...!a&&!Q9(u)&&{"aria-hidden":"true"},...u},[...s.map(([h,p])=>F.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=(n,e)=>{const t=F.forwardRef(({className:r,...i},a)=>F.createElement(J9,{ref:a,iconNode:e,className:ZS(`lucide-${$9(sE(n))}`,`lucide-${n}`,r),...i}));return t.displayName=sE(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vv=Mt("arrow-left",eM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nM=Mt("award",tM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uv=Mt("calendar",rM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aM=Mt("chevron-left",iM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sM=Mt("chevron-right",oM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],JS=Mt("copy",lM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eC=Mt("eye-off",uM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tC=Mt("eye",cM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nC=Mt("house",fM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],dM=Mt("link-2",hM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gM=Mt("log-out",pM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],vM=Mt("menu",mM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rC=Mt("message-circle",yM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lE=Mt("plus",xM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],mf=Mt("qr-code",_M);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],uE=Mt("refresh-ccw",wM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],AM=Mt("search",EM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TM=Mt("settings",bM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],CM=Mt("square-pen",SM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],RM=Mt("trending-up",IM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cE=Mt("upload",NM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fE=Mt("user-plus",OM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F0=Mt("users",DM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],iC=Mt("video",PM);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aC=Mt("x",MM);function oC({className:n=""}){return x.jsx("div",{className:`font-extrabold text-2xl text-cyan-700 min-w-0 ${n}`,children:"Woo-Combine"})}function Mr({children:n,footerLinks:e,backgroundColor:t,contentClassName:r,hideHeader:i,showOverlay:a=!0,useBackgroundVideo:s=!1,backgroundVideoUrl:u}){const c=t||"bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700";return x.jsxs("div",{className:`min-h-screen flex flex-col ${s?"bg-black":c} relative overflow-hidden`,children:[s&&u&&x.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:[x.jsx("source",{src:u,type:"video/mp4"}),x.jsx("div",{className:`absolute inset-0 ${c}`})]}),!i&&x.jsx("header",{className:"absolute top-0 left-0 p-6 z-10",children:x.jsx(oC,{className:"text-white drop-shadow-lg"})}),x.jsx("main",{className:`flex flex-1 flex-col justify-center items-center px-4 relative z-10 ${r||""}`,children:n}),x.jsx("footer",{className:"w-full flex flex-col items-center gap-2 pb-8 mt-auto relative z-10",children:e}),a!==!1&&x.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-none z-5"})]})}function hE(){var c;const n=Wn(),{user:e}=nn(),t=Df(),[r,i]=F.useState(""),a=async()=>{i("Redirecting to Create League...");try{n("/create-league")}catch(h){i(`Navigation error: ${h.message}`)}},s=()=>{i("Redirecting to Join League...");try{n("/join")}catch{i("Navigation error. Please try again.")}},u=async()=>{i("Logging out...");try{await t(),n("/welcome")}catch{i("Logout error. Please refresh the page.")}};return x.jsx(Mr,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 mx-4",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}}),x.jsx("div",{className:"w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(F0,{className:"w-6 h-6 text-cyan-600"})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No League Selected"}),x.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"You need to join or create a league to access WooCombine features"})]}),r&&x.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 text-blue-700 px-4 py-3 rounded mb-6 text-sm",children:r}),x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-cyan-300 transition",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center flex-shrink-0",children:x.jsx(mf,{className:"w-5 h-5 text-cyan-600"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Join Existing League"}),x.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"If you were invited by a coach, enter your code or scan the QR they sent you"}),x.jsxs("button",{onClick:s,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition-all duration-200 transform hover:scale-[1.02] flex items-center gap-2",children:[x.jsx(mf,{className:"w-4 h-4"}),"Join League"]})]})]})}),x.jsx("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-cyan-300 transition",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:x.jsx(lE,{className:"w-5 h-5 text-green-600"})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Create New League"}),x.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Start your own league and invite players to join"}),x.jsxs("button",{onClick:a,className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow transition-all duration-200 transform hover:scale-[1.02] flex items-center gap-2",children:[x.jsx(lE,{className:"w-4 h-4"}),"Create League"]})]})]})})]}),x.jsx("div",{className:"border-t border-gray-200 pt-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-gray-600 font-medium text-xs",children:((c=e==null?void 0:e.email)==null?void 0:c.charAt(0).toUpperCase())||"U"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-medium text-gray-900",children:"Logged in as:"}),x.jsx("p",{className:"text-xs text-gray-600",children:(e==null?void 0:e.email)||"Unknown"})]})]}),x.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-red-600 hover:text-red-700 font-medium text-xs transition",children:[x.jsx(gM,{className:"w-3 h-3"}),"Log Out"]})]})})]})})}const sC=F.createContext();function kM({children:n}){const{selectedLeagueId:e,user:t}=nn(),[r,i]=F.useState([]),[a,s]=F.useState(null),[u,c]=F.useState(!1),[h,p]=F.useState(!1),[g,y]=F.useState(null),_=La(),E=["/welcome","/login","/signup","/verify-email","/select-role","/select-league","/claim","/create-league","/join"];F.useEffect(()=>{async function I(){var R,P,j;if(!e||!t){c(!0),i([]),s(null);return}c(!1),p(!0),y(null);try{const U=new AbortController,q=setTimeout(()=>U.abort(),8e3),O=`/leagues/${e}/events`,{data:N}=await Yt.get(O,{signal:U.signal,retry:2});clearTimeout(q);const M=N.events||[];i(Array.isArray(M)?M:[]);const V=localStorage.getItem("selectedEventId"),G=Array.isArray(M)?M.find(H=>H.id===V):null;G?s(G):Array.isArray(M)&&M.length>0?s(M[0]):s(null),y(null)}catch(U){console.error("Failed to fetch events:",U),i([]),s(null),U.name==="AbortError"?y("Request timed out. Please try again."):((R=U.response)==null?void 0:R.status)===401?y("Authentication failed. Please refresh the page."):y(((j=(P=U.response)==null?void 0:P.data)==null?void 0:j.detail)||U.message||"Failed to load events")}finally{p(!1)}}I()},[e,t]),F.useEffect(()=>{a&&localStorage.setItem("selectedEventId",a.id)},[a]);const b=async()=>{var I,R;if(!(!e||!t)){p(!0),y(null);try{const P=`/leagues/${e}/events`,{data:j}=await Yt.get(P,{retry:2}),U=j.events||[];i(Array.isArray(U)?U:[]),y(null)}catch(P){console.error("Failed to refresh events:",P),y(((R=(I=P.response)==null?void 0:I.data)==null?void 0:R.detail)||P.message||"Failed to refresh events")}finally{p(!1)}}},T=u&&!E.includes(_.pathname);return x.jsx(sC.Provider,{value:{events:r,selectedEvent:a,setSelectedEvent:s,setEvents:i,noLeague:u,loading:h,error:g,refreshEvents:b,LeagueFallback:hE},children:T?x.jsx(hE,{}):n})}function Ua(){return F.useContext(sC)}function cd(){const{user:n,userRole:e}=nn(),[t,r]=F.useState(!1),i=Df(),a=Wn(),s=()=>r(!1);return x.jsxs("nav",{className:"bg-white shadow-md p-4",children:[x.jsxs("div",{className:"flex flex-row justify-between items-center max-w-screen-xl mx-auto",children:[x.jsx(oC,{}),x.jsxs("div",{className:"flex items-center gap-x-6 min-w-0 sm:flex",children:[x.jsx(St,{to:"/dashboard",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Home"}),x.jsx(St,{to:"/coach-dashboard",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Coach Dashboard"}),x.jsx(St,{to:"/players",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Players"}),e==="organizer"&&x.jsx(St,{to:"/admin",className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary",children:"Admin"}),n&&x.jsx("button",{onClick:async()=>{await i(),a("/welcome")},className:"text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-2",children:"Log Out"})]}),x.jsx("button",{className:"sm:hidden p-2 ml-2",onClick:()=>r(u=>!u),"aria-label":"Open menu",children:x.jsx(vM,{className:"w-7 h-7 text-cmf-secondary"})})]}),t&&x.jsx("div",{className:"sm:hidden fixed top-16 left-0 w-full bg-white shadow-lg z-50 border-t border-gray-200",children:x.jsxs("div",{className:"flex flex-col items-center py-4 space-y-2",children:[x.jsx(St,{to:"/dashboard",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Home"}),x.jsx(St,{to:"/coach-dashboard",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Coach Dashboard"}),x.jsx(St,{to:"/players",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Players"}),e==="organizer"&&x.jsx(St,{to:"/admin",className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",onClick:s,children:"Admin"}),n&&x.jsx("button",{onClick:async()=>{await i(),a("/welcome")},className:"block text-lg font-semibold text-gray-800 hover:text-cmf-secondary px-4 py-2",children:"Log Out"})]})})]})}function LM(){const{user:n,userRole:e}=nn(),{selectedEvent:t}=Ua(),r=Wn(),i=t&&t.date&&!isNaN(Date.parse(t.date))?new Date(t.date).toLocaleDateString():"No date set";return x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsxs("div",{className:"max-w-lg mx-auto px-4 sm:px-6 py-8",children:[x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border-2 border-cmf-primary/30",children:[x.jsx("h1",{className:"text-2xl font-bold text-cmf-secondary mb-2",children:"Welcome to WooCombine!"}),x.jsx("p",{className:"text-gray-600 mb-4",children:t?x.jsxs(x.Fragment,{children:["Event: ",x.jsx("strong",{children:t.name})," - ",i]}):"Select an event to get started"}),x.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e==="organizer"&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>r("/admin"),className:"bg-cmf-secondary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-primary transition flex items-center justify-center",children:"📊 Manage Event"}),x.jsx("button",{onClick:()=>r("/coach-dashboard"),className:"bg-cmf-primary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-secondary transition flex items-center justify-center",children:"🏆 View Rankings"})]}),e==="coach"&&x.jsx("button",{onClick:()=>r("/coach-dashboard"),className:"bg-cmf-primary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-secondary transition flex items-center justify-center",children:"🏆 Coach Dashboard"}),e==="player"&&t&&x.jsx("button",{onClick:()=>r("/drill-input"),className:"bg-cmf-secondary text-white font-bold px-4 py-3 rounded-lg shadow hover:bg-cmf-primary transition flex items-center justify-center",children:"📝 Submit Drill Results"})]})]}),t&&x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx(Uv,{className:"w-5 h-5 text-cmf-primary"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Event Details"})]}),x.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[x.jsxs("p",{children:[x.jsx("strong",{children:"Name:"})," ",t.name]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Date:"})," ",i]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Location:"})," ",t.location||"Location TBD"]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Getting Started"}),x.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-cmf-primary font-bold",children:"1."}),x.jsx("span",{children:"Select an event from the dropdown above"})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-cmf-primary font-bold",children:"2."}),x.jsxs("span",{children:[e==="organizer"&&"Import players and manage event settings",e==="coach"&&"View player rankings and adjust drill weights",e==="player"&&"Submit your drill results"]})]}),x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("span",{className:"text-cmf-primary font-bold",children:"3."}),x.jsx("span",{children:"View real-time rankings and results"})]})]})]})]})})}function BM(){const{user:n,selectedLeagueId:e}=nn(),{selectedEvent:t}=Ua(),r=Wn(),[i,a]=F.useState([]),[s,u]=F.useState(!0),[c,h]=F.useState(""),p=()=>{if(!(n!=null&&n.email))return"RA";const b=n.email,T=b.split("@")[0].split(".");return T.length>=2?(T[0][0]+T[1][0]).toUpperCase():b.substring(0,2).toUpperCase()},g=b=>{const T=b.split(" ");return T.length>=2?(T[0][0]+T[T.length-1][0]).toUpperCase():b.substring(0,2).toUpperCase()},y=b=>{const T=["bg-blue-500","bg-green-500","bg-purple-500","bg-red-500","bg-yellow-500","bg-indigo-500","bg-pink-500","bg-gray-500"];let I=0;for(let R=0;R<b.length;R++)I=b.charCodeAt(R)+((I<<5)-I);return T[Math.abs(I)%T.length]};F.useEffect(()=>{async function b(){if(!(!t||!n||!e))try{u(!0);const{data:T}=await Yt.get(`/players?event_id=${t.id}`);a(T)}catch(T){console.error("Error fetching players:",T),a([])}finally{u(!1)}}b()},[t,n,e]);const E=i.filter(b=>b.name.toLowerCase().includes(c.toLowerCase())||b.number.toString().includes(c)).reduce((b,T)=>{const I=T.age_group||"Unknown";return b[I]||(b[I]=[]),b[I].push(T),b},{});return x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsx("div",{className:"bg-white px-4 py-3 shadow-sm",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-lg",children:p()})}),x.jsxs("div",{className:"flex-1 text-center",children:[x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(t==null?void 0:t.name)||"Lil' Ballers Fall 24"}),x.jsxs("div",{className:"flex items-center justify-center mt-1",children:[x.jsx("div",{className:"w-4 h-3 bg-blue-600 mr-2 flex items-center justify-center",children:x.jsx("span",{className:"text-white text-xs font-bold",children:"🏳️"})}),x.jsx("p",{className:"text-sm text-gray-600",children:"Central Mass Flag (Worcester)"})]})]}),x.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:x.jsx("div",{className:"w-6 h-6 text-gray-400",children:"⚙️"})})]})}),x.jsxs("div",{className:"px-4 py-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Team Roster"}),x.jsxs("div",{className:"relative mb-6",children:[x.jsx(AM,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),x.jsx("input",{type:"text",placeholder:"Search players...",value:c,onChange:b=>h(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s?x.jsx("div",{className:"flex items-center justify-center py-8",children:x.jsx("div",{className:"text-gray-500",children:"Loading players..."})}):x.jsx("div",{className:"space-y-6",children:Object.keys(E).length===0?x.jsx("div",{className:"text-center py-8",children:x.jsx("div",{className:"text-gray-500",children:"No players found"})}):Object.entries(E).map(([b,T])=>x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[x.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200 rounded-t-lg",children:[x.jsx("h3",{className:"font-bold text-gray-900",children:b}),x.jsxs("p",{className:"text-sm text-gray-600",children:[T.length," player",T.length!==1?"s":""]})]}),x.jsx("div",{className:"divide-y divide-gray-200",children:T.map(I=>x.jsxs("div",{className:"px-4 py-4 flex items-center space-x-3",children:[x.jsx("div",{className:`w-12 h-12 ${y(I.name)} rounded-full flex items-center justify-center`,children:x.jsx("span",{className:"text-white font-bold text-sm",children:g(I.name)})}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"font-medium text-gray-900",children:I.name}),x.jsxs("div",{className:"text-sm text-gray-600",children:["#",I.number]})]}),x.jsx("div",{className:"text-right",children:x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})})]},I.id))})]},b))})]}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:x.jsxs("div",{className:"flex justify-around items-center",children:[x.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex flex-col items-center py-2",children:[x.jsx(nC,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Home"})]}),x.jsxs("button",{className:"flex flex-col items-center py-2",children:[x.jsx(F0,{className:"w-6 h-6 text-purple-600"}),x.jsx("span",{className:"text-xs text-purple-600 font-medium mt-1",children:"Roster"})]}),x.jsxs("button",{className:"flex flex-col items-center py-2 relative",children:[x.jsx(rC,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Chat"}),x.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),x.jsxs("button",{className:"flex flex-col items-center py-2",children:[x.jsx(Uv,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Schedule"})]}),x.jsxs("button",{className:"flex flex-col items-center py-2",children:[x.jsx(iC,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Media"})]})]})}),x.jsx("div",{className:"h-20"})]})}function jM(){const{user:n}=nn(),{selectedEvent:e}=Ua(),t=Wn(),[r,i]=F.useState(new Date),a=()=>{if(!(n!=null&&n.email))return"RA";const y=n.email,_=y.split("@")[0].split(".");return _.length>=2?(_[0][0]+_[1][0]).toUpperCase():y.substring(0,2).toUpperCase()},s=[{id:1,type:"PRACTICE",title:"Practice Session",date:"2024-06-15",time:"12:00 PM - 12:50 PM",location:"Location TBD",status:"upcoming"},{id:2,type:"PRACTICE",title:"Practice Session",date:"2024-06-22",time:"12:00 PM - 12:50 PM",location:"Location TBD",status:"upcoming"},{id:3,type:"GAME",title:"Championship Game",date:"2024-06-29",time:"2:00 PM - 3:30 PM",location:"Main Field",status:"upcoming"}],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=y=>{const _=y.getFullYear(),E=y.getMonth(),b=new Date(_,E,1),I=new Date(_,E+1,0).getDate(),R=b.getDay(),P=[];for(let j=0;j<R;j++)P.push(null);for(let j=1;j<=I;j++){const U=`${_}-${String(E+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`,q=s.some(O=>O.date===U);P.push({day:j,hasEvent:q,dateStr:U})}return P},p=y=>{const _=new Date(r);_.setMonth(_.getMonth()+y),i(_)},g=h(r);return x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsx("div",{className:"bg-white px-4 py-3 shadow-sm",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-lg",children:a()})}),x.jsxs("div",{className:"flex-1 text-center",children:[x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(e==null?void 0:e.name)||"Lil' Ballers Fall 24"}),x.jsxs("div",{className:"flex items-center justify-center mt-1",children:[x.jsx("div",{className:"w-4 h-3 bg-cmf-primary mr-2 flex items-center justify-center",children:x.jsx("span",{className:"text-white text-xs font-bold",children:"🏳️"})}),x.jsx("p",{className:"text-sm text-gray-600",children:"Central Mass Flag (Worcester)"})]})]}),x.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:x.jsx("div",{className:"w-6 h-6 text-gray-400",children:"⚙️"})})]})}),x.jsxs("div",{className:"px-4 py-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Schedule"}),x.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[x.jsx("button",{onClick:()=>p(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:x.jsx(aM,{className:"w-5 h-5 text-gray-600"})}),x.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[u[r.getMonth()]," ",r.getFullYear()]}),x.jsx("button",{onClick:()=>p(1),className:"p-2 hover:bg-gray-100 rounded-full",children:x.jsx(sM,{className:"w-5 h-5 text-gray-600"})})]}),x.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:c.map(y=>x.jsx("div",{className:"px-2 py-2 text-center text-sm font-medium text-gray-600",children:y},y))}),x.jsx("div",{className:"grid grid-cols-7",children:g.map((y,_)=>x.jsx("div",{className:"px-2 py-3 text-center text-sm border-r border-b border-gray-100 min-h-[48px] flex items-center justify-center relative",children:y&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:`${y.hasEvent?"font-bold text-purple-600":"text-gray-900"}`,children:y.day}),y.hasEvent&&x.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-500 rounded-full"})]})},_))})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Upcoming Events"}),s.map(y=>x.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:x.jsx("div",{className:"p-4",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:`w-1 ${y.type==="PRACTICE"?"bg-purple-500":"bg-green-500"} rounded-full mr-4`}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:`${y.type==="PRACTICE"?"text-purple-600":"text-green-600"} font-bold text-sm uppercase tracking-wide mb-1`,children:y.type}),x.jsx("div",{className:"font-bold text-lg text-gray-900 mb-1",children:y.title}),x.jsxs("div",{className:"text-gray-700 text-sm mb-2",children:[new Date(y.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})," • ",y.time]}),x.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[x.jsx("span",{className:"mr-1",children:"📍"}),y.location]})]})]})})},y.id))]})]}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2",children:x.jsxs("div",{className:"flex justify-around items-center",children:[x.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex flex-col items-center py-2",children:[x.jsx(nC,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Home"})]}),x.jsxs("button",{onClick:()=>t("/roster"),className:"flex flex-col items-center py-2",children:[x.jsx(F0,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Roster"})]}),x.jsxs("button",{className:"flex flex-col items-center py-2 relative",children:[x.jsx(rC,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Chat"}),x.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-xs text-white font-bold",children:"3"})})]}),x.jsxs("button",{className:"flex flex-col items-center py-2",children:[x.jsx(Uv,{className:"w-6 h-6 text-purple-600"}),x.jsx("span",{className:"text-xs text-purple-600 font-medium mt-1",children:"Schedule"})]}),x.jsxs("button",{className:"flex flex-col items-center py-2",children:[x.jsx(iC,{className:"w-6 h-6 text-gray-400"}),x.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Media"})]})]})}),x.jsx("div",{className:"h-20"})]})}function Jl({onEventSelected:n}){const{events:e,selectedEvent:t,setSelectedEvent:r,setEvents:i,loading:a,error:s,refreshEvents:u}=Ua(),{selectedLeagueId:c,user:h}=nn(),[p,g]=F.useState(!1),[y,_]=F.useState(""),[E,b]=F.useState(""),[T,I]=F.useState(!1),[R,P]=F.useState(""),j=q=>{if(!Array.isArray(e))return;const O=e.find(N=>N.id===q.target.value);O&&(r(O),n&&n(O))},U=async q=>{var O,N;q.preventDefault(),I(!0),P("");try{const M=E?new Date(E).toISOString().slice(0,10):"",G={id:(await Yt.post(`/leagues/${c}/events`,{name:y,date:M})).data.event_id,name:y,date:M,created_at:new Date().toISOString()};i(H=>[G,...H]),r(G),g(!1),_(""),b(""),n&&n(G)}catch(M){console.error("Event creation error:",M),P(((N=(O=M.response)==null?void 0:O.data)==null?void 0:N.detail)||M.message||"Failed to create event")}finally{I(!1)}};return a?x.jsx("div",{className:"flex flex-col gap-2 mb-6",children:x.jsxs("div",{className:"text-center text-gray-500 py-4",children:[x.jsx("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-300 border-t-cmf-primary rounded-full"}),x.jsx("div",{className:"mt-2",children:"Loading events..."})]})}):s?x.jsx("div",{className:"flex flex-col gap-2 mb-6",children:x.jsxs("div",{className:"text-center text-red-500 py-4 bg-red-50 rounded-lg border border-red-200",children:[x.jsx("div",{className:"mb-2",children:"⚠️ Failed to load events"}),x.jsx("div",{className:"text-sm text-red-400 mb-3",children:s}),x.jsx("button",{onClick:u,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition text-sm",children:"Try Again"})]})}):x.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[e.length===0&&x.jsx("div",{className:"text-center text-cmf-secondary text-lg font-semibold py-2",children:"No events found. Please create a new event."}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("select",{value:(t==null?void 0:t.id)||"",onChange:j,className:"border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",disabled:!Array.isArray(e)||e.length===0,children:[x.jsx("option",{value:"",children:"Select an event..."}),Array.isArray(e)&&e.map(q=>{let O="Invalid Date";return q.date&&!isNaN(Date.parse(q.date))&&(O=new Date(q.date).toLocaleDateString()),x.jsxs("option",{value:q.id,children:[q.name," – ",O]},q.id)})]}),x.jsx("button",{onClick:()=>g(!0),className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow hover:bg-cmf-secondary transition",children:"Create New Event"})]}),p&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[x.jsx("h3",{className:"text-lg font-bold mb-4",children:"Create New Event"}),x.jsxs("form",{onSubmit:U,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name"}),x.jsx("input",{type:"text",value:y,onChange:q=>_(q.target.value),className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Date"}),x.jsx("input",{type:"date",value:E,onChange:q=>b(q.target.value),className:"w-full border rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),R&&x.jsx("div",{className:"text-red-500 text-sm mb-4",children:R}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{type:"submit",disabled:T,className:"bg-cmf-primary text-white px-4 py-2 rounded hover:bg-cmf-secondary transition disabled:opacity-50",children:T?"Creating...":"Create"}),x.jsx("button",{type:"button",onClick:()=>g(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition",children:"Cancel"})]})]})]})})]})}function lC({onCreated:n}){const{user:e,addLeague:t}=nn(),r=Wn(),[i,a]=F.useState(""),[s,u]=F.useState(!1),[c,h]=F.useState(""),p=async g=>{g.preventDefault(),u(!0),h("");try{const{data:y}=await Yt.post("/leagues",{name:i,user_id:e==null?void 0:e.uid,email:e==null?void 0:e.email});t&&t({id:y.league_id,name:i,role:"organizer"}),n&&n(y.league_id),r("/onboarding/event")}catch(y){h(y.message||"Error creating league")}finally{u(!1)}};return x.jsxs("div",{className:"w-full max-w-md text-center",children:[x.jsx("div",{className:"text-center mb-6",children:x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),x.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Create a New League"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Create your league and then set up your first combine event."}),x.jsxs("form",{onSubmit:p,className:"space-y-4",children:[x.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",placeholder:"League Name",value:i,onChange:g=>a(g.target.value),required:!0}),x.jsx("button",{type:"submit",className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",disabled:s,children:s?"Creating...":"Create League & Continue"}),c&&x.jsx("div",{className:"text-red-500 text-sm mt-2",children:c})]})]})}function VM(){return x.jsx(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:x.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:x.jsx(lC,{})})})}const UM={"40m_dash":.3,vertical_jump:.2,catching:.15,throwing:.15,agility:.2},Oc=[{key:"40m_dash",label:"40M Dash"},{key:"vertical_jump",label:"Vertical Jump"},{key:"catching",label:"Catching"},{key:"throwing",label:"Throwing"},{key:"agility",label:"Agility"}],gg={balanced:{name:"Balanced",description:"Equal emphasis on all skills",weights:{"40m_dash":.2,vertical_jump:.2,catching:.2,throwing:.2,agility:.2}},speed:{name:"Speed Focused",description:"Emphasizes speed and athleticism",weights:{"40m_dash":.4,vertical_jump:.3,catching:.1,throwing:.1,agility:.1}},skills:{name:"Skills Focused",description:"Emphasizes catching and throwing",weights:{"40m_dash":.1,vertical_jump:.1,catching:.35,throwing:.35,agility:.1}},athletic:{name:"Athletic",description:"Emphasizes physical abilities",weights:{"40m_dash":.25,vertical_jump:.25,catching:.15,throwing:.15,agility:.2}}};function FM(){const{selectedEvent:n,noLeague:e,LeagueFallback:t}=Ua(),{user:r,selectedLeagueId:i,userRole:a,leagues:s}=nn(),[u,c]=F.useState(""),[h,p]=F.useState([]),[g,y]=F.useState(!1),[_,E]=F.useState(null),[b,T]=F.useState([]),[I,R]=F.useState({...UM}),[P,j]=F.useState("athletic"),U=Wn(),q=()=>{const k=Object.values(I).reduce((_e,ee)=>_e+ee,0),xe={};return Oc.forEach(_e=>{xe[_e.key]=Math.round(I[_e.key]/k*100)}),xe},O=(k,xe)=>{const _e={...q(),[k]:xe},ee=Object.values(_e).reduce((fe,Ae)=>fe+Ae,0);if(ee===0)return;const le={};Oc.forEach(fe=>{le[fe.key]=_e[fe.key]/ee}),R(le),j(null)},N=k=>{R({...gg[k].weights}),j(k)};F.useEffect(()=>{async function k(){var xe,_e,ee,le;if(!(!n||!r||!i))try{const{data:fe}=await Yt.get(`/players?event_id=${n.id}`);T(fe)}catch(fe){console.log("[CoachDashboard] Players API response:",(xe=fe.response)==null?void 0:xe.status,(ee=(_e=fe.response)==null?void 0:_e.data)==null?void 0:ee.detail),((le=fe.response)==null?void 0:le.status)===404?(console.log("[CoachDashboard] No players found for event yet (normal for new events)"),T([])):(console.error("[CoachDashboard] Players fetch error:",fe),T([]))}}k()},[n,r,i]);const M=[...new Set(b.map(k=>k.age_group))].sort();F.useEffect(()=>{const xe=setTimeout(async()=>{var _e,ee,le,fe;if(!u||!r||!i||!n){p([]);return}y(!0),E(null);try{const Ae=new URLSearchParams({age_group:u,event_id:n.id});Ae.append("weight_40m_dash",I["40m_dash"]),Ae.append("weight_vertical_jump",I.vertical_jump),Ae.append("weight_catching",I.catching),Ae.append("weight_throwing",I.throwing),Ae.append("weight_agility",I.agility);const X=await Yt.get(`/rankings?${Ae.toString()}`);p(X.data)}catch(Ae){console.log("[CoachDashboard] Rankings API response:",(_e=Ae.response)==null?void 0:_e.status,(le=(ee=Ae.response)==null?void 0:ee.data)==null?void 0:le.detail),((fe=Ae.response)==null?void 0:fe.status)===404?(console.log("[CoachDashboard] No rankings found yet (normal for new events)"),E(null),p([])):(console.error("[CoachDashboard] Rankings fetch error:",Ae),E(Ae.message))}finally{y(!1)}},300);return()=>clearTimeout(xe)},[u,I,r,i,n]);const V=()=>{if(!u||h.length===0)return;let k=`Rank,Name,Player Number,Composite Score
`;h.forEach(Ae=>{k+=`${Ae.rank},"${Ae.name}",${Ae.number},${Ae.composite_score.toFixed(2)}
`});const xe=n?new Date(n.date).toISOString().slice(0,10):"event",_e=`rankings_${u}_${xe}.csv`,ee=new Blob([k],{type:"text/csv"}),le=URL.createObjectURL(ee),fe=document.createElement("a");fe.href=le,fe.download=_e,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(le)},G=n&&n.date&&!isNaN(Date.parse(n.date))?new Date(n.date).toLocaleDateString():"Invalid Date";if(F.useEffect(()=>{const k=window.location.hash;if(k){const xe=document.querySelector(k);xe&&xe.scrollIntoView({behavior:"smooth"})}},[]),b.length===0){const k=()=>{U("/admin#player-upload-section")};return!s||s.length===0?x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh] mt-20",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[x.jsx("h2",{className:"text-2xl font-bold text-cmf-secondary mb-4",children:"Welcome to Woo-Combine!"}),x.jsx("p",{className:"text-cmf-secondary mb-2",children:"It looks like you haven't created a league yet. That's totally normal for new organizers!"}),x.jsx("p",{className:"text-gray-700 mb-4",children:"To get started, create your first league below:"}),x.jsx(lC,{onCreated:()=>U("/onboarding/event")})]})}):x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh] mt-20",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[x.jsx("h2",{className:"text-2xl font-bold text-cmf-secondary mb-4",children:"Welcome to Woo-Combine!"}),x.jsx("p",{className:"text-cmf-secondary mb-2",children:"It looks like you haven't added any players yet. That's totally normal for new leagues!"}),x.jsx("p",{className:"text-gray-700 mb-4",children:"To get started, you can:"}),x.jsx("div",{className:"flex flex-col gap-3 items-center",children:a==="organizer"?x.jsx("button",{onClick:k,className:"bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition w-full max-w-xs",children:"📥 Import Players"}):x.jsx("span",{className:"text-gray-500",children:"Waiting for organizer to import players."})})]})})}if(e)return x.jsx(t,{});const H=q();return x.jsx("div",{className:"min-h-screen bg-gray-50 text-cmf-contrast font-sans",children:x.jsxs("div",{className:"max-w-lg mx-auto px-4 sm:px-6 mt-20",children:[x.jsx(Jl,{}),x.jsx("div",{className:"text-xs uppercase font-bold text-gray-500 tracking-wide mb-1",children:"Coach Dashboard"}),x.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-4",children:n?`${n.name} – ${G}`:"No event selected"}),x.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 mb-4 shadow-sm",children:[x.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Select Age Group"}),x.jsxs("select",{value:u,onChange:k=>c(k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:ring-cmf-primary focus:border-cmf-primary sm:text-sm",children:[x.jsx("option",{value:"",children:"Select Age Group"}),M.map(k=>x.jsx("option",{value:k,children:k},k))]})]}),a==="organizer"&&x.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-2xl p-5 mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(TM,{className:"w-4 h-4 text-cmf-primary"}),x.jsx("h2",{className:"text-sm font-medium text-gray-800",children:"Ranking Priorities"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quick Presets:"}),x.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(gg).map(([k,xe])=>x.jsxs("button",{onClick:()=>N(k),className:`p-3 text-left rounded-lg border-2 transition-all ${P===k?"border-cmf-primary bg-cmf-primary/5 text-cmf-primary":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[x.jsx("div",{className:"font-medium text-sm",children:xe.name}),x.jsx("div",{className:"text-xs text-gray-500 mt-1",children:xe.description})]},k))})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Custom Adjustments:",P&&x.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(Currently using ",gg[P].name,")"]})]}),x.jsx("div",{className:"space-y-4",children:Oc.map(k=>x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("div",{className:"flex-1",children:[x.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:k.label}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("input",{type:"range",min:0,max:100,value:H[k.key],onChange:xe=>O(k.key,parseInt(xe.target.value)),className:"flex-1 accent-cmf-primary h-2 rounded-lg bg-gray-100"}),x.jsx("div",{className:"w-12 text-right",children:x.jsxs("span",{className:"text-sm font-mono text-cmf-primary",children:[H[k.key],"%"]})})]})]})},k.key))}),x.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:"Rankings update automatically as you adjust priorities"})]})]}),g?x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[x.jsx("div",{className:"animate-spin inline-block w-6 h-6 border-2 border-gray-300 border-t-cmf-primary rounded-full mb-2"}),x.jsx("div",{className:"text-gray-500",children:"Updating rankings..."})]}):_?x.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-red-700",children:[x.jsx("strong",{children:"Error:"})," ",_]}):u===""?x.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 text-center text-gray-500",children:"Please select an age group to view rankings."}):h.length===0?x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 text-center text-yellow-700",children:"No players found for this age group."}):x.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 overflow-x-auto",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[x.jsxs("h2",{className:"text-xl font-semibold",children:["Rankings (",u,")"]}),x.jsx("button",{onClick:V,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-700 text-sm",disabled:h.length===0,children:"Export as CSV"})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-gray-200",children:[x.jsx("th",{className:"py-3 px-2",children:"Rank"}),x.jsx("th",{className:"py-3 px-2",children:"Name"}),x.jsx("th",{className:"py-3 px-2",children:"Player #"}),x.jsx("th",{className:"py-3 px-2",children:"Overall Score"}),x.jsx("th",{className:"py-3 px-2 text-center",children:"40M Dash"}),x.jsx("th",{className:"py-3 px-2 text-center",children:"Vertical"}),x.jsx("th",{className:"py-3 px-2 text-center",children:"Catching"}),x.jsx("th",{className:"py-3 px-2 text-center",children:"Throwing"}),x.jsx("th",{className:"py-3 px-2 text-center",children:"Agility"})]})}),x.jsx("tbody",{children:h.map(k=>{const xe={};return Oc.forEach(_e=>{const le=h.filter(fe=>fe[_e.key]!=null).map(fe=>({player_id:fe.player_id,score:fe[_e.key]})).sort((fe,Ae)=>Ae.score-fe.score).findIndex(fe=>fe.player_id===k.player_id)+1;xe[_e.key]=le>0?le:null}),x.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50",children:[x.jsx("td",{className:`py-3 px-2 font-bold ${k.rank===1?"text-yellow-500":k.rank===2?"text-gray-500":k.rank===3?"text-orange-500":""}`,children:k.rank===1?"🥇":k.rank===2?"🥈":k.rank===3?"🥉":k.rank}),x.jsx("td",{className:"py-3 px-2",children:k.name}),x.jsx("td",{className:"py-3 px-2",children:k.number}),x.jsx("td",{className:"py-3 px-2 font-mono font-bold",children:k.composite_score.toFixed(2)}),Oc.map(_e=>x.jsx("td",{className:"py-3 px-2 text-center",children:k[_e.key]!=null?x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"font-mono text-sm",children:k[_e.key]}),x.jsxs("span",{className:"text-xs text-gray-500",children:["#",xe[_e.key]||"-"]})]}):x.jsx("span",{className:"text-gray-400",children:"-"})},_e.key))]},k.player_id)})})]})})]})]})})}const HM=[{value:"40m_dash",label:"40M Dash"},{value:"vertical_jump",label:"Vertical Jump"},{value:"catching",label:"Catching"},{value:"throwing",label:"Throwing"},{value:"agility",label:"Agility"}];function zM({playerId:n,onSuccess:e}){const{user:t,selectedLeagueId:r}=nn(),{selectedEvent:i}=Ua(),[a,s]=F.useState(""),[u,c]=F.useState(""),[h,p]=F.useState(!1),[g,y]=F.useState(""),[_,E]=F.useState(""),b=async T=>{if(T.preventDefault(),y(""),E(""),!a||!u){y("Please select a drill type and enter a value.");return}if(!i){y("No event selected. Please select an event first.");return}p(!0);try{await Yt.post("/drill-results/",{player_id:n,type:a,value:parseFloat(u),event_id:i.id}),E("Drill result submitted!"),s(""),c(""),e&&e()}catch(I){y(I.message)}finally{p(!1)}};return x.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-md mx-auto mb-6",children:[x.jsx("h2",{className:"text-xl font-bold mb-4 text-cmf-primary",children:"Submit Drill Result"}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block mb-1 font-semibold",children:"Drill Type"}),x.jsxs("select",{value:a,onChange:T=>s(T.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0,children:[x.jsx("option",{value:"",children:"Select a drill"}),HM.map(T=>x.jsx("option",{value:T.value,children:T.label},T.value))]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block mb-1 font-semibold",children:"Value"}),x.jsx("input",{type:"number",step:"any",value:u,onChange:T=>c(T.target.value),className:"w-full border-cmf-secondary rounded px-3 py-2 focus:ring-cmf-primary focus:border-cmf-primary",required:!0})]}),g&&x.jsx("div",{className:"text-red-500 mb-2 text-sm",children:g}),_&&x.jsx("div",{className:"text-green-600 mb-2 text-sm",children:_}),x.jsx("button",{type:"submit",className:"w-full bg-cmf-primary hover:bg-cmf-secondary text-white font-bold py-2 rounded-lg shadow transition",disabled:h,children:h?"Submitting...":"Submit Result"})]})}const dE=[{key:"40m_dash",label:"40M Dash",unit:"sec"},{key:"vertical_jump",label:"Vertical Jump",unit:"in"},{key:"catching",label:"Catching",unit:"pts"},{key:"throwing",label:"Throwing",unit:"pts"},{key:"agility",label:"Agility",unit:"pts"}],GM={"40m_dash":.3,vertical_jump:.2,catching:.15,throwing:.15,agility:.2};function qM({player:n,allPlayers:e,onClose:t,onSave:r}){const[i,a]=F.useState({name:(n==null?void 0:n.name)||"",number:(n==null?void 0:n.number)||"",age_group:(n==null?void 0:n.age_group)||""}),[s,u]=F.useState(!1),[c,h]=F.useState(""),p=[...new Set(e.map(_=>_.age_group).filter(_=>_&&_.trim()!==""))].sort(),g=(_,E)=>{a(b=>({...b,[_]:E})),h("")},y=async()=>{var _,E;if(!i.name.trim()){h("Player name is required");return}u(!0),h("");try{const b={name:i.name.trim(),number:i.number?parseInt(i.number):null,age_group:i.age_group.trim()||null};await Yt.put(`/players/${n.id}?event_id=${n.event_id}`,b),r(),t()}catch(b){console.error("Error updating player:",b),h(((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.detail)||"Failed to update player")}finally{u(!1)}};return n?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[x.jsxs("div",{className:"bg-cmf-primary text-white p-6 rounded-t-xl flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(CM,{className:"w-5 h-5"}),x.jsx("h2",{className:"text-xl font-bold",children:"Edit Player"})]}),x.jsx("button",{onClick:t,className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition",children:x.jsx(aC,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"p-6 space-y-4",children:[c&&x.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:c}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),x.jsx("input",{type:"text",value:i.name,onChange:_=>g("name",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cmf-primary focus:border-cmf-primary",placeholder:"Enter player name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Number"}),x.jsx("input",{type:"number",value:i.number,onChange:_=>g("number",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cmf-primary focus:border-cmf-primary",placeholder:"Enter player number",min:"1",max:"999"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age Group"}),x.jsx("input",{type:"text",list:"age-group-suggestions",value:i.age_group,onChange:_=>g("age_group",_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-cmf-primary focus:border-cmf-primary",placeholder:"e.g., 6U, U8, 7-8, 9-10 years old"}),x.jsxs("datalist",{id:"age-group-suggestions",children:[p.map(_=>x.jsx("option",{value:_},_)),x.jsx("option",{value:"6U"}),x.jsx("option",{value:"U6"}),x.jsx("option",{value:"8U"}),x.jsx("option",{value:"U8"}),x.jsx("option",{value:"10U"}),x.jsx("option",{value:"U10"}),x.jsx("option",{value:"12U"}),x.jsx("option",{value:"U12"}),x.jsx("option",{value:"5-6"}),x.jsx("option",{value:"7-8"}),x.jsx("option",{value:"9-10"}),x.jsx("option",{value:"11-12"}),x.jsx("option",{value:"13-14"}),x.jsx("option",{value:"15-16"}),x.jsx("option",{value:"17-18"})]}),x.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Type any format your league uses (6U, U8, 7-8 years old, etc.)"})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{onClick:t,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 rounded-lg transition",disabled:s,children:"Cancel"}),x.jsx("button",{onClick:y,disabled:s,className:"flex-1 bg-cmf-primary hover:bg-cmf-secondary text-white font-medium py-2 rounded-lg transition disabled:opacity-50",children:s?"Saving...":"Save Changes"})]})]})]})}):null}function XM({player:n,allPlayers:e,onClose:t}){if(!n)return null;const r={};dE.forEach(s=>{const c=e.filter(h=>h[s.key]!=null&&h.age_group===n.age_group).map(h=>({player_id:h.id,score:h[s.key]})).sort((h,p)=>p.score-h.score).findIndex(h=>h.player_id===n.id)+1;r[s.key]=c>0?c:null});const i=dE.map(s=>{const u=n[s.key]||0,c=GM[s.key],h=u*c;return{...s,rawScore:u,weight:c,weightedScore:h,rank:r[s.key]}}),a=i.reduce((s,u)=>s+u.weightedScore,0);return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[x.jsxs("div",{className:"bg-cmf-primary text-white p-6 rounded-t-xl flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold",children:n.name}),x.jsxs("p",{className:"text-cmf-light",children:["Player #",n.number," • Age Group: ",n.age_group]})]}),x.jsx("button",{onClick:t,className:"w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition",children:x.jsx(aC,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"p-6 border-b border-gray-200",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx(nM,{className:"w-8 h-8 text-yellow-500"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Overall Ranking"}),x.jsxs("p",{className:"text-2xl font-bold text-cmf-primary",children:[n.composite_score?n.composite_score.toFixed(2):"N/A"," points"]})]})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Age Group Rank:"}),x.jsxs("span",{className:"text-lg font-bold text-cmf-secondary",children:["#",e.filter(s=>s.age_group===n.age_group&&s.composite_score!=null).sort((s,u)=>(u.composite_score||0)-(s.composite_score||0)).findIndex(s=>s.id===n.id)+1,"of ",e.filter(s=>s.age_group===n.age_group).length]})]})})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx(RM,{className:"w-5 h-5 text-cmf-primary"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Drill Performance"})]}),x.jsx("div",{className:"space-y-4",children:i.map(s=>x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("div",{className:"flex justify-between items-start mb-2",children:x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-gray-900",children:s.label}),x.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[x.jsxs("span",{className:"text-lg font-bold text-cmf-primary",children:[s.rawScore||"No score"," ",s.rawScore&&s.unit]}),s.rank&&x.jsxs("span",{className:"bg-cmf-primary text-white px-2 py-1 rounded-full text-xs font-medium",children:["Rank #",s.rank]})]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Weight: "}),x.jsxs("span",{className:"font-medium",children:[(s.weight*100).toFixed(0),"%"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Contribution: "}),x.jsxs("span",{className:"font-medium",children:[s.weightedScore.toFixed(2)," pts"]})]})]}),x.jsx("div",{className:"mt-3",children:x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:"bg-cmf-primary h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(s.weightedScore/Math.max(...i.map(u=>u.weightedScore))*100,100)}%`}})})})]},s.key))}),x.jsxs("div",{className:"mt-6 p-4 bg-cmf-primary/10 rounded-lg border-2 border-cmf-primary/20",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-semibold text-gray-900",children:"Total Composite Score:"}),x.jsxs("span",{className:"text-xl font-bold text-cmf-primary",children:[a.toFixed(2)," pts"]})]}),x.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Calculated using current drill weights"})]})]})]})})}function WM(){const{selectedEvent:n}=Ua(),{user:e,selectedLeagueId:t,userRole:r}=nn(),[i,a]=F.useState([]),[s,u]=F.useState(!0),[c,h]=F.useState(null),[p,g]=F.useState({}),[y,_]=F.useState(null),[E,b]=F.useState(null),T=()=>x.jsxs("div",{className:"bg-cmf-primary/10 border-l-4 border-cmf-primary text-cmf-primary px-4 py-3 mb-6 rounded",children:[x.jsx("strong",{children:"Tip:"})," Select an event to manage players and record results."]}),I=async()=>{var j,U,q,O;if(!n||!e||!t){console.log("[Players] No event/user/league selected, skipping player fetch."),a([]),u(!1);return}u(!0),h(null);try{const{data:N}=await Yt.get(`/players?event_id=${n.id}`);a(N)}catch(N){console.log("[Players] API response:",(j=N.response)==null?void 0:j.status,(q=(U=N.response)==null?void 0:U.data)==null?void 0:q.detail),((O=N.response)==null?void 0:O.status)===404?(console.log("[Players] No players found for event yet (normal for new events)"),h(null),a([])):(console.error("[Players] Fetch error:",N),h(N.message))}finally{u(!1)}};F.useEffect(()=>{I()},[n,e,t]);const R=j=>{g(U=>({...U,[j]:!U[j]}))},P=(i||[]).reduce((j,U)=>{const q=U.age_group||"Unassigned";return j[q]=j[q]||[],j[q].push(U),j},{});return!n||!n.id?x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[x.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No event selected"}),x.jsx("p",{className:"text-cmf-secondary mb-4",children:r==="organizer"?"Select or create an event to manage players and drills.":"Ask your league operator to assign you to an event."}),x.jsx("div",{className:"mb-4",children:x.jsx(Jl,{})})]})})}):s?x.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:x.jsx("div",{children:"Loading players..."})}):c?c.includes("422")?x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[x.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No players found"}),x.jsx("p",{className:"text-cmf-secondary mb-4",children:"Use the Admin tab to upload or import players to get started."}),x.jsx(St,{to:"/admin",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-secondary transition",children:"Go to Admin"})]})})}):x.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:x.jsxs("div",{className:"text-red-500",children:["Error: ",c]})}):i.length===0?x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-lg mx-auto text-center border-2 border-cmf-primary/30",children:[x.jsx("h2",{className:"text-2xl font-bold text-cmf-primary mb-4",children:"No players found yet"}),x.jsx("p",{className:"text-cmf-secondary mb-4",children:"You can upload a CSV or add them manually to get started."}),x.jsxs("div",{className:"flex gap-4 justify-center",children:[x.jsx(St,{to:"/admin#player-upload-section",className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-secondary transition",children:"Upload CSV"}),x.jsx(St,{to:"/admin#player-upload-section",className:"bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition",children:"Add Player"})]})]})})}):x.jsx("div",{className:"min-h-screen bg-gray-50 text-cmf-contrast font-sans",children:x.jsxs("div",{className:"max-w-lg mx-auto px-4 sm:px-6 mt-20",children:[x.jsx(Jl,{}),x.jsx(T,{}),x.jsx("div",{className:"text-xs uppercase font-bold text-gray-500 tracking-wide mb-1",children:"WooCombine: Players"}),x.jsxs("h1",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Managing: ",n.name," – ",new Date(n.event_date).toLocaleDateString()]}),y&&x.jsx(XM,{player:y,allPlayers:i,onClose:()=>_(null)}),E&&x.jsx(qM,{player:E,allPlayers:i,onClose:()=>b(null),onSave:I}),Object.keys(P).length===0?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"No players found for this event."}):Object.entries(P).sort(([j],[U])=>j.localeCompare(U)).map(([j,U])=>{const q=U.sort((O,N)=>O.composite_score!==N.composite_score?(N.composite_score||0)-(O.composite_score||0):O.name.localeCompare(N.name));return x.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 py-4 px-5 mb-6",children:[x.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:x.jsxs("span",{children:["Age Group: ",j]})}),x.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:x.jsxs("table",{className:"min-w-full bg-white",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),x.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),x.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player #"}),x.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Composite Score"}),x.jsx("th",{className:"py-2 px-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map((O,N)=>x.jsxs(fA.Fragment,{children:[x.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[x.jsx("td",{className:`py-2 px-2 font-bold ${N===0?"text-yellow-500":N===1?"text-gray-500":N===2?"text-orange-500":""}`,children:N===0?"🥇":N===1?"🥈":N===2?"🥉":N+1}),x.jsx("td",{className:"py-2 px-2",children:O.name}),x.jsx("td",{className:"py-2 px-2",children:O.number||"N/A"}),x.jsx("td",{className:"py-2 px-2 font-mono",children:O.composite_score!=null?O.composite_score.toFixed(2):"No scores yet"}),x.jsx("td",{className:"py-2 px-2",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>_(O),className:"text-blue-600 hover:text-blue-900 text-sm underline",disabled:!O.composite_score&&!Object.values(O).some(M=>typeof M=="number"&&M>0),children:"View Stats"}),x.jsx("button",{onClick:()=>b(O),className:"text-green-600 hover:text-green-900 text-sm underline",children:"Edit"}),x.jsx("button",{onClick:()=>R(O.id),className:"text-cyan-600 hover:text-cyan-900 text-sm underline",children:"Add Result"})]})})]}),p[O.id]&&x.jsx("tr",{className:"bg-blue-50",children:x.jsx("td",{colSpan:"5",className:"py-4 px-2",children:x.jsx(zM,{playerId:O.id,onSuccess:()=>{R(O.id),I()}})})})]},O.id))})]})})]},j)})]})})}var Rl={},mg={exports:{}},vg,pE;function YM(){if(pE)return vg;pE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vg=n,vg}var yg,gE;function $M(){if(gE)return yg;gE=1;var n=YM();function e(){}function t(){}return t.resetWarningCache=e,yg=function(){function r(s,u,c,h,p,g){if(g!==n){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},yg}var mE;function uC(){return mE||(mE=1,mg.exports=$M()()),mg.exports}var xg,vE;function cC(){return vE||(vE=1,xg={L:1,M:0,Q:3,H:2}),xg}var _g,yE;function fC(){return yE||(yE=1,_g={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),_g}var wg,xE;function KM(){if(xE)return wg;xE=1;var n=fC();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}},wg=e,wg}var Eg,_E;function QM(){if(_E)return Eg;_E=1;var n=cC();function e(t,r){this.totalCount=t,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,r){var i=e.getRsBlockTable(t,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var a=i.length/3,s=new Array,u=0;u<a;u++)for(var c=i[u*3+0],h=i[u*3+1],p=i[u*3+2],g=0;g<c;g++)s.push(new e(h,p));return s},e.getRsBlockTable=function(t,r){switch(r){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},Eg=e,Eg}var Ag,wE;function ZM(){if(wE)return Ag;wE=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Ag=n,Ag}var bg,EE;function hC(){if(EE)return bg;EE=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return bg=n,bg}var Tg,AE;function dC(){if(AE)return Tg;AE=1;var n=hC();function e(t,r){if(t.length==null)throw new Error(t.length+"/"+r);for(var i=0;i<t.length&&t[i]==0;)i++;this.num=new Array(t.length-i+r);for(var a=0;a<t.length-i;a++)this.num[a]=t[a+i]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<t.getLength();a++)r[i+a]^=n.gexp(n.glog(this.get(i))+n.glog(t.get(a)));return new e(r,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=n.glog(this.get(0))-n.glog(t.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<t.getLength();a++)i[a]^=n.gexp(n.glog(t.get(a))+r);return new e(i,0).mod(t)}},Tg=e,Tg}var Sg,bE;function JM(){if(bE)return Sg;bE=1;var n=fC(),e=dC(),t=hC(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var s=a<<10;i.getBCHDigit(s)-i.getBCHDigit(i.G15)>=0;)s^=i.G15<<i.getBCHDigit(s)-i.getBCHDigit(i.G15);return(a<<10|s)^i.G15_MASK},getBCHTypeNumber:function(a){for(var s=a<<12;i.getBCHDigit(s)-i.getBCHDigit(i.G18)>=0;)s^=i.G18<<i.getBCHDigit(s)-i.getBCHDigit(i.G18);return a<<12|s},getBCHDigit:function(a){for(var s=0;a!=0;)s++,a>>>=1;return s},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,s,u){switch(a){case r.PATTERN000:return(s+u)%2==0;case r.PATTERN001:return s%2==0;case r.PATTERN010:return u%3==0;case r.PATTERN011:return(s+u)%3==0;case r.PATTERN100:return(Math.floor(s/2)+Math.floor(u/3))%2==0;case r.PATTERN101:return s*u%2+s*u%3==0;case r.PATTERN110:return(s*u%2+s*u%3)%2==0;case r.PATTERN111:return(s*u%3+(s+u)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var s=new e([1],0),u=0;u<a;u++)s=s.multiply(new e([1,t.gexp(u)],0));return s},getLengthInBits:function(a,s){if(1<=s&&s<10)switch(a){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(s<27)switch(a){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(s<41)switch(a){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+s)},getLostPoint:function(a){for(var s=a.getModuleCount(),u=0,c=0;c<s;c++)for(var h=0;h<s;h++){for(var p=0,g=a.isDark(c,h),y=-1;y<=1;y++)if(!(c+y<0||s<=c+y))for(var _=-1;_<=1;_++)h+_<0||s<=h+_||y==0&&_==0||g==a.isDark(c+y,h+_)&&p++;p>5&&(u+=3+p-5)}for(var c=0;c<s-1;c++)for(var h=0;h<s-1;h++){var E=0;a.isDark(c,h)&&E++,a.isDark(c+1,h)&&E++,a.isDark(c,h+1)&&E++,a.isDark(c+1,h+1)&&E++,(E==0||E==4)&&(u+=3)}for(var c=0;c<s;c++)for(var h=0;h<s-6;h++)a.isDark(c,h)&&!a.isDark(c,h+1)&&a.isDark(c,h+2)&&a.isDark(c,h+3)&&a.isDark(c,h+4)&&!a.isDark(c,h+5)&&a.isDark(c,h+6)&&(u+=40);for(var h=0;h<s;h++)for(var c=0;c<s-6;c++)a.isDark(c,h)&&!a.isDark(c+1,h)&&a.isDark(c+2,h)&&a.isDark(c+3,h)&&a.isDark(c+4,h)&&!a.isDark(c+5,h)&&a.isDark(c+6,h)&&(u+=40);for(var b=0,h=0;h<s;h++)for(var c=0;c<s;c++)a.isDark(c,h)&&b++;var T=Math.abs(100*b/s/s-50)/5;return u+=T*10,u}};return Sg=i,Sg}var Cg,TE;function ek(){if(TE)return Cg;TE=1;var n=KM(),e=QM(),t=ZM(),r=JM(),i=dC();function a(u,c){this.typeNumber=u,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s=a.prototype;return s.addData=function(u){var c=new n(u);this.dataList.push(c),this.dataCache=null},s.isDark=function(u,c){if(u<0||this.moduleCount<=u||c<0||this.moduleCount<=c)throw new Error(u+","+c);return this.modules[u][c]},s.getModuleCount=function(){return this.moduleCount},s.make=function(){if(this.typeNumber<1){var u=1;for(u=1;u<40;u++){for(var c=e.getRSBlocks(u,this.errorCorrectLevel),h=new t,p=0,g=0;g<c.length;g++)p+=c[g].dataCount;for(var g=0;g<this.dataList.length;g++){var y=this.dataList[g];h.put(y.mode,4),h.put(y.getLength(),r.getLengthInBits(y.mode,u)),y.write(h)}if(h.getLengthInBits()<=p*8)break}this.typeNumber=u}this.makeImpl(!1,this.getBestMaskPattern())},s.makeImpl=function(u,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var h=0;h<this.moduleCount;h++){this.modules[h]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[h][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(u,c),this.typeNumber>=7&&this.setupTypeNumber(u),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},s.setupPositionProbePattern=function(u,c){for(var h=-1;h<=7;h++)if(!(u+h<=-1||this.moduleCount<=u+h))for(var p=-1;p<=7;p++)c+p<=-1||this.moduleCount<=c+p||(0<=h&&h<=6&&(p==0||p==6)||0<=p&&p<=6&&(h==0||h==6)||2<=h&&h<=4&&2<=p&&p<=4?this.modules[u+h][c+p]=!0:this.modules[u+h][c+p]=!1)},s.getBestMaskPattern=function(){for(var u=0,c=0,h=0;h<8;h++){this.makeImpl(!0,h);var p=r.getLostPoint(this);(h==0||u>p)&&(u=p,c=h)}return c},s.createMovieClip=function(u,c,h){var p=u.createEmptyMovieClip(c,h),g=1;this.make();for(var y=0;y<this.modules.length;y++)for(var _=y*g,E=0;E<this.modules[y].length;E++){var b=E*g,T=this.modules[y][E];T&&(p.beginFill(0,100),p.moveTo(b,_),p.lineTo(b+g,_),p.lineTo(b+g,_+g),p.lineTo(b,_+g),p.endFill())}return p},s.setupTimingPattern=function(){for(var u=8;u<this.moduleCount-8;u++)this.modules[u][6]==null&&(this.modules[u][6]=u%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},s.setupPositionAdjustPattern=function(){for(var u=r.getPatternPosition(this.typeNumber),c=0;c<u.length;c++)for(var h=0;h<u.length;h++){var p=u[c],g=u[h];if(this.modules[p][g]==null)for(var y=-2;y<=2;y++)for(var _=-2;_<=2;_++)y==-2||y==2||_==-2||_==2||y==0&&_==0?this.modules[p+y][g+_]=!0:this.modules[p+y][g+_]=!1}},s.setupTypeNumber=function(u){for(var c=r.getBCHTypeNumber(this.typeNumber),h=0;h<18;h++){var p=!u&&(c>>h&1)==1;this.modules[Math.floor(h/3)][h%3+this.moduleCount-8-3]=p}for(var h=0;h<18;h++){var p=!u&&(c>>h&1)==1;this.modules[h%3+this.moduleCount-8-3][Math.floor(h/3)]=p}},s.setupTypeInfo=function(u,c){for(var h=this.errorCorrectLevel<<3|c,p=r.getBCHTypeInfo(h),g=0;g<15;g++){var y=!u&&(p>>g&1)==1;g<6?this.modules[g][8]=y:g<8?this.modules[g+1][8]=y:this.modules[this.moduleCount-15+g][8]=y}for(var g=0;g<15;g++){var y=!u&&(p>>g&1)==1;g<8?this.modules[8][this.moduleCount-g-1]=y:g<9?this.modules[8][15-g-1+1]=y:this.modules[8][15-g-1]=y}this.modules[this.moduleCount-8][8]=!u},s.mapData=function(u,c){for(var h=-1,p=this.moduleCount-1,g=7,y=0,_=this.moduleCount-1;_>0;_-=2)for(_==6&&_--;;){for(var E=0;E<2;E++)if(this.modules[p][_-E]==null){var b=!1;y<u.length&&(b=(u[y]>>>g&1)==1);var T=r.getMask(c,p,_-E);T&&(b=!b),this.modules[p][_-E]=b,g--,g==-1&&(y++,g=7)}if(p+=h,p<0||this.moduleCount<=p){p-=h,h=-h;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(u,c,h){for(var p=e.getRSBlocks(u,c),g=new t,y=0;y<h.length;y++){var _=h[y];g.put(_.mode,4),g.put(_.getLength(),r.getLengthInBits(_.mode,u)),_.write(g)}for(var E=0,y=0;y<p.length;y++)E+=p[y].dataCount;if(g.getLengthInBits()>E*8)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+E*8+")");for(g.getLengthInBits()+4<=E*8&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=E*8||(g.put(a.PAD0,8),g.getLengthInBits()>=E*8));)g.put(a.PAD1,8);return a.createBytes(g,p)},a.createBytes=function(u,c){for(var h=0,p=0,g=0,y=new Array(c.length),_=new Array(c.length),E=0;E<c.length;E++){var b=c[E].dataCount,T=c[E].totalCount-b;p=Math.max(p,b),g=Math.max(g,T),y[E]=new Array(b);for(var I=0;I<y[E].length;I++)y[E][I]=255&u.buffer[I+h];h+=b;var R=r.getErrorCorrectPolynomial(T),P=new i(y[E],R.getLength()-1),j=P.mod(R);_[E]=new Array(R.getLength()-1);for(var I=0;I<_[E].length;I++){var U=I+j.getLength()-_[E].length;_[E][I]=U>=0?j.get(U):0}}for(var q=0,I=0;I<c.length;I++)q+=c[I].totalCount;for(var O=new Array(q),N=0,I=0;I<p;I++)for(var E=0;E<c.length;E++)I<y[E].length&&(O[N++]=y[E][I]);for(var I=0;I<g;I++)for(var E=0;E<c.length;E++)I<_[E].length&&(O[N++]=_[E][I]);return O},Cg=a,Cg}var fd={},SE;function tk(){if(SE)return fd;SE=1,Object.defineProperty(fd,"__esModule",{value:!0});var n=Object.assign||function(h){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])}return h},e=uC(),t=a(e),r=vf(),i=a(r);function a(h){return h&&h.__esModule?h:{default:h}}function s(h,p){var g={};for(var y in h)p.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y]);return g}var u={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},c=(0,r.forwardRef)(function(h,p){var g=h.bgColor,y=h.bgD,_=h.fgD,E=h.fgColor,b=h.size,T=h.title,I=h.viewBoxSize,R=h.xmlns,P=R===void 0?"http://www.w3.org/2000/svg":R,j=s(h,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",n({},j,{height:b,ref:p,viewBox:"0 0 "+I+" "+I,width:b,xmlns:P}),T?i.default.createElement("title",null,T):null,i.default.createElement("path",{d:y,fill:g}),i.default.createElement("path",{d:_,fill:E}))});return c.displayName="QRCodeSvg",c.propTypes=u,fd.default=c,fd}var CE;function nk(){if(CE)return Rl;CE=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.QRCode=void 0;var n=Object.assign||function(b){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var R in I)Object.prototype.hasOwnProperty.call(I,R)&&(b[R]=I[R])}return b},e=uC(),t=g(e),r=cC(),i=g(r),a=ek(),s=g(a),u=vf(),c=g(u),h=tk(),p=g(h);function g(b){return b&&b.__esModule?b:{default:b}}function y(b,T){var I={};for(var R in b)T.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(b,R)&&(I[R]=b[R]);return I}var _={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},E=(0,u.forwardRef)(function(b,T){var I=b.bgColor,R=I===void 0?"#FFFFFF":I,P=b.fgColor,j=P===void 0?"#000000":P,U=b.level,q=U===void 0?"L":U,O=b.size,N=O===void 0?256:O,M=b.value,V=y(b,["bgColor","fgColor","level","size","value"]),G=new s.default(-1,i.default[q]);G.addData(M),G.make();var H=G.modules;return c.default.createElement(p.default,n({},V,{bgColor:R,bgD:H.map(function(k,xe){return k.map(function(_e,ee){return _e?"":"M "+ee+" "+xe+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:j,fgD:H.map(function(k,xe){return k.map(function(_e,ee){return _e?"M "+ee+" "+xe+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:T,size:N,viewBoxSize:H.length}))});return Rl.QRCode=E,E.displayName="QRCode",E.propTypes=_,Rl.default=E,Rl}var rk=nk();const pC=cA(rk),hd=["name","number","age_group","40m_dash","vertical_jump","catching","throwing","agility"],ik=[["Jane Smith","23","9-10","6.1","19","8","7","6.8"],["Alex Lee","45","U12","5.8","21","9","8","7.2"],["Sam Jones","7","6U","7.2","15","6","6","5.9"]];function ak(n){const e=n.trim().split(/\r?\n/),t=e[0].split(",").map(i=>i.trim()),r=e.slice(1).map(i=>i.split(",").map(a=>a.trim()));return{headers:t,rows:r}}function ok(n,e){const t=[],r={};return e.forEach((i,a)=>{r[i]=n[a]??""}),r.name||t.push("Missing name"),r.number&&r.number.trim()!==""&&isNaN(Number(r.number))&&t.push("Invalid number"),["40m_dash","vertical_jump","catching","throwing","agility"].forEach(i=>{const a=r[i];a&&a.trim()!==""&&isNaN(Number(a))&&t.push(`Invalid ${i}`)}),{...r,warnings:t}}function sk(){const{user:n,role:e,userRole:t,selectedLeagueId:r,leagues:i}=nn(),{selectedEvent:a,setEvents:s,setSelectedEvent:u}=Ua(),[c,h]=F.useState(""),[p,g]=F.useState("idle"),[y,_]=F.useState(""),[E,b]=F.useState([]),[T,I]=F.useState([]),[R,P]=F.useState([]),[j,U]=F.useState(""),[q,O]=F.useState("idle"),[N,M]=F.useState(""),[V,G]=F.useState(!1),[H,k]=F.useState({name:"",number:"",age_group:"","40m_dash":"",vertical_jump:"",catching:"",throwing:"",agility:""}),[xe,_e]=F.useState([]),[ee,le]=F.useState("idle"),[fe,Ae]=F.useState(""),[X,ce]=F.useState(0),[ve,de]=F.useState(!1),Se=F.useRef(),[ze,ke]=F.useState(!1),Gt=i==null?void 0:i.find(be=>be.id===r),st=(Gt==null?void 0:Gt.id)||"",hr=st?`https://woo-combine.com/join?code=${st}`:"",[Gi,gi]=F.useState(!1);F.useEffect(()=>{const be=()=>{if(window.location.hash==="#player-upload-section"){const Te=document.getElementById("player-upload-section");Te&&Te.scrollIntoView({behavior:"smooth"})}};return be(),window.addEventListener("hashchange",be),()=>window.removeEventListener("hashchange",be)},[]),F.useEffect(()=>{console.log("[AdminTools] mount"),console.log("[AdminTools] userRole:",t),console.log("[AdminTools] selectedEvent:",a)},[t,a]);const qi=async()=>{if(!(!a||!n||!r)){g("loading"),_("");try{await Yt.delete(`/players/reset?event_id=${a.id}`),g("success"),h("")}catch(be){g("error"),_(be.message||"Error during reset.")}}},Xi=be=>{const Te=be.target.files[0];if(!Te)return;U(Te.name);const Pe=new FileReader;Pe.onload=xt=>{const ft=xt.target.result,{headers:rr,rows:xu}=ak(ft),mi=[];(rr.length!==hd.length||!hd.every((ei,Tr)=>ei===rr[Tr]))&&mi.push("Headers must match: "+hd.join(", "));const $i=xu.map(ei=>ok(ei,rr));I(rr),b($i),P(mi)},Pe.readAsText(Te)};R.length===0&&E.length>0&&E.every(be=>be.warnings.length===0);const Wi=R.length===0&&E.length>0&&E.some(be=>be.name&&be.name.trim()!=="");E.every(be=>be.warnings.every(Te=>!Te.includes("Missing name")));const Fa=async()=>{var be,Te,Pe,xt;if(!(!a||!n||!r)){de(!0);try{const{data:ft}=await Yt.get(`/players?event_id=${a.id}`);ce(Array.isArray(ft)?ft.length:0)}catch(ft){console.log("[AdminTools] Player count API response:",(be=ft.response)==null?void 0:be.status,(Pe=(Te=ft.response)==null?void 0:Te.data)==null?void 0:Pe.detail),((xt=ft.response)==null?void 0:xt.status)===404?(console.log("[AdminTools] No players found for event yet (normal for new events)"),ce(0)):(console.error("[AdminTools] Player count fetch error:",ft),ce(0))}finally{de(!1)}}};F.useEffect(()=>{Fa()},[a,n,r]);const Uo=()=>{Fa()},dr=async()=>{if(!a||!n||!r)return;O("loading"),M("");const be={event_id:a.id,players:E.map(Te=>{const{warnings:Pe,...xt}=Te;return xt})};console.log("Uploading players:",be);try{const Te=await Yt.post("/players/upload",be);console.log("Upload response:",Te);const{data:Pe}=Te;Pe.errors&&Pe.errors.length>0?(O("error"),M("Some rows failed to upload. See errors below.")):(O("success"),M(`✅ Upload successful! ${Pe.added} players added.`),b([]),I([]),U(""),Uo())}catch(Te){O("error"),M(`❌ ${Te.message||"Upload failed."}`)}},kr=be=>{k({...H,[be.target.name]:be.target.value})},Fo=()=>{const be=[];return H.name||be.push("Missing name"),H.number&&isNaN(Number(H.number))&&be.push("Invalid number"),["40m_dash","vertical_jump","catching","throwing","agility"].forEach(Te=>{H[Te]&&isNaN(Number(H[Te]))&&be.push(`Invalid ${Te}`)}),be},Ha=async be=>{be.preventDefault(),_e([]),le("idle"),Ae("");const Te=Fo();if(Te.length>0){_e(Te);return}le("loading");try{const Pe={name:H.name,number:Number(H.number),age_group:H.age_group};H.photo_url&&(Pe.photo_url=H.photo_url),await Yt.post(`/players?event_id=${a.id}`,Pe),le("success"),Ae("Player added!"),k({name:"",number:"",age_group:"","40m_dash":"",vertical_jump:"",catching:"",throwing:"",agility:""}),Uo()}catch(Pe){le("error"),Ae(Pe.message||"Failed to add player.")}},Yi=()=>{let be=hd.join(",")+`
`;ik.forEach(ft=>{be+=ft.join(",")+`
`});const Te=new Blob([be],{type:"text/csv"}),Pe=URL.createObjectURL(Te),xt=document.createElement("a");xt.href=Pe,xt.download="sample_players.csv",document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),URL.revokeObjectURL(Pe)},yu=()=>x.jsxs("div",{className:"bg-cmf-primary/10 border-l-4 border-cmf-primary text-cmf-primary px-4 py-3 mb-6 rounded",children:[x.jsx("strong",{children:"Welcome, Admin."})," Manage your combine tools below."]}),br="Score range: 1–10. Use decimals for precision (e.g., 7.5)",za=()=>{b([]),I([]),P([]),U(""),O("idle"),M(""),Se.current&&(Se.current.value="")};return t!=="organizer"?x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto text-center border-2 border-red-200",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Admin Access Required"}),x.jsxs("p",{className:"text-cmf-secondary",children:["You do not have permission to view this page.",x.jsx("br",{}),"Organizer access required."]})]})})}):!a||!a.id?x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsx("div",{className:"flex flex-col items-center justify-center min-h-[40vh]",children:x.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-md mx-auto text-center border-2 border-yellow-200",children:[x.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-4",children:"No Event Selected"}),x.jsx("p",{className:"text-cmf-secondary mb-4",children:"Before importing players, you'll need to select or create an event."}),x.jsx("div",{className:"mb-4",children:x.jsx(Jl,{})})]})})}):x.jsx("div",{className:"min-h-screen bg-gray-50 text-cmf-contrast font-sans",children:x.jsx("div",{className:"max-w-lg mx-auto px-4 sm:px-6 mt-20",children:x.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",children:[x.jsx(Jl,{}),a&&x.jsx("div",{className:"flex items-center gap-3 mb-4",children:x.jsxs("span",{className:"inline-flex items-center bg-cmf-primary/10 border border-cmf-primary text-cmf-primary font-bold px-4 py-2 rounded-full text-base",children:[x.jsx("span",{role:"img","aria-label":"player",children:"🧍"}),ve?x.jsx("span",{className:"ml-2 animate-pulse",children:"Loading..."}):x.jsxs("span",{className:"ml-2",children:[X," Players Uploaded to: ",a.name," – ",a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"]})]})}),x.jsx(yu,{}),x.jsxs("div",{className:"mb-4 text-lg font-semibold flex items-center gap-2 text-gray-900",children:[x.jsx("span",{role:"img","aria-label":"event",children:"🏷️"}),"Managing: ",a?`${a.name} – ${a.date&&!isNaN(Date.parse(a.date))?new Date(a.date).toLocaleDateString():"Invalid Date"}`:"No event selected"]}),x.jsx("div",{id:"player-upload-section",className:"mb-8",children:x.jsxs("div",{className:"mb-2",children:[x.jsx("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1",children:"Step 2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add Players to Your Event"}),x.jsxs("div",{className:"flex gap-2 mb-2",children:[x.jsxs("button",{className:"bg-cmf-primary text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cmf-secondary transition",onClick:Yi,children:[x.jsx(cE,{className:"inline-block mr-2 w-4 h-4"}),"Sample CSV"]}),x.jsx("button",{className:"bg-cmf-primary text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cmf-secondary transition",onClick:()=>G(be=>!be),children:"+ Add Player Manually"})]}),x.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Uploading to: ",x.jsxs("span",{className:"font-bold",children:[a.name," – ",new Date(a.date).toLocaleDateString()]})]}),x.jsxs("div",{className:"border-dashed border-2 border-blue-300 bg-blue-50 p-5 rounded-xl text-center text-sm text-gray-600 flex flex-col items-center",children:[x.jsx(cE,{className:"w-8 h-8 text-blue-400 mb-2"}),x.jsx("input",{ref:Se,type:"file",accept:".csv",onChange:Xi,className:"mb-2 cursor-pointer",style:{maxWidth:300}}),j&&x.jsx("div",{className:"text-xs text-gray-500 mb-2",children:j}),R.length>0&&x.jsx("div",{className:"text-red-500 text-sm mb-2",children:R.join("; ")}),Array.isArray(E)&&E.length>0&&R.length===0&&x.jsx("div",{className:"overflow-x-auto max-h-64 border rounded mb-2 w-full",children:x.jsxs("table",{className:"min-w-full text-xs",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-2 py-1"}),x.jsx("th",{className:"px-2 py-1",children:"#"}),Array.isArray(T)&&T.length>0&&T.map(be=>x.jsxs("th",{className:"px-2 py-1",children:[be.replace(/_/g," ").replace("m dash","m Dash").replace(/\b\w/g,Te=>Te.toUpperCase()),["40m_dash","vertical_jump","catching","throwing","agility"].includes(be)&&x.jsx("span",{className:"ml-1 cursor-pointer",title:br,children:"ℹ️"})]},be)),x.jsx("th",{className:"px-2 py-1",children:"Warnings"})]})}),x.jsx("tbody",{children:Array.isArray(E)&&E.length>0&&E.map((be,Te)=>{const Pe=be.warnings.length>0,xt=be.warnings.some(rr=>rr.includes("Missing name")||rr.includes("Invalid")),ft=be.name&&be.name.trim()!=="";return x.jsxs("tr",{className:xt?"bg-red-50":Pe?"bg-yellow-50":"",children:[x.jsx("td",{className:"px-2 py-1 text-center",children:ft?x.jsx("span",{className:"text-green-600",children:"✅"}):x.jsx("span",{className:"text-red-500 cursor-pointer",title:be.warnings.join(", "),children:"❌"})}),x.jsx("td",{className:"px-2 py-1 font-mono",children:Te+1}),Array.isArray(T)&&T.length>0&&T.map(rr=>x.jsx("td",{className:"px-2 py-1",children:be[rr]},rr)),x.jsx("td",{className:"px-2 py-1 text-yellow-600",children:be.warnings&&be.warnings.length>0?be.warnings.join(", "):""})]},Te)})})]})}),Array.isArray(E)&&E.length>0&&x.jsx("button",{className:"mt-2 bg-cmf-secondary text-white font-bold px-4 py-2 rounded shadow hover:bg-cmf-primary transition",onClick:za,type:"button",children:"🔁 Upload Another CSV"}),x.jsx("button",{className:"bg-cmf-primary text-white font-bold px-4 py-2 rounded-lg shadow disabled:opacity-50 hover:bg-cmf-secondary transition mt-2",disabled:!Wi||q==="loading"||!a,onClick:dr,children:q==="loading"?"Uploading...":"Confirm Upload"}),q==="success"&&x.jsxs("div",{className:"mt-4",children:[x.jsx("div",{className:"text-green-600 mb-4 font-semibold",children:N}),x.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"🎉 What's Next?"}),x.jsx("p",{className:"text-green-700 text-sm mb-4",children:"Your players have been successfully uploaded! Here's what you can do now:"}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("button",{onClick:za,className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left",children:"📂 Upload More Players (CSV or Manual)"}),x.jsx(St,{to:"/players",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:"👥 View & Manage Players (Add Drill Results)"}),x.jsx(St,{to:"/coach-dashboard",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:"📊 View Dashboard & Rankings"})]})]})]}),q==="error"&&x.jsx("div",{className:"text-red-500 mt-2",children:N})]})]})}),V&&x.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",id:"manual-add-form-section",children:[x.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[x.jsx(fE,{className:"w-4 h-4"}),"Manual Add"]}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add Player Manually"}),x.jsxs("form",{onSubmit:async be=>{if(await Ha(be),ee==="success"){const Te=document.getElementById("manual-add-form-section");Te&&Te.scrollIntoView({behavior:"smooth",block:"center"})}},children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[x.jsx("input",{name:"name",value:H.name,onChange:kr,placeholder:"Name",className:"border rounded px-2 py-1",required:!0}),x.jsx("input",{name:"number",value:H.number,onChange:kr,placeholder:"Number",className:"border rounded px-2 py-1"}),x.jsx("input",{name:"age_group",value:H.age_group,onChange:kr,placeholder:"Age Group (e.g., 6U, U8, 7-8)",className:"border rounded px-2 py-1",list:"manual-age-group-suggestions"}),x.jsxs("datalist",{id:"manual-age-group-suggestions",children:[x.jsx("option",{value:"6U"}),x.jsx("option",{value:"U6"}),x.jsx("option",{value:"8U"}),x.jsx("option",{value:"U8"}),x.jsx("option",{value:"10U"}),x.jsx("option",{value:"U10"}),x.jsx("option",{value:"12U"}),x.jsx("option",{value:"U12"}),x.jsx("option",{value:"5-6"}),x.jsx("option",{value:"7-8"}),x.jsx("option",{value:"9-10"}),x.jsx("option",{value:"11-12"}),x.jsx("option",{value:"13-14"}),x.jsx("option",{value:"15-16"}),x.jsx("option",{value:"17-18"})]}),x.jsxs("label",{className:"flex items-center gap-1",children:[x.jsx("input",{name:"40m_dash",value:H["40m_dash"],onChange:kr,placeholder:"40m Dash",className:"border rounded px-2 py-1 flex-1"}),x.jsx("span",{className:"cursor-pointer",title:br,children:"ℹ️"})]}),x.jsxs("label",{className:"flex items-center gap-1",children:[x.jsx("input",{name:"vertical_jump",value:H.vertical_jump,onChange:kr,placeholder:"Vertical Jump",className:"border rounded px-2 py-1 flex-1"}),x.jsx("span",{className:"cursor-pointer",title:br,children:"ℹ️"})]}),x.jsxs("label",{className:"flex items-center gap-1",children:[x.jsx("input",{name:"catching",value:H.catching,onChange:kr,placeholder:"Catching",className:"border rounded px-2 py-1 flex-1"}),x.jsx("span",{className:"cursor-pointer",title:br,children:"ℹ️"})]}),x.jsxs("label",{className:"flex items-center gap-1",children:[x.jsx("input",{name:"throwing",value:H.throwing,onChange:kr,placeholder:"Throwing",className:"border rounded px-2 py-1 flex-1"}),x.jsx("span",{className:"cursor-pointer",title:br,children:"ℹ️"})]}),x.jsxs("label",{className:"flex items-center gap-1",children:[x.jsx("input",{name:"agility",value:H.agility,onChange:kr,placeholder:"Agility",className:"border rounded px-2 py-1 flex-1"}),x.jsx("span",{className:"cursor-pointer",title:br,children:"ℹ️"})]})]}),xe.length>0&&x.jsx("div",{className:"text-red-500 text-sm mt-2",children:xe.join(", ")}),x.jsxs("div",{className:"flex gap-2 mt-4 flex-wrap justify-center",children:[x.jsxs("button",{type:"submit",className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",disabled:ee==="loading",children:[x.jsx(fE,{className:"w-4 h-4"}),ee==="loading"?"Adding...":"Add Player"]}),x.jsx("button",{type:"button",className:"bg-gray-200 text-cyan-700 rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-gray-300 transition flex items-center gap-2",onClick:()=>G(!1),children:"Cancel"})]}),ee==="success"&&x.jsxs("div",{className:"mt-4",children:[x.jsxs("div",{className:"text-green-600 mb-4 font-semibold",children:["✅ ",fe]}),x.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-3",children:"🎉 What's Next?"}),x.jsx("p",{className:"text-green-700 text-sm mb-4",children:"Player added successfully! Here's what you can do now:"}),x.jsxs("div",{className:"grid gap-2",children:[x.jsx("button",{onClick:()=>{le("idle"),Ae("")},className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left",children:"➕ Add Another Player"}),x.jsx("button",{onClick:()=>{G(!1),le("idle"),Ae("")},className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left",children:"📂 Upload Players via CSV"}),x.jsx(St,{to:"/players",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:"👥 View & Manage Players (Add Drill Results)"}),x.jsx(St,{to:"/coach-dashboard",className:"bg-white border border-green-300 text-green-700 px-4 py-2 rounded-md font-medium hover:bg-green-50 transition text-left block",children:"📊 View Dashboard & Rankings"})]})]})]}),ee==="error"&&x.jsxs("div",{className:"text-red-500 mt-2",children:["❌ ",fe]})]})]}),x.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6",children:[x.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[x.jsx(uE,{className:"w-4 h-4"}),"Reset Players"]}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Remove All Players from Event"}),x.jsxs("label",{className:"block mb-1 font-medium",children:["Type ",x.jsx("span",{className:"font-mono",children:"REMOVE"})," to enable reset:"]}),x.jsx("input",{type:"text",value:c,onChange:be=>h(be.target.value),className:"w-full border-cyan-200 rounded px-3 py-2 focus:ring-cyan-600 focus:border-cyan-600 mb-2",disabled:p==="success"}),x.jsxs("button",{disabled:c!=="REMOVE"||p==="loading"||p==="success"||!a,onClick:qi,className:"bg-red-500 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm mt-2 disabled:opacity-50 hover:bg-red-600 transition flex items-center gap-2",children:[x.jsx(uE,{className:"w-4 h-4"}),p==="loading"?"Resetting...":"Reset All Players"]}),p==="success"&&x.jsx("div",{className:"text-green-600 mt-4",children:"Reset successful!"}),p==="error"&&x.jsx("div",{className:"text-red-500 mt-4",children:y})]}),e==="organizer"&&r&&x.jsxs("div",{className:"rounded-2xl shadow-sm bg-white border border-gray-200 py-4 px-5 mb-6 flex flex-col items-center text-center",children:[x.jsxs("div",{className:"text-xs font-bold text-gray-500 tracking-wide uppercase mb-1 flex items-center gap-2",children:[x.jsx(F0,{className:"w-4 h-4"}),"Invite Coaches"]}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Share League Access"}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Share this code, link, or QR with coaches to let them join as a coach."}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-2 w-full justify-center",children:[x.jsx("div",{className:"font-mono text-lg bg-gray-100 text-gray-800 px-4 py-2 rounded-lg border flex-1 select-all",children:st}),x.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(st)},children:[x.jsx(JS,{className:"w-4 h-4"}),"Copy Code"]}),x.jsxs("button",{className:"bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>{navigator.clipboard.writeText(hr)},children:[x.jsx(dM,{className:"w-4 h-4"}),"Copy Invite Link"]}),x.jsxs("button",{className:"bg-cyan-700 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-800 transition flex items-center gap-2",onClick:()=>ke(!0),children:[x.jsx(mf,{className:"w-4 h-4"}),"Show QR"]})]}),ze&&x.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:x.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg flex flex-col items-center",children:[x.jsx(pC,{value:hr,size:200}),x.jsxs("div",{className:"mt-2 text-xs",children:["Scan to join: ",x.jsx("br",{}),hr]}),x.jsxs("button",{className:"mt-4 bg-cyan-600 text-white rounded-full px-5 py-2 text-sm font-medium shadow-sm hover:bg-cyan-700 transition flex items-center gap-2",onClick:()=>ke(!1),children:[x.jsx(mf,{className:"w-4 h-4"}),"Close"]})]})})]})]})})})}function lk(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[i,a]=F.useState(!1),[s,u]=F.useState(""),[c,h]=F.useState(!1),{loading:p}=nn(),g=Wn(),y=async _=>{_.preventDefault(),u(""),h(!0);try{const E=await Ab(Ft,n,t);await E.user.reload(),E.user.emailVerified||g("/verify-email")}catch(E){E.code==="auth/invalid-credential"?u("Account not found. Please sign up before logging in."):E.code==="auth/user-not-found"||E.code==="auth/wrong-password"?u("Invalid email or password."):u("Login failed. Please try again.")}finally{h(!1)}};return p?x.jsx("div",{children:"Loading..."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"w-full flex flex-row justify-between items-center mb-6 px-2",children:[x.jsx("button",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none",type:"button","aria-label":"Back to welcome",onClick:()=>g("/welcome"),children:x.jsx(Vv,{size:20})}),x.jsx(St,{to:"/help",className:"text-xs text-cyan-700 hover:underline font-semibold",children:"Need Help?"})]}),x.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Welcome Back"}),x.jsxs("form",{onSubmit:y,className:"w-full flex flex-col items-center",children:[x.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:_=>e(_.target.value),className:"w-full mb-6 px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0}),x.jsxs("div",{className:"relative w-full mb-6",children:[x.jsx("input",{type:i?"text":"password",placeholder:"Password",value:t,onChange:_=>r(_.target.value),className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition pr-12",required:!0}),x.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-700 hover:text-cyan-900",tabIndex:-1,onClick:()=>a(_=>!_),"aria-label":i?"Hide password":"Show password",children:i?x.jsx(eC,{size:22}):x.jsx(tC,{size:22})})]}),s&&x.jsx("div",{className:"text-red-500 mb-4 text-sm w-full text-center",children:s}),x.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-800 text-white font-bold px-6 py-3 rounded-full shadow transition mb-4",disabled:c,children:c?"Signing in...":"Sign In"}),x.jsxs("div",{className:"w-full flex flex-col gap-2 mt-2 text-center",children:[x.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",x.jsx(St,{to:"/signup",className:"text-cyan-700 font-semibold hover:underline",children:"Let's Get Started"})]}),x.jsx("span",{className:"text-sm",children:x.jsx(St,{to:"/forgot-password",className:"text-cyan-700 hover:underline",children:"Forgot password?"})})]})]})]})}function uk(){return x.jsx(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:x.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:x.jsx(lk,{})})})}const ck="modulepreload",fk=function(n){return"/"+n},IE={},hk=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=s(t.map(h=>{if(h=fk(h),h in IE)return;IE[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":ck,p||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((_,E)=>{y.addEventListener("load",_),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function dk(){const[n,e]=F.useState(""),[t,r]=F.useState(""),[i,a]=F.useState(""),[s,u]=F.useState(""),[c,h]=F.useState(!1),[p,g]=F.useState(""),[y,_]=F.useState(!1),{user:E,loading:b,error:T}=nn(),I=Wn(),R=async P=>{P.preventDefault(),g(""),_(!0);try{const j=await Eb(Ft,i,s);if(j.user)try{await hk(()=>Promise.resolve().then(()=>YO),[]).then(U=>U.sendEmailVerification(j.user)),console.log("Verification email sent to:",j.user.email)}catch(U){console.error("Failed to send verification email:",U)}I("/verify-email")}catch(j){g(j.message),console.error("Signup error:",j)}finally{_(!1)}};return b?x.jsx("div",{children:"Loading..."}):x.jsxs("div",{className:"w-full max-w-md flex flex-col items-center relative",children:[x.jsx("button",{className:"absolute left-4 top-4 w-9 h-9 flex items-center justify-center rounded-full bg-cyan-50 hover:bg-cyan-100 border border-cyan-200 shadow text-cyan-700 hover:text-cyan-900 focus:outline-none z-10",type:"button","aria-label":"Back to welcome",onClick:()=>I("/welcome"),style:{left:0,top:0,position:"absolute"},children:x.jsx(Vv,{size:20})}),x.jsx(St,{to:"/help",className:"absolute right-4 top-4 text-xs text-cyan-700 hover:underline font-semibold",style:{right:0,top:0,position:"absolute"},children:"Need Help?"}),x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-20 h-20 mx-auto mb-4 mt-8",style:{objectFit:"contain"}}),x.jsx("h2",{className:"text-3xl font-extrabold mb-6 text-center text-cyan-700 drop-shadow",children:"Let's Get Started"}),x.jsxs("form",{onSubmit:R,className:"w-full flex flex-col items-center",children:[x.jsxs("div",{className:"flex flex-row gap-4 w-full mb-6 min-w-0",children:[x.jsx("input",{type:"text",placeholder:"First Name",value:n,onChange:P=>e(P.target.value),className:"flex-1 min-w-0 box-border px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0}),x.jsx("input",{type:"text",placeholder:"Last Name",value:t,onChange:P=>r(P.target.value),className:"flex-1 min-w-0 box-border px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0})]}),x.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:P=>a(P.target.value),className:"w-full mb-6 px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition",required:!0}),x.jsxs("div",{className:"relative w-full mb-6",children:[x.jsx("input",{type:c?"text":"password",placeholder:"Create Password",value:s,onChange:P=>u(P.target.value),className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition pr-12",required:!0}),x.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-cyan-700 hover:text-cyan-900",tabIndex:-1,onClick:()=>h(P=>!P),"aria-label":c?"Hide password":"Show password",children:c?x.jsx(eC,{size:22}):x.jsx(tC,{size:22})})]}),p&&x.jsx("div",{className:"text-red-500 mb-4 text-sm",children:p}),T&&x.jsx("div",{className:"text-red-500 mb-4 text-sm",children:T.message}),x.jsx("button",{type:"submit",className:"w-full bg-cyan-700 hover:bg-cyan-800 text-white font-bold py-3 rounded-full shadow transition mb-4",disabled:y,children:y?"Signing up...":"Sign Up"}),x.jsxs("div",{className:"text-xs text-gray-500 text-center mb-2",children:["By signing up for Woo-Combine, you agree to our"," ",x.jsx(St,{to:"/terms",className:"underline hover:text-cyan-700",children:"Terms & Conditions"})," and"," ",x.jsx(St,{to:"/privacy",className:"underline hover:text-cyan-700",children:"Privacy Policy"}),"."]})]})]})}function pk(){return x.jsx(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:x.jsx("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:x.jsx(dk,{})})})}function Mi({children:n}){const{user:e,loading:t,roleChecking:r}=nn();return t||r?x.jsx("div",{children:"Loading..."}):e?e.emailVerified?n:x.jsx(Vg,{to:"/verify-email",replace:!0}):x.jsx(Vg,{to:"/login",replace:!0})}function gk(n,e){var t=Object.setPrototypeOf;t?t(n,e):n.__proto__=e}function mk(n,e){e===void 0&&(e=n.constructor);var t=Error.captureStackTrace;t&&t(n,e)}var vk=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},n(t,r)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yk=function(n){vk(e,n);function e(t,r){var i=this.constructor,a=n.call(this,t,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),gk(a,i.prototype),mk(a),a}return e}(Error),xk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ar=function(n){xk(e,n);function e(t){t===void 0&&(t=void 0);var r=n.call(this,t)||this;return r.message=t,r}return e.prototype.getKind=function(){var t=this.constructor;return t.kind},e.kind="Exception",e}(yk),_k=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jt=function(n){_k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Ar),wk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Re=function(n){wk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Ar),gC=function(){function n(e){if(this.binarizer=e,e===null)throw new Re("Binarizer must be non-null.")}return n.prototype.getWidth=function(){return this.binarizer.getWidth()},n.prototype.getHeight=function(){return this.binarizer.getHeight()},n.prototype.getBlackRow=function(e,t){return this.binarizer.getBlackRow(e,t)},n.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},n.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},n.prototype.crop=function(e,t,r,i){var a=this.binarizer.getLuminanceSource().crop(e,t,r,i);return new n(this.binarizer.createBinarizer(a))},n.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},n.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new n(this.binarizer.createBinarizer(e))},n.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new n(this.binarizer.createBinarizer(e))},n.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},n}(),Ek=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),cn=function(n){Ek(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ar),Ak=function(){function n(e){this.source=e}return n.prototype.getLuminanceSource=function(){return this.source},n.prototype.getWidth=function(){return this.source.getWidth()},n.prototype.getHeight=function(){return this.source.getHeight()},n}(),It=function(){function n(){}return n.arraycopy=function(e,t,r,i,a){for(;a--;)r[i++]=e[t++]},n.currentTimeMillis=function(){return Date.now()},n}(),bk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fv=function(n){bk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Ar),Tk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),RE=function(n){Tk(e,n);function e(t,r){t===void 0&&(t=void 0),r===void 0&&(r=void 0);var i=n.call(this,r)||this;return i.index=t,i.message=r,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Fv),Sk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},wn=function(){function n(){}return n.fill=function(e,t){for(var r=0,i=e.length;r<i;r++)e[r]=t},n.fillWithin=function(e,t,r,i){n.rangeCheck(e.length,t,r);for(var a=t;a<r;a++)e[a]=i},n.rangeCheck=function(e,t,r){if(t>r)throw new Re("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new RE(t);if(r>e)throw new RE(r)},n.asList=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},n.create=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:t}).fill(r)})},n.createInt32Array=function(e,t,r){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:t}).fill(r)})},n.equals=function(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]!==t[r])return!1;return!0},n.hashCode=function(e){var t,r;if(e===null)return 0;var i=1;try{for(var a=Sk(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=31*i+u}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.fillUint8Array=function(e,t){for(var r=0;r!==e.length;r++)e[r]=t},n.copyOf=function(e,t){return e.slice(0,t)},n.copyOfUint8Array=function(e,t){if(e.length<=t){var r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)},n.copyOfRange=function(e,t,r){var i=r-t,a=new Int32Array(i);return It.arraycopy(e,t,a,0,i),a},n.binarySearch=function(e,t,r){r===void 0&&(r=n.numberComparator);for(var i=0,a=e.length-1;i<=a;){var s=a+i>>1,u=r(t,e[s]);if(u>0)i=s+1;else if(u<0)a=s-1;else return s}return-i-1},n.numberComparator=function(e,t){return e-t},n}(),Ye=function(){function n(){}return n.numberOfTrailingZeros=function(e){var t;if(e===0)return 32;var r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)},n.numberOfLeadingZeros=function(e){if(e===0)return 32;var t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t},n.toHexString=function(e){return e.toString(16)},n.toBinaryString=function(e){return String(parseInt(String(e),2))},n.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},n.truncDivision=function(e,t){return Math.trunc(e/t)},n.parseInt=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n.MIN_VALUE_32_BITS=-2147483648,n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Mn=function(){function n(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=n.makeArray(e):this.bits=t)}return n.prototype.getSize=function(){return this.size},n.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},n.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var t=n.makeArray(e);It.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}},n.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},n.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},n.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},n.prototype.getNextSet=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=r[i]}var u=i*32+Ye.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.getNextUnset=function(e){var t=this.size;if(e>=t)return t;var r=this.bits,i=Math.floor(e/32),a=~r[i];a&=~((1<<(e&31))-1);for(var s=r.length;a===0;){if(++i===s)return t;a=~r[i]}var u=i*32+Ye.numberOfTrailingZeros(a);return u>t?t:u},n.prototype.setBulk=function(e,t){this.bits[Math.floor(e/32)]=t},n.prototype.setRange=function(e,t){if(t<e||e<0||t>this.size)throw new Re;if(t!==e){t--;for(var r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits,s=r;s<=i;s++){var u=s>r?0:e&31,c=s<i?31:t&31,h=(2<<c)-(1<<u);a[s]|=h}}},n.prototype.clear=function(){for(var e=this.bits.length,t=this.bits,r=0;r<e;r++)t[r]=0},n.prototype.isRange=function(e,t,r){if(t<e||e<0||t>this.size)throw new Re;if(t===e)return!0;t--;for(var i=Math.floor(e/32),a=Math.floor(t/32),s=this.bits,u=i;u<=a;u++){var c=u>i?0:e&31,h=u<a?31:t&31,p=(2<<h)-(1<<c)&4294967295;if((s[u]&p)!==(r?p:0))return!1}return!0},n.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},n.prototype.appendBits=function(e,t){if(t<0||t>32)throw new Re("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(var r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)},n.prototype.appendBitArray=function(e){var t=e.size;this.ensureCapacity(this.size+t);for(var r=0;r<t;r++)this.appendBit(e.get(r))},n.prototype.xor=function(e){if(this.size!==e.size)throw new Re("Sizes don't match");for(var t=this.bits,r=0,i=t.length;r<i;r++)t[r]^=e.bits[r]},n.prototype.toBytes=function(e,t,r,i){for(var a=0;a<i;a++){for(var s=0,u=0;u<8;u++)this.get(e)&&(s|=1<<7-u),e++;t[r+a]=s}},n.prototype.getBitArray=function(){return this.bits},n.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,i=this.bits,a=0;a<r;a++){var s=i[a];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-a]=s}if(this.size!==r*32){for(var u=r*32-this.size,c=e[0]>>>u,a=1;a<r;a++){var h=e[a];c|=h<<32-u,e[a-1]=c,c=h>>>u}e[r-1]=c}this.bits=e},n.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.size===t.size&&wn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){return 31*this.size+wn.hashCode(this.bits)},n.prototype.toString=function(){for(var e="",t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e},n.prototype.clone=function(){return new n(this.size,this.bits.slice())},n.prototype.toArray=function(){for(var e=[],t=0,r=this.size;t<r;t++)e.push(this.get(t));return e},n}(),vm;(function(n){n[n.OTHER=0]="OTHER",n[n.PURE_BARCODE=1]="PURE_BARCODE",n[n.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",n[n.TRY_HARDER=3]="TRY_HARDER",n[n.CHARACTER_SET=4]="CHARACTER_SET",n[n.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",n[n.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",n[n.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",n[n.ASSUME_GS1=8]="ASSUME_GS1",n[n.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",n[n.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",n[n.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(vm||(vm={}));const Rt=vm;var Ck=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),me=function(n){Ck(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ar),Ik=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vt;(function(n){n[n.Cp437=0]="Cp437",n[n.ISO8859_1=1]="ISO8859_1",n[n.ISO8859_2=2]="ISO8859_2",n[n.ISO8859_3=3]="ISO8859_3",n[n.ISO8859_4=4]="ISO8859_4",n[n.ISO8859_5=5]="ISO8859_5",n[n.ISO8859_6=6]="ISO8859_6",n[n.ISO8859_7=7]="ISO8859_7",n[n.ISO8859_8=8]="ISO8859_8",n[n.ISO8859_9=9]="ISO8859_9",n[n.ISO8859_10=10]="ISO8859_10",n[n.ISO8859_11=11]="ISO8859_11",n[n.ISO8859_13=12]="ISO8859_13",n[n.ISO8859_14=13]="ISO8859_14",n[n.ISO8859_15=14]="ISO8859_15",n[n.ISO8859_16=15]="ISO8859_16",n[n.SJIS=16]="SJIS",n[n.Cp1250=17]="Cp1250",n[n.Cp1251=18]="Cp1251",n[n.Cp1252=19]="Cp1252",n[n.Cp1256=20]="Cp1256",n[n.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",n[n.UTF8=22]="UTF8",n[n.ASCII=23]="ASCII",n[n.Big5=24]="Big5",n[n.GB18030=25]="GB18030",n[n.EUC_KR=26]="EUC_KR"})(vt||(vt={}));var xn=function(){function n(e,t,r){for(var i,a,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=s,n.VALUE_IDENTIFIER_TO_ECI.set(e,this),n.NAME_TO_ECI.set(r,this);for(var c=this.values,h=0,p=c.length;h!==p;h++){var g=c[h];n.VALUES_TO_ECI.set(g,this)}try{for(var y=Ik(s),_=y.next();!_.done;_=y.next()){var E=_.value;n.NAME_TO_ECI.set(E,this)}}catch(b){i={error:b}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}return n.prototype.getValueIdentifier=function(){return this.valueIdentifier},n.prototype.getName=function(){return this.name},n.prototype.getValue=function(){return this.values[0]},n.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new me("incorect value");var t=n.VALUES_TO_ECI.get(e);if(t===void 0)throw new me("incorect value");return t},n.getCharacterSetECIByName=function(e){var t=n.NAME_TO_ECI.get(e);if(t===void 0)throw new me("incorect value");return t},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.getName()===t.getName()},n.VALUE_IDENTIFIER_TO_ECI=new Map,n.VALUES_TO_ECI=new Map,n.NAME_TO_ECI=new Map,n.Cp437=new n(vt.Cp437,Int32Array.from([0,2]),"Cp437"),n.ISO8859_1=new n(vt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),n.ISO8859_2=new n(vt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),n.ISO8859_3=new n(vt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),n.ISO8859_4=new n(vt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),n.ISO8859_5=new n(vt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),n.ISO8859_6=new n(vt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),n.ISO8859_7=new n(vt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),n.ISO8859_8=new n(vt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),n.ISO8859_9=new n(vt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),n.ISO8859_10=new n(vt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),n.ISO8859_11=new n(vt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),n.ISO8859_13=new n(vt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),n.ISO8859_14=new n(vt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),n.ISO8859_15=new n(vt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),n.ISO8859_16=new n(vt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),n.SJIS=new n(vt.SJIS,20,"SJIS","Shift_JIS"),n.Cp1250=new n(vt.Cp1250,21,"Cp1250","windows-1250"),n.Cp1251=new n(vt.Cp1251,22,"Cp1251","windows-1251"),n.Cp1252=new n(vt.Cp1252,23,"Cp1252","windows-1252"),n.Cp1256=new n(vt.Cp1256,24,"Cp1256","windows-1256"),n.UnicodeBigUnmarked=new n(vt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),n.UTF8=new n(vt.UTF8,26,"UTF8","UTF-8"),n.ASCII=new n(vt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),n.Big5=new n(vt.Big5,28,"Big5"),n.GB18030=new n(vt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),n.EUC_KR=new n(vt.EUC_KR,30,"EUC_KR","EUC-KR"),n}(),Rk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dd=function(n){Rk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Ar),Zr=function(){function n(){}return n.decode=function(e,t){var r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)},n.shouldDecodeOnFallback=function(e){return!n.isBrowser()&&e==="ISO-8859-1"},n.encode=function(e,t){var r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},n.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},n.encodingName=function(e){return typeof e=="string"?e:e.getName()},n.encodingCharacterSet=function(e){return e instanceof xn?e:xn.getCharacterSetECIByName(e)},n.decodeFallback=function(e,t){var r=this.encodingCharacterSet(t);if(n.isDecodeFallbackSupported(r)){for(var i="",a=0,s=e.length;a<s;a++){var u=e[a].toString(16);u.length<2&&(u="0"+u),i+="%"+u}return decodeURIComponent(i)}if(r.equals(xn.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Dd("Encoding "+this.encodingName(t)+" not supported by fallback.")},n.isDecodeFallbackSupported=function(e){return e.equals(xn.UTF8)||e.equals(xn.ISO8859_1)||e.equals(xn.ASCII)},n.encodeFallback=function(e){for(var t=btoa(unescape(encodeURIComponent(e))),r=t.split(""),i=[],a=0;a<r.length;a++)i.push(r[a].charCodeAt(0));return new Uint8Array(i)},n}(),rt=function(){function n(){}return n.castAsNonUtf8Char=function(e,t){t===void 0&&(t=null);var r=t?t.getName():this.ISO88591;return Zr.decode(new Uint8Array([e]),r)},n.guessEncoding=function(e,t){if(t!=null&&t.get(Rt.CHARACTER_SET)!==void 0)return t.get(Rt.CHARACTER_SET).toString();for(var r=e.length,i=!0,a=!0,s=!0,u=0,c=0,h=0,p=0,g=0,y=0,_=0,E=0,b=0,T=0,I=0,R=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,P=0;P<r&&(i||a||s);P++){var j=e[P]&255;s&&(u>0?(j&128)===0?s=!1:u--:(j&128)!==0&&((j&64)===0?s=!1:(u++,(j&32)===0?c++:(u++,(j&16)===0?h++:(u++,(j&8)===0?p++:s=!1))))),i&&(j>127&&j<160?i=!1:j>159&&(j<192||j===215||j===247)&&I++),a&&(g>0?j<64||j===127||j>252?a=!1:g--:j===128||j===160||j>239?a=!1:j>160&&j<224?(y++,E=0,_++,_>b&&(b=_)):j>127?(g++,_=0,E++,E>T&&(T=E)):(_=0,E=0))}return s&&u>0&&(s=!1),a&&g>0&&(a=!1),s&&(R||c+h+p>0)?n.UTF8:a&&(n.ASSUME_SHIFT_JIS||b>=3||T>=3)?n.SHIFT_JIS:i&&a?b===2&&y===2||I*10>=r?n.SHIFT_JIS:n.ISO88591:i?n.ISO88591:a?n.SHIFT_JIS:s?n.UTF8:n.PLATFORM_DEFAULT_ENCODING},n.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=-1;function a(u,c,h,p,g,y){if(u==="%%")return"%";if(t[++i]!==void 0){u=p?parseInt(p.substr(1)):void 0;var _=g?parseInt(g.substr(1)):void 0,E;switch(y){case"s":E=t[i];break;case"c":E=t[i][0];break;case"f":E=parseFloat(t[i]).toFixed(u);break;case"p":E=parseFloat(t[i]).toPrecision(u);break;case"e":E=parseFloat(t[i]).toExponential(u);break;case"x":E=parseInt(t[i]).toString(_||16);break;case"d":E=parseFloat(parseInt(t[i],_||10).toPrecision(u)).toFixed(0);break}E=typeof E=="object"?JSON.stringify(E):(+E).toString(_);for(var b=parseInt(h),T=h&&h[0]+""=="0"?"0":" ";E.length<b;)E=c!==void 0?E+T:T+E;return E}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)},n.getBytes=function(e,t){return Zr.encode(e,t)},n.getCharCode=function(e,t){return t===void 0&&(t=0),e.charCodeAt(t)},n.getCharAt=function(e){return String.fromCharCode(e)},n.SHIFT_JIS=xn.SJIS.getName(),n.GB2312="GB2312",n.ISO88591=xn.ISO8859_1.getName(),n.EUC_JP="EUC_JP",n.UTF8=xn.UTF8.getName(),n.PLATFORM_DEFAULT_ENCODING=n.UTF8,n.ASSUME_SHIFT_JIS=!1,n}(),qe=function(){function n(e){e===void 0&&(e=""),this.value=e}return n.prototype.enableDecoding=function(e){return this.encoding=e,this},n.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=rt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},n.prototype.appendChars=function(e,t,r){for(var i=t;t<t+r;i++)this.append(e[i]);return this},n.prototype.length=function(){return this.value.length},n.prototype.charAt=function(e){return this.value.charAt(e)},n.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},n.prototype.setCharAt=function(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)},n.prototype.substring=function(e,t){return this.value.substring(e,t)},n.prototype.setLengthToZero=function(){this.value=""},n.prototype.toString=function(){return this.value},n.prototype.insert=function(e,t){this.value=this.value.substring(0,e)+t+this.value.substring(e)},n}(),zi=function(){function n(e,t,r,i){if(this.width=e,this.height=t,this.rowSize=r,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new Re("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return n.parseFromBooleanArray=function(e){for(var t=e.length,r=e[0].length,i=new n(r,t),a=0;a<t;a++)for(var s=e[a],u=0;u<r;u++)s[u]&&i.set(u,a);return i},n.parseFromString=function(e,t,r){if(e===null)throw new Re("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,s=0,u=-1,c=0,h=0;h<e.length;)if(e.charAt(h)===`
`||e.charAt(h)==="\r"){if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new Re("row lengths do not match");s=a,c++}h++}else if(e.substring(h,h+t.length)===t)h+=t.length,i[a]=!0,a++;else if(e.substring(h,h+r.length)===r)h+=r.length,i[a]=!1,a++;else throw new Re("illegal character encountered: "+e.substring(h));if(a>s){if(u===-1)u=a-s;else if(a-s!==u)throw new Re("row lengths do not match");c++}for(var p=new n(u,c),g=0;g<a;g++)i[g]&&p.set(Math.floor(g%u),Math.floor(g/u));return p},n.prototype.get=function(e,t){var r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0},n.prototype.set=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295},n.prototype.unset=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)},n.prototype.flip=function(e,t){var r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295},n.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Re("input matrix dimensions do not match");for(var t=new Mn(Math.floor(this.width/32)+1),r=this.rowSize,i=this.bits,a=0,s=this.height;a<s;a++)for(var u=a*r,c=e.getRow(a,t).getBitArray(),h=0;h<r;h++)i[u+h]^=c[h]},n.prototype.clear=function(){for(var e=this.bits,t=e.length,r=0;r<t;r++)e[r]=0},n.prototype.setRegion=function(e,t,r,i){if(t<0||e<0)throw new Re("Left and top must be nonnegative");if(i<1||r<1)throw new Re("Height and width must be at least 1");var a=e+r,s=t+i;if(s>this.height||a>this.width)throw new Re("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,h=t;h<s;h++)for(var p=h*u,g=e;g<a;g++)c[p+Math.floor(g/32)]|=1<<(g&31)&4294967295},n.prototype.getRow=function(e,t){t==null||t.getSize()<this.width?t=new Mn(this.width):t.clear();for(var r=this.rowSize,i=this.bits,a=e*r,s=0;s<r;s++)t.setBulk(s*32,i[a+s]);return t},n.prototype.setRow=function(e,t){It.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},n.prototype.rotate180=function(){for(var e=this.getWidth(),t=this.getHeight(),r=new Mn(e),i=new Mn(e),a=0,s=Math.floor((t+1)/2);a<s;a++)r=this.getRow(a,r),i=this.getRow(t-1-a,i),r.reverse(),i.reverse(),this.setRow(a,i),this.setRow(t-1-a,r)},n.prototype.getEnclosingRectangle=function(){for(var e=this.width,t=this.height,r=this.rowSize,i=this.bits,a=e,s=t,u=-1,c=-1,h=0;h<t;h++)for(var p=0;p<r;p++){var g=i[h*r+p];if(g!==0){if(h<s&&(s=h),h>c&&(c=h),p*32<a){for(var y=0;(g<<31-y&4294967295)===0;)y++;p*32+y<a&&(a=p*32+y)}if(p*32+31>u){for(var y=31;!(g>>>y);)y--;p*32+y>u&&(u=p*32+y)}}}return u<a||c<s?null:Int32Array.from([a,s,u-a+1,c-s+1])},n.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,t=this.bits,r=0;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;for(var i=r/e,a=r%e*32,s=t[r],u=0;(s<<31-u&4294967295)===0;)u++;return a+=u,Int32Array.from([a,i])},n.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,t=this.bits,r=t.length-1;r>=0&&t[r]===0;)r--;if(r<0)return null;for(var i=Math.floor(r/e),a=Math.floor(r%e)*32,s=t[r],u=31;!(s>>>u);)u--;return a+=u,Int32Array.from([a,i])},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getRowSize=function(){return this.rowSize},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&wn.equals(this.bits,t.bits)},n.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+wn.hashCode(this.bits),e},n.prototype.toString=function(e,t,r){return e===void 0&&(e="X "),t===void 0&&(t="  "),r===void 0&&(r=`
`),this.buildToString(e,t,r)},n.prototype.buildToString=function(e,t,r){for(var i=new qe,a=0,s=this.height;a<s;a++){for(var u=0,c=this.width;u<c;u++)i.append(this.get(u,a)?e:t);i.append(r)}return i.toString()},n.prototype.clone=function(){return new n(this.width,this.height,this.rowSize,this.bits.slice())},n}(),Nk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ie=function(n){Nk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ar),Ok=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dk=function(n){Ok(e,n);function e(t){var r=n.call(this,t)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return e.prototype.getBlackRow=function(t,r){var i=this.getLuminanceSource(),a=i.getWidth();r==null||r.getSize()<a?r=new Mn(a):r.clear(),this.initArrays(a);for(var s=i.getRow(t,this.luminances),u=this.buckets,c=0;c<a;c++)u[(s[c]&255)>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(u);if(a<3)for(var c=0;c<a;c++)(s[c]&255)<h&&r.set(c);else for(var p=s[0]&255,g=s[1]&255,c=1;c<a-1;c++){var y=s[c+1]&255;(g*4-p-y)/2<h&&r.set(c),p=g,g=y}return r},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),a=new zi(r,i);this.initArrays(r);for(var s=this.buckets,u=1;u<5;u++)for(var c=Math.floor(i*u/5),h=t.getRow(c,this.luminances),p=Math.floor(r*4/5),g=Math.floor(r/5);g<p;g++){var y=h[g]&255;s[y>>e.LUMINANCE_SHIFT]++}for(var _=e.estimateBlackPoint(s),E=t.getMatrix(),u=0;u<i;u++)for(var b=u*r,g=0;g<r;g++){var y=E[b+g]&255;y<_&&a.set(g,u)}return a},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var r=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)r[i]=0},e.estimateBlackPoint=function(t){for(var r=t.length,i=0,a=0,s=0,u=0;u<r;u++)t[u]>s&&(a=u,s=t[u]),t[u]>i&&(i=t[u]);for(var c=0,h=0,u=0;u<r;u++){var p=u-a,g=t[u]*p*p;g>h&&(c=u,h=g)}if(a>c){var y=a;a=c,c=y}if(c-a<=r/16)throw new ie;for(var _=c-1,E=-1,u=c-1;u>a;u--){var b=u-a,g=b*b*(c-u)*(i-t[u]);g>E&&(_=u,E=g)}return _<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(Ak),Pk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mC=function(n){Pk(e,n);function e(t){var r=n.call(this,t)||this;return r.matrix=null,r}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=t.getMatrix(),s=r>>e.BLOCK_SIZE_POWER;(r&e.BLOCK_SIZE_MASK)!==0&&s++;var u=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&u++;var c=e.calculateBlackPoints(a,s,u,r,i),h=new zi(r,i);e.calculateThresholdForBlock(a,s,u,r,i,c,h),this.matrix=h}else this.matrix=n.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,r,i,a,s,u,c){for(var h=s-e.BLOCK_SIZE,p=a-e.BLOCK_SIZE,g=0;g<i;g++){var y=g<<e.BLOCK_SIZE_POWER;y>h&&(y=h);for(var _=e.cap(g,2,i-3),E=0;E<r;E++){var b=E<<e.BLOCK_SIZE_POWER;b>p&&(b=p);for(var T=e.cap(E,2,r-3),I=0,R=-2;R<=2;R++){var P=u[_+R];I+=P[T-2]+P[T-1]+P[T]+P[T+1]+P[T+2]}var j=I/25;e.thresholdBlock(t,b,y,j,a,c)}}},e.cap=function(t,r,i){return t<r?r:t>i?i:t},e.thresholdBlock=function(t,r,i,a,s,u){for(var c=0,h=i*s+r;c<e.BLOCK_SIZE;c++,h+=s)for(var p=0;p<e.BLOCK_SIZE;p++)(t[h+p]&255)<=a&&u.set(r+p,i+c)},e.calculateBlackPoints=function(t,r,i,a,s){for(var u=s-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,h=new Array(i),p=0;p<i;p++){h[p]=new Int32Array(r);var g=p<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var y=0;y<r;y++){var _=y<<e.BLOCK_SIZE_POWER;_>c&&(_=c);for(var E=0,b=255,T=0,I=0,R=g*a+_;I<e.BLOCK_SIZE;I++,R+=a){for(var P=0;P<e.BLOCK_SIZE;P++){var j=t[R+P]&255;E+=j,j<b&&(b=j),j>T&&(T=j)}if(T-b>e.MIN_DYNAMIC_RANGE)for(I++,R+=a;I<e.BLOCK_SIZE;I++,R+=a)for(var P=0;P<e.BLOCK_SIZE;P++)E+=t[R+P]&255}var U=E>>e.BLOCK_SIZE_POWER*2;if(T-b<=e.MIN_DYNAMIC_RANGE&&(U=b/2,p>0&&y>0)){var q=(h[p-1][y]+2*h[p][y-1]+h[p-1][y-1])/4;b<q&&(U=q)}h[p][y]=U}}return h},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(Dk),Pf=function(){function n(e,t){this.width=e,this.height=t}return n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.isCropSupported=function(){return!1},n.prototype.crop=function(e,t,r,i){throw new Dd("This luminance source does not support cropping.")},n.prototype.isRotateSupported=function(){return!1},n.prototype.rotateCounterClockwise=function(){throw new Dd("This luminance source does not support rotation by 90 degrees.")},n.prototype.rotateCounterClockwise45=function(){throw new Dd("This luminance source does not support rotation by 45 degrees.")},n.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),t=new qe,r=0;r<this.height;r++){for(var i=this.getRow(r,e),a=0;a<this.width;a++){var s=i[a]&255,u=void 0;s<64?u="#":s<128?u="+":s<192?u=".":u=" ",t.append(u)}t.append(`
`)}return t.toString()},n}(),Mk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H0=function(n){Mk(e,n);function e(t){var r=n.call(this,t.getWidth(),t.getHeight())||this;return r.delegate=t,r}return e.prototype.getRow=function(t,r){for(var i=this.delegate.getRow(t,r),a=this.getWidth(),s=0;s<a;s++)i[s]=255-(i[s]&255);return i},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r),a=0;a<r;a++)i[a]=255-(t[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,r,i,a){return new e(this.delegate.crop(t,r,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Pf),kk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Lk=function(n){kk(e,n);function e(t,r){r===void 0&&(r=!1);var i=n.call(this,t.width,t.height)||this;return i.canvas=t,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(t,r),i}return e.makeBufferFromCanvasImageData=function(t,r){r===void 0&&(r=!1);var i=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height,r)},e.toGrayscaleBuffer=function(t,r,i,a){a===void 0&&(a=!1);var s=new Uint8ClampedArray(r*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var u=0,c=0,h=t.length;u<h;u+=4,c++){var p=void 0,g=t[u+3];if(g===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=p}else for(var u=0,c=0,b=t.length;u<b;u+=4,c++){var p=void 0,g=t[u+3];if(g===0)p=255;else{var y=t[u],_=t[u+1],E=t[u+2];p=306*y+601*_+117*E+512>>10}s[c]=255-p}return s},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement(),i=r.getContext("2d"),a=t*e.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(a))*s+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*s+Math.abs(Math.cos(a))*u);return r.width=c,r.height=h,i.translate(c/2,h/2),i.rotate(a),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.prototype.invert=function(){return new H0(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Pf),Bk=function(){function n(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}return n.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},n}(),lr=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(g){s(g)}}function c(p){try{h(r.throw(p))}catch(g){s(g)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},ur=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},jk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mu=function(){function n(e,t,r){t===void 0&&(t=500),this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(n.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),n.prototype.listVideoInputDevices=function(){return lr(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,g,y;return ur(this,function(_){switch(_.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=jk(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device "+(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){g={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.prototype.getVideoInputDevices=function(){return lr(this,void 0,void 0,function(){var e;return ur(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=t.sent(),[2,e.map(function(r){return new Bk(r.deviceId,r.label)})]}})})},n.prototype.findDeviceById=function(e){return lr(this,void 0,void 0,function(){var t;return ur(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2,null]}})})},n.prototype.decodeFromInputVideoDevice=function(e,t){return lr(this,void 0,void 0,function(){return ur(this,function(r){switch(r.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return lr(this,void 0,void 0,function(){var r,i;return ur(this,function(a){switch(a.label){case 0:return this.reset(),e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return lr(this,void 0,void 0,function(){var r;return ur(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return lr(this,void 0,void 0,function(){var r,i;return ur(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return r=a.sent(),[4,this.decodeOnce(r)];case 2:return i=a.sent(),[2,i]}})})},n.prototype.decodeFromInputVideoDeviceContinuously=function(e,t,r){return lr(this,void 0,void 0,function(){return ur(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,t,r)];case 1:return[2,i.sent()]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return lr(this,void 0,void 0,function(){var i,a;return ur(this,function(s){switch(s.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return lr(this,void 0,void 0,function(){var i;return ur(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,t,r)];case 2:return[2,a.sent()]}})})},n.prototype.decodeFromStream=function(e,t,r){return lr(this,void 0,void 0,function(){var i;return ur(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,t)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,r)];case 2:return[2,a.sent()]}})})},n.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},n.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},n.prototype.attachStreamToVideo=function(e,t){return lr(this,void 0,void 0,function(){var r;return ur(this,function(i){switch(i.label){case 0:return r=this.prepareVideoElement(t),this.addVideoSource(r,e),this.videoElement=r,this.stream=e,[4,this.playVideoOnLoadAsync(r)];case 1:return i.sent(),[2,r]}})})},n.prototype.playVideoOnLoadAsync=function(e){var t=this;return new Promise(function(r,i){return t.playVideoOnLoad(e,function(){return r()})})},n.prototype.playVideoOnLoad=function(e,t){var r=this;this.videoEndedListener=function(){return r.stopStreams()},this.videoCanPlayListener=function(){return r.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)},n.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},n.prototype.tryPlayVideo=function(e){return lr(this,void 0,void 0,function(){return ur(this,function(t){switch(t.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,e.play()];case 2:return t.sent(),[3,4];case 3:return t.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},n.prototype.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Jt("element with id '"+e+"' not found");if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Jt("element with id '"+e+"' must be an "+t+" element");return r},n.prototype.decodeFromImage=function(e,t){if(!e&&!t)throw new Jt("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)},n.prototype.decodeFromVideo=function(e,t){if(!e&&!t)throw new Jt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)},n.prototype.decodeFromVideoContinuously=function(e,t,r){if(e===void 0&&t===void 0)throw new Jt("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)},n.prototype.decodeFromImageElement=function(e){if(!e)throw new Jt("An image element must be provided.");this.reset();var t=this.prepareImageElement(e);this.imageElement=t;var r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r},n.prototype.decodeFromVideoElement=function(e){var t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)},n.prototype.decodeFromVideoElementContinuously=function(e,t){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)},n.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Jt("A video element must be provided.");this.reset();var t=this.prepareVideoElement(e);return this.videoElement=t,t},n.prototype.decodeFromImageUrl=function(e){if(!e)throw new Jt("An URL must be provided.");this.reset();var t=this.prepareImageElement();this.imageElement=t;var r=this._decodeOnLoadImage(t);return t.src=e,r},n.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Jt("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r},n.prototype.decodeFromVideoUrlContinuously=function(e,t){if(!e)throw new Jt("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(r,t);return r.src=e,i},n.prototype._decodeOnLoadImage=function(e){var t=this;return new Promise(function(r,i){t.imageLoadedListener=function(){return t.decodeOnce(e,!1,!0).then(r,i)},e.addEventListener("load",t.imageLoadedListener)})},n.prototype._decodeOnLoadVideo=function(e){return lr(this,void 0,void 0,function(){return ur(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return t.sent(),[4,this.decodeOnce(e)];case 2:return[2,t.sent()]}})})},n.prototype._decodeOnLoadVideoContinuously=function(e,t){return lr(this,void 0,void 0,function(){return ur(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),this.decodeContinuously(e,t),[2]}})})},n.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.prototype.prepareImageElement=function(e){var t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t},n.prototype.prepareVideoElement=function(e){var t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.prototype.decodeOnce=function(e,t,r){var i=this;t===void 0&&(t=!0),r===void 0&&(r=!0),this._stopAsyncDecode=!1;var a=function(s,u){if(i._stopAsyncDecode){u(new ie("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);s(c)}catch(y){var h=t&&y instanceof ie,p=y instanceof cn||y instanceof me,g=p&&r;if(h||g)return setTimeout(a,i._timeBetweenDecodingAttempts,s,u);u(y)}};return new Promise(function(s,u){return a(s,u)})},n.prototype.decodeContinuously=function(e,t){var r=this;this._stopContinuousDecode=!1;var i=function(){if(r._stopContinuousDecode){r._stopContinuousDecode=void 0;return}try{var a=r.decode(e);t(a,null),setTimeout(i,r.timeBetweenScansMillis)}catch(c){t(null,c);var s=c instanceof cn||c instanceof me,u=c instanceof ie;(s||u)&&setTimeout(i,r._timeBetweenDecodingAttempts)}};i()},n.prototype.decode=function(e){var t=this.createBinaryBitmap(e);return this.decodeBitmap(t)},n.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var t=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),t=!0):this.drawImageOnCanvas(e);var r=this.getCaptureCanvas(e),i=new Lk(r,t),a=new mC(i);return new gC(a)},n.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var t=this.getCaptureCanvas(e),r=void 0;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}this.captureCanvasContext=r}return this.captureCanvasContext},n.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas},n.prototype.drawFrameOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.drawImageOnCanvas=function(e,t,r){t===void 0&&(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r===void 0&&(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},n.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var t=document.createElement("canvas"),r,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=i+"px",t.width=r,t.height=i,t},n.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},n.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},n.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},n.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},n.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},n.prototype.addVideoSource=function(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}},n.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},n}(),nr=function(){function n(e,t,r,i,a,s){r===void 0&&(r=t==null?0:8*t.length),s===void 0&&(s=It.currentTimeMillis()),this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=i,this.format=a,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=i,this.format=a,this.resultMetadata=null,s==null?this.timestamp=It.currentTimeMillis():this.timestamp=s}return n.prototype.getText=function(){return this.text},n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.getBarcodeFormat=function(){return this.format},n.prototype.getResultMetadata=function(){return this.resultMetadata},n.prototype.putMetadata=function(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)},n.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},n.prototype.addResultPoints=function(e){var t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){var r=new Array(t.length+e.length);It.arraycopy(t,0,r,0,t.length),It.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.toString=function(){return this.text},n}(),ym;(function(n){n[n.AZTEC=0]="AZTEC",n[n.CODABAR=1]="CODABAR",n[n.CODE_39=2]="CODE_39",n[n.CODE_93=3]="CODE_93",n[n.CODE_128=4]="CODE_128",n[n.DATA_MATRIX=5]="DATA_MATRIX",n[n.EAN_8=6]="EAN_8",n[n.EAN_13=7]="EAN_13",n[n.ITF=8]="ITF",n[n.MAXICODE=9]="MAXICODE",n[n.PDF_417=10]="PDF_417",n[n.QR_CODE=11]="QR_CODE",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ym||(ym={}));const Ie=ym;var xm;(function(n){n[n.OTHER=0]="OTHER",n[n.ORIENTATION=1]="ORIENTATION",n[n.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",n[n.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",n[n.ISSUE_NUMBER=4]="ISSUE_NUMBER",n[n.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",n[n.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",n[n.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",n[n.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",n[n.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",n[n.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(xm||(xm={}));const qn=xm;var z0=function(){function n(e,t,r,i,a,s){a===void 0&&(a=-1),s===void 0&&(s=-1),this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}return n.prototype.getRawBytes=function(){return this.rawBytes},n.prototype.getNumBits=function(){return this.numBits},n.prototype.setNumBits=function(e){this.numBits=e},n.prototype.getText=function(){return this.text},n.prototype.getByteSegments=function(){return this.byteSegments},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getErrorsCorrected=function(){return this.errorsCorrected},n.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},n.prototype.getErasures=function(){return this.erasures},n.prototype.setErasures=function(e){this.erasures=e},n.prototype.getOther=function(){return this.other},n.prototype.setOther=function(e){this.other=e},n.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},n.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},n.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},n}(),Fc=function(){function n(){}return n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Re;return this.logTable[e]},n.addOrSubtract=function(e,t){return e^t},n}(),Oo=function(){function n(e,t){if(t.length===0)throw new Re;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),It.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var t=this.coefficients,r;if(e===1){r=0;for(var i=0,a=t.length;i!==a;i++){var s=t[i];r=Fc.addOrSubtract(r,s)}return r}r=t[0];for(var u=t.length,c=this.field,i=1;i<u;i++)r=Fc.addOrSubtract(c.multiply(e,r),t[i]);return r},n.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Re("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;It.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=Fc.addOrSubtract(t[u-s],r[u]);return new n(this.field,a)},n.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Re("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=this.field,c=0;c<r;c++)for(var h=t[c],p=0;p<a;p++)s[c+p]=Fc.addOrSubtract(s[c+p],u.multiply(h,i[p]));return new n(u,s)},n.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var t=this.coefficients.length,r=this.field,i=new Int32Array(t),a=this.coefficients,s=0;s<t;s++)i[s]=r.multiply(a[s],e);return new n(r,i)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Re;if(t===0)return this.field.getZero();for(var r=this.coefficients,i=r.length,a=new Int32Array(i+e),s=this.field,u=0;u<i;u++)a[u]=s.multiply(r[u],t);return new n(s,a)},n.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Re("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Re("Divide by 0");for(var t=this.field,r=t.getZero(),i=this,a=e.getCoefficient(e.getDegree()),s=t.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var u=i.getDegree()-e.getDegree(),c=t.multiply(i.getCoefficient(i.getDegree()),s),h=e.multiplyByMonomial(u,c),p=t.buildMonomial(u,c);r=r.addOrSubtract(p),i=i.addOrSubtract(h)}return[r,i]},n.prototype.toString=function(){for(var e="",t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){var i=this.field.log(r);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e},n}(),Vk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vC=function(n){Vk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ar),Uk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xr=function(n){Uk(e,n);function e(t,r,i){var a=n.call(this)||this;a.primitive=t,a.size=r,a.generatorBase=i;for(var s=new Int32Array(r),u=1,c=0;c<r;c++)s[c]=u,u*=2,u>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),c=0;c<r-1;c++)h[s[c]]=c;return a.logTable=h,a.zero=new Oo(a,Int32Array.from([0])),a.one=new Oo(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Re;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Oo(this,i)},e.prototype.inverse=function(t){if(t===0)throw new vC;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Ye.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Fc),Fk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),dd=function(n){Fk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Ar),Hk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Mf=function(n){Hk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Ar),G0=function(){function n(e){this.field=e}return n.prototype.decode=function(e,t){for(var r=this.field,i=new Oo(r,e),a=new Int32Array(t),s=!0,u=0;u<t;u++){var c=i.evaluateAt(r.exp(u+r.getGeneratorBase()));a[a.length-1-u]=c,c!==0&&(s=!1)}if(!s)for(var h=new Oo(r,a),p=this.runEuclideanAlgorithm(r.buildMonomial(t,1),h,t),g=p[0],y=p[1],_=this.findErrorLocations(g),E=this.findErrorMagnitudes(y,_),u=0;u<_.length;u++){var b=e.length-1-r.log(_[u]);if(b<0)throw new dd("Bad error location");e[b]=xr.addOrSubtract(e[b],E[u])}},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=this.field,s=e,u=t,c=a.getZero(),h=a.getOne();u.getDegree()>=(r/2|0);){var p=s,g=c;if(s=u,c=h,s.isZero())throw new dd("r_{i-1} was zero");u=p;for(var y=a.getZero(),_=s.getCoefficient(s.getDegree()),E=a.inverse(_);u.getDegree()>=s.getDegree()&&!u.isZero();){var b=u.getDegree()-s.getDegree(),T=a.multiply(u.getCoefficient(u.getDegree()),E);y=y.addOrSubtract(a.buildMonomial(b,T)),u=u.addOrSubtract(s.multiplyByMonomial(b,T))}if(h=y.multiply(c).addOrSubtract(g),u.getDegree()>=s.getDegree())throw new Mf("Division algorithm failed to reduce polynomial?")}var I=h.getCoefficient(0);if(I===0)throw new dd("sigmaTilde(0) was zero");var R=a.inverse(I),P=h.multiplyScalar(R),j=u.multiplyScalar(R);return[P,j]},n.prototype.findErrorLocations=function(e){var t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);for(var r=new Int32Array(t),i=0,a=this.field,s=1;s<a.getSize()&&i<t;s++)e.evaluateAt(s)===0&&(r[i]=a.inverse(s),i++);if(i!==t)throw new dd("Error locator degree does not match number of roots");return r},n.prototype.findErrorMagnitudes=function(e,t){for(var r=t.length,i=new Int32Array(r),a=this.field,s=0;s<r;s++){for(var u=a.inverse(t[s]),c=1,h=0;h<r;h++)if(s!==h){var p=a.multiply(t[h],u),g=(p&1)===0?p|1:p&-2;c=a.multiply(c,g)}i[s]=a.multiply(e.evaluateAt(u),a.inverse(c)),a.getGeneratorBase()!==0&&(i[s]=a.multiply(i[s],u))}return i},n}(),Fn;(function(n){n[n.UPPER=0]="UPPER",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.DIGIT=3]="DIGIT",n[n.PUNCT=4]="PUNCT",n[n.BINARY=5]="BINARY"})(Fn||(Fn={}));var NE=function(){function n(){}return n.prototype.decode=function(e){this.ddata=e;var t=e.getBits(),r=this.extractBits(t),i=this.correctBits(r),a=n.convertBoolArrayToByteArray(i),s=n.getEncodedData(i),u=new z0(a,s,null,null);return u.setNumBits(i.length),u},n.highLevelDecode=function(e){return this.getEncodedData(e)},n.getEncodedData=function(e){for(var t=e.length,r=Fn.UPPER,i=Fn.UPPER,a="",s=0;s<t;)if(i===Fn.BINARY){if(t-s<5)break;var u=n.readCode(e,s,5);if(s+=5,u===0){if(t-s<11)break;u=n.readCode(e,s,11)+31,s+=11}for(var c=0;c<u;c++){if(t-s<8){s=t;break}var h=n.readCode(e,s,8);a+=rt.castAsNonUtf8Char(h),s+=8}i=r}else{var p=i===Fn.DIGIT?4:5;if(t-s<p)break;var h=n.readCode(e,s,p);s+=p;var g=n.getCharacter(i,h);g.startsWith("CTRL_")?(r=i,i=n.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=i)):(a+=g,i=r)}return a},n.getTable=function(e){switch(e){case"L":return Fn.LOWER;case"P":return Fn.PUNCT;case"M":return Fn.MIXED;case"D":return Fn.DIGIT;case"B":return Fn.BINARY;case"U":default:return Fn.UPPER}},n.getCharacter=function(e,t){switch(e){case Fn.UPPER:return n.UPPER_TABLE[t];case Fn.LOWER:return n.LOWER_TABLE[t];case Fn.MIXED:return n.MIXED_TABLE[t];case Fn.PUNCT:return n.PUNCT_TABLE[t];case Fn.DIGIT:return n.DIGIT_TABLE[t];default:throw new Mf("Bad table")}},n.prototype.correctBits=function(e){var t,r;this.ddata.getNbLayers()<=2?(r=6,t=xr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=xr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=xr.AZTEC_DATA_10):(r=12,t=xr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/r;if(a<i)throw new me;for(var s=e.length%r,u=new Int32Array(a),c=0;c<a;c++,s+=r)u[c]=n.readCode(e,s,r);try{var h=new G0(t);h.decode(u,a-i)}catch(T){throw new me(T)}for(var p=(1<<r)-1,g=0,c=0;c<i;c++){var y=u[c];if(y===0||y===p)throw new me;(y===1||y===p-1)&&g++}for(var _=new Array(i*r-g),E=0,c=0;c<i;c++){var y=u[c];if(y===1||y===p-1)_.fill(y>1,E,E+r-1),E+=r-1;else for(var b=r-1;b>=0;--b)_[E++]=(y&1<<b)!==0}return _},n.prototype.extractBits=function(e){var t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),i=(t?11:14)+r*4,a=new Int32Array(i),s=new Array(this.totalBitsInLayer(r,t));if(t)for(var u=0;u<a.length;u++)a[u]=u;else for(var c=i+1+2*Ye.truncDivision(Ye.truncDivision(i,2)-1,15),h=i/2,p=Ye.truncDivision(c,2),u=0;u<h;u++){var g=u+Ye.truncDivision(u,15);a[h-u-1]=p-g-1,a[h+u]=p+g+1}for(var u=0,y=0;u<r;u++){for(var _=(r-u)*4+(t?9:12),E=u*2,b=i-1-E,T=0;T<_;T++)for(var I=T*2,R=0;R<2;R++)s[y+I+R]=e.get(a[E+R],a[E+T]),s[y+2*_+I+R]=e.get(a[E+T],a[b-R]),s[y+4*_+I+R]=e.get(a[b-R],a[b-T]),s[y+6*_+I+R]=e.get(a[b-T],a[E+R]);y+=_*8}return s},n.readCode=function(e,t,r){for(var i=0,a=t;a<t+r;a++)i<<=1,e[a]&&(i|=1);return i},n.readByte=function(e,t){var r=e.length-t;return r>=8?n.readCode(e,t,8):n.readCode(e,t,r)<<8-r},n.convertBoolArrayToByteArray=function(e){for(var t=new Uint8Array((e.length+7)/8),r=0;r<t.length;r++)t[r]=n.readByte(e,8*r);return t},n.prototype.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],n.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],n.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],n.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],n.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],n}(),ot=function(){function n(){}return n.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},n.distance=function(e,t,r,i){var a=e-r,s=t-i;return Math.sqrt(a*a+s*s)},n.sum=function(e){for(var t=0,r=0,i=e.length;r!==i;r++){var a=e[r];t+=a}return t},n}(),_m=function(){function n(){}return n.floatToIntBits=function(e){return e},n.MAX_VALUE=Number.MAX_SAFE_INTEGER,n}(),Ee=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.equals=function(e){if(e instanceof n){var t=e;return this.x===t.x&&this.y===t.y}return!1},n.prototype.hashCode=function(){return 31*_m.floatToIntBits(this.x)+_m.floatToIntBits(this.y)},n.prototype.toString=function(){return"("+this.x+","+this.y+")"},n.orderBestPatterns=function(e){var t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,s,u;if(r>=t&&r>=i?(s=e[0],a=e[1],u=e[2]):i>=r&&i>=t?(s=e[1],a=e[0],u=e[2]):(s=e[2],a=e[0],u=e[1]),this.crossProductZ(a,s,u)<0){var c=a;a=u,u=c}e[0]=a,e[1]=s,e[2]=u},n.distance=function(e,t){return ot.distance(e.x,e.y,t.x,t.y)},n.crossProductZ=function(e,t,r){var i=t.x,a=t.y;return(r.x-i)*(e.y-a)-(r.y-a)*(e.x-i)},n}(),Hv=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),zk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Gk=function(n){zk(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r)||this;return u.compact=i,u.nbDatablocks=a,u.nbLayers=s,u}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Hv),wm=function(){function n(e,t,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=n.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ie}return n.prototype.detect=function(){for(var e=this.leftInit,t=this.rightInit,r=this.upInit,i=this.downInit,a=!1,s=!0,u=!1,c=!1,h=!1,p=!1,g=!1,y=this.width,_=this.height;s;){s=!1;for(var E=!0;(E||!c)&&t<y;)E=this.containsBlackPoint(r,i,t,!1),E?(t++,s=!0,c=!0):c||t++;if(t>=y){a=!0;break}for(var b=!0;(b||!h)&&i<_;)b=this.containsBlackPoint(e,t,i,!0),b?(i++,s=!0,h=!0):h||i++;if(i>=_){a=!0;break}for(var T=!0;(T||!p)&&e>=0;)T=this.containsBlackPoint(r,i,e,!1),T?(e--,s=!0,p=!0):p||e--;if(e<0){a=!0;break}for(var I=!0;(I||!g)&&r>=0;)I=this.containsBlackPoint(e,t,r,!0),I?(r--,s=!0,g=!0):g||r--;if(r<0){a=!0;break}s&&(u=!0)}if(!a&&u){for(var R=t-e,P=null,j=1;P===null&&j<R;j++)P=this.getBlackPointOnSegment(e,i-j,e+j,i);if(P==null)throw new ie;for(var U=null,j=1;U===null&&j<R;j++)U=this.getBlackPointOnSegment(e,r+j,e+j,r);if(U==null)throw new ie;for(var q=null,j=1;q===null&&j<R;j++)q=this.getBlackPointOnSegment(t,r+j,t-j,r);if(q==null)throw new ie;for(var O=null,j=1;O===null&&j<R;j++)O=this.getBlackPointOnSegment(t,i-j,t-j,i);if(O==null)throw new ie;return this.centerEdges(O,P,q,U)}else throw new ie},n.prototype.getBlackPointOnSegment=function(e,t,r,i){for(var a=ot.round(ot.distance(e,t,r,i)),s=(r-e)/a,u=(i-t)/a,c=this.image,h=0;h<a;h++){var p=ot.round(e+h*s),g=ot.round(t+h*u);if(c.get(p,g))return new Ee(p,g)}return null},n.prototype.centerEdges=function(e,t,r,i){var a=e.getX(),s=e.getY(),u=t.getX(),c=t.getY(),h=r.getX(),p=r.getY(),g=i.getX(),y=i.getY(),_=n.CORR;return a<this.width/2?[new Ee(g-_,y+_),new Ee(u+_,c+_),new Ee(h-_,p-_),new Ee(a+_,s-_)]:[new Ee(g+_,y+_),new Ee(u+_,c-_),new Ee(h-_,p+_),new Ee(a-_,s-_)]},n.prototype.containsBlackPoint=function(e,t,r,i){var a=this.image;if(i){for(var s=e;s<=t;s++)if(a.get(s,r))return!0}else for(var u=e;u<=t;u++)if(a.get(r,u))return!0;return!1},n.INIT_SIZE=10,n.CORR=1,n}(),OE=function(){function n(){}return n.checkAndNudgePoints=function(e,t){for(var r=e.getWidth(),i=e.getHeight(),a=!0,s=0;s<t.length&&a;s+=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}a=!0;for(var s=t.length-2;s>=0&&a;s-=2){var u=Math.floor(t[s]),c=Math.floor(t[s+1]);if(u<-1||u>r||c<-1||c>i)throw new ie;a=!1,u===-1?(t[s]=0,a=!0):u===r&&(t[s]=r-1,a=!0),c===-1?(t[s+1]=0,a=!0):c===i&&(t[s+1]=i-1,a=!0)}},n}(),yC=function(){function n(e,t,r,i,a,s,u,c,h){this.a11=e,this.a21=t,this.a31=r,this.a12=i,this.a22=a,this.a32=s,this.a13=u,this.a23=c,this.a33=h}return n.quadrilateralToQuadrilateral=function(e,t,r,i,a,s,u,c,h,p,g,y,_,E,b,T){var I=n.quadrilateralToSquare(e,t,r,i,a,s,u,c),R=n.squareToQuadrilateral(h,p,g,y,_,E,b,T);return R.times(I)},n.prototype.transformPoints=function(e){for(var t=e.length,r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,g=this.a33,y=0;y<t;y+=2){var _=e[y],E=e[y+1],b=a*_+c*E+g;e[y]=(r*_+s*E+h)/b,e[y+1]=(i*_+u*E+p)/b}},n.prototype.transformPointsWithValues=function(e,t){for(var r=this.a11,i=this.a12,a=this.a13,s=this.a21,u=this.a22,c=this.a23,h=this.a31,p=this.a32,g=this.a33,y=e.length,_=0;_<y;_++){var E=e[_],b=t[_],T=a*E+c*b+g;e[_]=(r*E+s*b+h)/T,t[_]=(i*E+u*b+p)/T}},n.squareToQuadrilateral=function(e,t,r,i,a,s,u,c){var h=e-r+a-u,p=t-i+s-c;if(h===0&&p===0)return new n(r-e,a-r,e,i-t,s-i,t,0,0,1);var g=r-a,y=u-a,_=i-s,E=c-s,b=g*E-y*_,T=(h*E-y*p)/b,I=(g*p-h*_)/b;return new n(r-e+T*r,u-e+I*u,e,i-t+T*i,c-t+I*c,t,T,I,1)},n.quadrilateralToSquare=function(e,t,r,i,a,s,u,c){return n.squareToQuadrilateral(e,t,r,i,a,s,u,c).buildAdjoint()},n.prototype.buildAdjoint=function(){return new n(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},n.prototype.times=function(e){return new n(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},n}(),qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Xk=function(n){qk(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.sampleGrid=function(t,r,i,a,s,u,c,h,p,g,y,_,E,b,T,I,R,P,j){var U=yC.quadrilateralToQuadrilateral(a,s,u,c,h,p,g,y,_,E,b,T,I,R,P,j);return this.sampleGridWithTransform(t,r,i,U)},e.prototype.sampleGridWithTransform=function(t,r,i,a){if(r<=0||i<=0)throw new ie;for(var s=new zi(r,i),u=new Float32Array(2*r),c=0;c<i;c++){for(var h=u.length,p=c+.5,g=0;g<h;g+=2)u[g]=g/2+.5,u[g+1]=p;a.transformPoints(u),OE.checkAndNudgePoints(t,u);try{for(var g=0;g<h;g+=2)t.get(Math.floor(u[g]),Math.floor(u[g+1]))&&s.set(g/2,c)}catch{throw new ie}}return s},e}(OE),zv=function(){function n(){}return n.setGridSampler=function(e){n.gridSampler=e},n.getInstance=function(){return n.gridSampler},n.gridSampler=new Xk,n}(),vr=function(){function n(e,t){this.x=e,this.y=t}return n.prototype.toResultPoint=function(){return new Ee(this.getX(),this.getY())},n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n}(),Wk=function(){function n(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return n.prototype.detect=function(){return this.detectMirror(!1)},n.prototype.detectMirror=function(e){var t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){var i=r[0];r[0]=r[2],r[2]=i}this.extractParameters(r);var a=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new Gk(a,s,this.compact,this.nbDataBlocks,this.nbLayers)},n.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ie;var t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);for(var i=0,a=0;a<4;a++){var s=r[(this.shift+a)%4];this.compact?(i<<=7,i+=s>>1&127):(i<<=10,i+=(s>>2&992)+(s>>1&31))}var u=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},n.prototype.getRotation=function(e,t){var r=0;e.forEach(function(a,s,u){var c=(a>>t-2<<1)+(a&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(var i=0;i<4;i++)if(Ye.bitCount(r^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new ie},n.prototype.getCorrectedParameterData=function(e,t){var r,i;t?(r=7,i=2):(r=10,i=4);for(var a=r-i,s=new Int32Array(r),u=r-1;u>=0;--u)s[u]=e&15,e>>=4;try{var c=new G0(xr.AZTEC_PARAM);c.decode(s,a)}catch{throw new ie}for(var h=0,u=0;u<i;u++)h=(h<<4)+s[u];return h},n.prototype.getBullsEyeCorners=function(e){var t=e,r=e,i=e,a=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(t,s,1,-1),c=this.getFirstDifferent(r,s,1,1),h=this.getFirstDifferent(i,s,-1,1),p=this.getFirstDifferent(a,s,-1,-1);if(this.nbCenterLayers>2){var g=this.distancePoint(p,u)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(g<.75||g>1.25||!this.isWhiteOrBlackRectangle(u,c,h,p))break}t=u,r=c,i=h,a=p,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ie;this.compact=this.nbCenterLayers===5;var y=new Ee(t.getX()+.5,t.getY()-.5),_=new Ee(r.getX()+.5,r.getY()+.5),E=new Ee(i.getX()-.5,i.getY()+.5),b=new Ee(a.getX()-.5,a.getY()-.5);return this.expandSquare([y,_,E,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},n.prototype.getMatrixCenter=function(){var e,t,r,i;try{var a=new wm(this.image).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{var s=this.image.getWidth()/2,u=this.image.getHeight()/2;e=this.getFirstDifferent(new vr(s+7,u-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new vr(s+7,u+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new vr(s-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new vr(s-7,u-7),!1,-1,-1).toResultPoint()}var c=ot.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ot.round((e.getY()+i.getY()+t.getY()+r.getY())/4);try{var a=new wm(this.image,15,c,h).detect();e=a[0],t=a[1],r=a[2],i=a[3]}catch{e=this.getFirstDifferent(new vr(c+7,h-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new vr(c+7,h+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new vr(c-7,h+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new vr(c-7,h-7),!1,-1,-1).toResultPoint()}return c=ot.round((e.getX()+i.getX()+t.getX()+r.getX())/4),h=ot.round((e.getY()+i.getY()+t.getY()+r.getY())/4),new vr(c,h)},n.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},n.prototype.sampleGrid=function(e,t,r,i,a){var s=zv.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,h=u/2+this.nbCenterLayers;return s.sampleGrid(e,u,u,c,c,h,c,h,h,c,h,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),a.getX(),a.getY())},n.prototype.sampleLine=function(e,t,r){for(var i=0,a=this.distanceResultPoint(e,t),s=a/r,u=e.getX(),c=e.getY(),h=s*(t.getX()-e.getX())/a,p=s*(t.getY()-e.getY())/a,g=0;g<r;g++)this.image.get(ot.round(u+g*h),ot.round(c+g*p))&&(i|=1<<r-g-1);return i},n.prototype.isWhiteOrBlackRectangle=function(e,t,r,i){var a=3;e=new vr(e.getX()-a,e.getY()+a),t=new vr(t.getX()-a,t.getY()-a),r=new vr(r.getX()+a,r.getY()-a),i=new vr(i.getX()+a,i.getY()+a);var s=this.getColor(i,e);if(s===0)return!1;var u=this.getColor(e,t);return u!==s||(u=this.getColor(t,r),u!==s)?!1:(u=this.getColor(r,i),u===s)},n.prototype.getColor=function(e,t){for(var r=this.distancePoint(e,t),i=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,s=0,u=e.getX(),c=e.getY(),h=this.image.get(e.getX(),e.getY()),p=Math.ceil(r),g=0;g<p;g++)u+=i,c+=a,this.image.get(ot.round(u),ot.round(c))!==h&&s++;var y=s/r;return y>.1&&y<.9?0:y<=.1===h?1:-1},n.prototype.getFirstDifferent=function(e,t,r,i){for(var a=e.getX()+r,s=e.getY()+i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r,s+=i;for(a-=r,s-=i;this.isValid(a,s)&&this.image.get(a,s)===t;)a+=r;for(a-=r;this.isValid(a,s)&&this.image.get(a,s)===t;)s+=i;return s-=i,new vr(a,s)},n.prototype.expandSquare=function(e,t,r){var i=r/(2*t),a=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,h=new Ee(u+i*a,c+i*s),p=new Ee(u-i*a,c-i*s);a=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var g=new Ee(u+i*a,c+i*s),y=new Ee(u-i*a,c-i*s),_=[h,g,p,y];return _},n.prototype.isValid=function(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()},n.prototype.isValidPoint=function(e){var t=ot.round(e.getX()),r=ot.round(e.getY());return this.isValid(t,r)},n.prototype.distancePoint=function(e,t){return ot.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.distanceResultPoint=function(e,t){return ot.distance(e.getX(),e.getY(),t.getX(),t.getY())},n.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Ye.truncDivision(this.nbLayers-4,8)+1)+15},n}(),r0=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=null,i=new Wk(e.getBlackMatrix()),a=null,s=null;try{var u=i.detectMirror(!1);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new NE().decode(u)}catch(g){r=g}if(s==null)try{var u=i.detectMirror(!0);a=u.getPoints(),this.reportFoundResultPoints(t,a),s=new NE().decode(u)}catch(g){throw r??g}var c=new nr(s.getText(),s.getRawBytes(),s.getNumBits(),a,Ie.AZTEC,It.currentTimeMillis()),h=s.getByteSegments();h!=null&&c.putMetadata(qn.BYTE_SEGMENTS,h);var p=s.getECLevel();return p!=null&&c.putMetadata(qn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reportFoundResultPoints=function(e,t){if(e!=null){var r=e.get(Rt.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach(function(i,a,s){r.foundPossibleResultPoint(i)})}},n.prototype.reset=function(){},n}(),Yk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){Yk(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new r0,t)||this}return e})(mu);var En=function(){function n(){}return n.prototype.decode=function(e,t){try{return this.doDecode(e,t)}catch{var r=t&&t.get(Rt.TRY_HARDER)===!0;if(r&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,t),s=a.getResultMetadata(),u=270;s!==null&&s.get(qn.ORIENTATION)===!0&&(u=u+s.get(qn.ORIENTATION)%360),a.putMetadata(qn.ORIENTATION,u);var c=a.getResultPoints();if(c!==null)for(var h=i.getHeight(),p=0;p<c.length;p++)c[p]=new Ee(h-c[p].getY()-1,c[p].getX());return a}else throw new ie}},n.prototype.reset=function(){},n.prototype.doDecode=function(e,t){var r=e.getWidth(),i=e.getHeight(),a=new Mn(r),s=t&&t.get(Rt.TRY_HARDER)===!0,u=Math.max(1,i>>(s?8:5)),c;s?c=i:c=15;for(var h=Math.trunc(i/2),p=0;p<c;p++){var g=Math.trunc((p+1)/2),y=(p&1)===0,_=h+u*(y?g:-g);if(_<0||_>=i)break;try{a=e.getBlackRow(_,a)}catch{continue}for(var E=function(R){if(R===1&&(a.reverse(),t&&t.get(Rt.NEED_RESULT_POINT_CALLBACK)===!0)){var P=new Map;t.forEach(function(q,O){return P.set(O,q)}),P.delete(Rt.NEED_RESULT_POINT_CALLBACK),t=P}try{var j=b.decodeRow(_,a,t);if(R===1){j.putMetadata(qn.ORIENTATION,180);var U=j.getResultPoints();U!==null&&(U[0]=new Ee(r-U[0].getX()-1,U[0].getY()),U[1]=new Ee(r-U[1].getX()-1,U[1].getY()))}return{value:j}}catch{}},b=this,T=0;T<2;T++){var I=E(T);if(typeof I=="object")return I.value}}throw new ie},n.recordPattern=function(e,t,r){for(var i=r.length,a=0;a<i;a++)r[a]=0;var s=e.getSize();if(t>=s)throw new ie;for(var u=!e.get(t),c=0,h=t;h<s;){if(e.get(h)!==u)r[c]++;else{if(++c===i)break;r[c]=1,u=!u}h++}if(!(c===i||c===i-1&&h===s))throw new ie},n.recordPatternInReverse=function(e,t,r){for(var i=r.length,a=e.get(t);t>0&&i>=0;)e.get(--t)!==a&&(i--,a=!a);if(i>=0)throw new ie;n.recordPattern(e,t+1,r)},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return Number.POSITIVE_INFINITY;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var g=e[p],y=t[p]*c,_=g>y?g-y:y-g;if(_>r)return Number.POSITIVE_INFINITY;h+=_}return h/a},n}(),$k=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),DE=function(n){$k(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.findStartPattern=function(t){for(var r=t.getSize(),i=t.getNextSet(0),a=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1,h=6,p=i;p<r;p++)if(t.get(p)!==c)s[a]++;else{if(a===h-1){for(var g=e.MAX_AVG_VARIANCE,y=-1,_=e.CODE_START_A;_<=e.CODE_START_C;_++){var E=En.patternMatchVariance(s,e.CODE_PATTERNS[_],e.MAX_INDIVIDUAL_VARIANCE);E<g&&(g=E,y=_)}if(y>=0&&t.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,y]);u+=s[0]+s[1],s=s.slice(2,s.length),s[a-1]=0,s[a]=0,a--}else a++;s[a]=1,c=!c}throw new ie},e.decodeCode=function(t,r,i){En.recordPattern(t,i,r);for(var a=e.MAX_AVG_VARIANCE,s=-1,u=0;u<e.CODE_PATTERNS.length;u++){var c=e.CODE_PATTERNS[u],h=this.patternMatchVariance(r,c,e.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,s=u)}if(s>=0)return s;throw new ie},e.prototype.decodeRow=function(t,r,i){var a=i&&i.get(Rt.ASSUME_GS1)===!0,s=e.findStartPattern(r),u=s[2],c=0,h=new Uint8Array(20);h[c++]=u;var p;switch(u){case e.CODE_START_A:p=e.CODE_CODE_A;break;case e.CODE_START_B:p=e.CODE_CODE_B;break;case e.CODE_START_C:p=e.CODE_CODE_C;break;default:throw new me}for(var g=!1,y=!1,_="",E=s[0],b=s[1],T=Int32Array.from([0,0,0,0,0,0]),I=0,R=0,P=u,j=0,U=!0,q=!1,O=!1;!g;){var N=y;switch(y=!1,I=R,R=e.decodeCode(r,T,b),h[c++]=R,R!==e.CODE_STOP&&(U=!0),R!==e.CODE_STOP&&(j++,P+=j*R),E=b,b+=T.reduce(function(le,fe){return le+fe},0),R){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new me}switch(p){case e.CODE_CODE_A:if(R<64)O===q?_+=String.fromCharCode(32+R):_+=String.fromCharCode(32+R+128),O=!1;else if(R<96)O===q?_+=String.fromCharCode(R-64):_+=String.fromCharCode(R+64),O=!1;else switch(R!==e.CODE_STOP&&(U=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!q&&O?(q=!0,O=!1):q&&O?(q=!1,O=!1):O=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_B;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_B:if(R<96)O===q?_+=String.fromCharCode(32+R):_+=String.fromCharCode(32+R+128),O=!1;else switch(R!==e.CODE_STOP&&(U=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!q&&O?(q=!0,O=!1):q&&O?(q=!1,O=!1):O=!0;break;case e.CODE_SHIFT:y=!0,p=e.CODE_CODE_A;break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_C:p=e.CODE_CODE_C;break;case e.CODE_STOP:g=!0;break}break;case e.CODE_CODE_C:if(R<100)R<10&&(_+="0"),_+=R;else switch(R!==e.CODE_STOP&&(U=!1),R){case e.CODE_FNC_1:a&&(_.length===0?_+="]C1":_+="");break;case e.CODE_CODE_A:p=e.CODE_CODE_A;break;case e.CODE_CODE_B:p=e.CODE_CODE_B;break;case e.CODE_STOP:g=!0;break}break}N&&(p=p===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var M=b-E;if(b=r.getNextUnset(b),!r.isRange(b,Math.min(r.getSize(),b+(b-E)/2),!1))throw new ie;if(P-=j*I,P%103!==I)throw new cn;var V=_.length;if(V===0)throw new ie;V>0&&U&&(p===e.CODE_CODE_C?_=_.substring(0,V-2):_=_.substring(0,V-1));for(var G=(s[1]+s[0])/2,H=E+M/2,k=h.length,xe=new Uint8Array(k),_e=0;_e<k;_e++)xe[_e]=h[_e];var ee=[new Ee(G,t),new Ee(H,t)];return new nr(_,xe,0,ee,Ie.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(En),Kk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ig=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PE=function(n){Kk(e,n);function e(t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=n.call(this)||this;return i.usingCheckDigit=t,i.extendedMode=r,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.counters;h.fill(0),this.decodeRowResult="";var p=e.findAsteriskPattern(r,h),g=r.getNextSet(p[1]),y=r.getSize(),_,E;do{e.recordPattern(r,g,h);var b=e.toNarrowWidePattern(h);if(b<0)throw new ie;_=e.patternToChar(b),this.decodeRowResult+=_,E=g;try{for(var T=(a=void 0,Ig(h)),I=T.next();!I.done;I=T.next()){var R=I.value;g+=R}}catch(k){a={error:k}}finally{try{I&&!I.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}g=r.getNextSet(g)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var P=0;try{for(var j=Ig(h),U=j.next();!U.done;U=j.next()){var R=U.value;P+=R}}catch(k){u={error:k}}finally{try{U&&!U.done&&(c=j.return)&&c.call(j)}finally{if(u)throw u.error}}var q=g-E-P;if(g!==y&&q*2<P)throw new ie;if(this.usingCheckDigit){for(var O=this.decodeRowResult.length-1,N=0,M=0;M<O;M++)N+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(M));if(this.decodeRowResult.charAt(O)!==e.ALPHABET_STRING.charAt(N%43))throw new cn;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new ie;var V;this.extendedMode?V=e.decodeExtended(this.decodeRowResult):V=this.decodeRowResult;var G=(p[1]+p[0])/2,H=E+P/2;return new nr(V,null,0,[new Ee(G,t),new Ee(H,t)],Ie.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(t,r){for(var i=t.getSize(),a=t.getNextSet(0),s=0,u=a,c=!1,h=r.length,p=a;p<i;p++)if(t.get(p)!==c)r[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(r)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new ie},e.toNarrowWidePattern=function(t){var r,i,a=t.length,s=0,u;do{var c=2147483647;try{for(var h=(r=void 0,Ig(t)),p=h.next();!p.done;p=h.next()){var g=p.value;g<c&&g>s&&(c=g)}}catch(b){r={error:b}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}s=c,u=0;for(var y=0,_=0,E=0;E<a;E++){var g=t[E];g>s&&(_|=1<<a-1-E,u++,y+=g)}if(u===3){for(var E=0;E<a&&u>0;E++){var g=t[E];if(g>s&&(u--,g*2>=y))return-1}return _}}while(u>3);return-1},e.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);if(t===e.ASTERISK_ENCODING)return"*";throw new ie},e.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s==="+"||s==="$"||s==="%"||s==="/"){var u=t.charAt(a+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new me;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new me;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new me;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new me;break}i+=c,a++}else i+=s}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(En),Qk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Rg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ME=function(n){Qk(e,n);function e(){var t=n.call(this)||this;return t.decodeRowResult="",t.counters=new Int32Array(6),t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.findAsteriskPattern(r),p=r.getNextSet(h[1]),g=r.getSize(),y=this.counters;y.fill(0),this.decodeRowResult="";var _,E;do{e.recordPattern(r,p,y);var b=this.toPattern(y);if(b<0)throw new ie;_=this.patternToChar(b),this.decodeRowResult+=_,E=p;try{for(var T=(a=void 0,Rg(y)),I=T.next();!I.done;I=T.next()){var R=I.value;p+=R}}catch(M){a={error:M}}finally{try{I&&!I.done&&(s=T.return)&&s.call(T)}finally{if(a)throw a.error}}p=r.getNextSet(p)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var P=0;try{for(var j=Rg(y),U=j.next();!U.done;U=j.next()){var R=U.value;P+=R}}catch(M){u={error:M}}finally{try{U&&!U.done&&(c=j.return)&&c.call(j)}finally{if(u)throw u.error}}if(p===g||!r.get(p))throw new ie;if(this.decodeRowResult.length<2)throw new ie;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var q=this.decodeExtended(this.decodeRowResult),O=(h[1]+h[0])/2,N=E+P/2;return new nr(q,null,0,[new Ee(O,t),new Ee(N,t)],Ie.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(t){var r=t.getSize(),i=t.getNextSet(0);this.counters.fill(0);for(var a=this.counters,s=i,u=!1,c=a.length,h=0,p=i;p<r;p++)if(t.get(p)!==u)a[h]++;else{if(h===c-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([s,p]);s+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,u=!u}throw new ie},e.prototype.toPattern=function(t){var r,i,a=0;try{for(var s=Rg(t),u=s.next();!u.done;u=s.next()){var c=u.value;a+=c}}catch(E){r={error:E}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}for(var h=0,p=t.length,g=0;g<p;g++){var y=Math.round(t[g]*9/a);if(y<1||y>4)return-1;if((g&1)===0)for(var _=0;_<y;_++)h=h<<1|1;else h<<=y}return h},e.prototype.patternToChar=function(t){for(var r=0;r<e.CHARACTER_ENCODINGS.length;r++)if(e.CHARACTER_ENCODINGS[r]===t)return e.ALPHABET_STRING.charAt(r);throw new ie},e.prototype.decodeExtended=function(t){for(var r=t.length,i="",a=0;a<r;a++){var s=t.charAt(a);if(s>="a"&&s<="d"){if(a>=r-1)throw new me;var u=t.charAt(a+1),c="\0";switch(s){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new me;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new me;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new me;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new me;break}i+=c,a++}else i+=s}return i},e.prototype.checkChecksums=function(t){var r=t.length;this.checkOneChecksum(t,r-2,20),this.checkOneChecksum(t,r-1,15)},e.prototype.checkOneChecksum=function(t,r,i){for(var a=1,s=0,u=r-1;u>=0;u--)s+=a*e.ALPHABET_STRING.indexOf(t.charAt(u)),++a>i&&(a=1);if(t.charAt(r)!==e.ALPHABET_STRING[s%47])throw new cn},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(En),Zk=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Jk=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kE=function(n){Zk(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.narrowLineWidth=-1,t}return e.prototype.decodeRow=function(t,r,i){var a,s,u=this.decodeStart(r),c=this.decodeEnd(r),h=new qe;e.decodeMiddle(r,u[1],c[0],h);var p=h.toString(),g=null;i!=null&&(g=i.get(Rt.ALLOWED_LENGTHS)),g==null&&(g=e.DEFAULT_ALLOWED_LENGTHS);var y=p.length,_=!1,E=0;try{for(var b=Jk(g),T=b.next();!T.done;T=b.next()){var I=T.value;if(y===I){_=!0;break}I>E&&(E=I)}}catch(j){a={error:j}}finally{try{T&&!T.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(!_&&y>E&&(_=!0),!_)throw new me;var R=[new Ee(u[1],t),new Ee(c[0],t)],P=new nr(p,null,0,R,Ie.ITF,new Date().getTime());return P},e.decodeMiddle=function(t,r,i,a){var s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){En.recordPattern(t,r,s);for(var h=0;h<5;h++){var p=2*h;u[h]=s[p],c[h]=s[p+1]}var g=e.decodeDigit(u);a.append(g.toString()),g=this.decodeDigit(c),a.append(g.toString()),s.forEach(function(y){r+=y})}},e.prototype.decodeStart=function(t){var r=e.skipWhiteSpace(t),i=e.findGuardPattern(t,r,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i},e.prototype.validateQuietZone=function(t,r){var i=this.narrowLineWidth*10;i=i<r?i:r;for(var a=r-1;i>0&&a>=0&&!t.get(a);a--)i--;if(i!==0)throw new ie},e.skipWhiteSpace=function(t){var r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new ie;return i},e.prototype.decodeEnd=function(t){t.reverse();try{var r=e.skipWhiteSpace(t),i=void 0;try{i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[0])}catch(s){s instanceof ie&&(i=e.findGuardPattern(t,r,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);var a=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-a,i}finally{t.reverse()}},e.findGuardPattern=function(t,r,i){var a=i.length,s=new Int32Array(a),u=t.getSize(),c=!1,h=0,p=r;s.fill(0);for(var g=r;g<u;g++)if(t.get(g)!==c)s[h]++;else{if(h===a-1){if(En.patternMatchVariance(s,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[p,g];p+=s[0]+s[1],It.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new ie},e.decodeDigit=function(t){for(var r=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,s=0;s<a;s++){var u=e.PATTERNS[s],c=En.patternMatchVariance(t,u,e.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new ie},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(En),eL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eu=function(n){eL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.decodeRowStringBuffer="",t}return e.findStartGuardPattern=function(t){for(var r=!1,i,a=0,s=Int32Array.from([0,0,0]);!r;){s=Int32Array.from([0,0,0]),i=e.findGuardPattern(t,a,!1,this.START_END_PATTERN,s);var u=i[0];a=i[1];var c=u-(a-u);c>=0&&(r=t.isRange(c,u,!1))}return i},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new me;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new me;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,r,i,a){return this.findGuardPattern(t,r,i,a,new Int32Array(a.length))},e.findGuardPattern=function(t,r,i,a,s){var u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);for(var c=0,h=r,p=a.length,g=i,y=r;y<u;y++)if(t.get(y)!==g)s[c]++;else{if(c===p-1){if(En.patternMatchVariance(s,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([h,y]);h+=s[0]+s[1];for(var _=s.slice(2,s.length),E=0;E<c-1;E++)s[E]=_[E];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,g=!g}throw new ie},e.decodeDigit=function(t,r,i,a){this.recordPattern(t,i,r);for(var s=this.MAX_AVG_VARIANCE,u=-1,c=a.length,h=0;h<c;h++){var p=a[h],g=En.patternMatchVariance(r,p,e.MAX_INDIVIDUAL_VARIANCE);g<s&&(s=g,u=h)}if(u>=0)return u;throw new ie},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(En),tL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nL=function(){function n(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Ee((r[0]+r[1])/2,e),new Ee(a,e)],h=new nr(s,null,0,c,Ie.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<5&&c<u;p++){var g=eu.decodeDigit(e,s,c,eu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,tL(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(h|=1<<4-p),p!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==5)throw new ie;var b=this.determineCheckDigit(h);if(n.extensionChecksum(r.toString())!==b)throw new ie;return c},n.extensionChecksum=function(e){for(var t=e.length,r=0,i=t-2;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;r*=3;for(var i=t-1;i>=0;i-=2)r+=e.charAt(i).charCodeAt(0)-48;return r*=3,r%10},n.prototype.determineCheckDigit=function(e){for(var t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new ie},n.parseExtensionString=function(e){if(e.length!==5)return null;var t=n.parseExtension5String(e);return t==null?null:new Map([[qn.SUGGESTED_PRICE,t]])},n.parseExtension5String=function(e){var t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}var r=parseInt(e.substring(1)),i=(r/100).toString(),a=r%100,s=a<10?"0"+a:a.toString();return t+i+"."+s},n}(),rL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iL=function(){function n(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return n.prototype.decodeRow=function(e,t,r){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,i),s=i.toString(),u=n.parseExtensionString(s),c=[new Ee((r[0]+r[1])/2,e),new Ee(a,e)],h=new nr(s,null,0,c,Ie.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&h.putAllMetadata(u),h},n.prototype.decodeMiddle=function(e,t,r){var i,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=e.getSize(),c=t[1],h=0,p=0;p<2&&c<u;p++){var g=eu.decodeDigit(e,s,c,eu.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);try{for(var y=(i=void 0,rL(s)),_=y.next();!_.done;_=y.next()){var E=_.value;c+=E}}catch(b){i={error:b}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}g>=10&&(h|=1<<1-p),p!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(r.length!==2)throw new ie;if(parseInt(r.toString())%4!==h)throw new ie;return c},n.parseExtensionString=function(e){return e.length!==2?null:new Map([[qn.ISSUE_NUMBER,parseInt(e)]])},n}(),aL=function(){function n(){}return n.decodeRow=function(e,t,r){var i=eu.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new nL;return a.decodeRow(e,t,i)}catch{var s=new iL;return s.decodeRow(e,t,i)}},n.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),n}(),oL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yn=function(n){oL(e,n);function e(){var t=n.call(this)||this;t.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],a=new Int32Array(i.length),s=0;s<i.length;s++)a[s]=i[i.length-s-1];e.L_AND_G_PATTERNS[r]=a}return t}return e.prototype.decodeRow=function(t,r,i){var a=e.findStartGuardPattern(r),s=i==null?null:i.get(Rt.NEED_RESULT_POINT_CALLBACK);if(s!=null){var u=new Ee((a[0]+a[1])/2,t);s.foundPossibleResultPoint(u)}var c=this.decodeMiddle(r,a,this.decodeRowStringBuffer),h=c.rowOffset,p=c.resultString;if(s!=null){var g=new Ee(h,t);s.foundPossibleResultPoint(g)}var y=e.decodeEnd(r,h);if(s!=null){var _=new Ee((y[0]+y[1])/2,t);s.foundPossibleResultPoint(_)}var E=y[1],b=E+(E-y[0]);if(b>=r.getSize()||!r.isRange(E,b,!1))throw new ie;var T=p.toString();if(T.length<8)throw new me;if(!e.checkChecksum(T))throw new cn;var I=(a[1]+a[0])/2,R=(y[1]+y[0])/2,P=this.getBarcodeFormat(),j=[new Ee(I,t),new Ee(R,t)],U=new nr(T,null,0,j,P,new Date().getTime()),q=0;try{var O=aL.decodeRow(t,r,y[1]);U.putMetadata(qn.UPC_EAN_EXTENSION,O.getText()),U.putAllMetadata(O.getResultMetadata()),U.addResultPoints(O.getResultPoints()),q=O.getText().length}catch{}var N=i==null?null:i.get(Rt.ALLOWED_EAN_EXTENSIONS);if(N!=null){var M=!1;for(var V in N)if(q.toString()===V){M=!0;break}if(!M)throw new ie}return P===Ie.EAN_13||Ie.UPC_A,U},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var r=t.length;if(r===0)return!1;var i=parseInt(t.charAt(r-1),10);return e.getStandardUPCEANChecksum(t.substring(0,r-1))===i},e.getStandardUPCEANChecksum=function(t){for(var r=t.length,i=0,a=r-1;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new me;i+=s}i*=3;for(var a=r-2;a>=0;a-=2){var s=t.charAt(a).charCodeAt(0)-48;if(s<0||s>9)throw new me;i+=s}return(1e3-i)%10},e.decodeEnd=function(t,r){return e.findGuardPattern(t,r,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(eu),sL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Em=function(n){sL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),g=r[1],y=0,_=0;_<6&&g<p;_++){var E=yn.decodeDigit(t,h,g,yn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+E%10);try{for(var b=(a=void 0,LE(h)),T=b.next();!T.done;T=b.next()){var I=T.value;g+=I}}catch(U){a={error:U}}finally{try{T&&!T.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}E>=10&&(y|=1<<5-_)}i=e.determineFirstDigit(i,y);var R=yn.findGuardPattern(t,g,!0,yn.MIDDLE_PATTERN,new Int32Array(yn.MIDDLE_PATTERN.length).fill(0));g=R[1];for(var _=0;_<6&&g<p;_++){var E=yn.decodeDigit(t,h,g,yn.L_PATTERNS);i+=String.fromCharCode(48+E);try{for(var P=(u=void 0,LE(h)),j=P.next();!j.done;j=P.next()){var I=j.value;g+=I}}catch(O){u={error:O}}finally{try{j&&!j.done&&(c=P.return)&&c.call(P)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ie.EAN_13},e.determineFirstDigit=function(t,r){for(var i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new ie},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(yn),lL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jE=function(n){lL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u,c,h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;for(var p=t.getSize(),g=r[1],y=0;y<4&&g<p;y++){var _=yn.decodeDigit(t,h,g,yn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var E=(a=void 0,BE(h)),b=E.next();!b.done;b=E.next()){var T=b.value;g+=T}}catch(j){a={error:j}}finally{try{b&&!b.done&&(s=E.return)&&s.call(E)}finally{if(a)throw a.error}}}var I=yn.findGuardPattern(t,g,!0,yn.MIDDLE_PATTERN,new Int32Array(yn.MIDDLE_PATTERN.length).fill(0));g=I[1];for(var y=0;y<4&&g<p;y++){var _=yn.decodeDigit(t,h,g,yn.L_PATTERNS);i+=String.fromCharCode(48+_);try{for(var R=(u=void 0,BE(h)),P=R.next();!P.done;P=R.next()){var T=P.value;g+=T}}catch(q){u={error:q}}finally{try{P&&!P.done&&(c=R.return)&&c.call(R)}finally{if(u)throw u.error}}}return{rowOffset:g,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ie.EAN_8},e}(yn),uL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),VE=function(n){uL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ean13Reader=new Em,t}return e.prototype.getBarcodeFormat=function(){return Ie.UPC_A},e.prototype.decode=function(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))},e.prototype.decodeMiddle=function(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)},e.prototype.maybeReturnResult=function(t){var r=t.getText();if(r.charAt(0)==="0"){var i=new nr(r.substring(1),null,null,t.getResultPoints(),Ie.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new ie},e.prototype.reset=function(){this.ean13Reader.reset()},e}(yn),cL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},UE=function(n){cL(e,n);function e(){var t=n.call(this)||this;return t.decodeMiddleCounters=new Int32Array(4),t}return e.prototype.decodeMiddle=function(t,r,i){var a,s,u=this.decodeMiddleCounters.map(function(T){return T});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),h=r[1],p=0,g=0;g<6&&h<c;g++){var y=e.decodeDigit(t,u,h,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);try{for(var _=(a=void 0,fL(u)),E=_.next();!E.done;E=_.next()){var b=E.value;h+=b}}catch(T){a={error:T}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}y>=10&&(p|=1<<5-g)}return e.determineNumSysAndCheckDigit(new qe(i),p),h},e.prototype.decodeEnd=function(t,r){return e.findGuardPatternWithoutCounters(t,r,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return yn.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,r){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){t.insert(0,"0"+i),t.append("0"+a);return}throw ie.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ie.UPC_E},e.convertUPCEtoUPCA=function(t){var r=t.slice(1,7).split("").map(function(s){return s.charCodeAt(0)}),i=new qe;i.append(t.charAt(0));var a=r[5];switch(a){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(a),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(a);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(yn),hL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),FE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ng=function(n){hL(e,n);function e(t){var r=n.call(this)||this,i=t==null?null:t.get(Rt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(Ie.EAN_13)>-1&&a.push(new Em),i.indexOf(Ie.UPC_A)>-1&&a.push(new VE),i.indexOf(Ie.EAN_8)>-1&&a.push(new jE),i.indexOf(Ie.UPC_E)>-1&&a.push(new UE)),a.length===0&&(a.push(new Em),a.push(new VE),a.push(new jE),a.push(new UE)),r.readers=a,r}return e.prototype.decodeRow=function(t,r,i){var a,s;try{for(var u=FE(this.readers),c=u.next();!c.done;c=u.next()){var h=c.value;try{var p=h.decodeRow(t,r,i),g=p.getBarcodeFormat()===Ie.EAN_13&&p.getText().charAt(0)==="0",y=i==null?null:i.get(Rt.POSSIBLE_FORMATS),_=y==null||y.includes(Ie.UPC_A);if(g&&_){var E=p.getRawBytes(),b=new nr(p.getText().substring(1),E,E?E.length:null,p.getResultPoints(),Ie.UPC_A);return b.putAllMetadata(p.getResultMetadata()),b}return p}catch{}}}catch(T){a={error:T}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}throw new ie},e.prototype.reset=function(){var t,r;try{for(var i=FE(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;s.reset()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e}(En),dL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pL=function(n){dL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},t}return e.prototype.decodeRow=function(t,r,i){var a=this.getValidRowData(r);if(!a)throw new ie;var s=this.codaBarDecodeRow(a.row);if(!s)throw new ie;return new nr(s,null,0,[new Ee(a.left,t),new Ee(a.right,t)],Ie.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(t){var r=t.toArray(),i=r.indexOf(!0);if(i===-1)return null;var a=r.lastIndexOf(!0);if(a<=i)return null;r=r.slice(i,a+1);for(var s=[],u=r[0],c=1,h=1;h<r.length;h++)r[h]===u?c++:(u=r[h],s.push(c),c=1);return s.push(c),s.length<23&&(s.length+1)%8!==0?null:{row:s,left:i,right:a}},e.prototype.codaBarDecodeRow=function(t){for(var r=[],i=Math.ceil(t.reduce(function(c,h){return(c+h)/2},0));t.length>0;){var a=t.splice(0,8).splice(0,7),s=a.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[s]===void 0)return null;r.push(this.CODA_BAR_CHAR_SET[s])}var u=r.join("");return this.validCodaBarString(u)?u:null},e.prototype.validCodaBarString=function(t){var r=/^[A-D].{1,}[A-D]$/;return r.test(t)},e}(En),gL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),mL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ws=function(n){gL(e,n);function e(){var t=n.call(this)||this;return t.decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,r){for(var i=0;i<r.length;i++)if(En.patternMatchVariance(t,r[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new ie},e.count=function(t){return ot.sum(new Int32Array(t))},e.increment=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]>a&&(a=r[s],i=s);t[i]++},e.decrement=function(t,r){for(var i=0,a=r[0],s=1;s<t.length;s++)r[s]<a&&(a=r[s],i=s);t[i]--},e.isFinderPattern=function(t){var r,i,a=t[0]+t[1],s=a+t[2]+t[3],u=a/s;if(u>=e.MIN_FINDER_PATTERN_RATIO&&u<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;try{for(var p=mL(t),g=p.next();!g.done;g=p.next()){var y=g.value;y>h&&(h=y),y<c&&(c=y)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}return h<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(En),i0=function(){function n(e,t){this.value=e,this.checksumPortion=t}return n.prototype.getValue=function(){return this.value},n.prototype.getChecksumPortion=function(){return this.checksumPortion},n.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion},n.prototype.hashCode=function(){return this.value^this.checksumPortion},n}(),xC=function(){function n(e,t,r,i,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Ee(r,a)),this.resultPoints.push(new Ee(i,a))}return n.prototype.getValue=function(){return this.value},n.prototype.getStartEnd=function(){return this.startEnd},n.prototype.getResultPoints=function(){return this.resultPoints},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.hashCode=function(){return this.value},n}(),vL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ll=function(){function n(){}return n.getRSSvalue=function(e,t,r){var i,a,s=0;try{for(var u=vL(e),c=u.next();!c.done;c=u.next()){var h=c.value;s+=h}}catch(R){i={error:R}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}for(var p=0,g=0,y=e.length,_=0;_<y-1;_++){var E=void 0;for(E=1,g|=1<<_;E<e[_];E++,g&=~(1<<_)){var b=n.combins(s-E-1,y-_-2);if(r&&g===0&&s-E-(y-_-1)>=y-_-1&&(b-=n.combins(s-E-(y-_),y-_-2)),y-_-1>1){for(var T=0,I=s-E-(y-_-2);I>t;I--)T+=n.combins(s-E-I-1,y-_-3);b-=T*(y-1-_)}else s-E>t&&b--;p+=b}s-=E}return p},n.combins=function(e,t){var r,i;e-t>t?(i=t,r=e-t):(i=e-t,r=t);for(var a=1,s=1,u=e;u>r;u--)a*=u,s<=i&&(a/=s,s++);for(;s<=i;)a/=s,s++;return a},n}(),yL=function(){function n(){}return n.buildBitArray=function(e){var t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);for(var r=12*t,i=new Mn(r),a=0,s=e[0],u=s.getRightChar().getValue(),c=11;c>=0;--c)(u&1<<c)!==0&&i.set(a),a++;for(var c=1;c<e.length;++c){for(var h=e[c],p=h.getLeftChar().getValue(),g=11;g>=0;--g)(p&1<<g)!==0&&i.set(a),a++;if(h.getRightChar()!==null)for(var y=h.getRightChar().getValue(),g=11;g>=0;--g)(y&1<<g)!==0&&i.set(a),a++}return i},n}(),ys=function(){function n(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}return n.prototype.getDecodedInformation=function(){return this.decodedInformation},n.prototype.isFinished=function(){return this.finished},n}(),Gv=function(){function n(e){this.newPosition=e}return n.prototype.getNewPosition=function(){return this.newPosition},n}(),xL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oi=function(n){xL(e,n);function e(t,r){var i=n.call(this,t)||this;return i.value=r,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Gv),_L=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xs=function(n){_L(e,n);function e(t,r,i){var a=n.call(this,t)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=r,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Gv),wL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nl=function(n){wL(e,n);function e(t,r,i){var a=n.call(this,t)||this;if(r<0||r>10||i<0||i>10)throw new me;return a.firstDigit=r,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Gv),pd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EL=function(){function n(){}return n.parseFieldsInGeneralPurpose=function(e){var t,r,i,a,s,u,c,h;if(!e)return null;if(e.length<2)throw new ie;var p=e.substring(0,2);try{for(var g=pd(n.TWO_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var _=y.value;if(_[0]===p)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(2,_[2],e):n.processFixedAI(2,_[1],e)}}catch(q){t={error:q}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(e.length<3)throw new ie;var E=e.substring(0,3);try{for(var b=pd(n.THREE_DIGIT_DATA_LENGTH),T=b.next();!T.done;T=b.next()){var _=T.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(3,_[2],e):n.processFixedAI(3,_[1],e)}}catch(q){i={error:q}}finally{try{T&&!T.done&&(a=b.return)&&a.call(b)}finally{if(i)throw i.error}}try{for(var I=pd(n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),R=I.next();!R.done;R=I.next()){var _=R.value;if(_[0]===E)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(q){s={error:q}}finally{try{R&&!R.done&&(u=I.return)&&u.call(I)}finally{if(s)throw s.error}}if(e.length<4)throw new ie;var P=e.substring(0,4);try{for(var j=pd(n.FOUR_DIGIT_DATA_LENGTH),U=j.next();!U.done;U=j.next()){var _=U.value;if(_[0]===P)return _[1]===n.VARIABLE_LENGTH?n.processVariableAI(4,_[2],e):n.processFixedAI(4,_[1],e)}}catch(q){c={error:q}}finally{try{U&&!U.done&&(h=j.return)&&h.call(j)}finally{if(c)throw c.error}}throw new ie},n.processFixedAI=function(e,t,r){if(r.length<e)throw new ie;var i=r.substring(0,e);if(r.length<e+t)throw new ie;var a=r.substring(e,e+t),s=r.substring(e+t),u="("+i+")"+a,c=n.parseFieldsInGeneralPurpose(s);return c==null?u:u+c},n.processVariableAI=function(e,t,r){var i=r.substring(0,e),a;r.length<e+t?a=r.length:a=e+t;var s=r.substring(e,a),u=r.substring(a),c="("+i+")"+s,h=n.parseFieldsInGeneralPurpose(u);return h==null?c:c+h},n.VARIABLE_LENGTH=[],n.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",n.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",n.VARIABLE_LENGTH,20],["22",n.VARIABLE_LENGTH,29],["30",n.VARIABLE_LENGTH,8],["37",n.VARIABLE_LENGTH,8],["90",n.VARIABLE_LENGTH,30],["91",n.VARIABLE_LENGTH,30],["92",n.VARIABLE_LENGTH,30],["93",n.VARIABLE_LENGTH,30],["94",n.VARIABLE_LENGTH,30],["95",n.VARIABLE_LENGTH,30],["96",n.VARIABLE_LENGTH,30],["97",n.VARIABLE_LENGTH,3],["98",n.VARIABLE_LENGTH,30],["99",n.VARIABLE_LENGTH,30]],n.THREE_DIGIT_DATA_LENGTH=[["240",n.VARIABLE_LENGTH,30],["241",n.VARIABLE_LENGTH,30],["242",n.VARIABLE_LENGTH,6],["250",n.VARIABLE_LENGTH,30],["251",n.VARIABLE_LENGTH,30],["253",n.VARIABLE_LENGTH,17],["254",n.VARIABLE_LENGTH,20],["400",n.VARIABLE_LENGTH,30],["401",n.VARIABLE_LENGTH,30],["402",17],["403",n.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",n.VARIABLE_LENGTH,20],["421",n.VARIABLE_LENGTH,15],["422",3],["423",n.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],n.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",n.VARIABLE_LENGTH,15],["391",n.VARIABLE_LENGTH,18],["392",n.VARIABLE_LENGTH,15],["393",n.VARIABLE_LENGTH,18],["703",n.VARIABLE_LENGTH,30]],n.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",n.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",n.VARIABLE_LENGTH,20],["8003",n.VARIABLE_LENGTH,30],["8004",n.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",n.VARIABLE_LENGTH,30],["8008",n.VARIABLE_LENGTH,12],["8018",18],["8020",n.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",n.VARIABLE_LENGTH,70],["8200",n.VARIABLE_LENGTH,70]],n}(),Pd=function(){function n(e){this.buffer=new qe,this.information=e}return n.prototype.decodeAllCodes=function(e,t){var r=t,i=null;do{var a=this.decodeGeneralPurposeField(r,i),s=EL.parseFieldsInGeneralPurpose(a.getNewString());if(s!=null&&e.append(s),a.isRemaining()?i=""+a.getRemainingValue():i=null,r===a.getNewPosition())break;r=a.getNewPosition()}while(!0);return e.toString()},n.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)},n.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var t=this.extractNumericValueFromBitArray(e,4);return t===0?new Nl(this.information.getSize(),Nl.FNC1,Nl.FNC1):new Nl(this.information.getSize(),t-1,Nl.FNC1)}var r=this.extractNumericValueFromBitArray(e,7),i=(r-8)/11,a=(r-8)%11;return new Nl(e+7,i,a)},n.prototype.extractNumericValueFromBitArray=function(e,t){return n.extractNumericValueFromBitArray(this.information,e,t)},n.extractNumericValueFromBitArray=function(e,t,r){for(var i=0,a=0;a<r;++a)e.get(t+a)&&(i|=1<<r-a-1);return i},n.prototype.decodeGeneralPurposeField=function(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);var r=this.parseBlocks();return r!=null&&r.isRemaining()?new xs(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new xs(this.current.getPosition(),this.buffer.toString())},n.prototype.parseBlocks=function(){var e,t;do{var r=this.current.getPosition();this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished());var i=r!==this.current.getPosition();if(!i&&!e)break}while(!e);return t.getDecodedInformation()},n.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var t=void 0;return e.isSecondDigitFNC1()?t=new xs(this.current.getPosition(),this.buffer.toString()):t=new xs(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ys(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var t=new xs(this.current.getPosition(),this.buffer.toString());return new ys(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ys(!1)},n.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new xs(this.current.getPosition(),this.buffer.toString());return new ys(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ys(!1)},n.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var t=new xs(this.current.getPosition(),this.buffer.toString());return new ys(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ys(!1)},n.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},n.prototype.decodeIsoIec646=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new oi(e+5,oi.FNC1);if(t>=5&&t<15)return new oi(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new oi(e+7,""+(r+1));if(r>=90&&r<116)return new oi(e+7,""+(r+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new me}return new oi(e+8,a)},n.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63},n.prototype.decodeAlphanumeric=function(e){var t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new oi(e+5,oi.FNC1);if(t>=5&&t<15)return new oi(e+5,"0"+(t-5));var r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new oi(e+6,""+(r+33));var i;switch(r){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Mf("Decoding invalid alphanumeric value: "+r)}return new oi(e+6,i)},n.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0},n.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0},n.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0},n}(),_C=function(){function n(e){this.information=e,this.generalDecoder=new Pd(e)}return n.prototype.getInformation=function(){return this.information},n.prototype.getGeneralDecoder=function(){return this.generalDecoder},n}(),AL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),si=function(n){AL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedGtin=function(t,r){t.append("(01)");var i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)},e.prototype.encodeCompressedGtinWithoutAI=function(t,r,i){for(var a=0;a<4;++a){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}e.appendCheckDigit(t,i)},e.appendCheckDigit=function(t,r){for(var i=0,a=0;a<13;a++){var s=t.charAt(a+r).charCodeAt(0)-48;i+=(a&1)===0?3*s:s}i=10-i%10,i===10&&(i=0),t.append(i)},e.GTIN_SIZE=40,e}(_C),bL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),TL=function(n){bL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new qe;t.append("(01)");var r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(si),SL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CL=function(n){SL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){var t=new qe;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(_C),IL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Md=function(n){IL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.encodeCompressedWeight=function(t,r,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,a);for(var s=this.checkWeight(a),u=1e5,c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)},e}(si),RL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wC=function(n){RL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Md.GTIN_SIZE+e.WEIGHT_SIZE)throw new ie;var t=new qe;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Md.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Md),NL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),OL=function(n){NL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(wC),DL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),PL=function(n){DL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.addWeightCode=function(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(wC),ML=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),kL=function(n){ML(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+si.GTIN_SIZE)throw new ie;var t=new qe;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+si.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+si.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(si),LL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BL=function(n){LL(e,n);function e(t){return n.call(this,t)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+si.GTIN_SIZE)throw new ie;var t=new qe;this.encodeCompressedGtin(t,e.HEADER_SIZE);var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+si.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+si.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&t.append("0"),i/10===0&&t.append("0"),t.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+si.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(a.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(si),jL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_o=function(n){jL(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.dateCode=i,a.firstAIdigits=r,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new ie;var t=new qe;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,r){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,e.DATE_SIZE);if(i!==38400){t.append("("),t.append(this.dateCode),t.append(")");var a=i%32;i/=32;var s=i%12+1;i/=12;var u=i;u/10===0&&t.append("0"),t.append(u),s/10===0&&t.append("0"),t.append(s),a/10===0&&t.append("0"),t.append(a)}},e.prototype.addWeightCode=function(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Md);function VL(n){try{if(n.get(1))return new TL(n);if(!n.get(2))return new CL(n);var e=Pd.extractNumericValueFromBitArray(n,1,4);switch(e){case 4:return new OL(n);case 5:return new PL(n)}var t=Pd.extractNumericValueFromBitArray(n,1,5);switch(t){case 12:return new kL(n);case 13:return new BL(n)}var r=Pd.extractNumericValueFromBitArray(n,1,7);switch(r){case 56:return new _o(n,"310","11");case 57:return new _o(n,"320","11");case 58:return new _o(n,"310","13");case 59:return new _o(n,"320","13");case 60:return new _o(n,"310","15");case 61:return new _o(n,"320","15");case 62:return new _o(n,"310","17");case 63:return new _o(n,"320","17")}}catch(i){throw console.log(i),new Mf("unknown decoder: "+n)}}var HE=function(){function n(e,t,r,i){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=i}return n.prototype.mayBeLast=function(){return this.maybeLast},n.prototype.getLeftChar=function(){return this.leftchar},n.prototype.getRightChar=function(){return this.rightchar},n.prototype.getFinderPattern=function(){return this.finderpattern},n.prototype.mustBeLast=function(){return this.rightchar==null},n.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},n.equals=function(e,t){return e instanceof n?n.equalsOrNull(e.leftchar,t.leftchar)&&n.equalsOrNull(e.rightchar,t.rightchar)&&n.equalsOrNull(e.finderpattern,t.finderpattern):!1},n.equalsOrNull=function(e,t){return e===null?t===null:n.equals(e,t)},n.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},n}(),UL=function(){function n(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}return n.prototype.getPairs=function(){return this.pairs},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.isReversed=function(){return this.wasReversed},n.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},n.prototype.toString=function(){return"{ "+this.pairs+" }"},n.prototype.equals=function(e,t){return e instanceof n?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1},n.prototype.checkEqualitity=function(e,t){if(!(!e||!t)){var r;return e.forEach(function(i,a){t.forEach(function(s){i.getLeftChar().getValue()===s.getLeftChar().getValue()&&i.getRightChar().getValue()===s.getRightChar().getValue()&&i.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}},n}(),FL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),wo=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HL=function(n){FL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pairs=new Array(e.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return e.prototype.decodeRow=function(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,r))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,r))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,r){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(u){if(u instanceof ie){if(!this.pairs.length)throw new ie;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(t,!1),a){var s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new ie},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var r=null;try{r=this.checkRows(new Array,0)}catch(i){console.log(i)}return t&&(this.rows=this.rows.reverse()),r},e.prototype.checkRows=function(t,r){for(var i,a,s=r;s<this.rows.length;s++){var u=this.rows[s];this.pairs.length=0;try{for(var c=(i=void 0,wo(t)),h=c.next();!h.done;h=c.next()){var p=h.value;this.pairs.push(p.getPairs())}}catch(y){i={error:y}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(u.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var g=new Array(t);g.push(u);try{return this.checkRows(g,s+1)}catch(y){console.log(y)}}}throw new ie},e.isValidSequence=function(t){var r,i;try{for(var a=wo(e.FINDER_PATTERN_SEQUENCES),s=a.next();!s.done;s=a.next()){var u=s.value;if(!(t.length>u.length)){for(var c=!0,h=0;h<t.length;h++)if(t[h].getFinderPattern().getValue()!==u[h]){c=!1;break}if(c)return!0}}}catch(p){r={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return!1},e.prototype.storeRow=function(t,r){for(var i=0,a=!1,s=!1;i<this.rows.length;){var u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),i++}s||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new UL(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,r){var i,a,s,u,c,h;try{for(var p=wo(r),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.getPairs().length!==t.length){var _=!0;try{for(var E=(s=void 0,wo(y.getPairs())),b=E.next();!b.done;b=E.next()){var T=b.value,I=!1;try{for(var R=(c=void 0,wo(t)),P=R.next();!P.done;P=R.next()){var j=P.value;if(HE.equals(T,j)){I=!0;break}}}catch(U){c={error:U}}finally{try{P&&!P.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}I||(_=!1)}}catch(U){s={error:U}}finally{try{b&&!b.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}}}}catch(U){i={error:U}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}},e.isPartialRow=function(t,r){var i,a,s,u,c,h;try{for(var p=wo(r),g=p.next();!g.done;g=p.next()){var y=g.value,_=!0;try{for(var E=(s=void 0,wo(t)),b=E.next();!b.done;b=E.next()){var T=b.value,I=!1;try{for(var R=(c=void 0,wo(y.getPairs())),P=R.next();!P.done;P=R.next()){var j=P.value;if(T.equals(j)){I=!0;break}}}catch(U){c={error:U}}finally{try{P&&!P.done&&(h=R.return)&&h.call(R)}finally{if(c)throw c.error}}if(!I){_=!1;break}}}catch(U){s={error:U}}finally{try{b&&!b.done&&(u=E.return)&&u.call(E)}finally{if(s)throw s.error}}if(_)return!0}}catch(U){i={error:U}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var r=yL.buildBitArray(t),i=VL(r),a=i.parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new nr(a,null,null,c,Ie.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),s=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);a+=c.getLeftChar().getChecksumPortion(),s++;var h=c.getRightChar();h!=null&&(a+=h.getChecksumPortion(),s++)}a%=211;var p=211*(s-4)+a;return p===r.getValue()},e.getNextSecondBar=function(t,r){var i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(t,r,i){var a=r.length%2===0;this.startFromEven&&(a=!a);var s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,a),s===null?c=e.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);var h=this.decodeDataCharacter(t,s,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new ie;var p;try{p=this.decodeDataCharacter(t,s,a,!1)}catch(g){p=null,console.log(g)}return new HE(h,p,s,!0)},e.prototype.isEmptyPair=function(t){return t.length===0},e.prototype.findNextPair=function(t,r,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var s=t.getSize(),u;if(i>=0)u=i;else if(this.isEmptyPair(r))u=0;else{var c=r[r.length-1];u=c.getFinderPattern().getStartEnd()[1]}var h=r.length%2!==0;this.startFromEven&&(h=!h);for(var p=!1;u<s&&(p=!t.get(u),!!p);)u++;for(var g=0,y=u,_=u;_<s;_++)if(t.get(_)!==p)a[g]++;else{if(g===3){if(h&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=y,this.startEnd[1]=_;return}h&&e.reverseCounters(a),y+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,p=!p}throw new ie},e.reverseCounters=function(t){for(var r=t.length,i=0;i<r/2;++i){var a=t[i];t[i]=t[r-i-1],t[r-i-1]=a}},e.prototype.parseFoundFinderPattern=function(t,r,i){var a,s,u;if(i){for(var c=this.startEnd[0]-1;c>=0&&!t.get(c);)c--;c++,a=this.startEnd[0]-c,s=c,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];var h=this.getDecodeFinderCounters();It.arraycopy(h,0,h,1,h.length-1),h[0]=a;var p;try{p=this.parseFinderValue(h,e.FINDER_PATTERNS)}catch{return null}return new xC(p,[s,u],s,u,r)},e.prototype.decodeDataCharacter=function(t,r,i,a){for(var s=this.getDataCharacterCounters(),u=0;u<s.length;u++)s[u]=0;if(a)e.recordPatternInReverse(t,r.getStartEnd()[0],s);else{e.recordPattern(t,r.getStartEnd()[1],s);for(var c=0,h=s.length-1;c<h;c++,h--){var p=s[c];s[c]=s[h],s[h]=p}}var g=17,y=ot.sum(new Int32Array(s))/g,_=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new ie;for(var E=this.getOddCounts(),b=this.getEvenCounts(),T=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors(),c=0;c<s.length;c++){var R=1*s[c]/y,P=R+.5;if(P<1){if(R<.3)throw new ie;P=1}else if(P>8){if(R>8.7)throw new ie;P=8}var j=c/2;(c&1)===0?(E[j]=P,T[j]=R-P):(b[j]=P,I[j]=R-P)}this.adjustOddEvenCounts(g);for(var U=4*r.getValue()+(i?0:2)+(a?0:1)-1,q=0,O=0,c=E.length-1;c>=0;c--){if(e.isNotA1left(r,i,a)){var N=e.WEIGHTS[U][2*c];O+=E[c]*N}q+=E[c]}for(var M=0,c=b.length-1;c>=0;c--)if(e.isNotA1left(r,i,a)){var N=e.WEIGHTS[U][2*c+1];M+=b[c]*N}var V=O+M;if((q&1)!==0||q>13||q<4)throw new ie;var G=(13-q)/2,H=e.SYMBOL_WIDEST[G],k=9-H,xe=Ll.getRSSvalue(E,H,!0),_e=Ll.getRSSvalue(b,k,!1),ee=e.EVEN_TOTAL_SUBSET[G],le=e.GSUM[G],fe=xe*ee+_e+le;return new i0(fe,V)},e.isNotA1left=function(t,r,i){return!(t.getValue()===0&&r&&i)},e.prototype.adjustOddEvenCounts=function(t){var r=ot.sum(new Int32Array(this.getOddCounts())),i=ot.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);var h=r+i-t,p=(r&1)===1,g=(i&1)===0;if(h===1)if(p){if(g)throw new ie;s=!0}else{if(!g)throw new ie;c=!0}else if(h===-1)if(p){if(g)throw new ie;a=!0}else{if(!g)throw new ie;u=!0}else if(h===0){if(p){if(!g)throw new ie;r<i?(a=!0,c=!0):(s=!0,u=!0)}else if(g)throw new ie}else throw new ie;if(a){if(s)throw new ie;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new ie;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(ws),zL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),GL=function(n){zL(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(i0),qL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Og=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zE=function(n){qL(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.possibleLeftPairs=[],t.possibleRightPairs=[],t}return e.prototype.decodeRow=function(t,r,i){var a,s,u,c,h=this.decodePair(r,!1,t,i);e.addOrTally(this.possibleLeftPairs,h),r.reverse();var p=this.decodePair(r,!0,t,i);e.addOrTally(this.possibleRightPairs,p),r.reverse();try{for(var g=Og(this.possibleLeftPairs),y=g.next();!y.done;y=g.next()){var _=y.value;if(_.getCount()>1)try{for(var E=(u=void 0,Og(this.possibleRightPairs)),b=E.next();!b.done;b=E.next()){var T=b.value;if(T.getCount()>1&&e.checkChecksum(_,T))return e.constructResult(_,T)}}catch(I){u={error:I}}finally{try{b&&!b.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}}catch(I){a={error:I}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}throw new ie},e.addOrTally=function(t,r){var i,a;if(r!=null){var s=!1;try{for(var u=Og(t),c=u.next();!c.done;c=u.next()){var h=c.value;if(h.getValue()===r.getValue()){h.incrementCount(),s=!0;break}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}s||t.push(r)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,r){for(var i=4537077*t.getValue()+r.getValue(),a=new String(i).toString(),s=new qe,u=13-a.length;u>0;u--)s.append("0");s.append(a);for(var c=0,u=0;u<13;u++){var h=s.charAt(u).charCodeAt(0)-48;c+=(u&1)===0?3*h:h}c=10-c%10,c===10&&(c=0),s.append(c.toString());var p=t.getFinderPattern().getResultPoints(),g=r.getFinderPattern().getResultPoints();return new nr(s.toString(),null,0,[p[0],p[1],g[0],g[1]],Ie.RSS_14,new Date().getTime())},e.checkChecksum=function(t,r){var i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(t,r,i,a){try{var s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=a==null?null:a.get(Rt.NEED_RESULT_POINT_CALLBACK);if(c!=null){var h=(s[0]+s[1])/2;r&&(h=t.getSize()-1-h),c.foundPossibleResultPoint(new Ee(h,i))}var p=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new GL(1597*p.getValue()+g.getValue(),p.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}},e.prototype.decodeDataCharacter=function(t,r,i){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(i)En.recordPatternInReverse(t,r.getStartEnd()[0],a);else{En.recordPattern(t,r.getStartEnd()[1]+1,a);for(var u=0,c=a.length-1;u<c;u++,c--){var h=a[u];a[u]=a[c],a[c]=h}}for(var p=i?16:15,g=ot.sum(new Int32Array(a))/p,y=this.getOddCounts(),_=this.getEvenCounts(),E=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors(),u=0;u<a.length;u++){var T=a[u]/g,I=Math.floor(T+.5);I<1?I=1:I>8&&(I=8);var R=Math.floor(u/2);(u&1)===0?(y[R]=I,E[R]=T-I):(_[R]=I,b[R]=T-I)}this.adjustOddEvenCounts(i,p);for(var P=0,j=0,u=y.length-1;u>=0;u--)j*=9,j+=y[u],P+=y[u];for(var U=0,q=0,u=_.length-1;u>=0;u--)U*=9,U+=_[u],q+=_[u];var O=j+3*U;if(i){if((P&1)!==0||P>12||P<4)throw new ie;var N=(12-P)/2,M=e.OUTSIDE_ODD_WIDEST[N],V=9-M,G=Ll.getRSSvalue(y,M,!1),H=Ll.getRSSvalue(_,V,!0),k=e.OUTSIDE_EVEN_TOTAL_SUBSET[N],xe=e.OUTSIDE_GSUM[N];return new i0(G*k+H+xe,O)}else{if((q&1)!==0||q>10||q<4)throw new ie;var N=(10-q)/2,M=e.INSIDE_ODD_WIDEST[N],V=9-M,G=Ll.getRSSvalue(y,M,!0),H=Ll.getRSSvalue(_,V,!1),_e=e.INSIDE_ODD_TOTAL_SUBSET[N],xe=e.INSIDE_GSUM[N];return new i0(H*_e+G+xe,O)}},e.prototype.findFinderPattern=function(t,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=t.getSize(),s=!1,u=0;u<a&&(s=!t.get(u),r!==s);)u++;for(var c=0,h=u,p=u;p<a;p++)if(t.get(p)!==s)i[c]++;else{if(c===3){if(ws.isFinderPattern(i))return[h,p];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new ie},e.prototype.parseFoundFinderPattern=function(t,r,i,a){for(var s=t.get(a[0]),u=a[0]-1;u>=0&&s!==t.get(u);)u--;u++;var c=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);It.arraycopy(h,0,p,1,h.length-1),p[0]=c;var g=this.parseFinderValue(p,e.FINDER_PATTERNS),y=u,_=a[1];return i&&(y=t.getSize()-1-y,_=t.getSize()-1-_),new xC(g,[u,a[1]],y,_,r)},e.prototype.adjustOddEvenCounts=function(t,r){var i=ot.sum(new Int32Array(this.getOddCounts())),a=ot.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(i>12?u=!0:i<4&&(s=!0),a>12?h=!0:a<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),a>10?h=!0:a<4&&(c=!0));var p=i+a-r,g=(i&1)===(t?1:0),y=(a&1)===1;if(p===1)if(g){if(y)throw new ie;u=!0}else{if(!y)throw new ie;h=!0}else if(p===-1)if(g){if(y)throw new ie;s=!0}else{if(!y)throw new ie;c=!0}else if(p===0){if(g){if(!y)throw new ie;i<a?(s=!0,h=!0):(u=!0,c=!0)}else if(y)throw new ie}else throw new ie;if(s){if(u)throw new ie;ws.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&ws.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new ie;ws.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&ws.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(ws),XL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bl=function(n){XL(e,n);function e(t){var r=n.call(this)||this;r.readers=[];var i=t?t.get(Rt.POSSIBLE_FORMATS):null,a=t&&t.get(Rt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,s=t&&t.get(Rt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ie.EAN_13)||i.includes(Ie.UPC_A)||i.includes(Ie.EAN_8)||i.includes(Ie.UPC_E))&&r.readers.push(new Ng(t)),i.includes(Ie.CODE_39)&&r.readers.push(new PE(a,s)),i.includes(Ie.CODE_93)&&r.readers.push(new ME),i.includes(Ie.CODE_128)&&r.readers.push(new DE),i.includes(Ie.ITF)&&r.readers.push(new kE),i.includes(Ie.CODABAR)&&r.readers.push(new pL),i.includes(Ie.RSS_14)&&r.readers.push(new zE),i.includes(Ie.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new HL))),r.readers.length===0&&(r.readers.push(new Ng(t)),r.readers.push(new PE),r.readers.push(new ME),r.readers.push(new Ng(t)),r.readers.push(new DE),r.readers.push(new kE),r.readers.push(new zE)),r}return e.prototype.decodeRow=function(t,r,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(t,r,i)}catch{}throw new ie},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(En),WL=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){WL(e,n);function e(t,r){return t===void 0&&(t=500),n.call(this,new Bl(r),t,r)||this}return e})(mu);var GE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dt=function(){function n(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}return n.prototype.getECCodewords=function(){return this.ecCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),ut=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),YL=function(){function n(e,t,r,i,a,s){var u,c;this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=s;var h=0,p=s.getECCodewords(),g=s.getECBlocks();try{for(var y=GE(g),_=y.next();!_.done;_=y.next()){var E=_.value;h+=E.getCount()*(E.getDataCodewords()+p)}}catch(b){u={error:b}}finally{try{_&&!_.done&&(c=y.return)&&c.call(y)}finally{if(u)throw u.error}}this.totalCodewords=h}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},n.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},n.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},n.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getECBlocks=function(){return this.ecBlocks},n.getVersionForDimensions=function(e,t){var r,i;if((e&1)!==0||(t&1)!==0)throw new me;try{for(var a=GE(n.VERSIONS),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.symbolSizeRows===e&&u.symbolSizeColumns===t)return u}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}throw new me},n.prototype.toString=function(){return""+this.versionNumber},n.buildVersions=function(){return[new n(1,10,10,8,8,new dt(5,new ut(1,3))),new n(2,12,12,10,10,new dt(7,new ut(1,5))),new n(3,14,14,12,12,new dt(10,new ut(1,8))),new n(4,16,16,14,14,new dt(12,new ut(1,12))),new n(5,18,18,16,16,new dt(14,new ut(1,18))),new n(6,20,20,18,18,new dt(18,new ut(1,22))),new n(7,22,22,20,20,new dt(20,new ut(1,30))),new n(8,24,24,22,22,new dt(24,new ut(1,36))),new n(9,26,26,24,24,new dt(28,new ut(1,44))),new n(10,32,32,14,14,new dt(36,new ut(1,62))),new n(11,36,36,16,16,new dt(42,new ut(1,86))),new n(12,40,40,18,18,new dt(48,new ut(1,114))),new n(13,44,44,20,20,new dt(56,new ut(1,144))),new n(14,48,48,22,22,new dt(68,new ut(1,174))),new n(15,52,52,24,24,new dt(42,new ut(2,102))),new n(16,64,64,14,14,new dt(56,new ut(2,140))),new n(17,72,72,16,16,new dt(36,new ut(4,92))),new n(18,80,80,18,18,new dt(48,new ut(4,114))),new n(19,88,88,20,20,new dt(56,new ut(4,144))),new n(20,96,96,22,22,new dt(68,new ut(4,174))),new n(21,104,104,24,24,new dt(56,new ut(6,136))),new n(22,120,120,18,18,new dt(68,new ut(6,175))),new n(23,132,132,20,20,new dt(62,new ut(8,163))),new n(24,144,144,22,22,new dt(62,new ut(8,156),new ut(2,155))),new n(25,8,18,6,16,new dt(7,new ut(1,5))),new n(26,8,32,6,14,new dt(11,new ut(1,10))),new n(27,12,26,10,24,new dt(14,new ut(1,16))),new n(28,12,36,10,16,new dt(18,new ut(1,22))),new n(29,16,36,14,16,new dt(24,new ut(1,32))),new n(30,16,48,14,22,new dt(28,new ut(1,49)))]},n.VERSIONS=n.buildVersions(),n}(),$L=function(){function n(e){var t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new me;this.version=n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new zi(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return n.prototype.getVersion=function(){return this.version},n.readVersion=function(e){var t=e.getHeight(),r=e.getWidth();return YL.getVersionForDimensions(t,r)},n.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),t=0,r=4,i=0,a=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth(),u=!1,c=!1,h=!1,p=!1;do if(r===a&&i===0&&!u)e[t++]=this.readCorner1(a,s)&255,r-=2,i+=2,u=!0;else if(r===a-2&&i===0&&(s&3)!==0&&!c)e[t++]=this.readCorner2(a,s)&255,r-=2,i+=2,c=!0;else if(r===a+4&&i===2&&(s&7)===0&&!h)e[t++]=this.readCorner3(a,s)&255,r-=2,i+=2,h=!0;else if(r===a-2&&i===0&&(s&7)===4&&!p)e[t++]=this.readCorner4(a,s)&255,r-=2,i+=2,p=!0;else{do r<a&&i>=0&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r-=2,i+=2;while(r>=0&&i<s);r+=1,i+=3;do r>=0&&i<s&&!this.readMappingMatrix.get(i,r)&&(e[t++]=this.readUtah(r,i,a,s)&255),r+=2,i-=2;while(r<a&&i>=0);r+=3,i+=1}while(r<a||i<s);if(t!==this.version.getTotalCodewords())throw new me;return e},n.prototype.readModule=function(e,t,r,i){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)},n.prototype.readUtah=function(e,t,r,i){var a=0;return this.readModule(e-2,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e-1,t,r,i)&&(a|=1),a<<=1,this.readModule(e,t-2,r,i)&&(a|=1),a<<=1,this.readModule(e,t-1,r,i)&&(a|=1),a<<=1,this.readModule(e,t,r,i)&&(a|=1),a},n.prototype.readCorner1=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.readCorner2=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner3=function(e,t){var r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r},n.prototype.readCorner4=function(e,t){var r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r},n.prototype.extractDataRegion=function(e){var t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new Re("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),s=t/i|0,u=r/a|0,c=s*i,h=u*a,p=new zi(h,c),g=0;g<s;++g)for(var y=g*i,_=0;_<u;++_)for(var E=_*a,b=0;b<i;++b)for(var T=g*(i+2)+1+b,I=y+b,R=0;R<a;++R){var P=_*(a+2)+1+R;if(e.get(P,T)){var j=E+R;p.set(j,I)}}return p},n}(),qE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},KL=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t){var r,i,a,s,u=t.getECBlocks(),c=0,h=u.getECBlocks();try{for(var p=qE(h),g=p.next();!g.done;g=p.next()){var y=g.value;c+=y.getCount()}}catch(xe){r={error:xe}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var _=new Array(c),E=0;try{for(var b=qE(h),T=b.next();!T.done;T=b.next())for(var y=T.value,I=0;I<y.getCount();I++){var R=y.getDataCodewords(),P=u.getECCodewords()+R;_[E++]=new n(R,new Uint8Array(P))}}catch(xe){a={error:xe}}finally{try{T&&!T.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}for(var j=_[0].codewords.length,U=j-u.getECCodewords(),q=U-1,O=0,I=0;I<q;I++)for(var N=0;N<E;N++)_[N].codewords[I]=e[O++];for(var M=t.getVersionNumber()===24,V=M?8:E,N=0;N<V;N++)_[N].codewords[U-1]=e[O++];for(var G=_[0].codewords.length,I=U;I<G;I++)for(var N=0;N<E;N++){var H=M?(N+8)%E:N,k=M&&H>7?I-1:I;_[H].codewords[k]=e[O++]}if(O!==e.length)throw new Re;return _},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),EC=function(){function n(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return n.prototype.getBitOffset=function(){return this.bitOffset},n.prototype.getByteOffset=function(){return this.byteOffset},n.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Re(""+e);var t=0,r=this.bitOffset,i=this.byteOffset,a=this.bytes;if(r>0){var s=8-r,u=e<s?e:s,c=s-u,h=255>>8-u<<c;t=(a[i]&h)>>c,e-=u,r+=u,r===8&&(r=0,i++)}if(e>0){for(;e>=8;)t=t<<8|a[i]&255,i++,e-=8;if(e>0){var c=8-e,h=255>>c<<c;t=t<<e|(a[i]&h)>>c,r+=e}}return this.bitOffset=r,this.byteOffset=i,t},n.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},n}(),mn;(function(n){n[n.PAD_ENCODE=0]="PAD_ENCODE",n[n.ASCII_ENCODE=1]="ASCII_ENCODE",n[n.C40_ENCODE=2]="C40_ENCODE",n[n.TEXT_ENCODE=3]="TEXT_ENCODE",n[n.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",n[n.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",n[n.BASE256_ENCODE=6]="BASE256_ENCODE"})(mn||(mn={}));var QL=function(){function n(){}return n.decode=function(e){var t=new EC(e),r=new qe,i=new qe,a=new Array,s=mn.ASCII_ENCODE;do if(s===mn.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,i);else{switch(s){case mn.C40_ENCODE:this.decodeC40Segment(t,r);break;case mn.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case mn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case mn.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case mn.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new me}s=mn.ASCII_ENCODE}while(s!==mn.PAD_ENCODE&&t.available()>0);return i.length()>0&&r.append(i.toString()),new z0(e,r.toString(),a.length===0?null:a,null)},n.decodeAsciiSegment=function(e,t,r){var i=!1;do{var a=e.readBits(8);if(a===0)throw new me;if(a<=128)return i&&(a+=128),t.append(String.fromCharCode(a-1)),mn.ASCII_ENCODE;if(a===129)return mn.PAD_ENCODE;if(a<=229){var s=a-130;s<10&&t.append("0"),t.append(""+s)}else switch(a){case 230:return mn.C40_ENCODE;case 231:return mn.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return mn.ANSIX12_ENCODE;case 239:return mn.TEXT_ENCODE;case 240:return mn.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new me;break}}while(e.available()>0);return mn.ASCII_ENCODE},n.decodeC40Segment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var h=this.C40_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new me;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var h=this.C40_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new me}a=0;break;case 3:r?(t.append(String.fromCharCode(c+224)),r=!1):t.append(String.fromCharCode(c+96)),a=0;break;default:throw new me}}}while(e.available()>0)},n.decodeTextSegment=function(e,t){var r=!1,i=[],a=0;do{if(e.available()===8)return;var s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),i);for(var u=0;u<3;u++){var c=i[u];switch(a){case 0:if(c<3)a=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var h=this.TEXT_BASIC_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else throw new me;break;case 1:r?(t.append(String.fromCharCode(c+128)),r=!1):t.append(String.fromCharCode(c)),a=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var h=this.TEXT_SHIFT2_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h)}else switch(c){case 27:t.append("");break;case 30:r=!0;break;default:throw new me}a=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var h=this.TEXT_SHIFT3_SET_CHARS[c];r?(t.append(String.fromCharCode(h.charCodeAt(0)+128)),r=!1):t.append(h),a=0}else throw new me;break;default:throw new me}}}while(e.available()>0)},n.decodeAnsiX12Segment=function(e,t){var r=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new me;break}}}while(e.available()>0)},n.parseTwoBytes=function(e,t,r){var i=(e<<8)+t-1,a=Math.floor(i/1600);r[0]=a,i-=a*1600,a=Math.floor(i/40),r[1]=a,r[2]=i-a*40},n.decodeEdifactSegment=function(e,t){do{if(e.available()<=16)return;for(var r=0;r<4;r++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)},n.decodeBase256Segment=function(e,t,r){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),s;if(a===0?s=e.available()/8|0:a<250?s=a:s=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),s<0)throw new me;for(var u=new Uint8Array(s),c=0;c<s;c++){if(e.available()<8)throw new me;u[c]=this.unrandomize255State(e.readBits(8),i++)}r.push(u);try{t.append(Zr.decode(u,rt.ISO88591))}catch(h){throw new Mf("Platform does not support required encoding: "+h.message)}},n.unrandomize255State=function(e,t){var r=149*t%255+1,i=e-r;return i>=0?i:i+256},n.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],n.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n.TEXT_SHIFT2_SET_CHARS=n.C40_SHIFT2_SET_CHARS,n.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],n}(),ZL=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},JL=function(){function n(){this.rsDecoder=new G0(xr.DATA_MATRIX_FIELD_256)}return n.prototype.decode=function(e){var t,r,i=new $L(e),a=i.getVersion(),s=i.readCodewords(),u=KL.getDataBlocks(s,a),c=0;try{for(var h=ZL(u),p=h.next();!p.done;p=h.next()){var g=p.value;c+=g.getNumDataCodewords()}}catch(P){t={error:P}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}for(var y=new Uint8Array(c),_=u.length,E=0;E<_;E++){var b=u[E],T=b.getCodewords(),I=b.getNumDataCodewords();this.correctErrors(T,I);for(var R=0;R<I;R++)y[R*_+E]=T[R]}return QL.decode(y)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new cn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),eB=function(){function n(e){this.image=e,this.rectangleDetector=new wm(this.image)}return n.prototype.detect=function(){var e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new ie;t=this.shiftToModuleCenter(t);var r=t[0],i=t[1],a=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(a,s)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var h=n.sampleGrid(this.image,r,i,a,s,u,c);return new Hv(h,[r,i,a,s])},n.shiftPoint=function(e,t,r){var i=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new Ee(e.getX()+i,e.getY()+a)},n.moveAway=function(e,t,r){var i=e.getX(),a=e.getY();return i<t?i-=1:i+=1,a<r?a-=1:a+=1,new Ee(i,a)},n.prototype.detectSolid1=function(e){var t=e[0],r=e[1],i=e[3],a=e[2],s=this.transitionsBetween(t,r),u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,a),h=this.transitionsBetween(a,t),p=s,g=[a,t,r,i];return p>u&&(p=u,g[0]=t,g[1]=r,g[2]=i,g[3]=a),p>c&&(p=c,g[0]=r,g[1]=i,g[2]=a,g[3]=t),p>h&&(g[0]=i,g[1]=a,g[2]=t,g[3]=r),g},n.prototype.detectSolid2=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=n.shiftPoint(r,i,(s+1)*4),c=n.shiftPoint(i,r,(s+1)*4),h=this.transitionsBetween(u,t),p=this.transitionsBetween(c,a);return h<p?(e[0]=t,e[1]=r,e[2]=i,e[3]=a):(e[0]=r,e[1]=i,e[2]=a,e[3]=t),e},n.prototype.correctTopRight=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a),u=this.transitionsBetween(r,a),c=n.shiftPoint(t,r,(u+1)*4),h=n.shiftPoint(i,r,(s+1)*4);s=this.transitionsBetween(c,a),u=this.transitionsBetween(h,a);var p=new Ee(a.getX()+(i.getX()-r.getX())/(s+1),a.getY()+(i.getY()-r.getY())/(s+1)),g=new Ee(a.getX()+(t.getX()-r.getX())/(u+1),a.getY()+(t.getY()-r.getY())/(u+1));if(!this.isValid(p))return this.isValid(g)?g:null;if(!this.isValid(g))return p;var y=this.transitionsBetween(c,p)+this.transitionsBetween(h,p),_=this.transitionsBetween(c,g)+this.transitionsBetween(h,g);return y>_?p:g},n.prototype.shiftToModuleCenter=function(e){var t=e[0],r=e[1],i=e[2],a=e[3],s=this.transitionsBetween(t,a)+1,u=this.transitionsBetween(i,a)+1,c=n.shiftPoint(t,r,u*4),h=n.shiftPoint(i,r,s*4);s=this.transitionsBetween(c,a)+1,u=this.transitionsBetween(h,a)+1,(s&1)===1&&(s+=1),(u&1)===1&&(u+=1);var p=(t.getX()+r.getX()+i.getX()+a.getX())/4,g=(t.getY()+r.getY()+i.getY()+a.getY())/4;t=n.moveAway(t,p,g),r=n.moveAway(r,p,g),i=n.moveAway(i,p,g),a=n.moveAway(a,p,g);var y,_;return c=n.shiftPoint(t,r,u*4),c=n.shiftPoint(c,a,s*4),y=n.shiftPoint(r,t,u*4),y=n.shiftPoint(y,i,s*4),h=n.shiftPoint(i,a,u*4),h=n.shiftPoint(h,r,s*4),_=n.shiftPoint(a,i,u*4),_=n.shiftPoint(_,t,s*4),[c,y,h,_]},n.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},n.sampleGrid=function(e,t,r,i,a,s,u){var c=zv.getInstance();return c.sampleGrid(e,s,u,.5,.5,s-.5,.5,s-.5,u-.5,.5,u-.5,t.getX(),t.getY(),a.getX(),a.getY(),i.getX(),i.getY(),r.getX(),r.getY())},n.prototype.transitionsBetween=function(e,t){var r=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(t.getX()),s=Math.trunc(t.getY()),u=Math.abs(s-i)>Math.abs(a-r);if(u){var c=r;r=i,i=c,c=a,a=s,s=c}for(var h=Math.abs(a-r),p=Math.abs(s-i),g=-h/2,y=i<s?1:-1,_=r<a?1:-1,E=0,b=this.image.get(u?i:r,u?r:i),T=r,I=i;T!==a;T+=_){var R=this.image.get(u?I:T,u?T:I);if(R!==b&&(E++,b=R),g+=p,g>0){if(I===s)break;I+=y,g-=h}}return E},n}(),a0=function(){function n(){this.decoder=new JL}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r,i;if(t!=null&&t.has(Rt.PURE_BARCODE)){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(a),i=n.NO_POINTS}else{var s=new eB(e.getBlackMatrix()).detect();r=this.decoder.decode(s.getBits()),i=s.getPoints()}var u=r.getRawBytes(),c=new nr(r.getText(),u,8*u.length,i,Ie.DATA_MATRIX,It.currentTimeMillis()),h=r.getByteSegments();h!=null&&c.putMetadata(qn.BYTE_SEGMENTS,h);var p=r.getECLevel();return p!=null&&c.putMetadata(qn.ERROR_CORRECTION_LEVEL,p),c},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0],h=(c-u+1)/i,p=(s-a+1)/i;if(h<=0||p<=0)throw new ie;var g=i/2;a+=g,u+=g;for(var y=new zi(h,p),_=0;_<p;_++)for(var E=a+_*i,b=0;b<h;b++)e.get(u+b*i,E)&&y.set(b,_);return y},n.moduleSize=function(e,t){for(var r=t.getWidth(),i=e[0],a=e[1];i<r&&t.get(i,a);)i++;if(i===r)throw new ie;var s=i-e[0];if(s===0)throw new ie;return s},n.NO_POINTS=[],n}(),tB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){tB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new a0,t)||this}return e})(mu);var jl;(function(n){n[n.L=0]="L",n[n.M=1]="M",n[n.Q=2]="Q",n[n.H=3]="H"})(jl||(jl={}));var nB=function(){function n(e,t,r){this.value=e,this.stringValue=t,this.bits=r,n.FOR_BITS.set(r,this),n.FOR_VALUE.set(e,this)}return n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.fromString=function(e){switch(e){case"L":return n.L;case"M":return n.M;case"Q":return n.Q;case"H":return n.H;default:throw new Jt(e+"not available")}},n.prototype.toString=function(){return this.stringValue},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.forBits=function(e){if(e<0||e>=n.FOR_BITS.size)throw new Re;return n.FOR_BITS.get(e)},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.L=new n(jl.L,"L",1),n.M=new n(jl.M,"M",0),n.Q=new n(jl.Q,"Q",3),n.H=new n(jl.H,"H",2),n}(),rB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AC=function(){function n(e){this.errorCorrectionLevel=nB.forBits(e>>3&3),this.dataMask=e&7}return n.numBitsDiffering=function(e,t){return Ye.bitCount(e^t)},n.decodeFormatInformation=function(e,t){var r=n.doDecodeFormatInformation(e,t);return r!==null?r:n.doDecodeFormatInformation(e^n.FORMAT_INFO_MASK_QR,t^n.FORMAT_INFO_MASK_QR)},n.doDecodeFormatInformation=function(e,t){var r,i,a=Number.MAX_SAFE_INTEGER,s=0;try{for(var u=rB(n.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var h=c.value,p=h[0];if(p===e||p===t)return new n(h[1]);var g=n.numBitsDiffering(e,p);g<a&&(s=h[1],a=g),e!==t&&(g=n.numBitsDiffering(t,p),g<a&&(s=h[1],a=g))}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a<=3?new n(s):null},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getDataMask=function(){return this.dataMask},n.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask},n.FORMAT_INFO_MASK_QR=21522,n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],n}(),iB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Z=function(){function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.ecCodewordsPerBlock=e,this.ecBlocks=t}return n.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},n.prototype.getNumBlocks=function(){var e,t,r=0,i=this.ecBlocks;try{for(var a=iB(i),s=a.next();!s.done;s=a.next()){var u=s.value;r+=u.getCount()}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r},n.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},n.prototype.getECBlocks=function(){return this.ecBlocks},n}(),B=function(){function n(e,t){this.count=e,this.dataCodewords=t}return n.prototype.getCount=function(){return this.count},n.prototype.getDataCodewords=function(){return this.dataCodewords},n}(),aB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Is=function(){function n(e,t){for(var r,i,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=a;var u=0,c=a[0].getECCodewordsPerBlock(),h=a[0].getECBlocks();try{for(var p=aB(h),g=p.next();!g.done;g=p.next()){var y=g.value;u+=y.getCount()*(y.getDataCodewords()+c)}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}this.totalCodewords=u}return n.prototype.getVersionNumber=function(){return this.versionNumber},n.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},n.prototype.getTotalCodewords=function(){return this.totalCodewords},n.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},n.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},n.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new me;try{return this.getVersionForNumber((e-17)/4)}catch{throw new me}},n.getVersionForNumber=function(e){if(e<1||e>40)throw new Re;return n.VERSIONS[e-1]},n.decodeVersionInformation=function(e){for(var t=Number.MAX_SAFE_INTEGER,r=0,i=0;i<n.VERSION_DECODE_INFO.length;i++){var a=n.VERSION_DECODE_INFO[i];if(a===e)return n.getVersionForNumber(i+7);var s=AC.numBitsDiffering(e,a);s<t&&(r=i+7,t=s)}return t<=3?n.getVersionForNumber(r):null},n.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),t=new zi(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,i=0;i<r;i++)for(var a=this.alignmentPatternCenters[i]-2,s=0;s<r;s++)i===0&&(s===0||s===r-1)||i===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},n.prototype.toString=function(){return""+this.versionNumber},n.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),n.VERSIONS=[new n(1,new Int32Array(0),new Z(7,new B(1,19)),new Z(10,new B(1,16)),new Z(13,new B(1,13)),new Z(17,new B(1,9))),new n(2,Int32Array.from([6,18]),new Z(10,new B(1,34)),new Z(16,new B(1,28)),new Z(22,new B(1,22)),new Z(28,new B(1,16))),new n(3,Int32Array.from([6,22]),new Z(15,new B(1,55)),new Z(26,new B(1,44)),new Z(18,new B(2,17)),new Z(22,new B(2,13))),new n(4,Int32Array.from([6,26]),new Z(20,new B(1,80)),new Z(18,new B(2,32)),new Z(26,new B(2,24)),new Z(16,new B(4,9))),new n(5,Int32Array.from([6,30]),new Z(26,new B(1,108)),new Z(24,new B(2,43)),new Z(18,new B(2,15),new B(2,16)),new Z(22,new B(2,11),new B(2,12))),new n(6,Int32Array.from([6,34]),new Z(18,new B(2,68)),new Z(16,new B(4,27)),new Z(24,new B(4,19)),new Z(28,new B(4,15))),new n(7,Int32Array.from([6,22,38]),new Z(20,new B(2,78)),new Z(18,new B(4,31)),new Z(18,new B(2,14),new B(4,15)),new Z(26,new B(4,13),new B(1,14))),new n(8,Int32Array.from([6,24,42]),new Z(24,new B(2,97)),new Z(22,new B(2,38),new B(2,39)),new Z(22,new B(4,18),new B(2,19)),new Z(26,new B(4,14),new B(2,15))),new n(9,Int32Array.from([6,26,46]),new Z(30,new B(2,116)),new Z(22,new B(3,36),new B(2,37)),new Z(20,new B(4,16),new B(4,17)),new Z(24,new B(4,12),new B(4,13))),new n(10,Int32Array.from([6,28,50]),new Z(18,new B(2,68),new B(2,69)),new Z(26,new B(4,43),new B(1,44)),new Z(24,new B(6,19),new B(2,20)),new Z(28,new B(6,15),new B(2,16))),new n(11,Int32Array.from([6,30,54]),new Z(20,new B(4,81)),new Z(30,new B(1,50),new B(4,51)),new Z(28,new B(4,22),new B(4,23)),new Z(24,new B(3,12),new B(8,13))),new n(12,Int32Array.from([6,32,58]),new Z(24,new B(2,92),new B(2,93)),new Z(22,new B(6,36),new B(2,37)),new Z(26,new B(4,20),new B(6,21)),new Z(28,new B(7,14),new B(4,15))),new n(13,Int32Array.from([6,34,62]),new Z(26,new B(4,107)),new Z(22,new B(8,37),new B(1,38)),new Z(24,new B(8,20),new B(4,21)),new Z(22,new B(12,11),new B(4,12))),new n(14,Int32Array.from([6,26,46,66]),new Z(30,new B(3,115),new B(1,116)),new Z(24,new B(4,40),new B(5,41)),new Z(20,new B(11,16),new B(5,17)),new Z(24,new B(11,12),new B(5,13))),new n(15,Int32Array.from([6,26,48,70]),new Z(22,new B(5,87),new B(1,88)),new Z(24,new B(5,41),new B(5,42)),new Z(30,new B(5,24),new B(7,25)),new Z(24,new B(11,12),new B(7,13))),new n(16,Int32Array.from([6,26,50,74]),new Z(24,new B(5,98),new B(1,99)),new Z(28,new B(7,45),new B(3,46)),new Z(24,new B(15,19),new B(2,20)),new Z(30,new B(3,15),new B(13,16))),new n(17,Int32Array.from([6,30,54,78]),new Z(28,new B(1,107),new B(5,108)),new Z(28,new B(10,46),new B(1,47)),new Z(28,new B(1,22),new B(15,23)),new Z(28,new B(2,14),new B(17,15))),new n(18,Int32Array.from([6,30,56,82]),new Z(30,new B(5,120),new B(1,121)),new Z(26,new B(9,43),new B(4,44)),new Z(28,new B(17,22),new B(1,23)),new Z(28,new B(2,14),new B(19,15))),new n(19,Int32Array.from([6,30,58,86]),new Z(28,new B(3,113),new B(4,114)),new Z(26,new B(3,44),new B(11,45)),new Z(26,new B(17,21),new B(4,22)),new Z(26,new B(9,13),new B(16,14))),new n(20,Int32Array.from([6,34,62,90]),new Z(28,new B(3,107),new B(5,108)),new Z(26,new B(3,41),new B(13,42)),new Z(30,new B(15,24),new B(5,25)),new Z(28,new B(15,15),new B(10,16))),new n(21,Int32Array.from([6,28,50,72,94]),new Z(28,new B(4,116),new B(4,117)),new Z(26,new B(17,42)),new Z(28,new B(17,22),new B(6,23)),new Z(30,new B(19,16),new B(6,17))),new n(22,Int32Array.from([6,26,50,74,98]),new Z(28,new B(2,111),new B(7,112)),new Z(28,new B(17,46)),new Z(30,new B(7,24),new B(16,25)),new Z(24,new B(34,13))),new n(23,Int32Array.from([6,30,54,78,102]),new Z(30,new B(4,121),new B(5,122)),new Z(28,new B(4,47),new B(14,48)),new Z(30,new B(11,24),new B(14,25)),new Z(30,new B(16,15),new B(14,16))),new n(24,Int32Array.from([6,28,54,80,106]),new Z(30,new B(6,117),new B(4,118)),new Z(28,new B(6,45),new B(14,46)),new Z(30,new B(11,24),new B(16,25)),new Z(30,new B(30,16),new B(2,17))),new n(25,Int32Array.from([6,32,58,84,110]),new Z(26,new B(8,106),new B(4,107)),new Z(28,new B(8,47),new B(13,48)),new Z(30,new B(7,24),new B(22,25)),new Z(30,new B(22,15),new B(13,16))),new n(26,Int32Array.from([6,30,58,86,114]),new Z(28,new B(10,114),new B(2,115)),new Z(28,new B(19,46),new B(4,47)),new Z(28,new B(28,22),new B(6,23)),new Z(30,new B(33,16),new B(4,17))),new n(27,Int32Array.from([6,34,62,90,118]),new Z(30,new B(8,122),new B(4,123)),new Z(28,new B(22,45),new B(3,46)),new Z(30,new B(8,23),new B(26,24)),new Z(30,new B(12,15),new B(28,16))),new n(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new B(3,117),new B(10,118)),new Z(28,new B(3,45),new B(23,46)),new Z(30,new B(4,24),new B(31,25)),new Z(30,new B(11,15),new B(31,16))),new n(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new B(7,116),new B(7,117)),new Z(28,new B(21,45),new B(7,46)),new Z(30,new B(1,23),new B(37,24)),new Z(30,new B(19,15),new B(26,16))),new n(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new B(5,115),new B(10,116)),new Z(28,new B(19,47),new B(10,48)),new Z(30,new B(15,24),new B(25,25)),new Z(30,new B(23,15),new B(25,16))),new n(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new B(13,115),new B(3,116)),new Z(28,new B(2,46),new B(29,47)),new Z(30,new B(42,24),new B(1,25)),new Z(30,new B(23,15),new B(28,16))),new n(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new B(17,115)),new Z(28,new B(10,46),new B(23,47)),new Z(30,new B(10,24),new B(35,25)),new Z(30,new B(19,15),new B(35,16))),new n(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new B(17,115),new B(1,116)),new Z(28,new B(14,46),new B(21,47)),new Z(30,new B(29,24),new B(19,25)),new Z(30,new B(11,15),new B(46,16))),new n(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new B(13,115),new B(6,116)),new Z(28,new B(14,46),new B(23,47)),new Z(30,new B(44,24),new B(7,25)),new Z(30,new B(59,16),new B(1,17))),new n(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new B(12,121),new B(7,122)),new Z(28,new B(12,47),new B(26,48)),new Z(30,new B(39,24),new B(14,25)),new Z(30,new B(22,15),new B(41,16))),new n(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new B(6,121),new B(14,122)),new Z(28,new B(6,47),new B(34,48)),new Z(30,new B(46,24),new B(10,25)),new Z(30,new B(2,15),new B(64,16))),new n(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new B(17,122),new B(4,123)),new Z(28,new B(29,46),new B(14,47)),new Z(30,new B(49,24),new B(10,25)),new Z(30,new B(24,15),new B(46,16))),new n(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new B(4,122),new B(18,123)),new Z(28,new B(13,46),new B(32,47)),new Z(30,new B(48,24),new B(14,25)),new Z(30,new B(42,15),new B(32,16))),new n(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new B(20,117),new B(4,118)),new Z(28,new B(40,47),new B(7,48)),new Z(30,new B(43,24),new B(22,25)),new Z(30,new B(10,15),new B(67,16))),new n(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new B(19,118),new B(6,119)),new Z(28,new B(18,47),new B(31,48)),new Z(30,new B(34,24),new B(34,25)),new Z(30,new B(20,15),new B(61,16)))],n}(),On;(function(n){n[n.DATA_MASK_000=0]="DATA_MASK_000",n[n.DATA_MASK_001=1]="DATA_MASK_001",n[n.DATA_MASK_010=2]="DATA_MASK_010",n[n.DATA_MASK_011=3]="DATA_MASK_011",n[n.DATA_MASK_100=4]="DATA_MASK_100",n[n.DATA_MASK_101=5]="DATA_MASK_101",n[n.DATA_MASK_110=6]="DATA_MASK_110",n[n.DATA_MASK_111=7]="DATA_MASK_111"})(On||(On={}));var XE=function(){function n(e,t){this.value=e,this.isMasked=t}return n.prototype.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var i=0;i<t;i++)this.isMasked(r,i)&&e.flip(i,r)},n.values=new Map([[On.DATA_MASK_000,new n(On.DATA_MASK_000,function(e,t){return(e+t&1)===0})],[On.DATA_MASK_001,new n(On.DATA_MASK_001,function(e,t){return(e&1)===0})],[On.DATA_MASK_010,new n(On.DATA_MASK_010,function(e,t){return t%3===0})],[On.DATA_MASK_011,new n(On.DATA_MASK_011,function(e,t){return(e+t)%3===0})],[On.DATA_MASK_100,new n(On.DATA_MASK_100,function(e,t){return(Math.floor(e/2)+Math.floor(t/3)&1)===0})],[On.DATA_MASK_101,new n(On.DATA_MASK_101,function(e,t){return e*t%6===0})],[On.DATA_MASK_110,new n(On.DATA_MASK_110,function(e,t){return e*t%6<3})],[On.DATA_MASK_111,new n(On.DATA_MASK_111,function(e,t){return(e+t+e*t%3&1)===0})]]),n}(),oB=function(){function n(e){var t=e.getHeight();if(t<21||(t&3)!==1)throw new me;this.bitMatrix=e}return n.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);for(var i=this.bitMatrix.getHeight(),a=0,s=i-7,r=i-1;r>=s;r--)a=this.copyBit(8,r,a);for(var t=i-8;t<i;t++)a=this.copyBit(t,8,a);if(this.parsedFormatInfo=AC.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new me},n.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Is.getVersionForNumber(t);for(var r=0,i=e-11,a=5;a>=0;a--)for(var s=e-9;s>=i;s--)r=this.copyBit(s,a,r);var u=Is.decodeVersionInformation(r);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;r=0;for(var s=5;s>=0;s--)for(var a=e-9;a>=i;a--)r=this.copyBit(s,a,r);if(u=Is.decodeVersionInformation(r),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new me},n.prototype.copyBit=function(e,t,r){var i=this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t);return i?r<<1|1:r<<1},n.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=XE.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i);for(var a=t.buildFunctionPattern(),s=!0,u=new Uint8Array(t.getTotalCodewords()),c=0,h=0,p=0,g=i-1;g>0;g-=2){g===6&&g--;for(var y=0;y<i;y++)for(var _=s?i-1-y:y,E=0;E<2;E++)a.get(g-E,_)||(p++,h<<=1,this.bitMatrix.get(g-E,_)&&(h|=1),p===8&&(u[c++]=h,p=0,h=0));s=!s}if(c!==t.getTotalCodewords())throw new me;return u},n.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=XE.values.get(this.parsedFormatInfo.getDataMask()),t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}},n.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},n.prototype.mirror=function(){for(var e=this.bitMatrix,t=0,r=e.getWidth();t<r;t++)for(var i=t+1,a=e.getHeight();i<a;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))},n}(),WE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sB=function(){function n(e,t){this.numDataCodewords=e,this.codewords=t}return n.getDataBlocks=function(e,t,r){var i,a,s,u;if(e.length!==t.getTotalCodewords())throw new Re;var c=t.getECBlocksForLevel(r),h=0,p=c.getECBlocks();try{for(var g=WE(p),y=g.next();!y.done;y=g.next()){var _=y.value;h+=_.getCount()}}catch(k){i={error:k}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}var E=new Array(h),b=0;try{for(var T=WE(p),I=T.next();!I.done;I=T.next())for(var _=I.value,R=0;R<_.getCount();R++){var P=_.getDataCodewords(),j=c.getECCodewordsPerBlock()+P;E[b++]=new n(P,new Uint8Array(j))}}catch(k){s={error:k}}finally{try{I&&!I.done&&(u=T.return)&&u.call(T)}finally{if(s)throw s.error}}for(var U=E[0].codewords.length,q=E.length-1;q>=0;){var O=E[q].codewords.length;if(O===U)break;q--}q++;for(var N=U-c.getECCodewordsPerBlock(),M=0,R=0;R<N;R++)for(var V=0;V<b;V++)E[V].codewords[R]=e[M++];for(var V=q;V<b;V++)E[V].codewords[N]=e[M++];for(var G=E[0].codewords.length,R=N;R<G;R++)for(var V=0;V<b;V++){var H=V<q?R:R+1;E[V].codewords[H]=e[M++]}return E},n.prototype.getNumDataCodewords=function(){return this.numDataCodewords},n.prototype.getCodewords=function(){return this.codewords},n}(),Yr;(function(n){n[n.TERMINATOR=0]="TERMINATOR",n[n.NUMERIC=1]="NUMERIC",n[n.ALPHANUMERIC=2]="ALPHANUMERIC",n[n.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",n[n.BYTE=4]="BYTE",n[n.ECI=5]="ECI",n[n.KANJI=6]="KANJI",n[n.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",n[n.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",n[n.HANZI=9]="HANZI"})(Yr||(Yr={}));var Ot=function(){function n(e,t,r,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=i,n.FOR_BITS.set(i,this),n.FOR_VALUE.set(e,this)}return n.forBits=function(e){var t=n.FOR_BITS.get(e);if(t===void 0)throw new Re;return t},n.prototype.getCharacterCountBits=function(e){var t=e.getVersionNumber(),r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]},n.prototype.getValue=function(){return this.value},n.prototype.getBits=function(){return this.bits},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;return this.value===t.value},n.prototype.toString=function(){return this.stringValue},n.FOR_BITS=new Map,n.FOR_VALUE=new Map,n.TERMINATOR=new n(Yr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),n.NUMERIC=new n(Yr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),n.ALPHANUMERIC=new n(Yr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),n.STRUCTURED_APPEND=new n(Yr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),n.BYTE=new n(Yr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),n.ECI=new n(Yr.ECI,"ECI",Int32Array.from([0,0,0]),7),n.KANJI=new n(Yr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),n.FNC1_FIRST_POSITION=new n(Yr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),n.FNC1_SECOND_POSITION=new n(Yr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),n.HANZI=new n(Yr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),n}(),lB=function(){function n(){}return n.decode=function(e,t,r,i){var a=new EC(e),s=new qe,u=new Array,c=-1,h=-1;try{var p=null,g=!1,y=void 0;do{if(a.available()<4)y=Ot.TERMINATOR;else{var _=a.readBits(4);y=Ot.forBits(_)}switch(y){case Ot.TERMINATOR:break;case Ot.FNC1_FIRST_POSITION:case Ot.FNC1_SECOND_POSITION:g=!0;break;case Ot.STRUCTURED_APPEND:if(a.available()<16)throw new me;c=a.readBits(8),h=a.readBits(8);break;case Ot.ECI:var E=n.parseECIValue(a);if(p=xn.getCharacterSetECIByValue(E),p===null)throw new me;break;case Ot.HANZI:var b=a.readBits(4),T=a.readBits(y.getCharacterCountBits(t));b===n.GB2312_SUBSET&&n.decodeHanziSegment(a,s,T);break;default:var I=a.readBits(y.getCharacterCountBits(t));switch(y){case Ot.NUMERIC:n.decodeNumericSegment(a,s,I);break;case Ot.ALPHANUMERIC:n.decodeAlphanumericSegment(a,s,I,g);break;case Ot.BYTE:n.decodeByteSegment(a,s,I,p,u,i);break;case Ot.KANJI:n.decodeKanjiSegment(a,s,I);break;default:throw new me}break}}while(y!==Ot.TERMINATOR)}catch{throw new me}return new z0(e,s.toString(),u.length===0?null:u,r===null?null:r.toString(),c,h)},n.decodeHanziSegment=function(e,t,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/96<<8&4294967295|s%96;u<959?u+=41377:u+=42657,i[a]=u>>8&255,i[a+1]=u&255,a+=2,r--}try{t.append(Zr.decode(i,rt.GB2312))}catch(c){throw new me(c)}},n.decodeKanjiSegment=function(e,t,r){if(r*13>e.available())throw new me;for(var i=new Uint8Array(2*r),a=0;r>0;){var s=e.readBits(13),u=s/192<<8&4294967295|s%192;u<7936?u+=33088:u+=49472,i[a]=u>>8,i[a+1]=u,a+=2,r--}try{t.append(Zr.decode(i,rt.SHIFT_JIS))}catch(c){throw new me(c)}},n.decodeByteSegment=function(e,t,r,i,a,s){if(8*r>e.available())throw new me;for(var u=new Uint8Array(r),c=0;c<r;c++)u[c]=e.readBits(8);var h;i===null?h=rt.guessEncoding(u,s):h=i.getName();try{t.append(Zr.decode(u,h))}catch(p){throw new me(p)}a.push(u)},n.toAlphaNumericChar=function(e){if(e>=n.ALPHANUMERIC_CHARS.length)throw new me;return n.ALPHANUMERIC_CHARS[e]},n.decodeAlphanumericSegment=function(e,t,r,i){for(var a=t.length();r>1;){if(e.available()<11)throw new me;var s=e.readBits(11);t.append(n.toAlphaNumericChar(Math.floor(s/45))),t.append(n.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new me;t.append(n.toAlphaNumericChar(e.readBits(6)))}if(i)for(var u=a;u<t.length();u++)t.charAt(u)==="%"&&(u<t.length()-1&&t.charAt(u+1)==="%"?t.deleteCharAt(u+1):t.setCharAt(u,""))},n.decodeNumericSegment=function(e,t,r){for(;r>=3;){if(e.available()<10)throw new me;var i=e.readBits(10);if(i>=1e3)throw new me;t.append(n.toAlphaNumericChar(Math.floor(i/100))),t.append(n.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(n.toAlphaNumericChar(i%10)),r-=3}if(r===2){if(e.available()<7)throw new me;var a=e.readBits(7);if(a>=100)throw new me;t.append(n.toAlphaNumericChar(Math.floor(a/10))),t.append(n.toAlphaNumericChar(a%10))}else if(r===1){if(e.available()<4)throw new me;var s=e.readBits(4);if(s>=10)throw new me;t.append(n.toAlphaNumericChar(s))}},n.parseECIValue=function(e){var t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){var r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){var i=e.readBits(16);return(t&31)<<16&4294967295|i}throw new me},n.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.GB2312_SUBSET=1,n}(),bC=function(){function n(e){this.mirrored=e}return n.prototype.isMirrored=function(){return this.mirrored},n.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var t=e[0];e[0]=e[2],e[2]=t}},n}(),YE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},uB=function(){function n(){this.rsDecoder=new G0(xr.QR_CODE_FIELD_256)}return n.prototype.decodeBooleanArray=function(e,t){return this.decodeBitMatrix(zi.parseFromBooleanArray(e),t)},n.prototype.decodeBitMatrix=function(e,t){var r=new oB(e),i=null;try{return this.decodeBitMatrixParser(r,t)}catch(s){i=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();var a=this.decodeBitMatrixParser(r,t);return a.setOther(new bC(!0)),a}catch(s){throw i!==null?i:s}},n.prototype.decodeBitMatrixParser=function(e,t){var r,i,a,s,u=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),p=sB.getDataBlocks(h,u,c),g=0;try{for(var y=YE(p),_=y.next();!_.done;_=y.next()){var E=_.value;g+=E.getNumDataCodewords()}}catch(q){r={error:q}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}var b=new Uint8Array(g),T=0;try{for(var I=YE(p),R=I.next();!R.done;R=I.next()){var E=R.value,P=E.getCodewords(),j=E.getNumDataCodewords();this.correctErrors(P,j);for(var U=0;U<j;U++)b[T++]=P[U]}}catch(q){a={error:q}}finally{try{R&&!R.done&&(s=I.return)&&s.call(I)}finally{if(a)throw a.error}}return lB.decode(b,u,c,t)},n.prototype.correctErrors=function(e,t){var r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new cn}for(var i=0;i<t;i++)e[i]=r[i]},n}(),cB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),fB=function(n){cB(e,n);function e(t,r,i){var a=n.call(this,t,r)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new e(a,s,u)},e}(Ee),hB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dB=function(){function n(e,t,r,i,a,s,u){this.image=e,this.startX=t,this.startY=r,this.width=i,this.height=a,this.moduleSize=s,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return n.prototype.find=function(){for(var e=this.startX,t=this.height,r=this.width,i=e+r,a=this.startY+t/2,s=new Int32Array(3),u=this.image,c=0;c<t;c++){var h=a+((c&1)===0?Math.floor((c+1)/2):-Math.floor((c+1)/2));s[0]=0,s[1]=0,s[2]=0;for(var p=e;p<i&&!u.get(p,h);)p++;for(var g=0;p<i;){if(u.get(p,h))if(g===1)s[1]++;else if(g===2){if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,p);if(y!==null)return y}s[0]=s[2],s[1]=1,s[2]=0,g=1}else s[++g]++;else g===1&&g++,s[g]++;p++}if(this.foundPatternCross(s)){var y=this.handlePossibleCenter(s,h,i);if(y!==null)return y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ie},n.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},n.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=r)return!1;return!0},n.prototype.crossCheckVertical=function(e,t,r,i){var a=this.image,s=a.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=e;c>=0&&a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&!a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c)&&u[1]<=r;)u[1]++,c++;if(c===s||u[1]>r)return NaN;for(;c<s&&!a.get(t,c)&&u[2]<=r;)u[2]++,c++;if(u[2]>r)return NaN;var h=u[0]+u[1]+u[2];return 5*Math.abs(h-i)>=2*i?NaN:this.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r){var i,a,s=e[0]+e[1]+e[2],u=n.centerFromEnd(e,r),c=this.crossCheckVertical(t,u,2*e[1],s);if(!isNaN(c)){var h=(e[0]+e[1]+e[2])/3;try{for(var p=hB(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.aboutEquals(h,c,u))return y.combineEstimate(c,u,h)}}catch(E){i={error:E}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}var _=new fB(u,c,h);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null},n}(),pB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gB=function(n){pB(e,n);function e(t,r,i,a){var s=n.call(this,t,r)||this;return s.estimatedModuleSize=i,s.count=a,a===void 0&&(s.count=1),s}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){var a=Math.abs(t-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,r,i){var a=this.count+1,s=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+t)/a,c=(this.count*this.estimatedModuleSize+i)/a;return new e(s,u,c,a)},e}(Ee),mB=function(){function n(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n}(),Dc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vB=function(){function n(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}return n.prototype.getImage=function(){return this.image},n.prototype.getPossibleCenters=function(){return this.possibleCenters},n.prototype.find=function(e){var t=e!=null&&e.get(Rt.TRY_HARDER)!==void 0,r=e!=null&&e.get(Rt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),s=i.getWidth(),u=Math.floor(3*a/(4*n.MAX_MODULES));(u<n.MIN_SKIP||t)&&(u=n.MIN_SKIP);for(var c=!1,h=new Int32Array(5),p=u-1;p<a&&!c;p+=u){h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0;for(var g=0,y=0;y<s;y++)if(i.get(y,p))(g&1)===1&&g++,h[g]++;else if((g&1)===0)if(g===4)if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,y,r);if(_===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var E=this.findRowSkip();E>h[2]&&(p+=E-h[2]-u,y=s-1)}else{h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;continue}g=0,h[0]=0,h[1]=0,h[2]=0,h[3]=0,h[4]=0}else h[0]=h[2],h[1]=h[3],h[2]=h[4],h[3]=1,h[4]=0,g=3;else h[++g]++;else h[g]++;if(n.foundPatternCross(h)){var _=this.handlePossibleCenter(h,p,s,r);_===!0&&(u=h[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var b=this.selectBestPatterns();return Ee.orderBestPatterns(b),new mB(b)},n.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},n.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var i=e[r];if(i===0)return!1;t+=i}if(t<7)return!1;var a=t/7,s=a/2;return Math.abs(a-e[0])<s&&Math.abs(a-e[1])<s&&Math.abs(3*a-e[2])<3*s&&Math.abs(a-e[3])<s&&Math.abs(a-e[4])<s},n.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},n.prototype.crossCheckDiagonal=function(e,t,r,i){for(var a=this.getCrossCheckStateCount(),s=0,u=this.image;e>=s&&t>=s&&u.get(t-s,e-s);)a[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!u.get(t-s,e-s)&&a[1]<=r;)a[1]++,s++;if(e<s||t<s||a[1]>r)return!1;for(;e>=s&&t>=s&&u.get(t-s,e-s)&&a[0]<=r;)a[0]++,s++;if(a[0]>r)return!1;var c=u.getHeight(),h=u.getWidth();for(s=1;e+s<c&&t+s<h&&u.get(t+s,e+s);)a[2]++,s++;if(e+s>=c||t+s>=h)return!1;for(;e+s<c&&t+s<h&&!u.get(t+s,e+s)&&a[3]<r;)a[3]++,s++;if(e+s>=c||t+s>=h||a[3]>=r)return!1;for(;e+s<c&&t+s<h&&u.get(t+s,e+s)&&a[4]<r;)a[4]++,s++;if(a[4]>=r)return!1;var p=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(p-i)<2*i&&n.foundPatternCross(a)},n.prototype.crossCheckVertical=function(e,t,r,i){for(var a=this.image,s=a.getHeight(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(t,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(t,c)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(t,c)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(t,c);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(t,c)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(t,c)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=2*i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.crossCheckHorizontal=function(e,t,r,i){for(var a=this.image,s=a.getWidth(),u=this.getCrossCheckStateCount(),c=e;c>=0&&a.get(c,t);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!a.get(c,t)&&u[1]<=r;)u[1]++,c--;if(c<0||u[1]>r)return NaN;for(;c>=0&&a.get(c,t)&&u[0]<=r;)u[0]++,c--;if(u[0]>r)return NaN;for(c=e+1;c<s&&a.get(c,t);)u[2]++,c++;if(c===s)return NaN;for(;c<s&&!a.get(c,t)&&u[3]<r;)u[3]++,c++;if(c===s||u[3]>=r)return NaN;for(;c<s&&a.get(c,t)&&u[4]<r;)u[4]++,c++;if(u[4]>=r)return NaN;var h=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(h-i)>=i?NaN:n.foundPatternCross(u)?n.centerFromEnd(u,c):NaN},n.prototype.handlePossibleCenter=function(e,t,r,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],s=n.centerFromEnd(e,r),u=this.crossCheckVertical(t,Math.floor(s),e[2],a);if(!isNaN(u)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(u),e[2],a),!isNaN(s)&&(!i||this.crossCheckDiagonal(Math.floor(u),Math.floor(s),e[2],a)))){for(var c=a/7,h=!1,p=this.possibleCenters,g=0,y=p.length;g<y;g++){var _=p[g];if(_.aboutEquals(c,u,s)){p[g]=_.combineEstimate(u,s,c),h=!0;break}}if(!h){var E=new gB(s,u,c);p.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1},n.prototype.findRowSkip=function(){var e,t,r=this.possibleCenters.length;if(r<=1)return 0;var i=null;try{for(var a=Dc(this.possibleCenters),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.getCount()>=n.CENTER_QUORUM)if(i==null)i=u;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-u.getX())-Math.abs(i.getY()-u.getY()))/2)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return 0},n.prototype.haveMultiplyConfirmedCenters=function(){var e,t,r,i,a=0,s=0,u=this.possibleCenters.length;try{for(var c=Dc(this.possibleCenters),h=c.next();!h.done;h=c.next()){var p=h.value;p.getCount()>=n.CENTER_QUORUM&&(a++,s+=p.getEstimatedModuleSize())}}catch(b){e={error:b}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}if(a<3)return!1;var g=s/u,y=0;try{for(var _=Dc(this.possibleCenters),E=_.next();!E.done;E=_.next()){var p=E.value;y+=Math.abs(p.getEstimatedModuleSize()-g)}}catch(b){r={error:b}}finally{try{E&&!E.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return y<=.05*s},n.prototype.selectBestPatterns=function(){var e,t,r,i,a=this.possibleCenters.length;if(a<3)throw new ie;var s=this.possibleCenters,u;if(a>3){var c=0,h=0;try{for(var p=Dc(this.possibleCenters),g=p.next();!g.done;g=p.next()){var y=g.value,_=y.getEstimatedModuleSize();c+=_,h+=_*_}}catch(U){e={error:U}}finally{try{g&&!g.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}u=c/a;var E=Math.sqrt(h/a-u*u);s.sort(function(U,q){var O=Math.abs(q.getEstimatedModuleSize()-u),N=Math.abs(U.getEstimatedModuleSize()-u);return O<N?-1:O>N?1:0});for(var b=Math.max(.2*u,E),T=0;T<s.length&&s.length>3;T++){var I=s[T];Math.abs(I.getEstimatedModuleSize()-u)>b&&(s.splice(T,1),T--)}}if(s.length>3){var c=0;try{for(var R=Dc(s),P=R.next();!P.done;P=R.next()){var j=P.value;c+=j.getEstimatedModuleSize()}}catch(q){r={error:q}}finally{try{P&&!P.done&&(i=R.return)&&i.call(R)}finally{if(r)throw r.error}}u=c/s.length,s.sort(function(q,O){if(O.getCount()===q.getCount()){var N=Math.abs(O.getEstimatedModuleSize()-u),M=Math.abs(q.getEstimatedModuleSize()-u);return N<M?1:N>M?-1:0}else return O.getCount()-q.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]},n.CENTER_QUORUM=2,n.MIN_SKIP=3,n.MAX_MODULES=57,n}(),yB=function(){function n(e){this.image=e}return n.prototype.getImage=function(){return this.image},n.prototype.getResultPointCallback=function(){return this.resultPointCallback},n.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Rt.NEED_RESULT_POINT_CALLBACK);var t=new vB(this.image,this.resultPointCallback),r=t.find(e);return this.processFinderPatternInfo(r)},n.prototype.processFinderPatternInfo=function(e){var t=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(t,r,i);if(a<1)throw new ie("No pattern found in proccess finder.");var s=n.computeDimension(t,r,i,a),u=Is.getProvisionalVersionForDimension(s),c=u.getDimensionForVersion()-7,h=null;if(u.getAlignmentPatternCenters().length>0)for(var p=r.getX()-t.getX()+i.getX(),g=r.getY()-t.getY()+i.getY(),y=1-3/c,_=Math.floor(t.getX()+y*(p-t.getX())),E=Math.floor(t.getY()+y*(g-t.getY())),b=4;b<=16;b<<=1)try{h=this.findAlignmentInRegion(a,_,E,b);break}catch(P){if(!(P instanceof ie))throw P}var T=n.createTransform(t,r,i,h,s),I=n.sampleGrid(this.image,T,s),R;return h===null?R=[i,t,r]:R=[i,t,r,h],new Hv(I,R)},n.createTransform=function(e,t,r,i,a){var s=a-3.5,u,c,h,p;return i!==null?(u=i.getX(),c=i.getY(),h=s-3,p=h):(u=t.getX()-e.getX()+r.getX(),c=t.getY()-e.getY()+r.getY(),h=s,p=s),yC.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,h,p,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),u,c,r.getX(),r.getY())},n.sampleGrid=function(e,t,r){var i=zv.getInstance();return i.sampleGridWithTransform(e,r,r,t)},n.computeDimension=function(e,t,r,i){var a=ot.round(Ee.distance(e,t)/i),s=ot.round(Ee.distance(e,r)/i),u=Math.floor((a+s)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new ie("Dimensions could be not found.")}return u},n.prototype.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},n.prototype.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?i/7:isNaN(i)?r/7:(r+i)/14},n.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,i){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,i),s=1,u=e-(r-e);u<0?(s=e/(e-u),u=0):u>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);var c=Math.floor(t-(i-t)*s);return s=1,c<0?(s=t/(t-c),c=0):c>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(c-t),c=this.image.getHeight()-1),u=Math.floor(e+(u-e)*s),a+=this.sizeOfBlackWhiteBlackRun(e,t,u,c),a-1},n.prototype.sizeOfBlackWhiteBlackRun=function(e,t,r,i){var a=Math.abs(i-t)>Math.abs(r-e);if(a){var s=e;e=t,t=s,s=r,r=i,i=s}for(var u=Math.abs(r-e),c=Math.abs(i-t),h=-u/2,p=e<r?1:-1,g=t<i?1:-1,y=0,_=r+p,E=e,b=t;E!==_;E+=p){var T=a?b:E,I=a?E:b;if(y===1===this.image.get(T,I)){if(y===2)return ot.distance(E,b,e,t);y++}if(h+=c,h>0){if(b===i)break;b+=g,h-=u}}return y===2?ot.distance(r+p,i,e,t):NaN},n.prototype.findAlignmentInRegion=function(e,t,r,i){var a=Math.floor(i*e),s=Math.max(0,t-a),u=Math.min(this.image.getWidth()-1,t+a);if(u-s<e*3)throw new ie("Alignment top exceeds estimated module size.");var c=Math.max(0,r-a),h=Math.min(this.image.getHeight()-1,r+a);if(h-c<e*3)throw new ie("Alignment bottom exceeds estimated module size.");var p=new dB(this.image,s,c,u-s,h-c,e,this.resultPointCallback);return p.find()},n}(),o0=function(){function n(){this.decoder=new uB}return n.prototype.getDecoder=function(){return this.decoder},n.prototype.decode=function(e,t){var r,i;if(t!=null&&t.get(Rt.PURE_BARCODE)!==void 0){var a=n.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),i=n.NO_POINTS}else{var s=new yB(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(s.getBits(),t),i=s.getPoints()}r.getOther()instanceof bC&&r.getOther().applyMirroredCorrection(i);var u=new nr(r.getText(),r.getRawBytes(),void 0,i,Ie.QR_CODE,void 0),c=r.getByteSegments();c!==null&&u.putMetadata(qn.BYTE_SEGMENTS,c);var h=r.getECLevel();return h!==null&&u.putMetadata(qn.ERROR_CORRECTION_LEVEL,h),r.hasStructuredAppend()&&(u.putMetadata(qn.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),u.putMetadata(qn.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),u},n.prototype.reset=function(){},n.extractPureBits=function(e){var t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new ie;var i=this.moduleSize(t,e),a=t[1],s=r[1],u=t[0],c=r[0];if(u>=c||a>=s)throw new ie;if(s-a!==c-u&&(c=u+(s-a),c>=e.getWidth()))throw new ie;var h=Math.round((c-u+1)/i),p=Math.round((s-a+1)/i);if(h<=0||p<=0)throw new ie;if(p!==h)throw new ie;var g=Math.floor(i/2);a+=g,u+=g;var y=u+Math.floor((h-1)*i)-c;if(y>0){if(y>g)throw new ie;u-=y}var _=a+Math.floor((p-1)*i)-s;if(_>0){if(_>g)throw new ie;a-=_}for(var E=new zi(h,p),b=0;b<p;b++)for(var T=a+Math.floor(b*i),I=0;I<h;I++)e.get(u+Math.floor(I*i),T)&&E.set(I,b);return E},n.moduleSize=function(e,t){for(var r=t.getHeight(),i=t.getWidth(),a=e[0],s=e[1],u=!0,c=0;a<i&&s<r;){if(u!==t.get(a,s)){if(++c===5)break;u=!u}a++,s++}if(a===i||s===r)throw new ie;return(a-e[0])/7},n.NO_POINTS=new Array,n}(),xB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},it=function(){function n(){}return n.prototype.PDF417Common=function(){},n.getBitCountSum=function(e){return ot.sum(e)},n.toIntArray=function(e){var t,r;if(e==null||!e.length)return n.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var s=xB(e),u=s.next();!u.done;u=s.next()){var c=u.value;i[a++]=c}}catch(h){t={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return i},n.getCodeword=function(e){var t=wn.binarySearch(n.SYMBOL_TABLE,e&262143);return t<0?-1:(n.CODEWORD_TABLE[t]-1)%n.NUMBER_OF_CODEWORDS},n.NUMBER_OF_CODEWORDS=929,n.MAX_CODEWORDS_IN_BARCODE=n.NUMBER_OF_CODEWORDS-1,n.MIN_ROWS_IN_BARCODE=3,n.MAX_ROWS_IN_BARCODE=90,n.MODULES_IN_CODEWORD=17,n.MODULES_IN_STOP_PATTERN=18,n.BARS_IN_MODULE=8,n.EMPTY_INT_ARRAY=new Int32Array([]),n.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),n.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),n}(),_B=function(){function n(e,t){this.bits=e,this.points=t}return n.prototype.getBits=function(){return this.bits},n.prototype.getPoints=function(){return this.points},n}(),wB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EB=function(){function n(){}return n.detectMultiple=function(e,t,r){var i=e.getBlackMatrix(),a=n.detect(r,i);return a.length||(i=i.clone(),i.rotate180(),a=n.detect(r,i)),new _B(i,a)},n.detect=function(e,t){for(var r,i,a=new Array,s=0,u=0,c=!1;s<t.getHeight();){var h=n.findVertices(t,s,u);if(h[0]==null&&h[3]==null){if(!c)break;c=!1,u=0;try{for(var p=(r=void 0,wB(a)),g=p.next();!g.done;g=p.next()){var y=g.value;y[1]!=null&&(s=Math.trunc(Math.max(s,y[1].getY()))),y[3]!=null&&(s=Math.max(s,Math.trunc(y[3].getY())))}}catch(_){r={error:_}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}s+=n.ROW_STEP;continue}if(c=!0,a.push(h),!e)break;h[2]!=null?(u=Math.trunc(h[2].getX()),s=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY()))}return a},n.findVertices=function(e,t,r){var i=e.getHeight(),a=e.getWidth(),s=new Array(8);return n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.START_PATTERN),n.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),n.copyToResult(s,n.findRowsWithPattern(e,i,a,t,r,n.STOP_PATTERN),n.INDEXES_STOP_PATTERN),s},n.copyToResult=function(e,t,r){for(var i=0;i<r.length;i++)e[r[i]]=t[i]},n.findRowsWithPattern=function(e,t,r,i,a,s){for(var u=new Array(4),c=!1,h=new Int32Array(s.length);i<t;i+=n.ROW_STEP){var p=n.findGuardPattern(e,a,i,r,!1,s,h);if(p!=null){for(;i>0;){var g=n.findGuardPattern(e,a,--i,r,!1,s,h);if(g!=null)p=g;else{i++;break}}u[0]=new Ee(p[0],i),u[1]=new Ee(p[1],i),c=!0;break}}var y=i+1;if(c){for(var _=0,g=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);y<t;y++){var p=n.findGuardPattern(e,g[0],y,r,!1,s,h);if(p!=null&&Math.abs(g[0]-p[0])<n.MAX_PATTERN_DRIFT&&Math.abs(g[1]-p[1])<n.MAX_PATTERN_DRIFT)g=p,_=0;else{if(_>n.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,u[2]=new Ee(g[0],y),u[3]=new Ee(g[1],y)}return y-i<n.BARCODE_MIN_HEIGHT&&wn.fill(u,null),u},n.findGuardPattern=function(e,t,r,i,a,s,u){wn.fillWithin(u,0,u.length,0);for(var c=t,h=0;e.get(c,r)&&c>0&&h++<n.MAX_PIXEL_DRIFT;)c--;for(var p=c,g=0,y=s.length,_=a;p<i;p++){var E=e.get(p,r);if(E!==_)u[g]++;else{if(g===y-1){if(n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return new Int32Array([c,p]);c+=u[0]+u[1],It.arraycopy(u,2,u,0,g-1),u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,_=!_}}return g===y-1&&n.patternMatchVariance(u,s,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE?new Int32Array([c,p-1]):null},n.patternMatchVariance=function(e,t,r){for(var i=e.length,a=0,s=0,u=0;u<i;u++)a+=e[u],s+=t[u];if(a<s)return 1/0;var c=a/s;r*=c;for(var h=0,p=0;p<i;p++){var g=e[p],y=t[p]*c,_=g>y?g-y:y-g;if(_>r)return 1/0;h+=_}return h/a},n.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),n.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),n.MAX_AVG_VARIANCE=.42,n.MAX_INDIVIDUAL_VARIANCE=.8,n.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),n.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),n.MAX_PIXEL_DRIFT=3,n.MAX_PATTERN_DRIFT=5,n.SKIPPED_ROW_COUNT_MAX=25,n.ROW_STEP=5,n.BARCODE_MIN_HEIGHT=10,n}(),AB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ts=function(){function n(e,t){if(t.length===0)throw new Re;this.field=e;var r=t.length;if(r>1&&t[0]===0){for(var i=1;i<r&&t[i]===0;)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),It.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}return n.prototype.getCoefficients=function(){return this.coefficients},n.prototype.getDegree=function(){return this.coefficients.length-1},n.prototype.isZero=function(){return this.coefficients[0]===0},n.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},n.prototype.evaluateAt=function(e){var t,r;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=AB(this.coefficients),s=a.next();!s.done;s=a.next()){var u=s.value;i=this.field.add(i,u)}}catch(g){t={error:g}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}for(var c=this.coefficients[0],h=this.coefficients.length,p=1;p<h;p++)c=this.field.add(this.field.multiply(e,c),this.coefficients[p]);return c},n.prototype.add=function(e){if(!this.field.equals(e.field))throw new Re("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var t=this.coefficients,r=e.coefficients;if(t.length>r.length){var i=t;t=r,r=i}var a=new Int32Array(r.length),s=r.length-t.length;It.arraycopy(r,0,a,0,s);for(var u=s;u<r.length;u++)a[u]=this.field.add(t[u-s],r[u]);return new n(this.field,a)},n.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Re("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},n.prototype.multiply=function(e){return e instanceof n?this.multiplyOther(e):this.multiplyScalar(e)},n.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Re("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new n(this.field,new Int32Array([0]));for(var t=this.coefficients,r=t.length,i=e.coefficients,a=i.length,s=new Int32Array(r+a-1),u=0;u<r;u++)for(var c=t[u],h=0;h<a;h++)s[u+h]=this.field.add(s[u+h],this.field.multiply(c,i[h]));return new n(this.field,s)},n.prototype.negative=function(){for(var e=this.coefficients.length,t=new Int32Array(e),r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new n(this.field,t)},n.prototype.multiplyScalar=function(e){if(e===0)return new n(this.field,new Int32Array([0]));if(e===1)return this;for(var t=this.coefficients.length,r=new Int32Array(t),i=0;i<t;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new n(this.field,r)},n.prototype.multiplyByMonomial=function(e,t){if(e<0)throw new Re;if(t===0)return new n(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),a=0;a<r;a++)i[a]=this.field.multiply(this.coefficients[a],t);return new n(this.field,i)},n.prototype.toString=function(){for(var e=new qe,t=this.getDegree();t>=0;t--){var r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()},n}(),bB=function(){function n(){}return n.prototype.add=function(e,t){return(e+t)%this.modulus},n.prototype.subtract=function(e,t){return(this.modulus+e-t)%this.modulus},n.prototype.exp=function(e){return this.expTable[e]},n.prototype.log=function(e){if(e===0)throw new Re;return this.logTable[e]},n.prototype.inverse=function(e){if(e===0)throw new vC;return this.expTable[this.modulus-this.logTable[e]-1]},n.prototype.multiply=function(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]},n.prototype.getSize=function(){return this.modulus},n.prototype.equals=function(e){return e===this},n}(),TB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),SB=function(n){TB(e,n);function e(t,r){var i=n.call(this)||this;i.modulus=t,i.expTable=new Int32Array(t),i.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)i.expTable[s]=a,a=a*r%t;for(var s=0;s<t-1;s++)i.logTable[i.expTable[s]]=s;return i.zero=new Ts(i,new Int32Array([0])),i.one=new Ts(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,r){if(t<0)throw new Re;if(r===0)return this.zero;var i=new Int32Array(t+1);return i[0]=r,new Ts(this,i)},e.PDF417_GF=new e(it.NUMBER_OF_CODEWORDS,3),e}(bB),CB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IB=function(){function n(){this.field=SB.PDF417_GF}return n.prototype.decode=function(e,t,r){for(var i,a,s=new Ts(this.field,e),u=new Int32Array(t),c=!1,h=t;h>0;h--){var p=s.evaluateAt(this.field.exp(h));u[t-h]=p,p!==0&&(c=!0)}if(!c)return 0;var g=this.field.getOne();if(r!=null)try{for(var y=CB(r),_=y.next();!_.done;_=y.next()){var E=_.value,b=this.field.exp(e.length-1-E),T=new Ts(this.field,new Int32Array([this.field.subtract(0,b),1]));g=g.multiply(T)}}catch(N){i={error:N}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}for(var I=new Ts(this.field,u),R=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),I,t),P=R[0],j=R[1],U=this.findErrorLocations(P),q=this.findErrorMagnitudes(j,P,U),h=0;h<U.length;h++){var O=e.length-1-this.field.log(U[h]);if(O<0)throw cn.getChecksumInstance();e[O]=this.field.subtract(e[O],q[h])}return U.length},n.prototype.runEuclideanAlgorithm=function(e,t,r){if(e.getDegree()<t.getDegree()){var i=e;e=t,t=i}for(var a=e,s=t,u=this.field.getZero(),c=this.field.getOne();s.getDegree()>=Math.round(r/2);){var h=a,p=u;if(a=s,u=c,a.isZero())throw cn.getChecksumInstance();s=h;for(var g=this.field.getZero(),y=a.getCoefficient(a.getDegree()),_=this.field.inverse(y);s.getDegree()>=a.getDegree()&&!s.isZero();){var E=s.getDegree()-a.getDegree(),b=this.field.multiply(s.getCoefficient(s.getDegree()),_);g=g.add(this.field.buildMonomial(E,b)),s=s.subtract(a.multiplyByMonomial(E,b))}c=g.multiply(u).subtract(p).negative()}var T=c.getCoefficient(0);if(T===0)throw cn.getChecksumInstance();var I=this.field.inverse(T),R=c.multiply(I),P=s.multiply(I);return[R,P]},n.prototype.findErrorLocations=function(e){for(var t=e.getDegree(),r=new Int32Array(t),i=0,a=1;a<this.field.getSize()&&i<t;a++)e.evaluateAt(a)===0&&(r[i]=this.field.inverse(a),i++);if(i!==t)throw cn.getChecksumInstance();return r},n.prototype.findErrorMagnitudes=function(e,t,r){for(var i=t.getDegree(),a=new Int32Array(i),s=1;s<=i;s++)a[i-s]=this.field.multiply(s,t.getCoefficient(s));for(var u=new Ts(this.field,a),c=r.length,h=new Int32Array(c),s=0;s<c;s++){var p=this.field.inverse(r[s]),g=this.field.subtract(0,e.evaluateAt(p)),y=this.field.inverse(u.evaluateAt(p));h[s]=this.field.multiply(g,y)}return h},n}(),Am=function(){function n(e,t,r,i,a){e instanceof n?this.constructor_2(e):this.constructor_1(e,t,r,i,a)}return n.prototype.constructor_1=function(e,t,r,i,a){var s=t==null||r==null,u=i==null||a==null;if(s&&u)throw new ie;s?(t=new Ee(0,i.getY()),r=new Ee(0,a.getY())):u&&(i=new Ee(e.getWidth()-1,t.getY()),a=new Ee(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))},n.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},n.merge=function(e,t){return e==null?t:t==null?e:new n(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)},n.prototype.addMissingRows=function(e,t,r){var i=this.topLeft,a=this.bottomLeft,s=this.topRight,u=this.bottomRight;if(e>0){var c=r?this.topLeft:this.topRight,h=Math.trunc(c.getY()-e);h<0&&(h=0);var p=new Ee(c.getX(),h);r?i=p:s=p}if(t>0){var g=r?this.bottomLeft:this.bottomRight,y=Math.trunc(g.getY()+t);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);var _=new Ee(g.getX(),y);r?a=_:u=_}return new n(this.image,i,a,s,u)},n.prototype.getMinX=function(){return this.minX},n.prototype.getMaxX=function(){return this.maxX},n.prototype.getMinY=function(){return this.minY},n.prototype.getMaxY=function(){return this.maxY},n.prototype.getTopLeft=function(){return this.topLeft},n.prototype.getTopRight=function(){return this.topRight},n.prototype.getBottomLeft=function(){return this.bottomLeft},n.prototype.getBottomRight=function(){return this.bottomRight},n}(),RB=function(){function n(e,t,r,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}return n.prototype.getColumnCount=function(){return this.columnCount},n.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},n.prototype.getRowCount=function(){return this.rowCount},n.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},n.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},n}(),qv=function(){function n(){this.buffer=""}return n.form=function(e,t){var r=-1;function i(s,u,c,h,p,g){if(s==="%%")return"%";if(t[++r]!==void 0){s=h?parseInt(h.substr(1)):void 0;var y=p?parseInt(p.substr(1)):void 0,_;switch(g){case"s":_=t[r];break;case"c":_=t[r][0];break;case"f":_=parseFloat(t[r]).toFixed(s);break;case"p":_=parseFloat(t[r]).toPrecision(s);break;case"e":_=parseFloat(t[r]).toExponential(s);break;case"x":_=parseInt(t[r]).toString(y||16);break;case"d":_=parseFloat(parseInt(t[r],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var E=parseInt(c),b=c&&c[0]+""=="0"?"0":" ";_.length<E;)_=u!==void 0?_+b:b+_;return _}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},n.prototype.format=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.buffer+=n.form(e,t)},n.prototype.toString=function(){return this.buffer},n}(),NB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TC=function(){function n(e){this.boundingBox=new Am(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return n.prototype.getCodewordNearby=function(e){var t=this.getCodeword(e);if(t!=null)return t;for(var r=1;r<n.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+r,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null},n.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},n.prototype.setCodeword=function(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t},n.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.getCodewords=function(){return this.codewords},n.prototype.toString=function(){var e,t,r=new qv,i=0;try{for(var a=NB(this.codewords),s=a.next();!s.done;s=a.next()){var u=s.value;if(u==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,u.getRowNumber(),u.getValue())}}catch(c){e={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return r.toString()},n.MAX_NEARBY_DISTANCE=5,n}(),OB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return a},Hc=function(){function n(){this.values=new Map}return n.prototype.setValue=function(e){e=Math.trunc(e);var t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)},n.prototype.getValue=function(){var e,t,r=-1,i=new Array,a=function(g,y){var _={getKey:function(){return g},getValue:function(){return y}};_.getValue()>r?(r=_.getValue(),i=[],i.push(_.getKey())):_.getValue()===r&&i.push(_.getKey())};try{for(var s=OB(this.values.entries()),u=s.next();!u.done;u=s.next()){var c=DB(u.value,2),h=c[0],p=c[1];a(h,p)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return it.toIntArray(i)},n.prototype.getConfidence=function(e){return this.values.get(e)},n}(),PB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Dg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$E=function(n){PB(e,n);function e(t,r){var i=n.call(this,t)||this;return i._isLeft=r,i}return e.prototype.setRowNumbers=function(){var t,r;try{for(var i=Dg(this.getCodewords()),a=i.next();!a.done;a=i.next()){var s=a.value;s!=null&&s.setRowNumberAsRowIndicatorColumn()}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,p=1,g=0,y=u;y<c;y++)if(r[y]!=null){var _=r[y],E=_.getRowNumber()-h;if(E===0)g++;else if(E===1)p=Math.max(p,g),g=1,h=_.getRowNumber();else if(E<0||_.getRowNumber()>=t.getRowCount()||E>y)r[y]=null;else{var b=void 0;p>2?b=(p-2)*E:b=E;for(var T=b>=y,I=1;I<=b&&!T;I++)T=r[y-I]!=null;T?r[y]=null:(h=_.getRowNumber(),g=1)}}},e.prototype.getRowHeights=function(){var t,r,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var s=Dg(this.getCodewords()),u=s.next();!u.done;u=s.next()){var c=u.value;if(c!=null){var h=c.getRowNumber();if(h>=a.length)continue;a[h]++}}}catch(p){t={error:p}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.getCodewords(),h=-1,p=s;p<u;p++)if(c[p]!=null){var g=c[p];g.setRowNumberAsRowIndicatorColumn();var y=g.getRowNumber()-h;y===0||(y===1?h=g.getRowNumber():g.getRowNumber()>=t.getRowCount()?c[p]=null:h=g.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,r,i=this.getCodewords(),a=new Hc,s=new Hc,u=new Hc,c=new Hc;try{for(var h=Dg(i),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null){g.setRowNumberAsRowIndicatorColumn();var y=g.getValue()%30,_=g.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:s.setValue(y*3+1);break;case 1:c.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}}}catch(b){t={error:b}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(t)throw t.error}}if(a.getValue().length===0||s.getValue().length===0||u.getValue().length===0||c.getValue().length===0||a.getValue()[0]<1||s.getValue()[0]+u.getValue()[0]<it.MIN_ROWS_IN_BARCODE||s.getValue()[0]+u.getValue()[0]>it.MAX_ROWS_IN_BARCODE)return null;var E=new RB(a.getValue()[0],s.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,E),E},e.prototype.removeIncorrectCodewords=function(t,r){for(var i=0;i<t.length;i++){var a=t[i];if(t[i]!=null){var s=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+n.prototype.toString.call(this)},e}(TC),MB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kB=function(){function n(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return n.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=it.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns},n.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},n.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var t=1;t<this.barcodeColumnCount+1;t++)for(var r=this.detectionResultColumns[t].getCodewords(),i=0;i<r.length;i++)r[i]!=null&&(r[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,r));return e},n.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},n.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[r];a!=null&&(a.setRowNumber(e[r].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[r]=null))}}},n.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=this.barcodeColumnCount+1;s>0&&a<this.ADJUST_ROW_NUMBER_SKIP;s--){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,t=this.detectionResultColumns[0].getCodewords(),r=0;r<t.length;r++)if(t[r]!=null)for(var i=t[r].getRowNumber(),a=0,s=1;s<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;s++){var u=this.detectionResultColumns[s].getCodewords()[r];u!=null&&(a=n.adjustRowNumberIfValid(i,a,u),u.hasValidRowNumber()||e++)}return e},n.adjustRowNumberIfValid=function(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t},n.prototype.adjustRowNumbers=function(e,t,r){var i,a;if(this.detectionResultColumns[e-1]!=null){var s=r[t],u=this.detectionResultColumns[e-1].getCodewords(),c=u;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var h=new Array(14);h[2]=u[t],h[3]=c[t],t>0&&(h[0]=r[t-1],h[4]=u[t-1],h[5]=c[t-1]),t>1&&(h[8]=r[t-2],h[10]=u[t-2],h[11]=c[t-2]),t<r.length-1&&(h[1]=r[t+1],h[6]=u[t+1],h[7]=c[t+1]),t<r.length-2&&(h[9]=r[t+2],h[12]=u[t+2],h[13]=c[t+2]);try{for(var p=MB(h),g=p.next();!g.done;g=p.next()){var y=g.value;if(n.adjustRowNumber(s,y))return}}catch(_){i={error:_}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}},n.adjustRowNumber=function(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1},n.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},n.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},n.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},n.prototype.setBoundingBox=function(e){this.boundingBox=e},n.prototype.getBoundingBox=function(){return this.boundingBox},n.prototype.setDetectionResultColumn=function(e,t){this.detectionResultColumns[e]=t},n.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},n.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var t=new qv,r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[r];if(a==null){t.format("    |   ");continue}t.format(" %3d|%3d",a.getRowNumber(),a.getValue())}t.format("%n")}return t.toString()},n}(),LB=function(){function n(e,t,r,i){this.rowNumber=n.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return n.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},n.prototype.isValidRowNumber=function(e){return e!==n.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},n.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},n.prototype.getWidth=function(){return this.endX-this.startX},n.prototype.getStartX=function(){return this.startX},n.prototype.getEndX=function(){return this.endX},n.prototype.getBucket=function(){return this.bucket},n.prototype.getValue=function(){return this.value},n.prototype.getRowNumber=function(){return this.rowNumber},n.prototype.setRowNumber=function(e){this.rowNumber=e},n.prototype.toString=function(){return this.rowNumber+"|"+this.value},n.BARCODE_ROW_UNKNOWN=-1,n}(),BB=function(){function n(){}return n.initialize=function(){for(var e=0;e<it.SYMBOL_TABLE.length;e++)for(var t=it.SYMBOL_TABLE[e],r=t&1,i=0;i<it.BARS_IN_MODULE;i++){for(var a=0;(t&1)===r;)a+=1,t>>=1;r=t&1,n.RATIOS_TABLE[e]||(n.RATIOS_TABLE[e]=new Array(it.BARS_IN_MODULE)),n.RATIOS_TABLE[e][it.BARS_IN_MODULE-i-1]=Math.fround(a/it.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},n.getDecodedValue=function(e){var t=n.getDecodedCodewordValue(n.sampleBitCounts(e));return t!==-1?t:n.getClosestDecodedValue(e)},n.sampleBitCounts=function(e){for(var t=ot.sum(e),r=new Int32Array(it.BARS_IN_MODULE),i=0,a=0,s=0;s<it.MODULES_IN_CODEWORD;s++){var u=t/(2*it.MODULES_IN_CODEWORD)+s*t/it.MODULES_IN_CODEWORD;a+e[i]<=u&&(a+=e[i],i++),r[i]++}return r},n.getDecodedCodewordValue=function(e){var t=n.getBitValue(e);return it.getCodeword(t)===-1?-1:t},n.getBitValue=function(e){for(var t=0,r=0;r<e.length;r++)for(var i=0;i<e[r];i++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)},n.getClosestDecodedValue=function(e){var t=ot.sum(e),r=new Array(it.BARS_IN_MODULE);if(t>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/t);var a=_m.MAX_VALUE,s=-1;this.bSymbolTableReady||n.initialize();for(var u=0;u<n.RATIOS_TABLE.length;u++){for(var c=0,h=n.RATIOS_TABLE[u],p=0;p<it.BARS_IN_MODULE;p++){var g=Math.fround(h[p]-r[p]);if(c+=Math.fround(g*g),c>=a)break}c<a&&(a=c,s=it.SYMBOL_TABLE[u])}return s},n.bSymbolTableReady=!1,n.RATIOS_TABLE=new Array(it.SYMBOL_TABLE.length).map(function(e){return new Array(it.BARS_IN_MODULE)}),n}(),jB=function(){function n(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return n.prototype.getSegmentIndex=function(){return this.segmentIndex},n.prototype.setSegmentIndex=function(e){this.segmentIndex=e},n.prototype.getFileId=function(){return this.fileId},n.prototype.setFileId=function(e){this.fileId=e},n.prototype.getOptionalData=function(){return this.optionalData},n.prototype.setOptionalData=function(e){this.optionalData=e},n.prototype.isLastSegment=function(){return this.lastSegment},n.prototype.setLastSegment=function(e){this.lastSegment=e},n.prototype.getSegmentCount=function(){return this.segmentCount},n.prototype.setSegmentCount=function(e){this.segmentCount=e},n.prototype.getSender=function(){return this.sender||null},n.prototype.setSender=function(e){this.sender=e},n.prototype.getAddressee=function(){return this.addressee||null},n.prototype.setAddressee=function(e){this.addressee=e},n.prototype.getFileName=function(){return this.fileName},n.prototype.setFileName=function(e){this.fileName=e},n.prototype.getFileSize=function(){return this.fileSize},n.prototype.setFileSize=function(e){this.fileSize=e},n.prototype.getChecksum=function(){return this.checksum},n.prototype.setChecksum=function(e){this.checksum=e},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.setTimestamp=function(e){this.timestamp=e},n}(),KE=function(){function n(){}return n.parseLong=function(e,t){return t===void 0&&(t=void 0),parseInt(e,t)},n}(),VB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),UB=function(n){VB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Ar),FB=function(){function n(){}return n.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},n.prototype.writeBytesOffset=function(e,t,r){if(e==null)throw new UB;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new Fv;if(r===0)return;for(var i=0;i<r;i++)this.write(e[t+i])},n.prototype.flush=function(){},n.prototype.close=function(){},n}(),HB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),zB=function(n){HB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ar),GB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),qB=function(n){GB(e,n);function e(t){t===void 0&&(t=32);var r=n.call(this)||this;if(r.count=0,t<0)throw new Re("Negative initial size: "+t);return r.buf=new Uint8Array(t),r}return e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var r=this.buf.length,i=r<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new zB;i=Ye.MAX_VALUE}this.buf=wn.copyOfUint8Array(this.buf,i)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new Fv;this.ensureCapacity(this.count+i),It.arraycopy(t,r,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return wn.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(FB),bt;(function(n){n[n.ALPHA=0]="ALPHA",n[n.LOWER=1]="LOWER",n[n.MIXED=2]="MIXED",n[n.PUNCT=3]="PUNCT",n[n.ALPHA_SHIFT=4]="ALPHA_SHIFT",n[n.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bt||(bt={}));function SC(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var gd;function Eo(n){if(typeof gd>"u"&&(gd=SC()),gd===null)throw new Error("BigInt is not supported!");return gd(n)}function XB(){var n=[];n[0]=Eo(1);var e=Eo(900);n[1]=e;for(var t=2;t<16;t++)n[t]=n[t-1]*e;return n}var WB=function(){function n(){}return n.decode=function(e,t){var r=new qe(""),i=xn.ISO8859_1;r.enableDecoding(i);for(var a=1,s=e[a++],u=new jB;a<e[0];){switch(s){case n.TEXT_COMPACTION_MODE_LATCH:a=n.textCompaction(e,a,r);break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:a=n.byteCompaction(s,e,i,a,r);break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case n.NUMERIC_COMPACTION_MODE_LATCH:a=n.numericCompaction(e,a,r);break;case n.ECI_CHARSET:xn.getCharacterSetECIByValue(e[a++]);break;case n.ECI_GENERAL_PURPOSE:a+=2;break;case n.ECI_USER_DEFINED:a++;break;case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=n.decodeMacroBlock(e,a,u);break;case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:throw new me;default:a--,a=n.textCompaction(e,a,r);break}if(a<e.length)s=e[a++];else throw me.getFormatInstance()}if(r.length()===0)throw me.getFormatInstance();var c=new z0(null,r.toString(),null,t);return c.setOther(u),c},n.decodeMacroBlock=function(e,t,r){if(t+n.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw me.getFormatInstance();for(var i=new Int32Array(n.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<n.NUMBER_OF_SEQUENCE_CODEWORDS;a++,t++)i[a]=e[t];r.setSegmentIndex(Ye.parseInt(n.decodeBase900toBase10(i,n.NUMBER_OF_SEQUENCE_CODEWORDS)));var s=new qe;t=n.textCompaction(e,t,s),r.setFileId(s.toString());var u=-1;for(e[t]===n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=t+1);t<e[0];)switch(e[t]){case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new qe;t=n.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var h=new qe;t=n.textCompaction(e,t+1,h),r.setSender(h.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var p=new qe;t=n.textCompaction(e,t+1,p),r.setAddressee(p.toString());break;case n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var g=new qe;t=n.numericCompaction(e,t+1,g),r.setSegmentCount(Ye.parseInt(g.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var y=new qe;t=n.numericCompaction(e,t+1,y),r.setTimestamp(KE.parseLong(y.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var _=new qe;t=n.numericCompaction(e,t+1,_),r.setChecksum(Ye.parseInt(_.toString()));break;case n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var E=new qe;t=n.numericCompaction(e,t+1,E),r.setFileSize(KE.parseLong(E.toString()));break;default:throw me.getFormatInstance()}break;case n.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw me.getFormatInstance()}if(u!==-1){var b=t-u;r.isLastSegment()&&b--,r.setOptionalData(wn.copyOfRange(e,u,u+b))}return t},n.textCompaction=function(e,t,r){for(var i=new Int32Array((e[0]-t)*2),a=new Int32Array((e[0]-t)*2),s=0,u=!1;t<e[0]&&!u;){var c=e[t++];if(c<n.TEXT_COMPACTION_MODE_LATCH)i[s]=c/30,i[s+1]=c%30,s+=2;else switch(c){case n.TEXT_COMPACTION_MODE_LATCH:i[s++]=n.TEXT_COMPACTION_MODE_LATCH;break;case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,u=!0;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[s]=n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[t++],a[s]=c,s++;break}}return n.decodeTextCompaction(i,a,s,r),t},n.decodeTextCompaction=function(e,t,r,i){for(var a=bt.ALPHA,s=bt.ALPHA,u=0;u<r;){var c=e[u],h="";switch(a){case bt.ALPHA:if(c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.LL:a=bt.LOWER;break;case n.ML:a=bt.MIXED;break;case n.PS:s=a,a=bt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=bt.ALPHA;break}break;case bt.LOWER:if(c<26)h=String.fromCharCode(97+c);else switch(c){case 26:h=" ";break;case n.AS:s=a,a=bt.ALPHA_SHIFT;break;case n.ML:a=bt.MIXED;break;case n.PS:s=a,a=bt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=bt.ALPHA;break}break;case bt.MIXED:if(c<n.PL)h=n.MIXED_CHARS[c];else switch(c){case n.PL:a=bt.PUNCT;break;case 26:h=" ";break;case n.LL:a=bt.LOWER;break;case n.AL:a=bt.ALPHA;break;case n.PS:s=a,a=bt.PUNCT_SHIFT;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=bt.ALPHA;break}break;case bt.PUNCT:if(c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=bt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=bt.ALPHA;break}break;case bt.ALPHA_SHIFT:if(a=s,c<26)h=String.fromCharCode(65+c);else switch(c){case 26:h=" ";break;case n.TEXT_COMPACTION_MODE_LATCH:a=bt.ALPHA;break}break;case bt.PUNCT_SHIFT:if(a=s,c<n.PAL)h=n.PUNCT_CHARS[c];else switch(c){case n.PAL:a=bt.ALPHA;break;case n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[u]);break;case n.TEXT_COMPACTION_MODE_LATCH:a=bt.ALPHA;break}break}h!==""&&i.append(h),u++}},n.byteCompaction=function(e,t,r,i,a){var s=new qB,u=0,c=0,h=!1;switch(e){case n.BYTE_COMPACTION_MODE_LATCH:for(var p=new Int32Array(6),g=t[i++];i<t[0]&&!h;)switch(p[u++]=g,c=900*c+g,g=t[i++],g){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break;default:if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(Eo(c)>>Eo(8*(5-y))));c=0,u=0}break}i===t[0]&&g<n.TEXT_COMPACTION_MODE_LATCH&&(p[u++]=g);for(var _=0;_<u;_++)s.write(p[_]);break;case n.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!h;){var E=t[i++];if(E<n.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+E;else switch(E){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.NUMERIC_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:i--,h=!0;break}if(u%5===0&&u>0){for(var y=0;y<6;++y)s.write(Number(Eo(c)>>Eo(8*(5-y))));c=0,u=0}}break}return a.append(Zr.decode(s.toByteArray(),r)),i},n.numericCompaction=function(e,t,r){for(var i=0,a=!1,s=new Int32Array(n.MAX_NUMERIC_CODEWORDS);t<e[0]&&!a;){var u=e[t++];if(t===e[0]&&(a=!0),u<n.TEXT_COMPACTION_MODE_LATCH)s[i]=u,i++;else switch(u){case n.TEXT_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH:case n.BYTE_COMPACTION_MODE_LATCH_6:case n.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case n.MACRO_PDF417_TERMINATOR:t--,a=!0;break}(i%n.MAX_NUMERIC_CODEWORDS===0||u===n.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(r.append(n.decodeBase900toBase10(s,i)),i=0)}return t},n.decodeBase900toBase10=function(e,t){for(var r=Eo(0),i=0;i<t;i++)r+=n.EXP900[t-i-1]*Eo(e[i]);var a=r.toString();if(a.charAt(0)!=="1")throw new me;return a.substring(1)},n.TEXT_COMPACTION_MODE_LATCH=900,n.BYTE_COMPACTION_MODE_LATCH=901,n.NUMERIC_COMPACTION_MODE_LATCH=902,n.BYTE_COMPACTION_MODE_LATCH_6=924,n.ECI_USER_DEFINED=925,n.ECI_GENERAL_PURPOSE=926,n.ECI_CHARSET=927,n.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,n.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,n.MACRO_PDF417_TERMINATOR=922,n.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,n.MAX_NUMERIC_CODEWORDS=15,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,n.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,n.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,n.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,n.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,n.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,n.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,n.PL=25,n.LL=27,n.AS=27,n.ML=28,n.AL=28,n.PS=29,n.PAL=29,n.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,n.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",n.EXP900=SC()?XB():[],n.NUMBER_OF_SEQUENCE_CODEWORDS=2,n}(),Pc=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},YB=function(){function n(){}return n.decode=function(e,t,r,i,a,s,u){for(var c=new Am(e,t,r,i,a),h=null,p=null,g,y=!0;;y=!1){if(t!=null&&(h=n.getRowIndicatorColumn(e,c,t,!0,s,u)),i!=null&&(p=n.getRowIndicatorColumn(e,c,i,!1,s,u)),g=n.merge(h,p),g==null)throw ie.getNotFoundInstance();var _=g.getBoundingBox();if(y&&_!=null&&(_.getMinY()<c.getMinY()||_.getMaxY()>c.getMaxY()))c=_;else break}g.setBoundingBox(c);var E=g.getBarcodeColumnCount()+1;g.setDetectionResultColumn(0,h),g.setDetectionResultColumn(E,p);for(var b=h!=null,T=1;T<=E;T++){var I=b?T:E-T;if(g.getDetectionResultColumn(I)===void 0){var R=void 0;I===0||I===E?R=new $E(c,I===0):R=new TC(c),g.setDetectionResultColumn(I,R);for(var P=-1,j=P,U=c.getMinY();U<=c.getMaxY();U++){if(P=n.getStartColumn(g,I,U,b),P<0||P>c.getMaxX()){if(j===-1)continue;P=j}var q=n.detectCodeword(e,c.getMinX(),c.getMaxX(),b,P,U,s,u);q!=null&&(R.setCodeword(U,q),j=P,s=Math.min(s,q.getWidth()),u=Math.max(u,q.getWidth()))}}}return n.createDecoderResult(g)},n.merge=function(e,t){if(e==null&&t==null)return null;var r=n.getBarcodeMetadata(e,t);if(r==null)return null;var i=Am.merge(n.adjustBoundingBox(e),n.adjustBoundingBox(t));return new kB(r,i)},n.adjustBoundingBox=function(e){var t,r;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=n.getMax(i),s=0;try{for(var u=Pc(i),c=u.next();!c.done;c=u.next()){var h=c.value;if(s+=a-h,h>0)break}}catch(_){t={error:_}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}for(var p=e.getCodewords(),g=0;s>0&&p[g]==null;g++)s--;for(var y=0,g=i.length-1;g>=0&&(y+=a-i[g],!(i[g]>0));g--);for(var g=p.length-1;y>0&&p[g]==null;g--)y--;return e.getBoundingBox().addMissingRows(s,y,e.isLeft())},n.getMax=function(e){var t,r,i=-1;try{for(var a=Pc(e),s=a.next();!s.done;s=a.next()){var u=s.value;i=Math.max(i,u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},n.getBarcodeMetadata=function(e,t){var r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();var i;return t==null||(i=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==i.getColumnCount()&&r.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&r.getRowCount()!==i.getRowCount()?null:r},n.getRowIndicatorColumn=function(e,t,r,i,a,s){for(var u=new $E(t,i),c=0;c<2;c++)for(var h=c===0?1:-1,p=Math.trunc(Math.trunc(r.getX())),g=Math.trunc(Math.trunc(r.getY()));g<=t.getMaxY()&&g>=t.getMinY();g+=h){var y=n.detectCodeword(e,0,e.getWidth(),i,p,g,a,s);y!=null&&(u.setCodeword(g,y),i?p=y.getStartX():p=y.getEndX())}return u},n.adjustCodewordCount=function(e,t){var r=t[0][1],i=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-n.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>it.MAX_CODEWORDS_IN_BARCODE)throw ie.getNotFoundInstance();r.setValue(a)}else i[0]!==a&&r.setValue(a)},n.createDecoderResult=function(e){var t=n.createBarcodeMatrix(e);n.adjustCodewordCount(e,t);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],s=new Array,u=0;u<e.getBarcodeRowCount();u++)for(var c=0;c<e.getBarcodeColumnCount();c++){var h=t[u][c+1].getValue(),p=u*e.getBarcodeColumnCount()+c;h.length===0?r.push(p):h.length===1?i[p]=h[0]:(s.push(p),a.push(h))}for(var g=new Array(a.length),y=0;y<g.length;y++)g[y]=a[y];return n.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,it.toIntArray(r),it.toIntArray(s),g)},n.createDecoderResultFromAmbiguousValues=function(e,t,r,i,a){for(var s=new Int32Array(i.length),u=100;u-- >0;){for(var c=0;c<s.length;c++)t[i[c]]=a[c][s[c]];try{return n.decodeCodewords(t,e,r)}catch(p){var h=p instanceof cn;if(!h)throw p}if(s.length===0)throw cn.getChecksumInstance();for(var c=0;c<s.length;c++)if(s[c]<a[c].length-1){s[c]++;break}else if(s[c]=0,c===s.length-1)throw cn.getChecksumInstance()}throw cn.getChecksumInstance()},n.createBarcodeMatrix=function(e){for(var t,r,i,a,s=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),u=0;u<s.length;u++)for(var c=0;c<s[u].length;c++)s[u][c]=new Hc;var h=0;try{for(var p=Pc(e.getDetectionResultColumns()),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)try{for(var _=(i=void 0,Pc(y.getCodewords())),E=_.next();!E.done;E=_.next()){var b=E.value;if(b!=null){var T=b.getRowNumber();if(T>=0){if(T>=s.length)continue;s[T][h].setValue(b.getValue())}}}}catch(I){i={error:I}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}h++}}catch(I){t={error:I}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}return s},n.isValidBarcodeColumn=function(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1},n.getStartColumn=function(e,t,r,i){var a,s,u=i?1:-1,c=null;if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodeword(r)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(t).getCodewordNearby(r),c!=null)return i?c.getStartX():c.getEndX();if(n.isValidBarcodeColumn(e,t-u)&&(c=e.getDetectionResultColumn(t-u).getCodewordNearby(r)),c!=null)return i?c.getEndX():c.getStartX();for(var h=0;n.isValidBarcodeColumn(e,t-u);){t-=u;try{for(var p=(a=void 0,Pc(e.getDetectionResultColumn(t).getCodewords())),g=p.next();!g.done;g=p.next()){var y=g.value;if(y!=null)return(i?y.getEndX():y.getStartX())+u*h*(y.getEndX()-y.getStartX())}}catch(_){a={error:_}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}h++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},n.detectCodeword=function(e,t,r,i,a,s,u,c){a=n.adjustCodewordStartColumn(e,t,r,i,a,s);var h=n.getModuleBitCount(e,t,r,i,a,s);if(h==null)return null;var p,g=ot.sum(h);if(i)p=a+g;else{for(var y=0;y<h.length/2;y++){var _=h[y];h[y]=h[h.length-1-y],h[h.length-1-y]=_}p=a,a=p-g}if(!n.checkCodewordSkew(g,u,c))return null;var E=BB.getDecodedValue(h),b=it.getCodeword(E);return b===-1?null:new LB(a,p,n.getCodewordBucketNumber(E),b)},n.getModuleBitCount=function(e,t,r,i,a,s){for(var u=a,c=new Int32Array(8),h=0,p=i?1:-1,g=i;(i?u<r:u>=t)&&h<c.length;)e.get(u,s)===g?(c[h]++,u+=p):(h++,g=!g);return h===c.length||u===(i?r:t)&&h===c.length-1?c:null},n.getNumberOfECCodeWords=function(e){return 2<<e},n.adjustCodewordStartColumn=function(e,t,r,i,a,s){for(var u=a,c=i?-1:1,h=0;h<2;h++){for(;(i?u>=t:u<r)&&i===e.get(u,s);){if(Math.abs(a-u)>n.CODEWORD_SKEW_SIZE)return a;u+=c}c=-c,i=!i}return u},n.checkCodewordSkew=function(e,t,r){return t-n.CODEWORD_SKEW_SIZE<=e&&e<=r+n.CODEWORD_SKEW_SIZE},n.decodeCodewords=function(e,t,r){if(e.length===0)throw me.getFormatInstance();var i=1<<t+1,a=n.correctErrors(e,r,i);n.verifyCodewordCount(e,i);var s=WB.decode(e,""+t);return s.setErrorsCorrected(a),s.setErasures(r.length),s},n.correctErrors=function(e,t,r){if(t!=null&&t.length>r/2+n.MAX_ERRORS||r<0||r>n.MAX_EC_CODEWORDS)throw cn.getChecksumInstance();return n.errorCorrection.decode(e,r,t)},n.verifyCodewordCount=function(e,t){if(e.length<4)throw me.getFormatInstance();var r=e[0];if(r>e.length)throw me.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw me.getFormatInstance()},n.getBitCountForCodeword=function(e){for(var t=new Int32Array(8),r=0,i=t.length-1;!((e&1)!==r&&(r=e&1,i--,i<0));)t[i]++,e>>=1;return t},n.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},n.getCodewordBucketNumber_number=function(e){return n.getCodewordBucketNumber(n.getBitCountForCodeword(e))},n.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},n.toString=function(e){for(var t=new qv,r=0;r<e.length;r++){t.format("Row %2d: ",r);for(var i=0;i<e[r].length;i++){var a=e[r][i];a.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()},n.CODEWORD_SKEW_SIZE=2,n.MAX_ERRORS=3,n.MAX_EC_CODEWORDS=512,n.errorCorrection=new IB,n}(),$B=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s0=function(){function n(){}return n.prototype.decode=function(e,t){t===void 0&&(t=null);var r=n.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw ie.getNotFoundInstance();return r[0]},n.prototype.decodeMultiple=function(e,t){t===void 0&&(t=null);try{return n.decode(e,t,!0)}catch(r){throw r instanceof me||r instanceof cn?ie.getNotFoundInstance():r}},n.decode=function(e,t,r){var i,a,s=new Array,u=EB.detectMultiple(e,t,r);try{for(var c=$B(u.getPoints()),h=c.next();!h.done;h=c.next()){var p=h.value,g=YB.decode(u.getBits(),p[4],p[5],p[6],p[7],n.getMinCodewordWidth(p),n.getMaxCodewordWidth(p)),y=new nr(g.getText(),g.getRawBytes(),void 0,p,Ie.PDF_417);y.putMetadata(qn.ERROR_CORRECTION_LEVEL,g.getECLevel());var _=g.getOther();_!=null&&y.putMetadata(qn.PDF417_EXTRA_METADATA,_),s.push(y)}}catch(E){i={error:E}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return s.map(function(E){return E})},n.getMaxWidth=function(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMinWidth=function(e,t){return e==null||t==null?Ye.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))},n.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(n.getMaxWidth(e[0],e[4]),n.getMaxWidth(e[6],e[2])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN),Math.max(n.getMaxWidth(e[1],e[5]),n.getMaxWidth(e[7],e[3])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN)))},n.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(n.getMinWidth(e[0],e[4]),n.getMinWidth(e[6],e[2])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN),Math.min(n.getMinWidth(e[1],e[5]),n.getMinWidth(e[7],e[3])*it.MODULES_IN_CODEWORD/it.MODULES_IN_STOP_PATTERN)))},n.prototype.reset=function(){},n}(),KB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),QE=function(n){KB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="ReaderException",e}(Ar),ZE=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},CC=function(){function n(){}return n.prototype.decode=function(e,t){return this.setHints(t),this.decodeInternal(e)},n.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},n.prototype.setHints=function(e){this.hints=e;var t=e!=null&&e.get(Rt.TRY_HARDER)!==void 0,r=e==null?null:e.get(Rt.POSSIBLE_FORMATS),i=new Array;if(r!=null){var a=r.some(function(s){return s===Ie.UPC_A||s===Ie.UPC_E||s===Ie.EAN_13||s===Ie.EAN_8||s===Ie.CODABAR||s===Ie.CODE_39||s===Ie.CODE_93||s===Ie.CODE_128||s===Ie.ITF||s===Ie.RSS_14||s===Ie.RSS_EXPANDED});a&&!t&&i.push(new Bl(e)),r.includes(Ie.QR_CODE)&&i.push(new o0),r.includes(Ie.DATA_MATRIX)&&i.push(new a0),r.includes(Ie.AZTEC)&&i.push(new r0),r.includes(Ie.PDF_417)&&i.push(new s0),a&&t&&i.push(new Bl(e))}i.length===0&&(t||i.push(new Bl(e)),i.push(new o0),i.push(new a0),i.push(new r0),i.push(new s0),t&&i.push(new Bl(e))),this.readers=i},n.prototype.reset=function(){var e,t;if(this.readers!==null)try{for(var r=ZE(this.readers),i=r.next();!i.done;i=r.next()){var a=i.value;a.reset()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},n.prototype.decodeInternal=function(e){var t,r;if(this.readers===null)throw new QE("No readers where selected, nothing can be read.");try{for(var i=ZE(this.readers),a=i.next();!a.done;a=i.next()){var s=a.value;try{return s.decode(e,this.hints)}catch(u){if(u instanceof QE)continue}}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}throw new ie("No MultiFormat Readers were able to detect the code.")},n}(),QB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){QB(e,n);function e(t,r){t===void 0&&(t=null),r===void 0&&(r=500);var i=this,a=new CC;return a.setHints(t),i=n.call(this,a,r)||this,i}return e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e})(mu);var ZB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){ZB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new s0,t)||this}return e})(mu);var JB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){JB(e,n);function e(t){return t===void 0&&(t=500),n.call(this,new o0,t)||this}return e})(mu);var bm;(function(n){n[n.ERROR_CORRECTION=0]="ERROR_CORRECTION",n[n.CHARACTER_SET=1]="CHARACTER_SET",n[n.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",n[n.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",n[n.MIN_SIZE=4]="MIN_SIZE",n[n.MAX_SIZE=5]="MAX_SIZE",n[n.MARGIN=6]="MARGIN",n[n.PDF417_COMPACT=7]="PDF417_COMPACT",n[n.PDF417_COMPACTION=8]="PDF417_COMPACTION",n[n.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",n[n.AZTEC_LAYERS=10]="AZTEC_LAYERS",n[n.QR_VERSION=11]="QR_VERSION",n[n.GS1_FORMAT=12]="GS1_FORMAT",n[n.FORCE_C40=13]="FORCE_C40"})(bm||(bm={}));const md=bm;var IC=function(){function n(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Oo(e,Int32Array.from([1])))}return n.prototype.buildGenerator=function(e){var t=this.cachedGenerators;if(e>=t.length)for(var r=t[t.length-1],i=this.field,a=t.length;a<=e;a++){var s=r.multiply(new Oo(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));t.push(s),r=s}return t[e]},n.prototype.encode=function(e,t){if(t===0)throw new Re("No error correction bytes");var r=e.length-t;if(r<=0)throw new Re("No data bytes provided");var i=this.buildGenerator(t),a=new Int32Array(r);It.arraycopy(e,0,a,0,r);var s=new Oo(this.field,a);s=s.multiplyByMonomial(t,1);for(var u=s.divide(i)[1],c=u.getCoefficients(),h=t-c.length,p=0;p<h;p++)e[r+p]=0;It.arraycopy(c,0,e,r+h,c.length)},n}(),zc=function(){function n(){}return n.applyMaskPenaltyRule1=function(e){return n.applyMaskPenaltyRule1Internal(e,!0)+n.applyMaskPenaltyRule1Internal(e,!1)},n.applyMaskPenaltyRule2=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a-1;s++)for(var u=r[s],c=0;c<i-1;c++){var h=u[c];h===u[c+1]&&h===r[s+1][c]&&h===r[s+1][c+1]&&t++}return n.N2*t},n.applyMaskPenaltyRule3=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=0;u<i;u++){var c=r[s];u+6<i&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(n.isWhiteHorizontal(c,u-4,u)||n.isWhiteHorizontal(c,u+7,u+11))&&t++,s+6<a&&r[s][u]===1&&r[s+1][u]===0&&r[s+2][u]===1&&r[s+3][u]===1&&r[s+4][u]===1&&r[s+5][u]===0&&r[s+6][u]===1&&(n.isWhiteVertical(r,u,s-4,s)||n.isWhiteVertical(r,u,s+7,s+11))&&t++}return t*n.N3},n.isWhiteHorizontal=function(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(var i=t;i<r;i++)if(e[i]===1)return!1;return!0},n.isWhiteVertical=function(e,t,r,i){r=Math.max(r,0),i=Math.min(i,e.length);for(var a=r;a<i;a++)if(e[a][t]===1)return!1;return!0},n.applyMaskPenaltyRule4=function(e){for(var t=0,r=e.getArray(),i=e.getWidth(),a=e.getHeight(),s=0;s<a;s++)for(var u=r[s],c=0;c<i;c++)u[c]===1&&t++;var h=e.getHeight()*e.getWidth(),p=Math.floor(Math.abs(t*2-h)*10/h);return p*n.N4},n.getDataMaskBit=function(e,t,r){var i,a;switch(e){case 0:i=r+t&1;break;case 1:i=r&1;break;case 2:i=t%3;break;case 3:i=(r+t)%3;break;case 4:i=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,i=(a&1)+a%3;break;case 6:a=r*t,i=(a&1)+a%3&1;break;case 7:a=r*t,i=a%3+(r+t&1)&1;break;default:throw new Re("Invalid mask pattern: "+e)}return i===0},n.applyMaskPenaltyRule1Internal=function(e,t){for(var r=0,i=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),s=e.getArray(),u=0;u<i;u++){for(var c=0,h=-1,p=0;p<a;p++){var g=t?s[u][p]:s[p][u];g===h?c++:(c>=5&&(r+=n.N1+(c-5)),c=1,h=g)}c>=5&&(r+=n.N1+(c-5))}return r},n.N1=3,n.N2=3,n.N3=40,n.N4=10,n}(),ej=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tj=function(){function n(e,t){this.width=e,this.height=t;for(var r=new Array(t),i=0;i!==t;i++)r[i]=new Uint8Array(e);this.bytes=r}return n.prototype.getHeight=function(){return this.height},n.prototype.getWidth=function(){return this.width},n.prototype.get=function(e,t){return this.bytes[t][e]},n.prototype.getArray=function(){return this.bytes},n.prototype.setNumber=function(e,t,r){this.bytes[t][e]=r},n.prototype.setBoolean=function(e,t,r){this.bytes[t][e]=r?1:0},n.prototype.clear=function(e){var t,r;try{for(var i=ej(this.bytes),a=i.next();!a.done;a=i.next()){var s=a.value;wn.fill(s,e)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},n.prototype.equals=function(e){if(!(e instanceof n))return!1;var t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var a=this.bytes[r],s=t.bytes[r],u=0,c=this.width;u<c;++u)if(a[u]!==s[u])return!1;return!0},n.prototype.toString=function(){for(var e=new qe,t=0,r=this.height;t<r;++t){for(var i=this.bytes[t],a=0,s=this.width;a<s;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},n}(),Tm=function(){function n(){this.maskPattern=-1}return n.prototype.getMode=function(){return this.mode},n.prototype.getECLevel=function(){return this.ecLevel},n.prototype.getVersion=function(){return this.version},n.prototype.getMaskPattern=function(){return this.maskPattern},n.prototype.getMatrix=function(){return this.matrix},n.prototype.toString=function(){var e=new qe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},n.prototype.setMode=function(e){this.mode=e},n.prototype.setECLevel=function(e){this.ecLevel=e},n.prototype.setVersion=function(e){this.version=e},n.prototype.setMaskPattern=function(e){this.maskPattern=e},n.prototype.setMatrix=function(e){this.matrix=e},n.isValidMaskPattern=function(e){return e>=0&&e<n.NUM_MASK_PATTERNS},n.NUM_MASK_PATTERNS=8,n}(),nj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nt=function(n){nj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.kind="WriterException",e}(Ar),JE=function(){function n(){}return n.clearMatrix=function(e){e.clear(255)},n.buildMatrix=function(e,t,r,i,a){n.clearMatrix(a),n.embedBasicPatterns(r,a),n.embedTypeInfo(t,i,a),n.maybeEmbedVersionInfo(r,a),n.embedDataBits(e,i,a)},n.embedBasicPatterns=function(e,t){n.embedPositionDetectionPatternsAndSeparators(t),n.embedDarkDotAtLeftBottomCorner(t),n.maybeEmbedPositionAdjustmentPatterns(e,t),n.embedTimingPatterns(t)},n.embedTypeInfo=function(e,t,r){var i=new Mn;n.makeTypeInfoBits(e,t,i);for(var a=0,s=i.getSize();a<s;++a){var u=i.get(i.getSize()-1-a),c=n.TYPE_INFO_COORDINATES[a],h=c[0],p=c[1];if(r.setBoolean(h,p,u),a<8){var g=r.getWidth()-a-1,y=8;r.setBoolean(g,y,u)}else{var g=8,y=r.getHeight()-7+(a-8);r.setBoolean(g,y,u)}}},n.maybeEmbedVersionInfo=function(e,t){if(!(e.getVersionNumber()<7)){var r=new Mn;n.makeVersionInfoBits(e,r);for(var i=6*3-1,a=0;a<6;++a)for(var s=0;s<3;++s){var u=r.get(i);i--,t.setBoolean(a,t.getHeight()-11+s,u),t.setBoolean(t.getHeight()-11+s,a,u)}}},n.embedDataBits=function(e,t,r){for(var i=0,a=-1,s=r.getWidth()-1,u=r.getHeight()-1;s>0;){for(s===6&&(s-=1);u>=0&&u<r.getHeight();){for(var c=0;c<2;++c){var h=s-c;if(n.isEmpty(r.get(h,u))){var p=void 0;i<e.getSize()?(p=e.get(i),++i):p=!1,t!==255&&zc.getDataMaskBit(t,h,u)&&(p=!p),r.setBoolean(h,u,p)}}u+=a}a=-a,u+=a,s-=2}if(i!==e.getSize())throw new Nt("Not all bits consumed: "+i+"/"+e.getSize())},n.findMSBSet=function(e){return 32-Ye.numberOfLeadingZeros(e)},n.calculateBCHCode=function(e,t){if(t===0)throw new Re("0 polynomial");var r=n.findMSBSet(t);for(e<<=r-1;n.findMSBSet(e)>=r;)e^=t<<n.findMSBSet(e)-r;return e},n.makeTypeInfoBits=function(e,t,r){if(!Tm.isValidMaskPattern(t))throw new Nt("Invalid mask pattern");var i=e.getBits()<<3|t;r.appendBits(i,5);var a=n.calculateBCHCode(i,n.TYPE_INFO_POLY);r.appendBits(a,10);var s=new Mn;if(s.appendBits(n.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new Nt("should not happen but we got: "+r.getSize())},n.makeVersionInfoBits=function(e,t){t.appendBits(e.getVersionNumber(),6);var r=n.calculateBCHCode(e.getVersionNumber(),n.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Nt("should not happen but we got: "+t.getSize())},n.isEmpty=function(e){return e===255},n.embedTimingPatterns=function(e){for(var t=8;t<e.getWidth()-8;++t){var r=(t+1)%2;n.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),n.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}},n.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new Nt;e.setNumber(8,e.getHeight()-8,1)},n.embedHorizontalSeparationPattern=function(e,t,r){for(var i=0;i<8;++i){if(!n.isEmpty(r.get(e+i,t)))throw new Nt;r.setNumber(e+i,t,0)}},n.embedVerticalSeparationPattern=function(e,t,r){for(var i=0;i<7;++i){if(!n.isEmpty(r.get(e,t+i)))throw new Nt;r.setNumber(e,t+i,0)}},n.embedPositionAdjustmentPattern=function(e,t,r){for(var i=0;i<5;++i)for(var a=n.POSITION_ADJUSTMENT_PATTERN[i],s=0;s<5;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPattern=function(e,t,r){for(var i=0;i<7;++i)for(var a=n.POSITION_DETECTION_PATTERN[i],s=0;s<7;++s)r.setNumber(e+s,t+i,a[s])},n.embedPositionDetectionPatternsAndSeparators=function(e){var t=n.POSITION_DETECTION_PATTERN[0].length;n.embedPositionDetectionPattern(0,0,e),n.embedPositionDetectionPattern(e.getWidth()-t,0,e),n.embedPositionDetectionPattern(0,e.getWidth()-t,e);var r=8;n.embedHorizontalSeparationPattern(0,r-1,e),n.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),n.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);var i=7;n.embedVerticalSeparationPattern(i,0,e),n.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),n.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},n.maybeEmbedPositionAdjustmentPatterns=function(e,t){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],a=0,s=i.length;a!==s;a++){var u=i[a];if(u>=0)for(var c=0;c!==s;c++){var h=i[c];h>=0&&n.isEmpty(t.get(h,u))&&n.embedPositionAdjustmentPattern(h-2,u-2,t)}}},n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),n.VERSION_INFO_POLY=7973,n.TYPE_INFO_POLY=1335,n.TYPE_INFO_MASK_PATTERN=21522,n}(),rj=function(){function n(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}return n.prototype.getDataBytes=function(){return this.dataBytes},n.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},n}(),eA=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.calculateMaskPenalty=function(e){return zc.applyMaskPenaltyRule1(e)+zc.applyMaskPenaltyRule2(e)+zc.applyMaskPenaltyRule3(e)+zc.applyMaskPenaltyRule4(e)},n.encode=function(e,t,r){r===void 0&&(r=null);var i=n.DEFAULT_BYTE_MODE_ENCODING,a=r!==null&&r.get(md.CHARACTER_SET)!==void 0;a&&(i=r.get(md.CHARACTER_SET).toString());var s=this.chooseMode(e,i),u=new Mn;if(s===Ot.BYTE&&(a||n.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=xn.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(s,u);var h=new Mn;this.appendBytes(e,s,h,i);var p;if(r!==null&&r.get(md.QR_VERSION)!==void 0){var g=Number.parseInt(r.get(md.QR_VERSION).toString(),10);p=Is.getVersionForNumber(g);var y=this.calculateBitsNeeded(s,u,h,p);if(!this.willFit(y,p,t))throw new Nt("Data too big for requested version")}else p=this.recommendVersion(t,s,u,h);var _=new Mn;_.appendBitArray(u);var E=s===Ot.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(E,p,s,_),_.appendBitArray(h);var b=p.getECBlocksForLevel(t),T=p.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(T,_);var I=this.interleaveWithECBytes(_,p.getTotalCodewords(),T,b.getNumBlocks()),R=new Tm;R.setECLevel(t),R.setMode(s),R.setVersion(p);var P=p.getDimensionForVersion(),j=new tj(P,P),U=this.chooseMaskPattern(I,t,p,j);return R.setMaskPattern(U),JE.buildMatrix(I,t,p,U,j),R.setMatrix(j),R},n.recommendVersion=function(e,t,r,i){var a=this.calculateBitsNeeded(t,r,i,Is.getVersionForNumber(1)),s=this.chooseVersion(a,e),u=this.calculateBitsNeeded(t,r,i,s);return this.chooseVersion(u,e)},n.calculateBitsNeeded=function(e,t,r,i){return t.getSize()+e.getCharacterCountBits(i)+r.getSize()},n.getAlphanumericCode=function(e){return e<n.ALPHANUMERIC_TABLE.length?n.ALPHANUMERIC_TABLE[e]:-1},n.chooseMode=function(e,t){if(t===void 0&&(t=null),xn.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Ot.KANJI;for(var r=!1,i=!1,a=0,s=e.length;a<s;++a){var u=e.charAt(a);if(n.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)i=!0;else return Ot.BYTE}return i?Ot.ALPHANUMERIC:r?Ot.NUMERIC:Ot.BYTE},n.isOnlyDoubleByteKanji=function(e){var t;try{t=Zr.encode(e,xn.SJIS)}catch{return!1}var r=t.length;if(r%2!==0)return!1;for(var i=0;i<r;i+=2){var a=t[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},n.chooseMaskPattern=function(e,t,r,i){for(var a=Number.MAX_SAFE_INTEGER,s=-1,u=0;u<Tm.NUM_MASK_PATTERNS;u++){JE.buildMatrix(e,t,r,u,i);var c=this.calculateMaskPenalty(i);c<a&&(a=c,s=u)}return s},n.chooseVersion=function(e,t){for(var r=1;r<=40;r++){var i=Is.getVersionForNumber(r);if(n.willFit(e,i,t))return i}throw new Nt("Data too big")},n.willFit=function(e,t,r){var i=t.getTotalCodewords(),a=t.getECBlocksForLevel(r),s=a.getTotalECCodewords(),u=i-s,c=(e+7)/8;return u>=c},n.terminateBits=function(e,t){var r=e*8;if(t.getSize()>r)throw new Nt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(var i=0;i<4&&t.getSize()<r;++i)t.appendBit(!1);var a=t.getSize()&7;if(a>0)for(var i=a;i<8;i++)t.appendBit(!1);for(var s=e-t.getSizeInBytes(),i=0;i<s;++i)t.appendBits((i&1)===0?236:17,8);if(t.getSize()!==r)throw new Nt("Bits size does not equal capacity")},n.getNumDataBytesAndNumECBytesForBlockID=function(e,t,r,i,a,s){if(i>=r)throw new Nt("Block ID too large");var u=e%r,c=r-u,h=Math.floor(e/r),p=h+1,g=Math.floor(t/r),y=g+1,_=h-g,E=p-y;if(_!==E)throw new Nt("EC bytes mismatch");if(r!==c+u)throw new Nt("RS blocks mismatch");if(e!==(g+_)*c+(y+E)*u)throw new Nt("Total bytes mismatch");i<c?(a[0]=g,s[0]=_):(a[0]=y,s[0]=E)},n.interleaveWithECBytes=function(e,t,r,i){var a,s,u,c;if(e.getSizeInBytes()!==r)throw new Nt("Number of bits and data bytes does not match");for(var h=0,p=0,g=0,y=new Array,_=0;_<i;++_){var E=new Int32Array(1),b=new Int32Array(1);n.getNumDataBytesAndNumECBytesForBlockID(t,r,i,_,E,b);var T=E[0],I=new Uint8Array(T);e.toBytes(8*h,I,0,T);var R=n.generateECBytes(I,b[0]);y.push(new rj(I,R)),p=Math.max(p,T),g=Math.max(g,R.length),h+=E[0]}if(r!==h)throw new Nt("Data bytes does not match offset");for(var P=new Mn,_=0;_<p;++_)try{for(var j=(a=void 0,eA(y)),U=j.next();!U.done;U=j.next()){var q=U.value,I=q.getDataBytes();_<I.length&&P.appendBits(I[_],8)}}catch(V){a={error:V}}finally{try{U&&!U.done&&(s=j.return)&&s.call(j)}finally{if(a)throw a.error}}for(var _=0;_<g;++_)try{for(var O=(u=void 0,eA(y)),N=O.next();!N.done;N=O.next()){var q=N.value,R=q.getErrorCorrectionBytes();_<R.length&&P.appendBits(R[_],8)}}catch(V){u={error:V}}finally{try{N&&!N.done&&(c=O.return)&&c.call(O)}finally{if(u)throw u.error}}if(t!==P.getSizeInBytes())throw new Nt("Interleaving error: "+t+" and "+P.getSizeInBytes()+" differ.");return P},n.generateECBytes=function(e,t){for(var r=e.length,i=new Int32Array(r+t),a=0;a<r;a++)i[a]=e[a]&255;new IC(xr.QR_CODE_FIELD_256).encode(i,t);for(var s=new Uint8Array(t),a=0;a<t;a++)s[a]=i[r+a];return s},n.appendModeInfo=function(e,t){t.appendBits(e.getBits(),4)},n.appendLengthInfo=function(e,t,r,i){var a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Nt(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},n.appendBytes=function(e,t,r,i){switch(t){case Ot.NUMERIC:n.appendNumericBytes(e,r);break;case Ot.ALPHANUMERIC:n.appendAlphanumericBytes(e,r);break;case Ot.BYTE:n.append8BitBytes(e,r,i);break;case Ot.KANJI:n.appendKanjiBytes(e,r);break;default:throw new Nt("Invalid mode: "+t)}},n.getDigit=function(e){return e.charCodeAt(0)-48},n.isDigit=function(e){var t=n.getDigit(e);return t>=0&&t<=9},n.appendNumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getDigit(e.charAt(i));if(i+2<r){var s=n.getDigit(e.charAt(i+1)),u=n.getDigit(e.charAt(i+2));t.appendBits(a*100+s*10+u,10),i+=3}else if(i+1<r){var s=n.getDigit(e.charAt(i+1));t.appendBits(a*10+s,7),i+=2}else t.appendBits(a,4),i++}},n.appendAlphanumericBytes=function(e,t){for(var r=e.length,i=0;i<r;){var a=n.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new Nt;if(i+1<r){var s=n.getAlphanumericCode(e.charCodeAt(i+1));if(s===-1)throw new Nt;t.appendBits(a*45+s,11),i+=2}else t.appendBits(a,6),i++}},n.append8BitBytes=function(e,t,r){var i;try{i=Zr.encode(e,r)}catch(c){throw new Nt(c)}for(var a=0,s=i.length;a!==s;a++){var u=i[a];t.appendBits(u,8)}},n.appendKanjiBytes=function(e,t){var r;try{r=Zr.encode(e,xn.SJIS)}catch(g){throw new Nt(g)}for(var i=r.length,a=0;a<i;a+=2){var s=r[a]&255,u=r[a+1]&255,c=s<<8&4294967295|u,h=-1;if(c>=33088&&c<=40956?h=c-33088:c>=57408&&c<=60351&&(h=c-49472),h===-1)throw new Nt("Invalid byte sequence");var p=(h>>8)*192+(h&255);t.appendBits(p,13)}},n.appendECI=function(e,t){t.appendBits(Ot.ECI.getBits(),4),t.appendBits(e.getValue(),8)},n.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),n.DEFAULT_BYTE_MODE_ENCODING=xn.UTF8.getName(),n})();var ij=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){ij(e,n);function e(t,r,i,a,s,u,c,h){var p=n.call(this,u,c)||this;if(p.yuvData=t,p.dataWidth=r,p.dataHeight=i,p.left=a,p.top=s,a+u>r||s+c>i)throw new Re("Crop rectangle does not fit within image data.");return h&&p.reverseHorizontal(u,c),p}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return It.arraycopy(this.yuvData,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return It.arraycopy(this.yuvData,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;It.arraycopy(this.yuvData,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,a,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),a=this.yuvData,s=this.top*this.dataWidth+this.left,u=0;u<r;u++){for(var c=u*t,h=0;h<t;h++){var p=a[s+h*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+h]=4278190080|p*65793}s+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,r){for(var i=this.yuvData,a=0,s=this.top*this.dataWidth+this.left;a<r;a++,s+=this.dataWidth)for(var u=s+t/2,c=s,h=s+t-1;c<u;c++,h--){var p=i[c];i[c]=i[h],i[h]=p}},e.prototype.invert=function(){return new H0(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Pf);var aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){aj(e,n);function e(t,r,i,a,s,u,c){var h=n.call(this,r,i)||this;if(h.dataWidth=a,h.dataHeight=s,h.left=u,h.top=c,t.BYTES_PER_ELEMENT===4){for(var p=r*i,g=new Uint8ClampedArray(p),y=0;y<p;y++){var _=t[y],E=_>>16&255,b=_>>7&510,T=_&255;g[y]=(E+b+T)/4&255}h.luminances=g}else h.luminances=t;if(a===void 0&&(h.dataWidth=r),s===void 0&&(h.dataHeight=i),u===void 0&&(h.left=0),c===void 0&&(h.top=0),h.left+r>h.dataWidth||h.top+i>h.dataHeight)throw new Re("Crop rectangle does not fit within image data.");return h}return e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));var a=(t+this.top)*this.dataWidth+this.left;return It.arraycopy(this.luminances,a,r,0,i),r},e.prototype.getMatrix=function(){var t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;var i=t*r,a=new Uint8ClampedArray(i),s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return It.arraycopy(this.luminances,s,a,0,i),a;for(var u=0;u<r;u++){var c=u*t;It.arraycopy(this.luminances,s,a,c,t),s+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+t,this.top+r)},e.prototype.invert=function(){return new H0(this)},e})(Pf);var oj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sj=function(n){oj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(xn),lj=function(){function n(){}return n.ISO_8859_1=xn.ISO8859_1,n}(),Sm,uj=301,cj=function(n,e){for(var t=1,r=0;r<255;r++)e[r]=t,n[t]=r,t*=2,t>=256&&(t^=uj);return{LOG:n,ALOG:e}};Sm=cj([],[]),Sm.LOG;Sm.ALOG;var tA;(function(n){n[n.FORCE_NONE=0]="FORCE_NONE",n[n.FORCE_SQUARE=1]="FORCE_SQUARE",n[n.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(tA||(tA={}));var nA=129,RC=230,fj=231,hj=235,dj=236,pj=237,gj=238,mj=239,vj=240,Pg=254,yj=254,rA="[)>05",iA="[)>06",aA="",yt=0,Hn=1,cr=2,vn=3,Dn=4,Qn=5,xj=function(){function n(){}return n.prototype.getEncodingMode=function(){return yt},n.prototype.encode=function(e){var t=li.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(t>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var r=e.getCurrentChar(),i=li.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case Qn:e.writeCodeword(fj),e.signalEncoderChange(Qn);return;case Hn:e.writeCodeword(RC),e.signalEncoderChange(Hn);return;case vn:e.writeCodeword(gj),e.signalEncoderChange(vn);break;case cr:e.writeCodeword(mj),e.signalEncoderChange(cr);break;case Dn:e.writeCodeword(vj),e.signalEncoderChange(Dn);break;default:throw new Error("Illegal mode: "+i)}else li.isExtendedASCII(r)?(e.writeCodeword(hj),e.writeCodeword(r-128+1),e.pos++):(e.writeCodeword(r+1),e.pos++)}},n.prototype.encodeASCIIDigits=function(e,t){if(li.isDigit(e)&&li.isDigit(t)){var r=(e-48)*10+(t-48);return r+130}throw new Error("not digits: "+e+t)},n}(),_j=function(){function n(){}return n.prototype.getEncodingMode=function(){return Qn},n.prototype.encode=function(e){var t=new qe;for(t.append(0);e.hasMoreCharacters();){var r=e.getCurrentChar();t.append(r),e.pos++;var i=li.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(yt);break}}var a=t.length()-1,s=1,u=e.getCodewordCount()+a+s;e.updateSymbolInfo(u);var c=e.getSymbolInfo().getDataCapacity()-u>0;if(e.hasMoreCharacters()||c)if(a<=249)t.setCharAt(0,rt.getCharAt(a));else if(a<=1555)t.setCharAt(0,rt.getCharAt(Math.floor(a/250)+249)),t.insert(1,rt.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var h=0,r=t.length();h<r;h++)e.writeCodeword(this.randomize255State(t.charAt(h).charCodeAt(0),e.getCodewordCount()+1))},n.prototype.randomize255State=function(e,t){var r=149*t%255+1,i=e+r;return i<=255?i:i-256},n}(),Xv=function(){function n(){}return n.prototype.getEncodingMode=function(){return Hn},n.prototype.encodeMaximal=function(e){for(var t=new qe,r=0,i=e.pos,a=0;e.hasMoreCharacters();){var s=e.getCurrentChar();e.pos++,r=this.encodeChar(s,t),t.length()%3===0&&(i=e.pos,a=t.length())}if(a!==t.length()){var u=Math.floor(t.length()/3*2),c=Math.floor(e.getCodewordCount()+u+1);e.updateSymbolInfo(c);var h=e.getSymbolInfo().getDataCapacity()-c,p=Math.floor(t.length()%3);(p===2&&h!==2||p===1&&(r>3||h!==1))&&(e.pos=i)}t.length()>0&&e.writeCodeword(RC),this.handleEOD(e,t)},n.prototype.encode=function(e){for(var t=new qe;e.hasMoreCharacters();){var r=e.getCurrentChar();e.pos++;var i=this.encodeChar(r,t),a=Math.floor(t.length()/3)*2,s=e.getCodewordCount()+a;e.updateSymbolInfo(s);var u=e.getSymbolInfo().getDataCapacity()-s;if(!e.hasMoreCharacters()){var c=new qe;for(t.length()%3===2&&u!==2&&(i=this.backtrackOneCharacter(e,t,c,i));t.length()%3===1&&(i>3||u!==1);)i=this.backtrackOneCharacter(e,t,c,i);break}var h=t.length();if(h%3===0){var p=li.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(p!==this.getEncodingMode()){e.signalEncoderChange(yt);break}}}this.handleEOD(e,t)},n.prototype.backtrackOneCharacter=function(e,t,r,i){var a=t.length(),s=t.toString().substring(0,a-i);t.setLengthToZero(),t.append(s),e.pos--;var u=e.getCurrentChar();return i=this.encodeChar(u,r),e.resetSymbolInfo(),i},n.prototype.writeNextTriplet=function(e,t){e.writeCodewords(this.encodeToCodewords(t.toString()));var r=t.toString().substring(3);t.setLengthToZero(),t.append(r)},n.prototype.handleEOD=function(e,t){var r=Math.floor(t.length()/3*2),i=t.length()%3,a=e.getCodewordCount()+r;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(t.append("\0");t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Pg)}else if(s===1&&i===1){for(;t.length()>=3;)this.writeNextTriplet(e,t);e.hasMoreCharacters()&&e.writeCodeword(Pg),e.pos--}else if(i===0){for(;t.length()>=3;)this.writeNextTriplet(e,t);(s>0||e.hasMoreCharacters())&&e.writeCodeword(Pg)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(yt)},n.prototype.encodeChar=function(e,t){if(e===32)return t.append(3),1;if(e>=48&&e<=57)return t.append(e-48+4),1;if(e>=65&&e<=90)return t.append(e-65+14),1;if(e<32)return t.append(0),t.append(e),2;if(e<=47)return t.append(1),t.append(e-33),2;if(e<=64)return t.append(1),t.append(e-58+15),2;if(e<=95)return t.append(1),t.append(e-91+22),2;if(e<=127)return t.append(2),t.append(e-96),2;t.append("1");var r=2;return r+=this.encodeChar(e-128,t),r},n.prototype.encodeToCodewords=function(e){var t=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,r=t/256,i=t%256,a=new qe;return a.append(r),a.append(i),a.toString()},n}(),wj=function(){function n(){}return n.prototype.getEncodingMode=function(){return Dn},n.prototype.encode=function(e){for(var t=new qe;e.hasMoreCharacters();){var r=e.getCurrentChar();this.encodeChar(r,t),e.pos++;var i=t.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(t.toString()));var a=t.toString().substring(4);t.setLengthToZero(),t.append(a);var s=li.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){e.signalEncoderChange(yt);break}}}t.append(rt.getCharAt(31)),this.handleEOD(e,t)},n.prototype.handleEOD=function(e,t){try{var r=t.length();if(r===0)return;if(r===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(r>4)throw new Error("Count must not exceed 4");var s=r-1,u=this.encodeToCodewords(t.toString()),c=!e.hasMoreCharacters(),h=c&&s<=2;if(s<=2){e.updateSymbolInfo(e.getCodewordCount()+s);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(h=!1,e.updateSymbolInfo(e.getCodewordCount()+u.length))}h?(e.resetSymbolInfo(),e.pos-=s):e.writeCodewords(u)}finally{e.signalEncoderChange(yt)}},n.prototype.encodeChar=function(e,t){e>=32&&e<=63?t.append(e):e>=64&&e<=94?t.append(rt.getCharAt(e-64)):li.illegalCharacter(rt.getCharAt(e))},n.prototype.encodeToCodewords=function(e){var t=e.length;if(t===0)throw new Error("StringBuilder must not be empty");var r=e.charAt(0).charCodeAt(0),i=t>=2?e.charAt(1).charCodeAt(0):0,a=t>=3?e.charAt(2).charCodeAt(0):0,s=t>=4?e.charAt(3).charCodeAt(0):0,u=(r<<18)+(i<<12)+(a<<6)+s,c=u>>16&255,h=u>>8&255,p=u&255,g=new qe;return g.append(c),t>=2&&g.append(h),t>=3&&g.append(p),g.toString()},n}(),Ej=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Aj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ct=function(){function n(e,t,r,i,a,s,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=t,this.errorCodewords=r,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=s,this.rsBlockData=u,this.rsBlockError=c}return n.lookup=function(e,t,r,i,a){var s,u;t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var c=Aj(Tj),h=c.next();!h.done;h=c.next()){var p=h.value;if(!(t===1&&p.rectangular)&&!(t===2&&!p.rectangular)&&!(r!=null&&(p.getSymbolWidth()<r.getWidth()||p.getSymbolHeight()<r.getHeight()))&&!(i!=null&&(p.getSymbolWidth()>i.getWidth()||p.getSymbolHeight()>i.getHeight()))&&e<=p.dataCapacity)return p}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},n.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},n.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},n.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},n.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},n.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},n.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},n.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},n.prototype.getDataCapacity=function(){return this.dataCapacity},n.prototype.getErrorCodewords=function(){return this.errorCodewords},n.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},n.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},n}(),bj=function(n){Ej(e,n);function e(){return n.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(t){return t<=8?156:155},e}(ct),Tj=[new ct(!1,3,5,8,8,1),new ct(!1,5,7,10,10,1),new ct(!0,5,7,16,6,1),new ct(!1,8,10,12,12,1),new ct(!0,10,11,14,6,2),new ct(!1,12,12,14,14,1),new ct(!0,16,14,24,10,1),new ct(!1,18,14,16,16,1),new ct(!1,22,18,18,18,1),new ct(!0,22,18,16,10,2),new ct(!1,30,20,20,20,1),new ct(!0,32,24,16,14,2),new ct(!1,36,24,22,22,1),new ct(!1,44,28,24,24,1),new ct(!0,49,28,22,14,2),new ct(!1,62,36,14,14,4),new ct(!1,86,42,16,16,4),new ct(!1,114,48,18,18,4),new ct(!1,144,56,20,20,4),new ct(!1,174,68,22,22,4),new ct(!1,204,84,24,24,4,102,42),new ct(!1,280,112,14,14,16,140,56),new ct(!1,368,144,16,16,16,92,36),new ct(!1,456,192,18,18,16,114,48),new ct(!1,576,224,20,20,16,144,56),new ct(!1,696,272,22,22,16,174,68),new ct(!1,816,336,24,24,16,136,56),new ct(!1,1050,408,18,18,36,175,68),new ct(!1,1304,496,20,20,36,163,62),new bj],Sj=function(){function n(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var t=e.split("").map(function(u){return u.charCodeAt(0)}),r=new qe,i=0,a=t.length;i<a;i++){var s=String.fromCharCode(t[i]&255);if(s==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");r.append(s)}this.msg=r.toString(),this.shape=0,this.codewords=new qe,this.newEncoding=-1}return n.prototype.setSymbolShape=function(e){this.shape=e},n.prototype.setSizeConstraints=function(e,t){this.minSize=e,this.maxSize=t},n.prototype.getMessage=function(){return this.msg},n.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},n.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},n.prototype.getCodewords=function(){return this.codewords},n.prototype.writeCodewords=function(e){this.codewords.append(e)},n.prototype.writeCodeword=function(e){this.codewords.append(e)},n.prototype.getCodewordCount=function(){return this.codewords.length()},n.prototype.getNewEncoding=function(){return this.newEncoding},n.prototype.signalEncoderChange=function(e){this.newEncoding=e},n.prototype.resetEncoderSignal=function(){this.newEncoding=-1},n.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},n.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},n.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},n.prototype.getSymbolInfo=function(){return this.symbolInfo},n.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=ct.lookup(e,this.shape,this.minSize,this.maxSize,!0))},n.prototype.resetSymbolInfo=function(){this.symbolInfo=null},n}(),Cj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ij=function(n){Cj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return vn},e.prototype.encode=function(t){for(var r=new qe;t.hasMoreCharacters();){var i=t.getCurrentChar();t.pos++,this.encodeChar(i,r);var a=r.length();if(a%3===0){this.writeNextTriplet(t,r);var s=li.lookAheadTest(t.getMessage(),t.pos,this.getEncodingMode());if(s!==this.getEncodingMode()){t.signalEncoderChange(yt);break}}}this.handleEOD(t,r)},e.prototype.encodeChar=function(t,r){switch(t){case 13:r.append(0);break;case 42:r.append(1);break;case 62:r.append(2);break;case 32:r.append(3);break;default:t>=48&&t<=57?r.append(t-48+4):t>=65&&t<=90?r.append(t-65+14):li.illegalCharacter(rt.getCharAt(t));break}return 1},e.prototype.handleEOD=function(t,r){t.updateSymbolInfo();var i=t.getSymbolInfo().getDataCapacity()-t.getCodewordCount(),a=r.length();t.pos-=a,(t.getRemainingCharacters()>1||i>1||t.getRemainingCharacters()!==i)&&t.writeCodeword(yj),t.getNewEncoding()<0&&t.signalEncoderChange(yt)},e}(Xv),Rj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nj=function(n){Rj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return cr},e.prototype.encodeChar=function(t,r){if(t===32)return r.append(3),1;if(t>=48&&t<=57)return r.append(t-48+4),1;if(t>=97&&t<=122)return r.append(t-97+14),1;if(t<32)return r.append(0),r.append(t),2;if(t<=47)return r.append(1),r.append(t-33),2;if(t<=64)return r.append(1),r.append(t-58+15),2;if(t>=91&&t<=95)return r.append(1),r.append(t-91+22),2;if(t===96)return r.append(2),r.append(0),2;if(t<=90)return r.append(2),r.append(t-65+1),2;if(t<=127)return r.append(2),r.append(t-123+27),2;r.append("1");var i=2;return i+=this.encodeChar(t-128,r),i},e}(Xv),li=function(){function n(){}return n.randomize253State=function(e){var t=149*e%253+1,r=nA+t;return r<=254?r:r-254},n.encodeHighLevel=function(e,t,r,i,a){t===void 0&&(t=0),r===void 0&&(r=null),i===void 0&&(i=null),a===void 0&&(a=!1);var s=new Xv,u=[new xj,s,new Nj,new Ij,new wj,new _j],c=new Sj(e);c.setSymbolShape(t),c.setSizeConstraints(r,i),e.startsWith(rA)&&e.endsWith(aA)?(c.writeCodeword(dj),c.setSkipAtEnd(2),c.pos+=rA.length):e.startsWith(iA)&&e.endsWith(aA)&&(c.writeCodeword(pj),c.setSkipAtEnd(2),c.pos+=iA.length);var h=yt;for(a&&(s.encodeMaximal(c),h=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[h].encode(c),c.getNewEncoding()>=0&&(h=c.getNewEncoding(),c.resetEncoderSignal());var p=c.getCodewordCount();c.updateSymbolInfo();var g=c.getSymbolInfo().getDataCapacity();p<g&&h!==yt&&h!==Qn&&h!==Dn&&c.writeCodeword("þ");var y=c.getCodewords();for(y.length()<g&&y.append(nA);y.length()<g;)y.append(this.randomize253State(y.length()+1));return c.getCodewords().toString()},n.lookAheadTest=function(e,t,r){var i=this.lookAheadTestIntern(e,t,r);if(r===vn&&i===vn){for(var a=Math.min(t+3,e.length),s=t;s<a;s++)if(!this.isNativeX12(e.charCodeAt(s)))return yt}else if(r===Dn&&i===Dn){for(var a=Math.min(t+4,e.length),s=t;s<a;s++)if(!this.isNativeEDIFACT(e.charCodeAt(s)))return yt}return i},n.lookAheadTestIntern=function(e,t,r){if(t>=e.length)return r;var i;r===yt?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[r]=0);for(var a=0,s=new Uint8Array(6),u=[];;){if(t+a===e.length){wn.fill(s,0),wn.fill(u,0);var c=this.findMinimums(i,u,Ye.MAX_VALUE,s),h=this.getMinimumCount(s);if(u[yt]===c)return yt;if(h===1){if(s[Qn]>0)return Qn;if(s[Dn]>0)return Dn;if(s[cr]>0)return cr;if(s[vn]>0)return vn}return Hn}var p=e.charCodeAt(t+a);if(a++,this.isDigit(p)?i[yt]+=.5:this.isExtendedASCII(p)?(i[yt]=Math.ceil(i[yt]),i[yt]+=2):(i[yt]=Math.ceil(i[yt]),i[yt]++),this.isNativeC40(p)?i[Hn]+=2/3:this.isExtendedASCII(p)?i[Hn]+=8/3:i[Hn]+=4/3,this.isNativeText(p)?i[cr]+=2/3:this.isExtendedASCII(p)?i[cr]+=8/3:i[cr]+=4/3,this.isNativeX12(p)?i[vn]+=2/3:this.isExtendedASCII(p)?i[vn]+=13/3:i[vn]+=10/3,this.isNativeEDIFACT(p)?i[Dn]+=3/4:this.isExtendedASCII(p)?i[Dn]+=17/4:i[Dn]+=13/4,this.isSpecialB256(p)?i[Qn]+=4:i[Qn]++,a>=4){if(wn.fill(s,0),wn.fill(u,0),this.findMinimums(i,u,Ye.MAX_VALUE,s),u[yt]<this.min(u[Qn],u[Hn],u[cr],u[vn],u[Dn]))return yt;if(u[Qn]<u[yt]||u[Qn]+1<this.min(u[Hn],u[cr],u[vn],u[Dn]))return Qn;if(u[Dn]+1<this.min(u[Qn],u[Hn],u[cr],u[vn],u[yt]))return Dn;if(u[cr]+1<this.min(u[Qn],u[Hn],u[Dn],u[vn],u[yt]))return cr;if(u[vn]+1<this.min(u[Qn],u[Hn],u[Dn],u[cr],u[yt]))return vn;if(u[Hn]+1<this.min(u[yt],u[Qn],u[Dn],u[cr])){if(u[Hn]<u[vn])return Hn;if(u[Hn]===u[vn]){for(var g=t+a+1;g<e.length;){var y=e.charCodeAt(g);if(this.isX12TermSep(y))return vn;if(!this.isNativeX12(y))break;g++}return Hn}}}}},n.min=function(e,t,r,i,a){var s=Math.min(e,Math.min(t,Math.min(r,i)));return a===void 0?s:Math.min(s,a)},n.findMinimums=function(e,t,r,i){for(var a=0;a<6;a++){var s=t[a]=Math.ceil(e[a]);r>s&&(r=s,wn.fill(i,0)),r===s&&(i[a]=i[a]+1)}return r},n.getMinimumCount=function(e){for(var t=0,r=0;r<6;r++)t+=e[r];return t||0},n.isDigit=function(e){return e>=48&&e<=57},n.isExtendedASCII=function(e){return e>=128&&e<=255},n.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},n.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},n.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},n.isX12TermSep=function(e){return e===13||e===42||e===62},n.isNativeEDIFACT=function(e){return e>=32&&e<=94},n.isSpecialB256=function(e){return!1},n.determineConsecutiveDigitCount=function(e,t){t===void 0&&(t=0);for(var r=e.length,i=t;i<r&&this.isDigit(e.charCodeAt(i));)i++;return i-t},n.illegalCharacter=function(e){var t=Ye.toHexString(e.charCodeAt(0));throw t="0000".substring(0,4-t.length)+t,new Error("Illegal character: "+e+" (0x"+t+")")},n}(),Mg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oA=function(){function n(e){this.charset=e,this.name=e.name}return n.prototype.canEncode=function(e){try{return Zr.encode(e,this.charset)!=null}catch{return!1}},n}(),Oj=function(){function n(e,t,r){var i,a,s,u,c,h;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(M){return new oA(sj.forName(M))}),this.encoders=[];var p=[];p.push(new oA(lj.ISO_8859_1));for(var g=t!=null&&t.name.startsWith("UTF"),y=0;y<e.length;y++){var _=!1;try{for(var E=(i=void 0,Mg(p)),b=E.next();!b.done;b=E.next()){var T=b.value,I=e.charAt(y),R=I.charCodeAt(0);if(R===r||T.canEncode(I)){_=!0;break}}}catch(M){i={error:M}}finally{try{b&&!b.done&&(a=E.return)&&a.call(E)}finally{if(i)throw i.error}}if(!_)try{for(var P=(s=void 0,Mg(this.ENCODERS)),j=P.next();!j.done;j=P.next()){var T=j.value;if(T.canEncode(e.charAt(y))){p.push(T),_=!0;break}}}catch(M){s={error:M}}finally{try{j&&!j.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}_||(g=!0)}if(p.length===1&&!g)this.encoders=[p[0]];else{this.encoders=[];var U=0;try{for(var q=Mg(p),O=q.next();!O.done;O=q.next()){var T=O.value;this.encoders[U++]=T}}catch(M){c={error:M}}finally{try{O&&!O.done&&(h=q.return)&&h.call(q)}finally{if(c)throw c.error}}}var N=-1;if(t!=null){for(var y=0;y<this.encoders.length;y++)if(this.encoders[y]!=null&&t.name===this.encoders[y].name){N=y;break}}this.priorityEncoderIndex=N}return n.prototype.length=function(){return this.encoders.length},n.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},n.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},n.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},n.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},n.prototype.canEncode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return!0},n.prototype.encode=function(e,t){if(!(t<this.length()))throw new Error("index must be less than length");return Zr.encode(rt.getCharAt(e),this.encoders[t].name)},n}(),Dj=3,Pj=function(){function n(e,t,r){this.fnc1=r;var i=new Oj(e,t,r);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var s=e.charAt(a).charCodeAt(0);this.bytes[a]=s===r?1e3:s}else this.bytes=this.encodeMinimally(e,i,r)}return n.prototype.getFNC1Character=function(){return this.fnc1},n.prototype.length=function(){return this.bytes.length},n.prototype.haveNCharacters=function(e,t){if(e+t-1>=this.bytes.length)return!1;for(var r=0;r<t;r++)if(this.isECI(e+r))return!1;return!0},n.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},n.prototype.subSequence=function(e,t){if(e<0||e>t||t>this.length())throw new Error(""+e);for(var r=new qe,i=e;i<t;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");r.append(this.charAt(i))}return r.toString()},n.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},n.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},n.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},n.prototype.addEdge=function(e,t,r){(e[t][r.encoderIndex]==null||e[t][r.encoderIndex].cachedTotalSize>r.cachedTotalSize)&&(e[t][r.encoderIndex]=r)},n.prototype.addEdges=function(e,t,r,i,a,s){var u=e.charAt(i).charCodeAt(0),c=0,h=t.length();t.getPriorityEncoderIndex()>=0&&(u===s||t.canEncode(u,t.getPriorityEncoderIndex()))&&(c=t.getPriorityEncoderIndex(),h=c+1);for(var p=c;p<h;p++)(u===s||t.canEncode(u,p))&&this.addEdge(r,i+1,new sA(u,t,p,a,s))},n.prototype.encodeMinimally=function(e,t,r){var i=e.length,a=new sA[i+1][t.length()];this.addEdges(e,t,a,0,null,r);for(var s=1;s<=i;s++){for(var u=0;u<t.length();u++)a[s][u]!=null&&s<i&&this.addEdges(e,t,a,s,a[s][u],r);for(var u=0;u<t.length();u++)a[s-1][u]=null}for(var c=-1,h=Ye.MAX_VALUE,u=0;u<t.length();u++)if(a[i][u]!=null){var p=a[i][u];p.cachedTotalSize<h&&(h=p.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var g=[],y=a[i][c];y!=null;){if(y.isFNC1())g.unshift(1e3);else for(var _=t.encode(y.c,y.encoderIndex),s=_.length-1;s>=0;s--)g.unshift(_[s]&255);var E=y.previous===null?0:y.previous.encoderIndex;E!==y.encoderIndex&&g.unshift(256+t.getECIValue(y.encoderIndex)),y=y.previous}for(var b=[],s=0;s<b.length;s++)b[s]=g[s];return b},n}(),sA=function(){function n(e,t,r,i,a){this.c=e,this.encoderSet=t,this.encoderIndex=r,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var s=this.isFNC1()?1:t.encode(e,r).length,u=i===null?0:i.encoderIndex;u!==r&&(s+=Dj),i!=null&&(s+=i.cachedTotalSize),this.cachedTotalSize=s}return n.prototype.isFNC1=function(){return this.c===1e3},n}(),Mj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();var lA;(function(n){n[n.ASCII=0]="ASCII",n[n.C40=1]="C40",n[n.TEXT=2]="TEXT",n[n.X12=3]="X12",n[n.EDF=4]="EDF",n[n.B256=5]="B256"})(lA||(lA={}));(function(n){Mj(e,n);function e(t,r,i,a,s){var u=n.call(this,t,r,i)||this;return u.shape=a,u.macroId=s,u}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Pj);var kj=function(){function n(){}return n.prototype.isCompact=function(){return this.compact},n.prototype.setCompact=function(e){this.compact=e},n.prototype.getSize=function(){return this.size},n.prototype.setSize=function(e){this.size=e},n.prototype.getLayers=function(){return this.layers},n.prototype.setLayers=function(e){this.layers=e},n.prototype.getCodeWords=function(){return this.codeWords},n.prototype.setCodeWords=function(e){this.codeWords=e},n.prototype.getMatrix=function(){return this.matrix},n.prototype.setMatrix=function(e){this.matrix=e},n}(),uA=function(){function n(){}return n.singletonList=function(e){return[e]},n.min=function(e,t){return e.sort(t)[0]},n}(),Lj=function(){function n(e){this.previous=e}return n.prototype.getPrevious=function(){return this.previous},n}(),Bj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Wv=function(n){Bj(e,n);function e(t,r,i){var a=n.call(this,t)||this;return a.value=r,a.bitCount=i,a}return e.prototype.appendTo=function(t,r){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,r){return new e(this,t,r)},e.prototype.addBinaryShift=function(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,r)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Ye.toBinaryString(t|1<<this.bitCount).substring(1)+">"},e}(Lj),jj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vj=function(n){jj(e,n);function e(t,r,i){var a=n.call(this,t,0,0)||this;return a.binaryShiftStart=r,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(t,r){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(t,r){return new e(this,t,r)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Wv);function Uj(n,e,t){return new Vj(n,e,t)}function Mc(n,e,t){return new Wv(n,e,t)}var Fj=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Do=0,l0=1,Kr=2,NC=3,Bi=4,Hj=new Wv(null,0,0),kg=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],zj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function Gj(n){var e,t;try{for(var r=zj(n),i=r.next();!i.done;i=r.next()){var a=i.value;wn.fill(a,-1)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n[Do][Bi]=0,n[l0][Bi]=0,n[l0][Do]=28,n[NC][Bi]=0,n[Kr][Bi]=0,n[Kr][Do]=15,n}var OC=Gj(wn.createInt32Array(6,6)),qj=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xj=function(){function n(e,t,r,i){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=i}return n.prototype.getMode=function(){return this.mode},n.prototype.getToken=function(){return this.token},n.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},n.prototype.getBitCount=function(){return this.bitCount},n.prototype.latchAndAppend=function(e,t){var r=this.bitCount,i=this.token;if(e!==this.mode){var a=kg[this.mode][e];i=Mc(i,a&65535,a>>16),r+=a>>16}var s=e===Kr?4:5;return i=Mc(i,t,s),new n(i,e,0,r+s)},n.prototype.shiftAndAppend=function(e,t){var r=this.token,i=this.mode===Kr?4:5;return r=Mc(r,OC[this.mode][e],i),r=Mc(r,t,5),new n(r,this.mode,0,this.bitCount+i+5)},n.prototype.addBinaryShiftChar=function(e){var t=this.token,r=this.mode,i=this.bitCount;if(this.mode===Bi||this.mode===Kr){var a=kg[r][Do];t=Mc(t,a&65535,a>>16),i+=a>>16,r=Do}var s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new n(t,r,this.binaryShiftByteCount+1,i+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u},n.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var t=this.token;return t=Uj(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new n(t,this.mode,0,this.bitCount)},n.prototype.isBetterThanOrEqualTo=function(e){var t=this.bitCount+(kg[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=n.calculateBinaryShiftCost(e)-n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount},n.prototype.toBitArray=function(e){for(var t,r,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var s=new Mn;try{for(var u=qj(i),c=u.next();!c.done;c=u.next()){var h=c.value;h.appendTo(s,e)}}catch(p){t={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n.prototype.toString=function(){return rt.format("%s bits=%d bytes=%d",Fj[this.mode],this.bitCount,this.binaryShiftByteCount)},n.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},n.INITIAL_STATE=new n(Hj,Do,0,0),n}();function Wj(n){var e=rt.getCharCode(" "),t=rt.getCharCode("."),r=rt.getCharCode(",");n[Do][e]=1;for(var i=rt.getCharCode("Z"),a=rt.getCharCode("A"),s=a;s<=i;s++)n[Do][s]=s-a+2;n[l0][e]=1;for(var u=rt.getCharCode("z"),c=rt.getCharCode("a"),s=c;s<=u;s++)n[l0][s]=s-c+2;n[Kr][e]=1;for(var h=rt.getCharCode("9"),p=rt.getCharCode("0"),s=p;s<=h;s++)n[Kr][s]=s-p+2;n[Kr][r]=12,n[Kr][t]=13;for(var g=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],y=0;y<g.length;y++)n[NC][rt.getCharCode(g[y])]=y;for(var _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],y=0;y<_.length;y++)rt.getCharCode(_[y])>0&&(n[Bi][rt.getCharCode(_[y])]=y);return n}var Lg=Wj(wn.createInt32Array(5,256)),vd=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yj=function(){function n(e){this.text=e}return n.prototype.encode=function(){for(var e=rt.getCharCode(" "),t=rt.getCharCode(`
`),r=uA.singletonList(Xj.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,s=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case rt.getCharCode("\r"):a=s===t?2:0;break;case rt.getCharCode("."):a=s===e?3:0;break;case rt.getCharCode(","):a=s===e?4:0;break;case rt.getCharCode(":"):a=s===e?5:0;break;default:a=0}a>0?(r=n.updateStateListForPair(r,i,a),i++):r=this.updateStateListForChar(r,i)}var u=uA.min(r,function(c,h){return c.getBitCount()-h.getBitCount()});return u.toBitArray(this.text)},n.prototype.updateStateListForChar=function(e,t){var r,i,a=[];try{for(var s=vd(e),u=s.next();!u.done;u=s.next()){var c=u.value;this.updateStateForChar(c,t,a)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n.simplifyStates(a)},n.prototype.updateStateForChar=function(e,t,r){for(var i=this.text[t]&255,a=Lg[e.getMode()][i]>0,s=null,u=0;u<=Bi;u++){var c=Lg[u][i];if(c>0){if(s==null&&(s=e.endBinaryShift(t)),!a||u===e.getMode()||u===Kr){var h=s.latchAndAppend(u,c);r.push(h)}if(!a&&OC[e.getMode()][u]>=0){var p=s.shiftAndAppend(u,c);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||Lg[e.getMode()][i]===0){var g=e.addBinaryShiftChar(t);r.push(g)}},n.updateStateListForPair=function(e,t,r){var i,a,s=[];try{for(var u=vd(e),c=u.next();!c.done;c=u.next()){var h=c.value;this.updateStateForPair(h,t,r,s)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.simplifyStates(s)},n.updateStateForPair=function(e,t,r,i){var a=e.endBinaryShift(t);if(i.push(a.latchAndAppend(Bi,r)),e.getMode()!==Bi&&i.push(a.shiftAndAppend(Bi,r)),r===3||r===4){var s=a.latchAndAppend(Kr,16-r).latchAndAppend(Kr,1);i.push(s)}if(e.getBinaryShiftByteCount()>0){var u=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(u)}},n.simplifyStates=function(e){var t,r,i,a,s=[];try{for(var u=vd(e),c=u.next();!c.done;c=u.next()){var h=c.value,p=!0,g=function(T){if(T.isBetterThanOrEqualTo(h))return p=!1,"break";h.isBetterThanOrEqualTo(T)&&(s=s.filter(function(I){return I!==T}))};try{for(var y=(i=void 0,vd(s)),_=y.next();!_.done;_=y.next()){var E=_.value,b=g(E);if(b==="break")break}}catch(T){i={error:T}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}p&&s.push(h)}}catch(T){t={error:T}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s},n}(),$j=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function n(){}return n.encodeBytes=function(e){return n.encode(e,n.DEFAULT_EC_PERCENT,n.DEFAULT_AZTEC_LAYERS)},n.encode=function(e,t,r){var i=new Yj(e).encode(),a=Ye.truncDivision(i.getSize()*t,100)+11,s=i.getSize()+a,u,c,h,p,g;if(r!==n.DEFAULT_AZTEC_LAYERS){if(u=r<0,c=Math.abs(r),c>(u?n.MAX_NB_BITS_COMPACT:n.MAX_NB_BITS))throw new Re(rt.format("Illegal value %s for layers",r));h=n.totalBitsInLayer(c,u),p=n.WORD_SIZE[c];var y=h-h%p;if(g=n.stuffBits(i,p),g.getSize()+a>y)throw new Re("Data to large for user specified layer");if(u&&g.getSize()>p*64)throw new Re("Data to large for user specified layer")}else{p=0,g=null;for(var _=0;;_++){if(_>n.MAX_NB_BITS)throw new Re("Data too large for an Aztec code");if(u=_<=3,c=u?_+1:_,h=n.totalBitsInLayer(c,u),!(s>h)){(g==null||p!==n.WORD_SIZE[c])&&(p=n.WORD_SIZE[c],g=n.stuffBits(i,p));var y=h-h%p;if(!(u&&g.getSize()>p*64)&&g.getSize()+a<=y)break}}}var E=n.generateCheckWords(g,h,p),b=g.getSize()/p,T=n.generateModeMessage(u,c,b),I=(u?11:14)+c*4,R=new Int32Array(I),P;if(u){P=I;for(var _=0;_<R.length;_++)R[_]=_}else{P=I+1+2*Ye.truncDivision(Ye.truncDivision(I,2)-1,15);for(var j=Ye.truncDivision(I,2),U=Ye.truncDivision(P,2),_=0;_<j;_++){var q=_+Ye.truncDivision(_,15);R[j-_-1]=U-q-1,R[j+_]=U+q+1}}for(var O=new zi(P),_=0,N=0;_<c;_++){for(var M=(c-_)*4+(u?9:12),V=0;V<M;V++)for(var G=V*2,H=0;H<2;H++)E.get(N+G+H)&&O.set(R[_*2+H],R[_*2+V]),E.get(N+M*2+G+H)&&O.set(R[_*2+V],R[I-1-_*2-H]),E.get(N+M*4+G+H)&&O.set(R[I-1-_*2-H],R[I-1-_*2-V]),E.get(N+M*6+G+H)&&O.set(R[I-1-_*2-V],R[_*2+H]);N+=M*8}if(n.drawModeMessage(O,u,P,T),u)n.drawBullsEye(O,Ye.truncDivision(P,2),5);else{n.drawBullsEye(O,Ye.truncDivision(P,2),7);for(var _=0,V=0;_<Ye.truncDivision(I,2)-1;_+=15,V+=16)for(var H=Ye.truncDivision(P,2)&1;H<P;H+=2)O.set(Ye.truncDivision(P,2)-V,H),O.set(Ye.truncDivision(P,2)+V,H),O.set(H,Ye.truncDivision(P,2)-V),O.set(H,Ye.truncDivision(P,2)+V)}var k=new kj;return k.setCompact(u),k.setSize(P),k.setLayers(c),k.setCodeWords(b),k.setMatrix(O),k},n.drawBullsEye=function(e,t,r){for(var i=0;i<r;i+=2)for(var a=t-i;a<=t+i;a++)e.set(a,t-i),e.set(a,t+i),e.set(t-i,a),e.set(t+i,a);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)},n.generateModeMessage=function(e,t,r){var i=new Mn;return e?(i.appendBits(t-1,2),i.appendBits(r-1,6),i=n.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(r-1,11),i=n.generateCheckWords(i,40,4)),i},n.drawModeMessage=function(e,t,r,i){var a=Ye.truncDivision(r,2);if(t)for(var s=0;s<7;s++){var u=a-3+s;i.get(s)&&e.set(u,a-5),i.get(s+7)&&e.set(a+5,u),i.get(20-s)&&e.set(u,a+5),i.get(27-s)&&e.set(a-5,u)}else for(var s=0;s<10;s++){var u=a-5+s+Ye.truncDivision(s,5);i.get(s)&&e.set(u,a-7),i.get(s+10)&&e.set(a+7,u),i.get(29-s)&&e.set(u,a+7),i.get(39-s)&&e.set(a-7,u)}},n.generateCheckWords=function(e,t,r){var i,a,s=e.getSize()/r,u=new IC(n.getGF(r)),c=Ye.truncDivision(t,r),h=n.bitsToWords(e,r,c);u.encode(h,c-s);var p=t%r,g=new Mn;g.appendBits(0,p);try{for(var y=$j(Array.from(h)),_=y.next();!_.done;_=y.next()){var E=_.value;g.appendBits(E,r)}}catch(b){i={error:b}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}return g},n.bitsToWords=function(e,t,r){var i=new Int32Array(r),a,s;for(a=0,s=e.getSize()/t;a<s;a++){for(var u=0,c=0;c<t;c++)u|=e.get(a*t+c)?1<<t-c-1:0;i[a]=u}return i},n.getGF=function(e){switch(e){case 4:return xr.AZTEC_PARAM;case 6:return xr.AZTEC_DATA_6;case 8:return xr.AZTEC_DATA_8;case 10:return xr.AZTEC_DATA_10;case 12:return xr.AZTEC_DATA_12;default:throw new Re("Unsupported word size "+e)}},n.stuffBits=function(e,t){for(var r=new Mn,i=e.getSize(),a=(1<<t)-2,s=0;s<i;s+=t){for(var u=0,c=0;c<t;c++)(s+c>=i||e.get(s+c))&&(u|=1<<t-1-c);(u&a)===a?(r.appendBits(u&a,t),s--):(u&a)===0?(r.appendBits(u|1,t),s--):r.appendBits(u,t)}return r},n.totalBitsInLayer=function(e,t){return((t?88:112)+16*e)*e},n.DEFAULT_EC_PERCENT=33,n.DEFAULT_AZTEC_LAYERS=0,n.MAX_NB_BITS=32,n.MAX_NB_BITS_COMPACT=4,n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),n})();var Kj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qj=function(n){Kj(e,n);function e(t){var r=n.call(this,t.width,t.height)||this;return r.canvas=t,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(t),r}return e.makeBufferFromCanvasImageData=function(t){var r;try{r=t.getContext("2d",{willReadFrequently:!0})}catch{r=t.getContext("2d")}if(!r)throw new Error("Couldn't get canvas context.");var i=r.getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(i.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,r,i){for(var a=new Uint8ClampedArray(r*i),s=0,u=0,c=t.length;s<c;s+=4,u++){var h=void 0,p=t[s+3];if(p===0)h=255;else{var g=t[s],y=t[s+1],_=t[s+2];h=306*g+601*y+117*_+512>>10}a[u]=h}return a},e.prototype.getRow=function(t,r){if(t<0||t>=this.getHeight())throw new Re("Requested row is outside the image: "+t);var i=this.getWidth(),a=t*i;return r===null?r=this.buffer.slice(a,a+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(a,a+i))),r},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,r,i,a){return n.prototype.crop.call(this,t,r,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new H0(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var r=this.getTempCanvasElement();if(!r)throw new Error("Could not create a Canvas element.");var i=t*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*s),c=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*s);r.width=u,r.height=c;var h=r.getContext("2d");if(!h)throw new Error("Could not create a Canvas Context element.");return h.translate(u/2,c/2),h.rotate(i),h.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(r),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(Pf);function DC(){return typeof navigator<"u"}function Zj(){return DC()&&!!navigator.mediaDevices}function Jj(){return!!(Zj()&&navigator.mediaDevices.enumerateDevices)}var Vl=function(){return Vl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vl.apply(this,arguments)},Vt=function(n,e,t,r){function i(a){return a instanceof t?a:new t(function(s){s(a)})}return new(t||(t=Promise))(function(a,s){function u(p){try{h(r.next(p))}catch(g){s(g)}}function c(p){try{h(r.throw(p))}catch(g){s(g)}}function h(p){p.done?a(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})},Ut=function(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,i=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){t.label=h[1];break}if(h[0]===6&&t.label<a[1]){t.label=a[1],a=h;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(h);break}a[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(p){h=[6,p],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Bg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eV={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},vu=function(){function n(e,t,r){t===void 0&&(t=new Map),r===void 0&&(r={}),this.reader=e,this.hints=t,this.options=Vl(Vl({},eV),r)}return Object.defineProperty(n.prototype,"possibleFormats",{set:function(e){this.hints.set(Rt.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),n.addVideoSource=function(e,t){try{e.srcObject=t}catch{console.error("got interrupted by new loading request")}},n.mediaStreamSetTorch=function(e,t){return Vt(this,void 0,void 0,function(){return Ut(this,function(r){switch(r.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:t?"flash":"off",torch:!!t}]})];case 1:return r.sent(),[2]}})})},n.mediaStreamIsTorchCompatible=function(e){var t,r,i=e.getVideoTracks();try{for(var a=Bg(i),s=a.next();!s.done;s=a.next()){var u=s.value;if(n.mediaStreamIsTorchCompatibleTrack(u))return!0}}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!1},n.mediaStreamIsTorchCompatibleTrack=function(e){try{var t=e.getCapabilities();return"torch"in t}catch(r){return console.error(r),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},n.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},n.getMediaElement=function(e,t){var r=document.getElementById(e);if(!r)throw new Jt("element with id '".concat(e,"' not found"));if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new Jt("element with id '".concat(e,"' must be an ").concat(t," element"));return r},n.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return n.getMediaElement(e,"video");if(!e&&typeof document<"u"){var t=document.createElement("video");return t.width=200,t.height=200,t}throw new Error("Couldn't get videoElement from videoSource!")},n.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return n.getMediaElement(e,"img");if(typeof e>"u"){var t=document.createElement("img");return t.width=200,t.height=200,t}throw new Error("Couldn't get imageElement from imageSource!")},n.prepareVideoElement=function(e){var t=n.createVideoElement(e);return t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t},n.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},n.createBinaryBitmapFromCanvas=function(e){var t=new Qj(e),r=new mC(t);return new gC(r)},n.drawImageOnCanvas=function(e,t){e.drawImage(t,0,0)},n.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},n.createCaptureCanvas=function(e){if(!e)throw new Jt("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var t=document.createElement("canvas"),r=n.getMediaElementDimensions(e),i=r.width,a=r.height;return t.style.width=i+"px",t.style.height=a+"px",t.width=i,t.height=a,t},n.tryPlayVideo=function(e){return Vt(this,void 0,void 0,function(){var t;return Ut(this,function(r){switch(r.label){case 0:if(e!=null&&e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(n.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),console.warn("It was not possible to play the video.",t),[2,!1];case 4:return[2]}})})},n.createCanvasFromMediaElement=function(e){var t=n.createCaptureCanvas(e),r=t.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return n.drawImageOnCanvas(r,e),t},n.createBinaryBitmapFromMediaElem=function(e){var t=n.createCanvasFromMediaElement(e);return n.createBinaryBitmapFromCanvas(t)},n.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},n.listVideoInputDevices=function(){return Vt(this,void 0,void 0,function(){var e,t,r,i,a,s,u,c,h,p,g,y;return Ut(this,function(_){switch(_.label){case 0:if(!DC())throw new Error("Can't enumerate devices, navigator is not present.");if(!Jj())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=_.sent(),t=[];try{for(r=Bg(e),i=r.next();!i.done;i=r.next())a=i.value,s=a.kind==="video"?"videoinput":a.kind,s==="videoinput"&&(u=a.deviceId||a.id,c=a.label||"Video device ".concat(t.length+1),h=a.groupId,p={deviceId:u,label:c,kind:s,groupId:h},t.push(p))}catch(E){g={error:E}}finally{try{i&&!i.done&&(y=r.return)&&y.call(r)}finally{if(g)throw g.error}}return[2,t]}})})},n.findDeviceById=function(e){return Vt(this,void 0,void 0,function(){var t;return Ut(this,function(r){switch(r.label){case 0:return[4,n.listVideoInputDevices()];case 1:return t=r.sent(),t?[2,t.find(function(i){return i.deviceId===e})]:[2]}})})},n.cleanVideoSource=function(e){if(e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},n.releaseAllStreams=function(){n.streamTracker.length!==0&&n.streamTracker.forEach(function(e){e.getTracks().forEach(function(t){return t.stop()})}),n.streamTracker=[]},n.playVideoOnLoadAsync=function(e,t){return Vt(this,void 0,void 0,function(){var r;return Ut(this,function(i){switch(i.label){case 0:return[4,n.tryPlayVideo(e)];case 1:return r=i.sent(),r?[2,!0]:[2,new Promise(function(a,s){var u=setTimeout(function(){n.isVideoPlaying(e)||(s(!1),e.removeEventListener("canplay",c))},t),c=function(){n.tryPlayVideo(e).then(function(h){clearTimeout(u),e.removeEventListener("canplay",c),a(h)})};e.addEventListener("canplay",c)})]}})})},n.attachStreamToVideo=function(e,t,r){return r===void 0&&(r=5e3),Vt(this,void 0,void 0,function(){var i;return Ut(this,function(a){switch(a.label){case 0:return i=n.prepareVideoElement(t),n.addVideoSource(i,e),[4,n.playVideoOnLoadAsync(i,r)];case 1:return a.sent(),[2,i]}})})},n._waitImageLoad=function(e){return new Promise(function(t,r){var i=1e4,a=setTimeout(function(){n.isImageLoaded(e)||(e.removeEventListener("load",s),r())},i),s=function(){clearTimeout(a),e.removeEventListener("load",s),t()};e.addEventListener("load",s)})},n.checkCallbackFnOrThrow=function(e){if(!e)throw new Jt("`callbackFn` is a required parameter, you cannot capture results without it.")},n.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(t){return t.stop()}),e=void 0},n.prototype.decode=function(e){var t=n.createCanvasFromMediaElement(e);return this.decodeFromCanvas(t)},n.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},n.prototype.decodeFromCanvas=function(e){var t=n.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(t)},n.prototype.decodeFromImageElement=function(e){return Vt(this,void 0,void 0,function(){var t;return Ut(this,function(r){switch(r.label){case 0:if(!e)throw new Jt("An image element must be provided.");return t=n.prepareImageElement(e),[4,this._decodeOnLoadImage(t)];case 1:return[2,r.sent()]}})})},n.prototype.decodeFromImageUrl=function(e){return Vt(this,void 0,void 0,function(){var t;return Ut(this,function(r){switch(r.label){case 0:if(!e)throw new Jt("An URL must be provided.");t=n.prepareImageElement(),t.src=e,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.decodeFromImageElement(t)];case 2:return[2,r.sent()];case 3:return n.destroyImageElement(t),[7];case 4:return[2]}})})},n.prototype.decodeFromConstraints=function(e,t,r){return Vt(this,void 0,void 0,function(){var i,a;return Ut(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.decodeFromStream(i,t,r)];case 3:return[2,s.sent()];case 4:throw a=s.sent(),n.disposeMediaStream(i),a;case 5:return[2]}})})},n.prototype.decodeFromStream=function(e,t,r){return Vt(this,void 0,void 0,function(){var i,a,s,u,c,h,p,g,y,_=this;return Ut(this,function(E){switch(E.label){case 0:return n.checkCallbackFnOrThrow(r),i=this.options.tryPlayVideoTimeout,[4,n.attachStreamToVideo(e,t,i)];case 1:return a=E.sent(),s=function(){n.disposeMediaStream(e),n.cleanVideoSource(a)},u=this.scan(a,r,s),c=e.getVideoTracks(),h=Vl(Vl({},u),{stop:function(){u.stop()},streamVideoConstraintsApply:function(b,T){return Vt(this,void 0,void 0,function(){var I,R,P,j,U,q,O;return Ut(this,function(N){switch(N.label){case 0:I=T?c.filter(T):c,N.label=1;case 1:N.trys.push([1,6,7,8]),R=Bg(I),P=R.next(),N.label=2;case 2:return P.done?[3,5]:(j=P.value,[4,j.applyConstraints(b)]);case 3:N.sent(),N.label=4;case 4:return P=R.next(),[3,2];case 5:return[3,8];case 6:return U=N.sent(),q={error:U},[3,8];case 7:try{P&&!P.done&&(O=R.return)&&O.call(R)}finally{if(q)throw q.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(b){return c.find(b).getConstraints()},streamVideoSettingsGet:function(b){return c.find(b).getSettings()},streamVideoCapabilitiesGet:function(b){return c.find(b).getCapabilities()}}),p=n.mediaStreamIsTorchCompatible(e),p&&(g=c==null?void 0:c.find(function(b){return n.mediaStreamIsTorchCompatibleTrack(b)}),y=function(b){return Vt(_,void 0,void 0,function(){return Ut(this,function(T){switch(T.label){case 0:return[4,n.mediaStreamSetTorch(g,b)];case 1:return T.sent(),[2]}})})},h.switchTorch=y,h.stop=function(){return Vt(_,void 0,void 0,function(){return Ut(this,function(b){switch(b.label){case 0:return u.stop(),[4,y(!1)];case 1:return b.sent(),[2]}})})}),[2,h]}})})},n.prototype.decodeFromVideoDevice=function(e,t,r){return Vt(this,void 0,void 0,function(){var i,a;return Ut(this,function(s){switch(s.label){case 0:return n.checkCallbackFnOrThrow(r),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,t,r)];case 1:return[2,s.sent()]}})})},n.prototype.decodeFromVideoElement=function(e,t){return Vt(this,void 0,void 0,function(){var r,i;return Ut(this,function(a){switch(a.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Jt("A video element must be provided.");return r=n.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,i)];case 1:return a.sent(),[2,this.scan(r,t)]}})})},n.prototype.decodeFromVideoUrl=function(e,t){return Vt(this,void 0,void 0,function(){var r,i,a,s;return Ut(this,function(u){switch(u.label){case 0:if(n.checkCallbackFnOrThrow(t),!e)throw new Jt("An URL must be provided.");return r=n.prepareVideoElement(),r.src=e,i=function(){n.cleanVideoSource(r)},a=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(r,a)];case 1:return u.sent(),s=this.scan(r,t,i),[2,s]}})})},n.prototype.decodeOnceFromConstraints=function(e,t){return Vt(this,void 0,void 0,function(){var r;return Ut(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return r=i.sent(),[4,this.decodeOnceFromStream(r,t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromStream=function(e,t){return Vt(this,void 0,void 0,function(){var r,i,a;return Ut(this,function(s){switch(s.label){case 0:return r=!!t,[4,n.attachStreamToVideo(e,t)];case 1:i=s.sent(),s.label=2;case 2:return s.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=s.sent(),[2,a];case 4:return r||n.cleanVideoSource(i),[7];case 5:return[2]}})})},n.prototype.decodeOnceFromVideoDevice=function(e,t){return Vt(this,void 0,void 0,function(){var r,i;return Ut(this,function(a){switch(a.label){case 0:return e?r={deviceId:{exact:e}}:r={facingMode:"environment"},i={video:r},[4,this.decodeOnceFromConstraints(i,t)];case 1:return[2,a.sent()]}})})},n.prototype.decodeOnceFromVideoElement=function(e){return Vt(this,void 0,void 0,function(){var t,r;return Ut(this,function(i){switch(i.label){case 0:if(!e)throw new Jt("A video element must be provided.");return t=n.prepareVideoElement(e),r=this.options.tryPlayVideoTimeout,[4,n.playVideoOnLoadAsync(t,r)];case 1:return i.sent(),[4,this.scanOneResult(t)];case 2:return[2,i.sent()]}})})},n.prototype.decodeOnceFromVideoUrl=function(e){return Vt(this,void 0,void 0,function(){var t,r;return Ut(this,function(i){switch(i.label){case 0:if(!e)throw new Jt("An URL must be provided.");t=n.prepareVideoElement(),t.src=e,r=this.decodeOnceFromVideoElement(t),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,r];case 2:return[2,i.sent()];case 3:return n.cleanVideoSource(t),[7];case 4:return[2]}})})},n.prototype.scanOneResult=function(e,t,r,i){var a=this;return t===void 0&&(t=!0),r===void 0&&(r=!0),i===void 0&&(i=!0),new Promise(function(s,u){a.scan(e,function(c,h,p){if(c){s(c),p.stop();return}if(h){if(h instanceof ie&&t||h instanceof cn&&r||h instanceof me&&i)return;p.stop(),u(h)}})})},n.prototype.scan=function(e,t,r){var i=this;n.checkCallbackFnOrThrow(t);var a=n.createCaptureCanvas(e),s;try{s=a.getContext("2d",{willReadFrequently:!0})}catch{s=a.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var u=function(){s=void 0,a=void 0},c=!1,h,p=function(){c=!0,clearTimeout(h),u(),r&&r()},g={stop:p},y=function(){if(!c)try{n.drawImageOnCanvas(s,e);var _=i.decodeFromCanvas(a);t(_,void 0,g),h=setTimeout(y,i.options.delayBetweenScanSuccess)}catch(I){t(void 0,I,g);var E=I instanceof cn,b=I instanceof me,T=I instanceof ie;if(E||b||T){h=setTimeout(y,i.options.delayBetweenScanAttempts);return}u(),r&&r(I)}};return y(),g},n.prototype._decodeOnLoadImage=function(e){return Vt(this,void 0,void 0,function(){var t;return Ut(this,function(r){switch(r.label){case 0:return t=n.isImageLoaded(e),t?[3,2]:[4,n._waitImageLoad(e)];case 1:r.sent(),r.label=2;case 2:return[2,this.decode(e)]}})})},n.prototype.getUserMedia=function(e){return Vt(this,void 0,void 0,function(){var t;return Ut(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return t=r.sent(),n.streamTracker.push(t),[2,t]}})})},n.streamTracker=[],n}(),tV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){tV(e,n);function e(t,r){return n.call(this,new r0,t,r)||this}return e})(vu);var nV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){nV(e,n);function e(t,r){return n.call(this,new Bl(t),t,r)||this}return e})(vu);var rV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){rV(e,n);function e(t,r){return n.call(this,new a0,t,r)||this}return e})(vu);var iV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){iV(e,n);function e(t,r){var i=this,a=new CC;return a.setHints(t),i=n.call(this,a,t,r)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(Rt.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e})(vu);var aV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){aV(e,n);function e(t,r){return n.call(this,new s0,t,r)||this}return e})(vu);var oV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),sV=function(n){oV(e,n);function e(t,r){return n.call(this,new o0,t,r)||this}return e}(vu);function lV(){const{user:n,addLeague:e}=nn(),t=Wn(),{code:r}=z3(),[i,a]=F.useState(r||""),[s,u]=F.useState(!1),[c,h]=F.useState(""),[p,g]=F.useState(!1),[y,_]=F.useState(""),[E,b]=F.useState(!1),[T,I]=F.useState(""),R=F.useRef(null),P=F.useRef(null);F.useEffect(()=>{const q=new URLSearchParams(window.location.search).get("code");q?a(q.toUpperCase()):r&&a(r)},[r]),F.useEffect(()=>(E&&R.current&&(I(""),P.current=new sV,P.current.decodeFromVideoDevice(void 0,R.current,(U,q)=>{if(U){let O="";try{const N=new URL(U.getText());O=N.searchParams.get("code")||N.pathname.split("/").pop()}catch{O=U.getText()}b(!1),P.current.reset(),t(`/join?code=${encodeURIComponent(O)}`)}else q&&I("Camera error: "+((q==null?void 0:q.message)||q))})),()=>{P.current&&P.current.reset()}),[E,t]);const j=async U=>{U.preventDefault(),u(!0),h(""),g(!1);try{const{data:q}=await Yt.post(`/leagues/join/${i}`,{user_id:n==null?void 0:n.uid,email:n==null?void 0:n.email});_(q.league_name),g(!0),e&&e({id:i,name:q.league_name,role:"coach"})}catch(q){h(q.message||"Error joining league")}finally{u(!1)}};return x.jsxs(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:[x.jsxs("button",{className:"fixed bottom-6 right-6 z-50 bg-cyan-600 hover:bg-cyan-700 text-white rounded-full shadow-lg p-4 flex items-center gap-2 text-lg font-bold transition",onClick:()=>b(!0),"aria-label":"Scan QR to Join",style:{boxShadow:"0 4px 16px rgba(0,0,0,0.15)"},children:[x.jsx("span",{role:"img","aria-label":"scan",children:"📷"})," Scan QR to Join"]}),E&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg flex flex-col items-center max-w-xs w-full",children:[x.jsx("h2",{className:"text-lg font-bold mb-2",children:"Scan League QR Code"}),x.jsx("div",{className:"w-full h-64 mb-2 flex items-center justify-center",children:x.jsx("video",{ref:R,className:"w-full h-full rounded",style:{objectFit:"cover"}})}),T&&x.jsx("div",{className:"text-red-500 text-sm mb-2",children:T}),x.jsx("button",{className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded font-semibold mt-2 transition",onClick:()=>b(!1),children:"Cancel"})]})}),x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[x.jsx("div",{className:"text-center mb-6",children:x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),x.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Join a League"}),x.jsx("div",{className:"mb-2 text-gray-600",children:"Enter the code provided by your organizer to join their league."}),x.jsx("div",{className:"mb-4 text-xs text-gray-500",children:"Need help? Ask your organizer for a code or QR invite."}),p?x.jsxs("div",{className:"text-center w-full",children:[x.jsx("div",{className:"mb-4 text-green-600 font-semibold",children:"Successfully joined league!"}),x.jsxs("div",{className:"mb-2",children:["Welcome to ",x.jsx("span",{className:"font-bold",children:y})]}),x.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] mt-4",onClick:()=>t("/dashboard"),children:"Go to Dashboard"})]}):x.jsxs("form",{onSubmit:j,className:"space-y-4 w-full",children:[x.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-cyan-200 rounded-full focus:ring-2 focus:ring-cyan-700 focus:border-cyan-700 transition text-center font-mono text-lg tracking-widest",placeholder:"Enter Join Code",value:i,onChange:U=>a(U.target.value.toUpperCase()),required:!0,autoFocus:!0}),x.jsx("button",{type:"submit",className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",disabled:s,children:s?"Joining...":"Join League"}),c&&x.jsx("div",{className:"text-red-500 text-sm mt-2",children:c})]})]})]})}const uV=()=>({welcomeVariant:(()=>{const e=localStorage.getItem("welcome_variant");if(e)return e;const t=["default","mojo-style","sports-focused"],r=t[Math.floor(Math.random()*t.length)];return localStorage.setItem("welcome_variant",r),r})()});function cV(){const{welcomeVariant:n}=uV(),t=(()=>{switch(n){case"mojo-style":return{title:"Dominate. Track. Win.",subtitle:"Elevate your game with precision tracking and real-time insights that champions demand.",buttonText:"Start Dominating"};case"sports-focused":return{title:"Train. Compete. Excel.",subtitle:"Professional-grade combine tracking and analytics for serious athletes and coaches.",buttonText:"Join the Elite"};default:return{title:"Coach. Manage. Excel.",subtitle:"Your all-in-one platform for team management, combine tracking, and athletic excellence.",buttonText:"Get Started"}}})();return x.jsx(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[x.jsx("div",{className:"text-center mb-6",children:x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-4",children:t.title}),x.jsx("p",{className:"text-gray-600 text-base leading-relaxed mb-6",children:t.subtitle}),x.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] mb-6",onClick:()=>window.location.assign("/signup"),children:t.buttonText})]}),x.jsxs("div",{className:"text-center space-y-3 text-sm",children:[x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs(St,{to:"/login",className:"text-cyan-600 hover:text-cyan-800 font-medium transition-colors duration-200",children:["Already have an account? ",x.jsx("span",{className:"font-semibold",children:"Sign In"})]}),x.jsxs(St,{to:"/claim",className:"text-gray-600 hover:text-gray-800 font-medium transition-colors duration-200",children:["Need to claim an account? ",x.jsx("span",{className:"font-semibold",children:"Claim Account"})]})]}),x.jsx("div",{className:"pt-4 border-t border-gray-100",children:x.jsx(St,{to:"/help",className:"text-gray-500 hover:text-gray-700 text-xs transition-colors duration-200",children:"Need Help?"})})]})]})})}const fV=()=>x.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mx-auto mb-8",children:[x.jsx("rect",{x:"25",y:"40",width:"60",height:"35",rx:"8",fill:"#e5e7eb",stroke:"#9ca3af",strokeWidth:"2"}),x.jsx("rect",{x:"75",y:"35",width:"15",height:"8",rx:"2",fill:"#ec4899"}),x.jsx("rect",{x:"52",y:"75",width:"6",height:"25",fill:"#9ca3af"}),x.jsx("ellipse",{cx:"35",cy:"100",rx:"8",ry:"3",fill:"#10b981"}),x.jsx("ellipse",{cx:"55",cy:"102",rx:"6",ry:"2",fill:"#10b981"}),x.jsx("ellipse",{cx:"75",cy:"100",rx:"7",ry:"3",fill:"#10b981"}),x.jsx("rect",{x:"35",y:"48",width:"20",height:"12",rx:"2",fill:"white",stroke:"#6366f1",strokeWidth:"2"}),x.jsx("line",{x1:"37",y1:"52",x2:"53",y2:"52",stroke:"#6366f1",strokeWidth:"1"}),x.jsx("line",{x1:"37",y1:"55",x2:"48",y2:"55",stroke:"#6366f1",strokeWidth:"1"}),x.jsx("circle",{cx:"20",cy:"30",r:"2",fill:"#fbbf24"}),x.jsx("circle",{cx:"95",cy:"25",r:"1.5",fill:"#fbbf24"}),x.jsx("circle",{cx:"15",cy:"60",r:"1",fill:"#fbbf24"})]});function hV(){const{user:n,setUser:e}=nn(),[t,r]=F.useState(""),[i,a]=F.useState(!1),[s,u]=F.useState(!1),c=Wn(),[h,p]=F.useState(!1),g=Df();F.useEffect(()=>{const b=async()=>{Ft.currentUser&&(await Ft.currentUser.reload(),p(Ft.currentUser.emailVerified),Ft.currentUser.emailVerified&&(await Ft.currentUser.getIdToken(!0),e(Ft.currentUser),c("/dashboard")))};b();const T=setInterval(b,1e4);return()=>clearInterval(T)},[c,e]),F.useEffect(()=>{if(!Ft.currentUser){const b=setTimeout(()=>{localStorage.clear(),sessionStorage.clear(),c("/welcome",{replace:!0})},2500);return()=>clearTimeout(b)}},[c]);const y=async()=>{u(!0);try{Ft.currentUser&&(await Ft.currentUser.reload(),p(Ft.currentUser.emailVerified),Ft.currentUser.emailVerified?(await Ft.currentUser.getIdToken(!0),e(Ft.currentUser),c("/dashboard")):r("Still not verified. Please check your email."))}catch{r("Error checking verification status.")}finally{u(!1)}},_=async()=>{a(!0),r("");try{Ft.currentUser?(await Ft.currentUser.reload(),await bb(Ft.currentUser),r("Verification email sent!")):r("User not found. Please log in again.")}catch(b){r("Failed to resend. Try again later."),console.error("Resend verification error:",b)}finally{a(!1)}},E=()=>{const b=navigator.userAgent.toLowerCase();try{b.includes("iphone")||b.includes("ipad")?window.location.href="message://":b.includes("android")?window.location.href="intent://view#Intent;scheme=mailto;end":alert(`Please open your email app manually to check for the verification email.

Look for an email from WooCombine and click the verification link inside.`)}catch{alert(`Please open your email app manually to check for the verification email.

Look for an email from WooCombine and click the verification link inside.`)}};return x.jsx(Mr,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl mx-4 flex flex-col relative min-h-[600px]",children:[x.jsxs("div",{className:"w-full flex flex-row justify-between items-center p-6 pb-2",children:[x.jsx("button",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-900 focus:outline-none transition",type:"button","aria-label":"Back to welcome",onClick:()=>c("/welcome"),children:x.jsx(Vv,{size:20})}),x.jsx("button",{className:"text-sm text-cyan-600 hover:text-cyan-800 font-medium",onClick:()=>c("/help"),children:"Need Help?"})]}),x.jsxs("div",{className:"flex-1 flex flex-col px-6 pb-6",children:[x.jsx("div",{className:"text-center mt-4 mb-6",children:x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),x.jsx("h1",{className:"text-2xl font-black text-gray-900 text-center mb-6 tracking-tight",children:"CHECK YOUR EMAIL"}),x.jsxs("div",{className:"text-center mb-6",children:[x.jsxs("p",{className:"text-gray-700 text-base leading-relaxed mb-4",children:["We sent an email to"," ",x.jsx("span",{className:"font-semibold text-gray-900 break-all",children:(n==null?void 0:n.email)||"your email address"})," ","with a link to verify your WooCombine account."]}),x.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"It might take a few minutes. If you don't see our email in your inbox, please check your spam or promo folders. If you see multiple emails, make sure you're selecting the most recent verification email."})]}),x.jsx("div",{className:"flex-1 flex items-center justify-center py-4",children:x.jsx(fV,{})}),x.jsxs("div",{className:"mt-8 space-y-4",children:[h?x.jsx("button",{onClick:()=>c("/dashboard"),className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:"Continue to App"}):x.jsx("button",{onClick:E,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:"Open Email App"}),!h&&x.jsx("button",{onClick:y,disabled:s,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 rounded-xl transition-colors duration-200 disabled:opacity-50",children:s?"Checking...":"I've verified my email"}),!h&&x.jsx("div",{className:"text-red-600 text-sm text-center",children:"We haven't detected your email verification yet. Please check your inbox and try again."}),t&&x.jsx("div",{className:`text-sm text-center ${t.includes("sent")?"text-green-600":"text-red-600"}`,children:t}),!Ft.currentUser&&x.jsx("div",{className:"text-red-600 text-sm text-center",children:"User session expired. Please log in again."})]})]}),x.jsxs("div",{className:"px-6 pb-6 pt-4 border-t border-gray-100 space-y-3",children:[x.jsx("button",{onClick:_,disabled:i,className:"w-full text-cyan-600 hover:text-cyan-800 font-medium py-2 transition-colors duration-200 disabled:opacity-50",children:i?"Sending...":"Resend Email"}),x.jsx("button",{onClick:()=>c("/help"),className:"w-full text-cyan-600 hover:text-cyan-800 font-medium py-2 transition-colors duration-200",children:"Contact Support"}),Ft.currentUser?x.jsx("button",{onClick:async()=>{await g(),c("/welcome")},className:"w-full text-gray-500 hover:text-gray-700 font-medium py-2 transition-colors duration-200",children:"Log Out"}):x.jsx("button",{onClick:()=>{localStorage.clear(),sessionStorage.clear(),c("/welcome",{replace:!0})},className:"w-full text-gray-500 hover:text-gray-700 font-medium py-2 transition-colors duration-200",children:"Return to Welcome"})]})]})})}function dV(){const{user:n,selectedLeagueId:e,setSelectedLeagueId:t}=nn(),r=Df(),[i,a]=F.useState([]),[s,u]=F.useState(!0),[c,h]=F.useState(null),p=Wn();F.useEffect(()=>{if(!n){console.error("[SelectLeague] No user found in context."),h("No user found. Please log in again.");return}console.log("[SelectLeague] Fetching leagues for user:",n.uid),(async()=>{var _,E,b,T,I;try{const R=await Yt.get("/leagues/me");a(R.data.leagues||[]),!R.data.leagues||R.data.leagues.length===0?h("No leagues linked to this account. Try creating a new one."):h(null)}catch(R){console.log("[SelectLeague] API response:",(_=R.response)==null?void 0:_.status,(b=(E=R.response)==null?void 0:E.data)==null?void 0:b.detail),((T=R.response)==null?void 0:T.status)===404?(console.log("[SelectLeague] User has no leagues yet (normal for new users)"),a([]),h("No leagues linked to this account. Try creating a new one.")):(console.error("[SelectLeague] Fetch error:",R.message,R.stack,(I=R.response)==null?void 0:I.data),a([]),h("Could not fetch leagues. Please try again later."))}finally{u(!1)}})()},[n]);const g=_=>{localStorage.setItem("selectedLeagueId",_.id),t(_.id),p("/dashboard")},y=async()=>{try{await r(),p("/welcome")}catch(_){console.error("[SelectLeague] Logout error:",_)}};return x.jsx(Mr,{backgroundColor:"bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700",contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-gradient-to-br from-cyan-900 via-blue-900 to-cyan-700 relative",children:[x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl mx-4 flex flex-col",children:[x.jsxs("div",{className:"text-center py-6 px-6 border-b border-gray-200",children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Select Your League"}),x.jsx("p",{className:"text-gray-600 text-sm",children:"Choose which league you'd like to access, or join a new one."})]}),x.jsxs("div",{className:"p-6 flex-1",children:[s?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading leagues..."}):c?x.jsx("div",{className:"text-center py-8",children:x.jsx("div",{className:"text-red-600 mb-4",children:c})}):i.length===0?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"No leagues found. Create or join one below."}):x.jsx("div",{className:"space-y-3",children:i.map(_=>x.jsxs("button",{onClick:()=>g(_),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition",children:[x.jsx("div",{className:"font-semibold text-gray-900",children:_.name}),x.jsxs("div",{className:"text-sm text-gray-500 capitalize",children:["Role: ",_.role]})]},_.id))}),x.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:[x.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Logged in as: ",(n==null?void 0:n.email)||"Unknown"]}),x.jsx("button",{onClick:y,className:"text-sm text-red-600 hover:text-red-800 underline",children:"Log out and switch accounts"})]})]})]}),x.jsx("div",{className:"fixed left-0 right-0 bottom-0 flex flex-col gap-3 items-center bg-white py-4 z-10 border-t border-gray-200",children:x.jsx("button",{className:"w-11/12 max-w-lg border-2 border-blue-600 text-blue-700 font-bold text-lg py-3 rounded-full shadow",onClick:()=>p("/join"),children:"Join a Team"})})]})})}const pV=[{key:"organizer",label:"🏈 League Operator",desc:"Full access to admin tools and player management."},{key:"coach",label:"🧑‍🏫 Coach",desc:"View and customize, but cannot manage all players."},{key:"viewer",label:"👀 Viewer / Guest",desc:"Read-only access to league data."}];function gV(){console.log("[SelectRole] component rendered");const{user:n}=nn(),[e,t]=F.useState(null),[r,i]=F.useState(""),[a,s]=F.useState(!1),[u,c]=F.useState(!1),[h,p]=F.useState(!0),g=Wn(),y=Df(),_=US();if(fA.useEffect(()=>{(async()=>{var P;try{const j=kl();await((P=j.currentUser)==null?void 0:P.reload());const U=j.currentUser;if(!U)return;U.emailVerified||c(!0)}catch(j){console.error("Error in SelectRole user check:",j),i("Failed to check user state.")}finally{p(!1)}})()},[n]),!n||h)return x.jsx(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[x.jsx("div",{className:"animate-spin inline-block w-8 h-8 border-4 border-gray-300 border-t-cyan-600 rounded-full"}),x.jsx("div",{className:"mt-4 text-gray-600",children:"Loading..."})]})});const E=async()=>{var j;console.log("[SelectRole] handleContinue called"),i("");const R=kl();await((j=R.currentUser)==null?void 0:j.reload());const P=R.currentUser;if(!P){i("No user found. Please log in again.");return}if(!P.emailVerified){c(!0),i("Please verify your email to continue.");return}if(!e){i("Please select a role.");return}s(!0);try{console.log("[SelectRole] Attempting to write user doc:",{uid:P.uid,email:P.email,role:e}),await G9(VS(_,"users",P.uid),{id:P.uid,email:P.email,role:e,created_at:W9()},{merge:!0}),console.log("[SelectRole] Successfully wrote user doc for UID:",P.uid),await P.getIdToken(!0),window.location.replace("/dashboard")}catch(U){i(U.message||"Failed to save role."),console.error("🔥 Firestore write failed in SelectRole for UID:",P==null?void 0:P.uid,U)}finally{s(!1)}},b=async()=>{i("");try{await kl().currentUser.sendEmailVerification(),i("Verification email sent. Please check your inbox.")}catch(R){i(R.message||"Failed to send verification email."),console.error("🔥 Failed to send verification email:",R)}},T=async()=>{var j;i("");const R=kl();await((j=R.currentUser)==null?void 0:j.reload());const P=R.currentUser;P&&P.emailVerified?(c(!1),i("")):i("Still not verified. Please check your email and try again.")},I=async()=>{try{await y(),g("/welcome")}catch(R){console.error("[SelectRole] Logout error:",R),i("Logout failed. Please try again.")}};return x.jsx(Mr,{contentClassName:"min-h-[70vh]",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-6 sm:p-10 flex flex-col items-center",children:[x.jsx("div",{className:"text-center mb-6",children:x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-4",style:{objectFit:"contain"}})}),x.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Welcome! What's your role?"}),x.jsx("div",{className:"w-full flex flex-col gap-4 mb-6",children:pV.map(R=>x.jsxs("button",{className:`w-full border-2 rounded-xl p-4 text-left flex flex-col transition font-semibold ${e===R.key?"border-cyan-600 bg-cyan-50 text-cyan-900":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>t(R.key),disabled:a,children:[x.jsx("span",{className:"text-lg mb-1",children:R.label}),x.jsx("span",{className:"text-gray-600 text-sm",children:R.desc})]},R.key))}),r&&x.jsx("div",{className:"w-full bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded mb-4 text-sm",children:r}),u&&x.jsxs("div",{className:"w-full mb-6 text-center",children:[x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-3 rounded mb-4",children:x.jsx("div",{className:"font-semibold mb-2",children:"Please verify your email to continue."})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white font-medium py-2 rounded-lg transition disabled:opacity-50",onClick:b,disabled:a,children:"Resend Email"}),x.jsx("button",{className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 rounded-lg transition disabled:opacity-50",onClick:T,disabled:a,children:"Check Again"})]})]}),x.jsxs("div",{className:"w-full space-y-3",children:[x.jsx("button",{className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:transform-none",onClick:E,disabled:a,children:a?"Saving...":"Continue"}),x.jsx("button",{className:"w-full bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 rounded-xl transition-colors duration-200 disabled:opacity-50",onClick:I,disabled:a,children:a?"Logging out...":"Logout"})]})]})})}function mV({event:n,league:e}){if(!n||!e)return null;const t=n.id,r=`https://woo-combine.com/join-event/${t}`,i=a=>{navigator.clipboard.writeText(a)};return x.jsxs("div",{className:"w-full max-w-md text-center mx-auto",children:[x.jsxs("div",{className:"mb-6",children:[x.jsx("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:"Event Created Successfully!"}),x.jsxs("p",{className:"text-gray-600 mb-4",children:['Your combine event "',n.name,'" is ready.']})]}),x.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-xl p-6 mb-4",children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Event Join Code:"}),x.jsx("div",{className:"text-2xl font-mono bg-gray-100 rounded p-3 inline-block border",children:t})]}),x.jsxs("div",{className:"mb-4",children:[x.jsx("div",{className:"flex justify-center mb-2",children:x.jsx("div",{className:"bg-white p-4 rounded-lg border",children:x.jsx(pC,{value:r,size:160})})}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Scan to join: ",r]})]}),x.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[x.jsxs("button",{onClick:()=>i(t),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition flex items-center justify-center gap-2",children:[x.jsx(JS,{className:"w-4 h-4"}),"Copy Event Code"]}),x.jsxs("button",{onClick:()=>i(r),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[x.jsx(mf,{className:"w-4 h-4"}),"Copy Join Link"]})]}),x.jsx("div",{className:"text-green-700 font-semibold text-sm",children:"🏆 Share this code or QR with coaches to join this combine event!"})]}),x.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[x.jsx("strong",{children:"Next steps:"}),x.jsxs("ul",{className:"list-disc list-inside mt-2 text-left",children:[x.jsx("li",{children:"Share the code/QR with your coaches"}),x.jsx("li",{children:"Upload player roster in the Admin section"}),x.jsx("li",{children:"Start recording drill results"})]})]})]})}function vV(){const n=Wn(),{selectedEvent:e}=Ua(),{leagues:t,selectedLeagueId:r}=nn(),[i,a]=F.useState(!1),[s,u]=F.useState(null),c=t==null?void 0:t.find(g=>g.id===r),h=g=>{u(g),a(!0)},p=()=>{n("/admin#player-upload-section")};return i&&s?x.jsx(Mr,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 text-center",children:[x.jsx(mV,{event:s,league:c}),x.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:x.jsx("button",{onClick:p,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] w-full",children:"Continue to Import Players"})})]})}):x.jsx(Mr,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 text-center",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Select or Create an Event"}),x.jsx("p",{className:"mb-6 text-gray-600",children:"Choose an existing event or create a new combine event for your league."}),x.jsx(Jl,{onEventSelected:h}),e&&x.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[x.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Selected: ",x.jsx("strong",{children:e.name})]}),x.jsx("button",{onClick:p,className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-4 px-6 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-[1.02] w-full",children:"Continue to Import Players"})]})]})})}function yV(){return x.jsx(II,{children:x.jsx(Y9,{children:x.jsx(kM,{children:x.jsx("div",{className:"min-h-screen bg-gray-50",children:x.jsxs(iI,{children:[x.jsx(Nn,{path:"/",element:x.jsx(Vg,{to:"/welcome",replace:!0})}),x.jsx(Nn,{path:"/welcome",element:x.jsx(cV,{})}),x.jsx(Nn,{path:"/dashboard",element:x.jsx(Mi,{children:x.jsxs(x.Fragment,{children:[x.jsx(cd,{}),x.jsx(LM,{})]})})}),x.jsx(Nn,{path:"/roster",element:x.jsx(Mi,{children:x.jsx(BM,{})})}),x.jsx(Nn,{path:"/schedule",element:x.jsx(Mi,{children:x.jsx(jM,{})})}),x.jsx(Nn,{path:"/coach-dashboard",element:x.jsx(Mi,{children:x.jsxs(x.Fragment,{children:[x.jsx(cd,{}),x.jsx("div",{className:"container mx-auto px-4 py-8",children:x.jsx(FM,{})})]})})}),x.jsx(Nn,{path:"/players",element:x.jsx(Mi,{children:x.jsxs(x.Fragment,{children:[x.jsx(cd,{}),x.jsx("div",{className:"container mx-auto px-4 py-8",children:x.jsx(WM,{})})]})})}),x.jsx(Nn,{path:"/admin",element:x.jsx(Mi,{children:x.jsxs(x.Fragment,{children:[x.jsx(cd,{}),x.jsx("div",{className:"container mx-auto px-4 py-8",children:x.jsx(sk,{})})]})})}),x.jsx(Nn,{path:"/login",element:x.jsx(uk,{})}),x.jsx(Nn,{path:"/signup",element:x.jsx(pk,{})}),x.jsx(Nn,{path:"/claim",element:x.jsx(Mr,{contentClassName:"min-h-screen",hideHeader:!0,showOverlay:!1,children:x.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl p-8 text-center",children:[x.jsx("img",{src:"/favicon/woocombine-logo.png",alt:"Woo-Combine Logo",className:"w-16 h-16 mx-auto mb-6",style:{objectFit:"contain"}}),x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Account Claim"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Account claiming feature coming soon."}),x.jsx(St,{to:"/welcome",className:"text-cyan-600 hover:text-cyan-700 underline font-semibold",children:"← Back to Welcome"})]})})}),x.jsx(Nn,{path:"/create-league",element:x.jsx(Mi,{children:x.jsx(VM,{})})}),x.jsx(Nn,{path:"/join",element:x.jsx(Mi,{children:x.jsx(lV,{})})}),x.jsx(Nn,{path:"/verify-email",element:x.jsx(hV,{})}),x.jsx(Nn,{path:"/select-league",element:x.jsx(Mi,{children:x.jsx(dV,{})})}),x.jsx(Nn,{path:"/select-role",element:x.jsx(gV,{})}),x.jsx(Nn,{path:"/onboarding/event",element:x.jsx(Mi,{children:x.jsx(vV,{})})})]})})})})})}h3.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(yV,{})}));
